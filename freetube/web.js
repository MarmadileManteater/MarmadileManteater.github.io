/*! For license information please see web.js.LICENSE.txt */
(()=>{var e={7154:e=>{function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4698:(e,t,n)=>{e.exports=n(8658)},9641:(e,t,n)=>{const i=n(9669),r="https://www.youtube.com";class a{constructor(e,t){this.mustSetCookie=e,this.session=i.create({baseURL:r,timeout:1e4,headers:{"accept-language":"en-US,en;q=0.5"},httpsAgent:t}),this.mustSetCookie&&(this.session.defaults.headers.cookie=["CONSENT=YES+"])}static async create(e,t,n){const i=new a(t,n);let s;try{s=await i.session.get(`/watch?v=${e}`)}catch{return{error:!0,message:`Unable to reach ${r}/watch?v=${e}`}}const o=s.data;i.cachedInitialData=o;const l=o.match(new RegExp([/"INNERTUBE_CONTEXT_CLIENT_NAME":(\d*)/,/"INNERTUBE_CONTEXT_CLIENT_VERSION":"([^"]*)"/].map((e=>e.source)).join(".*")));return i.session.defaults.headers={...i.session.defaults.headers,"X-YouTube-Client-Name":l[1],"X-YouTube-Client-Version":l[2]},i}getContinuationToken(e){const t=this.cachedInitialData.match(/"itemSectionRenderer".*"token":"([^"]*)".*"targetId":"comments-section"/);if(!t)return null;const n=t[1];return e?n.slice(0,47)+"B"+n.substring(48):n}async requestCommentsPage(e){const t={context:{client:{clientName:"WEB",clientVersion:this.session.defaults.headers["X-YouTube-Client-Version"]}},continuation:e};return await this.session.post("/youtubei/v1/next?key=AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",t)}}e.exports=a},8658:(e,t,n)=>{const i=n(9641),r=n(5863);function a(e,t){if("string"!=typeof t.videoId)throw new TypeError('videoId is required and must be of type "string"');switch("boolean"!=typeof t.mustSetCookie&&(t.mustSetCookie=!1),"object"!=typeof t.httpsAgent&&(t.httpsAgent=null),e){case 0:return"boolean"!=typeof t.sortByNewest&&(t.sortByNewest=!1),"string"!=typeof t.continuation&&(t.continuation=null),t;case 1:if("string"!=typeof t.replyToken)throw new TypeError('replyToken is required and must be of type "string"');return t}}e.exports=class{static async getComments(e){const{videoId:t,sortByNewest:n,continuation:s,mustSetCookie:o,httpsAgent:l}=a(0,e),c=await i.create(t,o,l);if(c.error)throw new Error(c.message);let u=s??c.getContinuationToken(n);if(!u)return{comments:[],continuation:u};const h=await c.requestCommentsPage(u);let d;d=s?h.data.onResponseReceivedEndpoints[0].appendContinuationItemsAction:h.data.onResponseReceivedEndpoints[1].reloadContinuationItemsCommand,u=null;let f=[];if("continuationItems"in d){f=r.parseCommentData(d.continuationItems);const e=d.continuationItems[d.continuationItems.length-1];"continuationItemRenderer"in e&&(u=void 0===e.continuationItemRenderer.continuationEndpoint?e.continuationItemRenderer.button.buttonRenderer.command.continuationCommand.token:e.continuationItemRenderer.continuationEndpoint.continuationCommand.token)}let p=null;if(!s){const e=h.data.onResponseReceivedEndpoints[0].reloadContinuationItemsCommand.continuationItems[0];"commentsHeaderRenderer"in e&&(p=Number(e?.commentsHeaderRenderer?.countText?.runs?.[0]?.text?.replace(",",""))??null)}return{total:p,comments:f,continuation:u}}static async getCommentReplies(e){const{videoId:t,replyToken:n,mustSetCookie:s,httpsAgent:o}=a(1,e),l=await i.create(t,s,o);if(l.error)throw new Error(l.message);const c=(await l.requestCommentsPage(n)).data.onResponseReceivedEndpoints[0].appendContinuationItemsAction,u=r.parseCommentData(c.continuationItems);let h=null;const d=c.continuationItems[c.continuationItems.length-1];return"continuationItemRenderer"in d&&(h=d.continuationItemRenderer.button.buttonRenderer.command.continuationCommand.token),{comments:u,continuation:h}}}},5863:e=>{e.exports=class{static parseCommentData(e){const t=[];return e.forEach((e=>{if("continuationItemRenderer"in e)return;const n=e.commentThreadRenderer?e.commentThreadRenderer.comment.commentRenderer:e.commentRenderer;let i="";const r=n.commentId,a=n.authorEndpoint.browseEndpoint.browseId,s=n.authorText.simpleText,o=n.authorThumbnail.thumbnails,l=n.voteCount?.simpleText?.split(" ")[0]??"0",c=n.replyCount??0,u=n.publishedTimeText.runs[0].text,h=u.replace("(edited)","").trim(),d=u.includes("edited"),f=n.authorIsChannelOwner,p="pinnedCommentBadge"in n,m=n.authorCommentBadge?.authorCommentBadgeRenderer?.icon,g="CHECK_CIRCLE_THICK"===m?.iconType||"CHECK"===m?.iconType,y="OFFICIAL_ARTIST_BADGE"===m?.iconType,v=n.actionButtons.commentActionButtonsRenderer.creatorHeart?.creatorHeartRenderer?.isHearted??!1;let b=!1,_=null;void 0!==n.sponsorCommentBadge&&(b=!0,_=n.sponsorCommentBadge.sponsorCommentBadgeRenderer.customBadge.thumbnails[0].url);const w=n.contentText.runs,S=[];w.forEach((e=>{if("\n"===e.text)i+="<br>";else if(e.bold||e.strikethrough||e.italics){let t=e.text;e.bold&&(t="<b>"+t+"</b>"),e.strikethrough&&(t="<s>"+t+"</s>"),e.italics&&(t="<i>"+t+"</i>"),i+=t}else i+=e.text;void 0!==e.emoji&&S.push({text:e.text,emojiThumbnails:e.emoji.image.thumbnails})}));const k={authorThumb:o,author:s,authorId:a,commentId:r,text:i,likes:l,numReplies:c,isOwner:f,isHearted:v,isPinned:p,hasOwnerReplied:!1,time:h,edited:d,replyToken:null,isVerified:g,isOfficialArtist:y,isMember:b,memberIconUrl:_,customEmojis:S};if(n.replyCount>0){const t=e.commentThreadRenderer.replies.commentRepliesRenderer,n=t.contents[0].continuationItemRenderer.continuationEndpoint.continuationCommand.token;k.replyToken=n,k.hasOwnerReplied=void 0!==t.viewRepliesCreatorThumbnail}t.push(k)})),t}static parseShortedNumberString(e){switch(e.charAt(e.length-1).toLowerCase()){case"k":return Number(1e3*e.substring(0,e.length-1));case"m":return Number(1e6*e.substring(0,e.length-1))}}}},1908:(e,t,n)=>{n(1902),e.exports.AVLTree=n(7522)},7522:(e,t,n)=>{const i=n(1902),r=n(5639);class a{constructor(e){this.tree=new s(e)}checkIsAVLT(){this.tree.checkIsAVLT()}insert(e,t){const n=this.tree.insert(e,t);n&&(this.tree=n)}delete(e,t){const n=this.tree.delete(e,t);n&&(this.tree=n)}}class s extends i{constructor(e){super(),e=e||{},this.left=null,this.right=null,this.parent=void 0!==e.parent?e.parent:null,Object.prototype.hasOwnProperty.call(e,"key")&&(this.key=e.key),this.data=Object.prototype.hasOwnProperty.call(e,"value")?[e.value]:[],this.unique=e.unique||!1,this.compareKeys=e.compareKeys||r.defaultCompareKeysFunction,this.checkValueEquality=e.checkValueEquality||r.defaultCheckValueEquality}checkHeightCorrect(){if(!Object.prototype.hasOwnProperty.call(this,"key"))return;if(this.left&&void 0===this.left.height)throw new Error("Undefined height for node "+this.left.key);if(this.right&&void 0===this.right.height)throw new Error("Undefined height for node "+this.right.key);if(void 0===this.height)throw new Error("Undefined height for node "+this.key);const e=this.left?this.left.height:0,t=this.right?this.right.height:0;if(this.height!==1+Math.max(e,t))throw new Error("Height constraint failed for node "+this.key);this.left&&this.left.checkHeightCorrect(),this.right&&this.right.checkHeightCorrect()}balanceFactor(){return(this.left?this.left.height:0)-(this.right?this.right.height:0)}checkBalanceFactors(){if(Math.abs(this.balanceFactor())>1)throw new Error("Tree is unbalanced at node "+this.key);this.left&&this.left.checkBalanceFactors(),this.right&&this.right.checkBalanceFactors()}checkIsAVLT(){super.checkIsBST(),this.checkHeightCorrect(),this.checkBalanceFactors()}rightRotation(){const e=this,t=this.left;if(!t)return e;const n=t.right;e.parent?(t.parent=e.parent,e.parent.left===e?e.parent.left=t:e.parent.right=t):t.parent=null,t.right=e,e.parent=t,e.left=n,n&&(n.parent=e);const i=t.left?t.left.height:0,r=n?n.height:0,a=e.right?e.right.height:0;return e.height=Math.max(r,a)+1,t.height=Math.max(i,e.height)+1,t}leftRotation(){const e=this,t=this.right;if(!t)return this;const n=t.left;e.parent?(t.parent=e.parent,e.parent.left===e?e.parent.left=t:e.parent.right=t):t.parent=null,t.left=e,e.parent=t,e.right=n,n&&(n.parent=e);const i=e.left?e.left.height:0,r=n?n.height:0,a=t.right?t.right.height:0;return e.height=Math.max(i,r)+1,t.height=Math.max(a,e.height)+1,t}rightTooSmall(){return this.balanceFactor()<=1?this:(this.left.balanceFactor()<0&&this.left.leftRotation(),this.rightRotation())}leftTooSmall(){return this.balanceFactor()>=-1?this:(this.right.balanceFactor()>0&&this.right.rightRotation(),this.leftRotation())}rebalanceAlongPath(e){let t,n,i=this;if(!Object.prototype.hasOwnProperty.call(this,"key"))return delete this.height,this;for(n=e.length-1;n>=0;n-=1)e[n].height=1+Math.max(e[n].left?e[n].left.height:0,e[n].right?e[n].right.height:0),e[n].balanceFactor()>1&&(t=e[n].rightTooSmall(),0===n&&(i=t)),e[n].balanceFactor()<-1&&(t=e[n].leftTooSmall(),0===n&&(i=t));return i}insert(e,t){const n=[];let i=this;if(!Object.prototype.hasOwnProperty.call(this,"key"))return this.key=e,this.data.push(t),this.height=1,this;for(;;){if(0===i.compareKeys(i.key,e)){if(i.unique){const t=new Error(`Can't insert key ${e}, it violates the unique constraint`);throw t.key=e,t.errorType="uniqueViolated",t}return i.data.push(t),this}if(n.push(i),i.compareKeys(e,i.key)<0){if(!i.left){n.push(i.createLeftChild({key:e,value:t}));break}i=i.left}else{if(!i.right){n.push(i.createRightChild({key:e,value:t}));break}i=i.right}}return this.rebalanceAlongPath(n)}delete(e,t){const n=[];let i,r=this;const a=[];if(!Object.prototype.hasOwnProperty.call(this,"key"))return this;for(;0!==r.compareKeys(e,r.key);)if(a.push(r),r.compareKeys(e,r.key)<0){if(!r.left)return this;r=r.left}else{if(!r.right)return this;r=r.right}if(r.data.length>1&&void 0!==t)return r.data.forEach((function(e){r.checkValueEquality(e,t)||n.push(e)})),r.data=n,this;if(!r.left&&!r.right)return r===this?(delete r.key,r.data=[],delete r.height,this):(r.parent.left===r?r.parent.left=null:r.parent.right=null,this.rebalanceAlongPath(a));if(!r.left||!r.right)return i=r.left?r.left:r.right,r===this?(i.parent=null,i):(r.parent.left===r?(r.parent.left=i,i.parent=r.parent):(r.parent.right=i,i.parent=r.parent),this.rebalanceAlongPath(a));if(a.push(r),i=r.left,!i.right)return r.key=i.key,r.data=i.data,r.left=i.left,i.left&&(i.left.parent=r),this.rebalanceAlongPath(a);for(;i.right;)a.push(i),i=i.right;return r.key=i.key,r.data=i.data,i.parent.right=i.left,i.left&&(i.left.parent=i.parent),this.rebalanceAlongPath(a)}}a._AVLTree=s,["getNumberOfKeys","search","betweenBounds","prettyPrint","executeOnEveryNode"].forEach((function(e){a.prototype[e]=function(){return this.tree[e].apply(this.tree,arguments)}})),e.exports=a},1902:(e,t,n)=>{const i=n(5639);function r(e,t){for(let n=0;n<t.length;n+=1)e.push(t[n])}e.exports=class{constructor(e){e=e||{},this.left=null,this.right=null,this.parent=void 0!==e.parent?e.parent:null,Object.prototype.hasOwnProperty.call(e,"key")&&(this.key=e.key),this.data=Object.prototype.hasOwnProperty.call(e,"value")?[e.value]:[],this.unique=e.unique||!1,this.compareKeys=e.compareKeys||i.defaultCompareKeysFunction,this.checkValueEquality=e.checkValueEquality||i.defaultCheckValueEquality}getMaxKeyDescendant(){return this.right?this.right.getMaxKeyDescendant():this}getMaxKey(){return this.getMaxKeyDescendant().key}getMinKeyDescendant(){return this.left?this.left.getMinKeyDescendant():this}getMinKey(){return this.getMinKeyDescendant().key}checkAllNodesFullfillCondition(e){Object.prototype.hasOwnProperty.call(this,"key")&&(e(this.key,this.data),this.left&&this.left.checkAllNodesFullfillCondition(e),this.right&&this.right.checkAllNodesFullfillCondition(e))}checkNodeOrdering(){Object.prototype.hasOwnProperty.call(this,"key")&&(this.left&&(this.left.checkAllNodesFullfillCondition((e=>{if(this.compareKeys(e,this.key)>=0)throw new Error(`Tree with root ${this.key} is not a binary search tree`)})),this.left.checkNodeOrdering()),this.right&&(this.right.checkAllNodesFullfillCondition((e=>{if(this.compareKeys(e,this.key)<=0)throw new Error(`Tree with root ${this.key} is not a binary search tree`)})),this.right.checkNodeOrdering()))}checkInternalPointers(){if(this.left){if(this.left.parent!==this)throw new Error(`Parent pointer broken for key ${this.key}`);this.left.checkInternalPointers()}if(this.right){if(this.right.parent!==this)throw new Error(`Parent pointer broken for key ${this.key}`);this.right.checkInternalPointers()}}checkIsBST(){if(this.checkNodeOrdering(),this.checkInternalPointers(),this.parent)throw new Error("The root shouldn't have a parent")}getNumberOfKeys(){let e;return Object.prototype.hasOwnProperty.call(this,"key")?(e=1,this.left&&(e+=this.left.getNumberOfKeys()),this.right&&(e+=this.right.getNumberOfKeys()),e):0}createSimilar(e){return(e=e||{}).unique=this.unique,e.compareKeys=this.compareKeys,e.checkValueEquality=this.checkValueEquality,new this.constructor(e)}createLeftChild(e){const t=this.createSimilar(e);return t.parent=this,this.left=t,t}createRightChild(e){const t=this.createSimilar(e);return t.parent=this,this.right=t,t}insert(e,t){if(!Object.prototype.hasOwnProperty.call(this,"key"))return this.key=e,void this.data.push(t);if(0!==this.compareKeys(this.key,e))this.compareKeys(e,this.key)<0?this.left?this.left.insert(e,t):this.createLeftChild({key:e,value:t}):this.right?this.right.insert(e,t):this.createRightChild({key:e,value:t});else{if(this.unique){const t=new Error(`Can't insert key ${e}, it violates the unique constraint`);throw t.key=e,t.errorType="uniqueViolated",t}this.data.push(t)}}search(e){return Object.prototype.hasOwnProperty.call(this,"key")?0===this.compareKeys(this.key,e)?this.data:this.compareKeys(e,this.key)<0?this.left?this.left.search(e):[]:this.right?this.right.search(e):[]:[]}getLowerBoundMatcher(e){return Object.prototype.hasOwnProperty.call(e,"$gt")||Object.prototype.hasOwnProperty.call(e,"$gte")?Object.prototype.hasOwnProperty.call(e,"$gt")&&Object.prototype.hasOwnProperty.call(e,"$gte")?0===this.compareKeys(e.$gte,e.$gt)?t=>this.compareKeys(t,e.$gt)>0:this.compareKeys(e.$gte,e.$gt)>0?t=>this.compareKeys(t,e.$gte)>=0:t=>this.compareKeys(t,e.$gt)>0:Object.prototype.hasOwnProperty.call(e,"$gt")?t=>this.compareKeys(t,e.$gt)>0:t=>this.compareKeys(t,e.$gte)>=0:()=>!0}getUpperBoundMatcher(e){return Object.prototype.hasOwnProperty.call(e,"$lt")||Object.prototype.hasOwnProperty.call(e,"$lte")?Object.prototype.hasOwnProperty.call(e,"$lt")&&Object.prototype.hasOwnProperty.call(e,"$lte")?0===this.compareKeys(e.$lte,e.$lt)?t=>this.compareKeys(t,e.$lt)<0:this.compareKeys(e.$lte,e.$lt)<0?t=>this.compareKeys(t,e.$lte)<=0:t=>this.compareKeys(t,e.$lt)<0:Object.prototype.hasOwnProperty.call(e,"$lt")?t=>this.compareKeys(t,e.$lt)<0:t=>this.compareKeys(t,e.$lte)<=0:()=>!0}betweenBounds(e,t,n){const i=[];return Object.prototype.hasOwnProperty.call(this,"key")?(t=t||this.getLowerBoundMatcher(e),n=n||this.getUpperBoundMatcher(e),t(this.key)&&this.left&&r(i,this.left.betweenBounds(e,t,n)),t(this.key)&&n(this.key)&&r(i,this.data),n(this.key)&&this.right&&r(i,this.right.betweenBounds(e,t,n)),i):[]}deleteIfLeaf(){return!(this.left||this.right||(this.parent?(this.parent.left===this?this.parent.left=null:this.parent.right=null,0):(delete this.key,this.data=[],0)))}deleteIfOnlyOneChild(){let e;return this.left&&!this.right&&(e=this.left),!this.left&&this.right&&(e=this.right),!!e&&(this.parent?(this.parent.left===this?(this.parent.left=e,e.parent=this.parent):(this.parent.right=e,e.parent=this.parent),!0):(this.key=e.key,this.data=e.data,this.left=null,e.left&&(this.left=e.left,e.left.parent=this),this.right=null,e.right&&(this.right=e.right,e.right.parent=this),!0))}delete(e,t){const n=[];let i;if(Object.prototype.hasOwnProperty.call(this,"key"))if(this.compareKeys(e,this.key)<0)this.left&&this.left.delete(e,t);else if(this.compareKeys(e,this.key)>0)this.right&&this.right.delete(e,t);else if(0!==!this.compareKeys(e,this.key))return this.data.length>1&&void 0!==t?(this.data.forEach((e=>{this.checkValueEquality(e,t)||n.push(e)})),void(this.data=n)):void(this.deleteIfLeaf()||this.deleteIfOnlyOneChild()||(Math.random()>=.5?(i=this.left.getMaxKeyDescendant(),this.key=i.key,this.data=i.data,this===i.parent?(this.left=i.left,i.left&&(i.left.parent=i.parent)):(i.parent.right=i.left,i.left&&(i.left.parent=i.parent))):(i=this.right.getMinKeyDescendant(),this.key=i.key,this.data=i.data,this===i.parent?(this.right=i.right,i.right&&(i.right.parent=i.parent)):(i.parent.left=i.right,i.right&&(i.right.parent=i.parent)))))}executeOnEveryNode(e){this.left&&this.left.executeOnEveryNode(e),e(this),this.right&&this.right.executeOnEveryNode(e)}prettyPrint(e,t){t=t||"",console.log(`${t}* ${this.key}`),e&&console.log(`${t}* ${this.data}`),(this.left||this.right)&&(this.left?this.left.prettyPrint(e,`${t}  `):console.log(`${t}  *`),this.right?this.right.prettyPrint(e,`${t}  `):console.log(`${t}  *`))}}},5639:e=>{const t=e=>{if(0===e)return[];if(1===e)return[0];const n=t(e-1),i=Math.floor(Math.random()*e);return n.splice(i,0,e-1),n};e.exports.getRandomArray=t,e.exports.defaultCompareKeysFunction=(e,t)=>{if(e<t)return-1;if(e>t)return 1;if(e===t)return 0;const n=new Error("Couldn't compare elements");throw n.a=e,n.b=t,n},e.exports.defaultCheckValueEquality=(e,t)=>e===t},3674:e=>{e.exports={}},1725:e=>{e.exports.uid=e=>(e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=e.length%3;let i,r="";for(let s=0,o=e.length-n;s<o;s+=3)i=(e[s]<<16)+(e[s+1]<<8)+e[s+2],r+=t[(a=i)>>18&63]+t[a>>12&63]+t[a>>6&63]+t[63&a];var a;return 1===n?(i=e[e.length-1],r+=t[i>>2],r+=t[i<<4&63],r+="=="):2===n&&(i=(e[e.length-2]<<8)+e[e.length-1],r+=t[i>>10],r+=t[i>>4&63],r+=t[i<<2&63],r+="="),r})((e=>{const t=new Array(e);for(let n,i=0;i<e;i++)0==(3&i)&&(n=4294967296*Math.random()),t[i]=n>>>((3&i)<<3)&255;return t})(Math.ceil(Math.max(8,2*e)))).replace(/[+/]/g,"").slice(0,e)},149:(e,t,n)=>{const i=n(9483).createInstance({name:"NeDB",storeName:"nedbdata"}),r=async(e,t,n)=>{try{await i.setItem(e,t)}catch(e){console.warn("An error happened while writing, skip")}};e.exports.existsAsync=async e=>{try{return null!==await i.getItem(e)}catch(e){return!1}},e.exports.renameAsync=async(e,t)=>{try{const n=await i.getItem(e);null===n?await i.removeItem(t):(await i.setItem(t,n),await i.removeItem(e))}catch(e){console.warn("An error happened while renaming, skip")}},e.exports.writeFileAsync=r,e.exports.crashSafeWriteFileLinesAsync=async(e,t)=>{t.push(""),await r(e,t.join("\n"))},e.exports.appendFileAsync=async(e,t,n)=>{try{const n=await i.getItem(e)||"";await i.setItem(e,n+t)}catch(e){console.warn("An error happened appending to file writing, skip")}},e.exports.readFileAsync=async(e,t)=>{try{return await i.getItem(e)||""}catch(e){return console.warn("An error happened while reading, skip"),""}},e.exports.unlinkAsync=async e=>{try{await i.removeItem(e)}catch(e){console.warn("An error happened while unlinking, skip")}},e.exports.mkdirAsync=(e,t)=>Promise.resolve(),e.exports.ensureDatafileIntegrityAsync=e=>Promise.resolve()},2795:(e,t,n)=>{const i=n(138);e.exports=i},2018:(e,t,n)=>{const i=n(4442),{callbackify:r}=n(9539);e.exports=class{constructor(e,t,n){this.db=e,this.query=t||{},n&&(this.mapFn=n),this._limit=void 0,this._skip=void 0,this._sort=void 0,this._projection=void 0}limit(e){return this._limit=e,this}skip(e){return this._skip=e,this}sort(e){return this._sort=e,this}projection(e){return this._projection=e,this}_project(e){const t=[];let n;if(void 0===this._projection||0===Object.keys(this._projection).length)return e;const r=0!==this._projection._id,{_id:a,...s}=this._projection;this._projection=s;const o=Object.keys(this._projection);return o.forEach((e=>{if(void 0!==n&&this._projection[e]!==n)throw new Error("Can't both keep and omit fields except for _id");n=this._projection[e]})),e.forEach((e=>{let a;1===n?(a={$set:{}},o.forEach((t=>{a.$set[t]=i.getDotValue(e,t),void 0===a.$set[t]&&delete a.$set[t]})),a=i.modify({},a)):(a={$unset:{}},o.forEach((e=>{a.$unset[e]=!0})),a=i.modify(e,a)),r?a._id=e._id:delete a._id,t.push(a)})),t}async _execAsync(){let e=[],t=0,n=0;const r=await this.db._getCandidatesAsync(this.query);for(const a of r)if(i.match(a,this.query))if(this._sort)e.push(a);else if(this._skip&&this._skip>n)n+=1;else if(e.push(a),t+=1,this._limit&&this._limit<=t)break;if(this._sort){const t=Object.entries(this._sort).map((([e,t])=>({key:e,direction:t})));e.sort(((e,n)=>{for(const r of t){const t=r.direction*i.compareThings(i.getDotValue(e,r.key),i.getDotValue(n,r.key),this.db.compareStrings);if(0!==t)return t}return 0}));const n=this._limit||e.length,r=this._skip||0;e=e.slice(r,r+n)}return e=this._project(e),this.mapFn?this.mapFn(e):e}exec(e){r((()=>this.execAsync()))(e)}execAsync(){return this.db.executor.pushAsync((()=>this._execAsync()))}then(e,t){return this.execAsync().then(e,t)}catch(e){return this.execAsync().catch(e)}finally(e){return this.execAsync().finally(e)}}},138:(e,t,n)=>{const{EventEmitter:i}=n(7187),{callbackify:r,deprecate:a}=n(9539),s=n(2018),o=n(1725),l=n(6454),c=n(7863),u=n(4442),h=n(3717),{isDate:d}=n(7105);e.exports=class extends i{constructor(e){let t;super(),"string"==typeof e?a((()=>{t=e,this.inMemoryOnly=!1}),"@seald-io/nedb: Giving a string to the Datastore constructor is deprecated and will be removed in the next major version. Please use an options object with an argument 'filename'.")():(t=(e=e||{}).filename,this.inMemoryOnly=e.inMemoryOnly||!1,this.autoload=e.autoload||!1,this.timestampData=e.timestampData||!1),t&&"string"==typeof t&&0!==t.length?this.filename=t:(this.filename=null,this.inMemoryOnly=!0),this.compareStrings=e.compareStrings,this.persistence=new h({db:this,afterSerialization:e.afterSerialization,beforeDeserialization:e.beforeDeserialization,corruptAlertThreshold:e.corruptAlertThreshold,modes:e.modes,testSerializationHooks:e.testSerializationHooks}),this.executor=new l,this.inMemoryOnly&&(this.executor.ready=!0),this.indexes={},this.indexes._id=new c({fieldName:"_id",unique:!0}),this.ttlIndexes={},this.autoload?(this.autoloadPromise=this.loadDatabaseAsync(),this.autoloadPromise.then((()=>{e.onload&&e.onload()}),(t=>{if(!e.onload)throw t;e.onload(t)}))):this.autoloadPromise=null,this._autocompactionIntervalId=null}compactDatafileAsync(){return this.executor.pushAsync((()=>this.persistence.persistCachedDatabaseAsync()))}compactDatafile(e){const t=this.compactDatafileAsync();"function"==typeof e&&r((()=>t))(e)}setAutocompactionInterval(e){if(Number.isNaN(Number(e)))throw new Error("Interval must be a non-NaN number");const t=Math.max(Number(e),5e3);this.stopAutocompaction(),this._autocompactionIntervalId=setInterval((()=>{this.compactDatafile()}),t)}stopAutocompaction(){this._autocompactionIntervalId&&(clearInterval(this._autocompactionIntervalId),this._autocompactionIntervalId=null)}loadDatabase(e){const t=this.loadDatabaseAsync();"function"==typeof e&&r((()=>t))(e)}dropDatabaseAsync(){return this.persistence.dropDatabaseAsync()}dropDatabase(e){const t=this.dropDatabaseAsync();"function"==typeof e&&r((()=>t))(e)}loadDatabaseAsync(){return this.executor.pushAsync((()=>this.persistence.loadDatabaseAsync()),!0)}getAllData(){return this.indexes._id.getAll()}_resetIndexes(e){for(const t of Object.values(this.indexes))t.reset(e)}ensureIndex(e={},t){const n=this.ensureIndexAsync(e);"function"==typeof t&&r((()=>n))(t)}async ensureIndexAsync(e={}){if(!e.fieldName){const e=new Error("Cannot create an index without a fieldName");throw e.missingFieldName=!0,e}if(!this.indexes[e.fieldName]){this.indexes[e.fieldName]=new c(e),void 0!==e.expireAfterSeconds&&(this.ttlIndexes[e.fieldName]=e.expireAfterSeconds);try{this.indexes[e.fieldName].insert(this.getAllData())}catch(t){throw delete this.indexes[e.fieldName],t}await this.executor.pushAsync((()=>this.persistence.persistNewStateAsync([{$$indexCreated:e}])),!0)}}removeIndex(e,t=(()=>{})){const n=this.removeIndexAsync(e);r((()=>n))(t)}async removeIndexAsync(e){delete this.indexes[e],await this.executor.pushAsync((()=>this.persistence.persistNewStateAsync([{$$indexRemoved:e}])),!0)}_addToIndexes(e){let t,n;const i=Object.keys(this.indexes);for(let r=0;r<i.length;r+=1)try{this.indexes[i[r]].insert(e)}catch(e){t=r,n=e;break}if(n){for(let n=0;n<t;n+=1)this.indexes[i[n]].remove(e);throw n}}_removeFromIndexes(e){for(const t of Object.values(this.indexes))t.remove(e)}_updateIndexes(e,t){let n,i;const r=Object.keys(this.indexes);for(let a=0;a<r.length;a+=1)try{this.indexes[r[a]].update(e,t)}catch(e){n=a,i=e;break}if(i){for(let i=0;i<n;i+=1)this.indexes[r[i]].revertUpdate(e,t);throw i}}_getRawCandidates(e){const t=Object.keys(this.indexes);let n;return n=Object.entries(e).filter((([e,n])=>!("string"!=typeof n&&"number"!=typeof n&&"boolean"!=typeof n&&!d(n)&&null!==n)&&t.includes(e))).pop(),n?this.indexes[n[0]].getMatching(n[1]):(n=Object.entries(e).filter((([n,i])=>!(!e[n]||!Object.prototype.hasOwnProperty.call(e[n],"$in"))&&t.includes(n))).pop(),n?this.indexes[n[0]].getMatching(n[1].$in):(n=Object.entries(e).filter((([n,i])=>!(!e[n]||!(Object.prototype.hasOwnProperty.call(e[n],"$lt")||Object.prototype.hasOwnProperty.call(e[n],"$lte")||Object.prototype.hasOwnProperty.call(e[n],"$gt")||Object.prototype.hasOwnProperty.call(e[n],"$gte")))&&t.includes(n))).pop(),n?this.indexes[n[0]].getBetweenBounds(n[1]):this.getAllData()))}async _getCandidatesAsync(e,t=!1){const n=[],i=this._getRawCandidates(e);if(t)n.push(...i);else{const e=[],t=Object.keys(this.ttlIndexes);i.forEach((i=>{t.every((e=>!(void 0!==i[e]&&d(i[e])&&Date.now()>i[e].getTime()+1e3*this.ttlIndexes[e])))?n.push(i):e.push(i._id)}));for(const t of e)await this._removeAsync({_id:t},{})}return n}async _insertAsync(e){const t=this._prepareDocumentForInsertion(e);return this._insertInCache(t),await this.persistence.persistNewStateAsync(Array.isArray(t)?t:[t]),u.deepCopy(t)}_createNewId(){let e=o.uid(16);return this.indexes._id.getMatching(e).length>0&&(e=this._createNewId()),e}_prepareDocumentForInsertion(e){let t;if(Array.isArray(e))t=[],e.forEach((e=>{t.push(this._prepareDocumentForInsertion(e))}));else{t=u.deepCopy(e),void 0===t._id&&(t._id=this._createNewId());const n=new Date;this.timestampData&&void 0===t.createdAt&&(t.createdAt=n),this.timestampData&&void 0===t.updatedAt&&(t.updatedAt=n),u.checkObject(t)}return t}_insertInCache(e){Array.isArray(e)?this._insertMultipleDocsInCache(e):this._addToIndexes(e)}_insertMultipleDocsInCache(e){let t,n;for(let i=0;i<e.length;i+=1)try{this._addToIndexes(e[i])}catch(e){n=e,t=i;break}if(n){for(let n=0;n<t;n+=1)this._removeFromIndexes(e[n]);throw n}}insert(e,t){const n=this.insertAsync(e);"function"==typeof t&&r((()=>n))(t)}insertAsync(e){return this.executor.pushAsync((()=>this._insertAsync(e)))}count(e,t){const n=this.countAsync(e);if("function"!=typeof t)return n;r(n.execAsync.bind(n))(t)}countAsync(e){return new s(this,e,(e=>e.length))}find(e,t,n){1===arguments.length?t={}:2===arguments.length&&"function"==typeof t&&(n=t,t={});const i=this.findAsync(e,t);if("function"!=typeof n)return i;r(i.execAsync.bind(i))(n)}findAsync(e,t={}){const n=new s(this,e,(e=>e.map((e=>u.deepCopy(e)))));return n.projection(t),n}findOne(e,t,n){1===arguments.length?t={}:2===arguments.length&&"function"==typeof t&&(n=t,t={});const i=this.findOneAsync(e,t);if("function"!=typeof n)return i;r(i.execAsync.bind(i))(n)}findOneAsync(e,t={}){const n=new s(this,e,(e=>1===e.length?u.deepCopy(e[0]):null));return n.projection(t).limit(1),n}async _updateAsync(e,t,n){const i=void 0!==n.multi&&n.multi;if(void 0!==n.upsert&&n.upsert){const n=new s(this,e);if(1!==(await n.limit(1)._execAsync()).length){let n;try{u.checkObject(t),n=t}catch(i){n=u.modify(u.deepCopy(e,!0),t)}return{numAffected:1,affectedDocuments:await this._insertAsync(n),upsert:!0}}}let r,a=0;const o=[];let l;const c=await this._getCandidatesAsync(e);for(const n of c)u.match(n,e)&&(i||0===a)&&(a+=1,this.timestampData&&(l=n.createdAt),r=u.modify(n,t),this.timestampData&&(r.createdAt=l,r.updatedAt=new Date),o.push({oldDoc:n,newDoc:r}));this._updateIndexes(o);const h=o.map((e=>e.newDoc));if(await this.persistence.persistNewStateAsync(h),n.returnUpdatedDocs){let e=[];return h.forEach((t=>{e.push(u.deepCopy(t))})),i||(e=e[0]),{numAffected:a,affectedDocuments:e,upsert:!1}}return{numAffected:a,upsert:!1,affectedDocuments:null}}update(e,t,n,i){"function"==typeof n&&(i=n,n={}),r(((e,t,n)=>this.updateAsync(e,t,n)))(e,t,n,((e,t={})=>{i&&i(e,t.numAffected,t.affectedDocuments,t.upsert)}))}updateAsync(e,t,n={}){return this.executor.pushAsync((()=>this._updateAsync(e,t,n)))}async _removeAsync(e,t={}){const n=void 0!==t.multi&&t.multi,i=await this._getCandidatesAsync(e,!0),r=[];let a=0;return i.forEach((t=>{u.match(t,e)&&(n||0===a)&&(a+=1,r.push({$$deleted:!0,_id:t._id}),this._removeFromIndexes(t))})),await this.persistence.persistNewStateAsync(r),a}remove(e,t,n){"function"==typeof t&&(n=t,t={});const i=n||(()=>{});r(((e,t)=>this.removeAsync(e,t)))(e,t,i)}removeAsync(e,t={}){return this.executor.pushAsync((()=>this._removeAsync(e,t)))}}},6454:(e,t,n)=>{const i=n(2009);e.exports=class{constructor(){this.ready=!1,this.queue=new i,this.buffer=null,this._triggerBuffer=null,this.resetBuffer()}pushAsync(e,t=!1){return this.ready||t?this.queue.waterfall(e)():this.buffer.waterfall(e)()}processBuffer(){this.ready=!0,this._triggerBuffer(),this.queue.waterfall((()=>this.buffer.guardian))}resetBuffer(){this.buffer=new i,this.buffer.chain(new Promise((e=>{this._triggerBuffer=e}))),this.ready&&this._triggerBuffer()}}},7863:(e,t,n)=>{const i=n(1908).AVLTree,r=n(4442),{uniq:a,isDate:s}=n(7105),o=(e,t)=>e===t,l=e=>null===e?"$null":"string"==typeof e?"$string"+e:"boolean"==typeof e?"$boolean"+e:"number"==typeof e?"$number"+e:s(e)?"$date"+e.getTime():e;e.exports=class{constructor(e){this.fieldName=e.fieldName,this.unique=e.unique||!1,this.sparse=e.sparse||!1,this.treeOptions={unique:this.unique,compareKeys:r.compareThings,checkValueEquality:o},this.tree=new i(this.treeOptions)}reset(e){this.tree=new i(this.treeOptions),e&&this.insert(e)}insert(e){let t,n,i;if(Array.isArray(e))return void this.insertMultipleDocs(e);const s=r.getDotValue(e,this.fieldName);if(void 0!==s||!this.sparse)if(Array.isArray(s)){t=a(s,l);for(let r=0;r<t.length;r+=1)try{this.tree.insert(t[r],e)}catch(e){i=e,n=r;break}if(i){for(let i=0;i<n;i+=1)this.tree.delete(t[i],e);throw i}}else this.tree.insert(s,e)}insertMultipleDocs(e){let t,n;for(let i=0;i<e.length;i+=1)try{this.insert(e[i])}catch(e){t=e,n=i;break}if(t){for(let t=0;t<n;t+=1)this.remove(e[t]);throw t}}remove(e){if(Array.isArray(e))return void e.forEach((e=>{this.remove(e)}));const t=r.getDotValue(e,this.fieldName);void 0===t&&this.sparse||(Array.isArray(t)?a(t,l).forEach((t=>{this.tree.delete(t,e)})):this.tree.delete(t,e))}update(e,t){if(Array.isArray(e))this.updateMultipleDocs(e);else{this.remove(e);try{this.insert(t)}catch(t){throw this.insert(e),t}}}updateMultipleDocs(e){let t,n;for(let t=0;t<e.length;t+=1)this.remove(e[t].oldDoc);for(let i=0;i<e.length;i+=1)try{this.insert(e[i].newDoc)}catch(e){n=e,t=i;break}if(n){for(let n=0;n<t;n+=1)this.remove(e[n].newDoc);for(let t=0;t<e.length;t+=1)this.insert(e[t].oldDoc);throw n}}revertUpdate(e,t){const n=[];Array.isArray(e)?(e.forEach((e=>{n.push({oldDoc:e.newDoc,newDoc:e.oldDoc})})),this.update(n)):this.update(t,e)}getMatching(e){if(Array.isArray(e)){const t={},n=[];return e.forEach((e=>{this.getMatching(e).forEach((e=>{t[e._id]=e}))})),Object.keys(t).forEach((e=>{n.push(t[e])})),n}return this.tree.search(e)}getBetweenBounds(e){return this.tree.betweenBounds(e)}getAll(){const e=[];return this.tree.executeOnEveryNode((t=>{e.push(...t.data)})),e}}},4442:(e,t,n)=>{const{uniq:i,isDate:r,isRegExp:a}=n(7105),s=(e,t)=>{if("number"==typeof e&&(e=e.toString()),!("$"!==e[0]||"$$date"===e&&"number"==typeof t||"$$deleted"===e&&!0===t||"$$indexCreated"===e||"$$indexRemoved"===e))throw new Error("Field names cannot begin with the $ character");if(-1!==e.indexOf("."))throw new Error("Field names cannot contain a .")},o=e=>{if(Array.isArray(e)&&e.forEach((e=>{o(e)})),"object"==typeof e&&null!==e)for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s(t,e[t]),o(e[t]))};function l(e,t){if("boolean"==typeof e||"number"==typeof e||"string"==typeof e||null===e||r(e))return e;if(Array.isArray(e))return e.map((e=>l(e,t)));if("object"==typeof e){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(!t||"$"!==i[0]&&-1===i.indexOf("."))&&(n[i]=l(e[i],t));return n}}const c=e=>"boolean"==typeof e||"number"==typeof e||"string"==typeof e||null===e||r(e)||Array.isArray(e),u=(e,t)=>e<t?-1:e>t?1:0,h=(e,t)=>{const n=Math.min(e.length,t.length);for(let i=0;i<n;i+=1){const n=d(e[i],t[i]);if(0!==n)return n}return u(e.length,t.length)},d=(e,t,n)=>{const i=n||u;if(void 0===e)return void 0===t?0:-1;if(void 0===t)return 1;if(null===e)return null===t?0:-1;if(null===t)return 1;if("number"==typeof e)return"number"==typeof t?u(e,t):-1;if("number"==typeof t)return"number"==typeof e?u(e,t):1;if("string"==typeof e)return"string"==typeof t?i(e,t):-1;if("string"==typeof t)return"string"==typeof e?i(e,t):1;if("boolean"==typeof e)return"boolean"==typeof t?u(e,t):-1;if("boolean"==typeof t)return"boolean"==typeof e?u(e,t):1;if(r(e))return r(t)?u(e.getTime(),t.getTime()):-1;if(r(t))return r(e)?u(e.getTime(),t.getTime()):1;if(Array.isArray(e))return Array.isArray(t)?h(e,t):-1;if(Array.isArray(t))return Array.isArray(e)?h(e,t):1;const a=Object.keys(e).sort(),s=Object.keys(t).sort();for(let n=0;n<Math.min(a.length,s.length);n+=1){const i=d(e[a[n]],t[s[n]]);if(0!==i)return i}return u(a.length,s.length)},f=(e,t=!1)=>(n,i,r)=>{const a=(n,i,r)=>{const s="string"==typeof i?i.split("."):i;if(1===s.length)e(n,i,r);else{if(void 0===n[s[0]]){if(t)return;n[s[0]]={}}a(n[s[0]],s.slice(1),r)}};return a(n,i,r)},p=(e,t,n)=>{if(Object.prototype.hasOwnProperty.call(e,t)||(e[t]=[]),!Array.isArray(e[t]))throw new Error("Can't $addToSet an element on non-array values");if(null!==n&&"object"==typeof n&&n.$each){if(Object.keys(n).length>1)throw new Error("Can't use another field in conjunction with $each");if(!Array.isArray(n.$each))throw new Error("$each requires an array value");n.$each.forEach((n=>{p(e,t,n)}))}else{let i=!0;e[t].forEach((e=>{0===d(e,n)&&(i=!1)})),i&&e[t].push(n)}},m={$set:f(((e,t,n)=>{e[t]=n})),$unset:f(((e,t,n)=>{delete e[t]}),!0),$min:f(((e,t,n)=>{(void 0===e[t]||n<e[t])&&(e[t]=n)})),$max:f(((e,t,n)=>{(void 0===e[t]||n>e[t])&&(e[t]=n)})),$inc:f(((e,t,n)=>{if("number"!=typeof n)throw new Error(`${n} must be a number`);if("number"!=typeof e[t]){if(Object.prototype.hasOwnProperty.call(e,t))throw new Error("Don't use the $inc modifier on non-number fields");e[t]=n}else e[t]+=n})),$pull:f(((e,t,n)=>{if(!Array.isArray(e[t]))throw new Error("Can't $pull an element from non-array values");const i=e[t];for(let e=i.length-1;e>=0;e-=1)S(i[e],n)&&i.splice(e,1)})),$pop:f(((e,t,n)=>{if(!Array.isArray(e[t]))throw new Error("Can't $pop an element from non-array values");if("number"!=typeof n)throw new Error(`${n} isn't an integer, can't use it with $pop`);0!==n&&(e[t]=n>0?e[t].slice(0,e[t].length-1):e[t].slice(1))})),$addToSet:f(p),$push:f(((e,t,n)=>{if(Object.prototype.hasOwnProperty.call(e,t)||(e[t]=[]),!Array.isArray(e[t]))throw new Error("Can't $push an element on non-array values");if(null!==n&&"object"==typeof n&&n.$slice&&void 0===n.$each&&(n.$each=[]),null!==n&&"object"==typeof n&&n.$each){if(Object.keys(n).length>=3||2===Object.keys(n).length&&void 0===n.$slice)throw new Error("Can only use $slice in cunjunction with $each when $push to array");if(!Array.isArray(n.$each))throw new Error("$each requires an array value");if(n.$each.forEach((n=>{e[t].push(n)})),void 0===n.$slice||"number"!=typeof n.$slice)return;if(0===n.$slice)e[t]=[];else{let i,r;const a=e[t].length;n.$slice<0?(i=Math.max(0,a+n.$slice),r=a):n.$slice>0&&(i=0,r=Math.min(a,n.$slice)),e[t]=e[t].slice(i,r)}}else e[t].push(n)}))},g=(e,t)=>{const n="string"==typeof t?t.split("."):t;if(e){if(0===n.length)return e;if(1===n.length)return e[n[0]];if(Array.isArray(e[n[0]])){const t=parseInt(n[1],10);return"number"!=typeof t||isNaN(t)?e[n[0]].map((e=>g(e,n.slice(1)))):g(e[n[0]][t],n.slice(2))}return g(e[n[0]],n.slice(1))}},y=(e,t)=>{if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t)return e===t;if(r(e)||r(t))return r(e)&&r(t)&&e.getTime()===t.getTime();if((!Array.isArray(e)||!Array.isArray(t))&&(Array.isArray(e)||Array.isArray(t))||void 0===e||void 0===t)return!1;let n,i;try{n=Object.keys(e),i=Object.keys(t)}catch(e){return!1}if(n.length!==i.length)return!1;for(const r of n){if(-1===i.indexOf(r))return!1;if(!y(e[r],t[r]))return!1}return!0},v=(e,t)=>!("string"!=typeof e&&"number"!=typeof e&&!r(e)&&"string"!=typeof t&&"number"!=typeof t&&!r(t))&&typeof e==typeof t,b={$lt:(e,t)=>v(e,t)&&e<t,$lte:(e,t)=>v(e,t)&&e<=t,$gt:(e,t)=>v(e,t)&&e>t,$gte:(e,t)=>v(e,t)&&e>=t,$ne:(e,t)=>void 0===e||!y(e,t),$in:(e,t)=>{if(!Array.isArray(t))throw new Error("$in operator called with a non-array");for(const n of t)if(y(e,n))return!0;return!1},$nin:(e,t)=>{if(!Array.isArray(t))throw new Error("$nin operator called with a non-array");return!b.$in(e,t)},$regex:(e,t)=>{if(!a(t))throw new Error("$regex operator called with non regular expression");return"string"==typeof e&&t.test(e)},$exists:(e,t)=>(t=!(!t&&""!==t),void 0===e?!t:t),$size:(e,t)=>{if(!Array.isArray(e))return!1;if(t%1!=0)throw new Error("$size operator called without an integer");return e.length===t},$elemMatch:(e,t)=>!!Array.isArray(e)&&e.some((e=>S(e,t)))},_={$size:!0,$elemMatch:!0},w={$or:(e,t)=>{if(!Array.isArray(t))throw new Error("$or operator used without an array");for(let n=0;n<t.length;n+=1)if(S(e,t[n]))return!0;return!1},$and:(e,t)=>{if(!Array.isArray(t))throw new Error("$and operator used without an array");for(let n=0;n<t.length;n+=1)if(!S(e,t[n]))return!1;return!0},$not:(e,t)=>!S(e,t),$where:(e,t)=>{if("function"!=typeof t)throw new Error("$where operator used without a function");const n=t.call(e);if("boolean"!=typeof n)throw new Error("$where function must return boolean");return n}},S=(e,t)=>{if(c(e)||c(t))return k({needAKey:e},"needAKey",t);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if("$"===n[0]){if(!w[n])throw new Error(`Unknown logical operator ${n}`);if(!w[n](e,i))return!1}else if(!k(e,n,i))return!1}return!0};function k(e,t,n,i){const r=g(e,t);if(Array.isArray(r)&&!i){if(Array.isArray(n))return k(e,t,n,!0);if(null!==n&&"object"==typeof n&&!a(n))for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&_[i])return k(e,t,n,!0);for(const e of r)if(k({k:e},"k",n))return!0;return!1}if(null!==n&&"object"==typeof n&&!a(n)&&!Array.isArray(n)){const e=Object.keys(n),t=e.map((e=>e[0])),i=t.filter((e=>"$"===e));if(0!==i.length&&i.length!==t.length)throw new Error("You cannot mix operators and normal fields");if(i.length>0){for(const t of e){if(!b[t])throw new Error(`Unknown comparison function ${t}`);if(!b[t](r,n[t]))return!1}return!0}}return a(n)?b.$regex(r,n):y(r,n)}e.exports.serialize=e=>JSON.stringify(e,(function(e,t){if(s(e,t),void 0!==t)return null===t?null:"function"==typeof this[e].getTime?{$$date:this[e].getTime()}:t})),e.exports.deserialize=e=>JSON.parse(e,(function(e,t){return"$$date"===e?new Date(t):"string"==typeof t||"number"==typeof t||"boolean"==typeof t||null===t?t:t&&t.$$date?t.$$date:t})),e.exports.deepCopy=l,e.exports.checkObject=o,e.exports.isPrimitiveType=c,e.exports.modify=(e,t)=>{const n=Object.keys(t),r=n.map((e=>e[0])),a=r.filter((e=>"$"===e));let s,c;if(-1!==n.indexOf("_id")&&t._id!==e._id)throw new Error("You cannot change a document's _id");if(0!==a.length&&a.length!==r.length)throw new Error("You cannot mix modifiers and normal fields");if(0===a.length?(s=l(t),s._id=e._id):(c=i(n),s=l(e),c.forEach((e=>{if(!m[e])throw new Error(`Unknown modifier ${e}`);if("object"!=typeof t[e])throw new Error(`Modifier ${e}'s argument must be an object`);Object.keys(t[e]).forEach((n=>{m[e](s,n,t[e][n])}))}))),o(s),e._id!==s._id)throw new Error("You can't change a document's _id");return s},e.exports.getDotValue=g,e.exports.match=S,e.exports.areThingsEqual=y,e.exports.compareThings=d},3717:(e,t,n)=>{const i=n(6470),{deprecate:r}=n(9539),a=n(3674),s=n(1725),o=n(7863),l=n(4442),c=n(149);class u{constructor(e){if(this.db=e.db,this.inMemoryOnly=this.db.inMemoryOnly,this.filename=this.db.filename,this.corruptAlertThreshold=void 0!==e.corruptAlertThreshold?e.corruptAlertThreshold:.1,this.modes=void 0!==e.modes?e.modes:{fileMode:420,dirMode:493},void 0===this.modes.fileMode&&(this.modes.fileMode=420),void 0===this.modes.dirMode&&(this.modes.dirMode=493),!this.inMemoryOnly&&this.filename&&"~"===this.filename.charAt(this.filename.length-1))throw new Error("The datafile name can't end with a ~, which is reserved for crash safe backup files");if(e.afterSerialization&&!e.beforeDeserialization)throw new Error("Serialization hook defined but deserialization hook undefined, cautiously refusing to start NeDB to prevent dataloss");if(!e.afterSerialization&&e.beforeDeserialization)throw new Error("Serialization hook undefined but deserialization hook defined, cautiously refusing to start NeDB to prevent dataloss");if(this.afterSerialization=e.afterSerialization||(e=>e),this.beforeDeserialization=e.beforeDeserialization||(e=>e),void 0===e.testSerializationHooks||e.testSerializationHooks)for(let e=1;e<30;e+=1)for(let t=0;t<10;t+=1){const t=s.uid(e);if(this.beforeDeserialization(this.afterSerialization(t))!==t)throw new Error("beforeDeserialization is not the reverse of afterSerialization, cautiously refusing to start NeDB to prevent dataloss")}}async persistCachedDatabaseAsync(){const e=[];this.inMemoryOnly||(this.db.getAllData().forEach((t=>{e.push(this.afterSerialization(l.serialize(t)))})),Object.keys(this.db.indexes).forEach((t=>{"_id"!==t&&e.push(this.afterSerialization(l.serialize({$$indexCreated:{fieldName:t,unique:this.db.indexes[t].unique,sparse:this.db.indexes[t].sparse}})))})),await c.crashSafeWriteFileLinesAsync(this.filename,e,this.modes),this.db.emit("compaction.done"))}compactDatafile(e){r((e=>this.db.compactDatafile(e)),"@seald-io/nedb: calling Datastore#persistence#compactDatafile is deprecated, please use Datastore#compactDatafile, it will be removed in the next major version.")(e)}setAutocompactionInterval(e){r((e=>this.db.setAutocompactionInterval(e)),"@seald-io/nedb: calling Datastore#persistence#setAutocompactionInterval is deprecated, please use Datastore#setAutocompactionInterval, it will be removed in the next major version.")(e)}stopAutocompaction(){r((()=>this.db.stopAutocompaction()),"@seald-io/nedb: calling Datastore#persistence#stopAutocompaction is deprecated, please use Datastore#stopAutocompaction, it will be removed in the next major version.")()}async persistNewStateAsync(e){let t="";this.inMemoryOnly||(e.forEach((e=>{t+=this.afterSerialization(l.serialize(e))+"\n"})),0!==t.length&&await c.appendFileAsync(this.filename,t,{encoding:"utf8",mode:this.modes.fileMode}))}treatRawData(e){const t=e.split("\n"),n={},i={};let r=t.length,a=0;for(const e of t)if(""!==e)try{const t=l.deserialize(this.beforeDeserialization(e));t._id?!0===t.$$deleted?delete n[t._id]:n[t._id]=t:t.$$indexCreated&&null!=t.$$indexCreated.fieldName?i[t.$$indexCreated.fieldName]=t.$$indexCreated:"string"==typeof t.$$indexRemoved&&delete i[t.$$indexRemoved]}catch(e){a+=1}else r--;if(r>0){const e=a/r;if(e>this.corruptAlertThreshold){const t=new Error(`${Math.floor(100*e)}% of the data file is corrupt, more than given corruptAlertThreshold (${Math.floor(100*this.corruptAlertThreshold)}%). Cautiously refusing to start NeDB to prevent dataloss.`);throw t.corruptionRate=e,t.corruptItems=a,t.dataLength=r,t}}return{data:Object.values(n),indexes:i}}treatRawStreamAsync(e){return new Promise(((t,n)=>{const i={},r={};let s=0;const o=a(e);let c=0;o.on("data",(e=>{if(""!==e){try{const t=l.deserialize(this.beforeDeserialization(e));t._id?!0===t.$$deleted?delete i[t._id]:i[t._id]=t:t.$$indexCreated&&null!=t.$$indexCreated.fieldName?r[t.$$indexCreated.fieldName]=t.$$indexCreated:"string"==typeof t.$$indexRemoved&&delete r[t.$$indexRemoved]}catch(e){s+=1}c++}})),o.on("end",(()=>{if(c>0){const e=s/c;if(e>this.corruptAlertThreshold){const t=new Error(`${Math.floor(100*e)}% of the data file is corrupt, more than given corruptAlertThreshold (${Math.floor(100*this.corruptAlertThreshold)}%). Cautiously refusing to start NeDB to prevent dataloss.`);return t.corruptionRate=e,t.corruptItems=s,t.dataLength=c,void n(t,null)}}const e=Object.values(i);t({data:e,indexes:r})})),o.on("error",(function(e){n(e,null)}))}))}async loadDatabaseAsync(){if(this.db._resetIndexes(),this.inMemoryOnly)return;let e;if(await u.ensureDirectoryExistsAsync(i.dirname(this.filename),this.modes.dirMode),await c.ensureDatafileIntegrityAsync(this.filename,this.modes.fileMode),c.readFileStream){const t=c.readFileStream(this.filename,{encoding:"utf8",mode:this.modes.fileMode});e=await this.treatRawStreamAsync(t)}else{const t=await c.readFileAsync(this.filename,{encoding:"utf8",mode:this.modes.fileMode});e=this.treatRawData(t)}Object.keys(e.indexes).forEach((t=>{this.db.indexes[t]=new o(e.indexes[t])}));try{this.db._resetIndexes(e.data)}catch(e){throw this.db._resetIndexes(),e}await this.db.persistence.persistCachedDatabaseAsync(),this.db.executor.processBuffer()}async dropDatabaseAsync(){this.db.stopAutocompaction(),this.db.executor.ready=!1,this.db.executor.resetBuffer(),await this.db.executor.queue.guardian,this.db.indexes={},this.db.indexes._id=new o({fieldName:"_id",unique:!0}),this.db.ttlIndexes={},this.db.inMemoryOnly||await this.db.executor.pushAsync((async()=>{await c.existsAsync(this.filename)&&await c.unlinkAsync(this.filename)}),!0)}static async ensureDirectoryExistsAsync(e,t=493){await c.mkdirAsync(e,{recursive:!0,mode:t})}}e.exports=u},7105:e=>{const t=e=>"object"==typeof e&&null!==e;e.exports.uniq=(e,t)=>t?[...new Map(e.map((e=>[t(e),e]))).values()]:[...new Set(e)],e.exports.isDate=e=>t(e)&&"[object Date]"===Object.prototype.toString.call(e),e.exports.isRegExp=e=>t(e)&&"[object RegExp]"===Object.prototype.toString.call(e)},2009:e=>{e.exports=class{constructor(){this.guardian=Promise.resolve()}waterfall(e){return(...t)=>(this.guardian=this.guardian.then((()=>e(...t).then((e=>({error:!1,result:e})),(e=>({error:!0,result:e}))))),this.guardian.then((({error:e,result:t})=>e?Promise.reject(t):Promise.resolve(t))))}chain(e){return this.waterfall((()=>e))()}}},1875:(e,t,n)=>{"use strict";var i=n(6419),r=n(7163);e.exports=function(e){var t=e.getComponent("MenuItem");return e.extend(t,{constructor:function(e,n){var r=n.source;if(!i.isObject(r))throw new Error('was not provided a "source" object, but rather: '+typeof r);n=i.extend({selectable:!0,label:r.label},n),t.call(this,e,n),this.source=r},handleClick:function(e){t.prototype.handleClick.call(this,e),this.player().trigger(r.QUALITY_REQUESTED,this.source)}})}},2864:(e,t,n)=>{"use strict";var i=n(6419),r=n(7163),a=n(1875),s="vjs-quality-changing";e.exports=function(e){var t,n=e.getComponent("MenuButton"),o=a(e);return t=e.extend(n,{constructor:function(e,t){n.call(this,e,t),e.on(r.QUALITY_REQUESTED,function(t,n){this.setSelectedSource(n),e.addClass(s),e.one("loadeddata",(function(){e.removeClass(s)}))}.bind(this)),e.on(r.PLAYER_SOURCES_CHANGED,function(){this.update()}.bind(this)),e.on(r.QUALITY_SELECTED,function(e,t){this.setSelectedSource(t)}.bind(this)),e.one("ready",function(){this.selectedSrc=e.src(),this.update()}.bind(this)),this.controlText("Open quality selector menu")},setSelectedSource:function(e){var t=e?e.src:void 0;this.selectedSrc!==t&&(this.selectedSrc=t,i.each(this.items,(function(e){e.selected(e.source.src===t)})))},createItems:function(){var e=this.player(),t=e.currentSources();return!t||t.length<2?[]:i.map(t,function(t){return new o(e,{source:t,selected:t.src===this.selectedSrc})}.bind(this))},buildWrapperCSSClass:function(){return"vjs-quality-selector "+n.prototype.buildWrapperCSSClass.call(this)}}),e.registerComponent("QualitySelector",t),t}},7163:e=>{"use strict";e.exports={QUALITY_REQUESTED:"qualityRequested",QUALITY_SELECTED:"qualitySelected",PLAYER_SOURCES_CHANGED:"playerSourcesChanged"}},1470:(e,t,n)=>{"use strict";var i=n(6419),r=n(7163),a=n(2864),s=n(9006),o=n(1527);e.exports=function(e){e=e||window.videojs,a(e),s(e),e.hook("setup",(function(e){e.on(r.QUALITY_REQUESTED,(function(t,n){var r=e.currentSources(),a=e.currentTime(),s=e.playbackRate(),l=e.paused();i.each(r,(function(e){e.selected=!1})),i.findWhere(r,{src:n.src}).selected=!0,e._qualitySelectorSafeSeek&&e._qualitySelectorSafeSeek.onQualitySelectionChange(),e.src(r),e.ready((function(){e._qualitySelectorSafeSeek&&!e._qualitySelectorSafeSeek.hasFinished()||(e._qualitySelectorSafeSeek=new o(e,a),e.playbackRate(s)),l||e.play()}))}))}))},e.exports.EVENTS=r},9006:(e,t,n)=>{"use strict";var i=n(6419),r=n(7163);e.exports=function(e){e.use("*",(function(e){return{setSource:function(t,n){var a,s=e.currentSources();e._qualitySelectorSafeSeek&&e._qualitySelectorSafeSeek.onPlayerSourcesChange(),i.isEqual(s,e._qualitySelectorPreviousSources)||(e.trigger(r.PLAYER_SOURCES_CHANGED,s),e._qualitySelectorPreviousSources=s),a=i.find(s,(function(e){return!0===e.selected||"true"===e.selected||"selected"===e.selected}))||t,e.trigger(r.QUALITY_SELECTED,a),n(null,a)}}}))}},1527:(e,t,n)=>{"use strict";var i=n(219);e.exports=i.extend({init:function(e,t){this._player=e,this._seekToTime=t,this._hasFinished=!1,this._keepThisInstanceWhenPlayerSourcesChange=!1,this._seekWhenSafe()},_seekWhenSafe:function(){this._player.readyState()<3?(this._seekFn=this._seek.bind(this),this._player.one("canplay",this._seekFn)):this._seek()},onPlayerSourcesChange:function(){this._keepThisInstanceWhenPlayerSourcesChange?this._keepThisInstanceWhenPlayerSourcesChange=!1:this.cancel()},onQualitySelectionChange:function(){this.hasFinished()||(this._keepThisInstanceWhenPlayerSourcesChange=!0)},_seek:function(){this._player.currentTime(this._seekToTime),this._keepThisInstanceWhenPlayerSourcesChange=!1,this._hasFinished=!0},hasFinished:function(){return this._hasFinished},cancel:function(){this._player.off("canplay",this._seekFn),this._keepThisInstanceWhenPlayerSourcesChange=!1,this._hasFinished=!0}})},3490:(e,t,n)=>{"use strict";var i=n(8908);e.exports=function(e,t){return void 0===t&&(t=!1),function(n,r,a){if(n)e(n);else if(r.statusCode>=400&&r.statusCode<=599){var s=a;if(t)if(i.TextDecoder){var o=(void 0===(l=r.headers&&r.headers["content-type"])&&(l=""),l.toLowerCase().split(";").reduce((function(e,t){var n=t.split("="),i=n[0],r=n[1];return"charset"===i.trim()?r.trim():e}),"utf-8"));try{s=new TextDecoder(o).decode(a)}catch(e){}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s})}else e(null,a);var l}}},9603:(e,t,n)=>{"use strict";var i=n(8908),r=n(7154),a=n(7376);function s(e,t,n){var i=e;return a(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=r({},t,{uri:e}),i.callback=n,i}function o(e,t,n){return l(t=s(e,t,n))}function l(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,i,r){t||(t=!0,e.callback(n,i,r))};function i(){var e=void 0;if(e=c.response?c.response:c.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(c),g)try{e=JSON.parse(e)}catch(e){}return e}function r(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,y)}function a(){if(!l){var t;clearTimeout(u),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var r=y,a=null;return 0!==t?(r={body:i(),statusCode:t,method:d,headers:{},url:h,rawRequest:c},c.getAllResponseHeaders&&(r.headers=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),i=e.slice(0,n).trim().toLowerCase(),r=e.slice(n+1).trim();void 0===t[i]?t[i]=r:Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]})),t):t}(c.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),n(a,r,r.body)}}var s,l,c=e.xhr||null;c||(c=e.cors||e.useXDR?new o.XDomainRequest:new o.XMLHttpRequest);var u,h=c.url=e.uri||e.url,d=c.method=e.method||"GET",f=e.body||e.data,p=c.headers=e.headers||{},m=!!e.sync,g=!1,y={body:void 0,headers:{},statusCode:0,method:d,url:h,rawRequest:c};if("json"in e&&!1!==e.json&&(g=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(a,0)},c.onload=a,c.onerror=r,c.onprogress=function(){},c.onabort=function(){l=!0},c.ontimeout=r,c.open(d,h,!m,e.username,e.password),m||(c.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(u=setTimeout((function(){if(!l){l=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}}),e.timeout)),c.setRequestHeader)for(s in p)p.hasOwnProperty(s)&&c.setRequestHeader(s,p[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(f||null),c}o.httpHandler=n(3490),e.exports=o,e.exports.default=o,o.XMLHttpRequest=i.XMLHttpRequest||function(){},o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){o["delete"===e?"del":e]=function(t,n,i){return(n=s(t,n,i)).method=e.toUpperCase(),l(n)}}))},2167:(e,t)=>{"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var i=n({HTML:"text/html",isHTML:function(e){return e===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.freeze=n,t.MIME_TYPE=i,t.NAMESPACE=r},6129:(e,t,n)=>{var i=n(2167),r=n(1146),a=n(1045),s=n(6925),o=r.DOMImplementation,l=i.NAMESPACE,c=s.ParseError,u=s.XMLReader;function h(e){this.options=e||{locator:{}}}function d(){this.cdata=!1}function f(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function p(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function m(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function g(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}h.prototype.parseFromString=function(e,t){var n=this.options,i=new u,r=n.domBuilder||new d,s=n.errorHandler,o=n.locator,c=n.xmlns||{},h=/\/x?html?$/.test(t),f=h?a.HTML_ENTITIES:a.XML_ENTITIES;return o&&r.setDocumentLocator(o),i.errorHandler=function(e,t,n){if(!e){if(t instanceof d)return t;e=t}var i={},r=e instanceof Function;function a(t){var a=e[t];!a&&r&&(a=2==e.length?function(n){e(t,n)}:e),i[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+p(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),i}(s,r,o),i.domBuilder=n.domBuilder||r,h&&(c[""]=l.HTML),c.xml=c.xml||l.XML,e&&"string"==typeof e?i.parse(e,c,f):i.errorHandler.error("invalid doc source"),r.doc},d.prototype={startDocument:function(){this.doc=(new o).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,a=r.createElementNS(e,n||t),s=i.length;g(this,a),this.currentElement=a,this.locator&&f(this.locator,a);for(var o=0;o<s;o++){e=i.getURI(o);var l=i.getValue(o),c=(n=i.getQName(o),r.createAttributeNS(e,n));this.locator&&f(i.getLocator(o),c),c.value=c.nodeValue=l,a.setAttributeNode(c)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&f(this.locator,n),g(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=m.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&f(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=m.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&f(this.locator,i),g(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(e,t,n);this.locator&&f(this.locator,r),g(this,r),this.doc.doctype=r}},warning:function(e){console.warn("[xmldom warning]\t"+e,p(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,p(this.locator))},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){d.prototype[e]=function(){return null}})),t.DOMParser=h,r.DOMImplementation,r.XMLSerializer},1146:(e,t,n)=>{var i=n(2167).NAMESPACE;function r(e){return""!==e}function a(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function s(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(r):[]}(e);return Object.keys(t.reduce(a,{}))}function o(e,t){for(var n in e)t[n]=e[n]}function l(e,t){var n=e.prototype;if(!(n instanceof t)){function i(){}i.prototype=t.prototype,o(n,i=new i),e.prototype=n=i}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var c={},u=c.ELEMENT_NODE=1,h=c.ATTRIBUTE_NODE=2,d=c.TEXT_NODE=3,f=c.CDATA_SECTION_NODE=4,p=c.ENTITY_REFERENCE_NODE=5,m=c.ENTITY_NODE=6,g=c.PROCESSING_INSTRUCTION_NODE=7,y=c.COMMENT_NODE=8,v=c.DOCUMENT_NODE=9,b=c.DOCUMENT_TYPE_NODE=10,_=c.DOCUMENT_FRAGMENT_NODE=11,w=c.NOTATION_NODE=12,S={},k={},T=(S.INDEX_SIZE_ERR=(k[1]="Index size error",1),S.DOMSTRING_SIZE_ERR=(k[2]="DOMString size error",2),S.HIERARCHY_REQUEST_ERR=(k[3]="Hierarchy request error",3)),C=(S.WRONG_DOCUMENT_ERR=(k[4]="Wrong document",4),S.INVALID_CHARACTER_ERR=(k[5]="Invalid character",5),S.NO_DATA_ALLOWED_ERR=(k[6]="No data allowed",6),S.NO_MODIFICATION_ALLOWED_ERR=(k[7]="No modification allowed",7),S.NOT_FOUND_ERR=(k[8]="Not found",8)),x=(S.NOT_SUPPORTED_ERR=(k[9]="Not supported",9),S.INUSE_ATTRIBUTE_ERR=(k[10]="Attribute in use",10));function E(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,k[e]),this.message=k[e],Error.captureStackTrace&&Error.captureStackTrace(this,E);return n.code=e,t&&(this.message=this.message+": "+t),n}function P(){}function I(e,t){this._node=e,this._refresh=t,A(this)}function A(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);ce(e,"length",n.length),o(n,e),e._inc=t}}function L(){}function O(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function R(e,t,n,r){if(r?t[O(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var a=e.ownerDocument;a&&(r&&U(a,e,r),function(e,t,n){e&&e._inc++,n.namespaceURI===i.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(a,e,n))}}function D(e,t,n){var i=O(t,n);if(!(i>=0))throw E(C,new Error(e.tagName+"@"+n));for(var r=t.length-1;i<r;)t[i]=t[++i];if(t.length=r,e){var a=e.ownerDocument;a&&(U(a,e,n),n.ownerElement=null)}}function N(){}function F(){}function $(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function B(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(B(e,t))return!0}while(e=e.nextSibling)}function M(){}function U(e,t,n,r){e&&e._inc++,n.namespaceURI===i.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function j(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var r=t.firstChild,a=0;r;)i[a++]=r,r=r.nextSibling;i.length=a}}}function V(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,j(e.ownerDocument,e),t}function H(e,t,n){var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===_){var r=t.firstChild;if(null==r)return t;var a=t.lastChild}else r=a=t;var s=n?n.previousSibling:e.lastChild;r.previousSibling=s,a.nextSibling=n,s?s.nextSibling=r:e.firstChild=r,null==n?e.lastChild=a:n.previousSibling=a;do{r.parentNode=e}while(r!==a&&(r=r.nextSibling));return j(e.ownerDocument||e,e),t.nodeType==_&&(t.firstChild=t.lastChild=null),t}function q(){this._nsMap={}}function z(){}function W(){}function G(){}function K(){}function Y(){}function X(){}function Q(){}function Z(){}function J(){}function ee(){}function te(){}function ne(){}function ie(e,t){var n=[],i=9==this.nodeType&&this.documentElement||this,r=i.prefix,a=i.namespaceURI;if(a&&null==r&&null==(r=i.lookupPrefix(a)))var s=[{namespace:a,prefix:null}];return se(this,n,e,t,s),n.join("")}function re(e,t,n){var r=e.prefix||"",a=e.namespaceURI;if(!a)return!1;if("xml"===r&&a===i.XML||a===i.XMLNS)return!1;for(var s=n.length;s--;){var o=n[s];if(o.prefix===r)return o.namespace!==a}return!0}function ae(e,t,n){e.push(" ",t,'="',n.replace(/[<&"]/g,$),'"')}function se(e,t,n,r,a){if(a||(a=[]),r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case u:var s=e.attributes,o=s.length,l=e.firstChild,c=e.tagName,m=c;if(!(n=i.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var w,S=0;S<s.length;S++)if("xmlns"===s.item(S).name){w=s.item(S).value;break}if(!w)for(var k=a.length-1;k>=0;k--)if(""===(T=a[k]).prefix&&T.namespace===e.namespaceURI){w=T.namespace;break}if(w!==e.namespaceURI)for(k=a.length-1;k>=0;k--){var T;if((T=a[k]).namespace===e.namespaceURI){T.prefix&&(m=T.prefix+":"+c);break}}}t.push("<",m);for(var C=0;C<o;C++)"xmlns"==(x=s.item(C)).prefix?a.push({prefix:x.localName,namespace:x.value}):"xmlns"==x.nodeName&&a.push({prefix:"",namespace:x.value});for(C=0;C<o;C++){var x,E,P;re(x=s.item(C),0,a)&&(ae(t,(E=x.prefix||"")?"xmlns:"+E:"xmlns",P=x.namespaceURI),a.push({prefix:E,namespace:P})),se(x,t,n,r,a)}if(c===m&&re(e,0,a)&&(ae(t,(E=e.prefix||"")?"xmlns:"+E:"xmlns",P=e.namespaceURI),a.push({prefix:E,namespace:P})),l||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;l;)l.data?t.push(l.data):se(l,t,n,r,a.slice()),l=l.nextSibling;else for(;l;)se(l,t,n,r,a.slice()),l=l.nextSibling;t.push("</",m,">")}else t.push("/>");return;case v:case _:for(l=e.firstChild;l;)se(l,t,n,r,a.slice()),l=l.nextSibling;return;case h:return ae(t,e.name,e.value);case d:return t.push(e.data.replace(/[<&]/g,$).replace(/]]>/g,"]]&gt;"));case f:return t.push("<![CDATA[",e.data,"]]>");case y:return t.push("\x3c!--",e.data,"--\x3e");case b:var I=e.publicId,A=e.systemId;if(t.push("<!DOCTYPE ",e.name),I)t.push(" PUBLIC ",I),A&&"."!=A&&t.push(" ",A),t.push(">");else if(A&&"."!=A)t.push(" SYSTEM ",A,">");else{var L=e.internalSubset;L&&t.push(" [",L,"]"),t.push(">")}return;case g:return t.push("<?",e.target," ",e.data,"?>");case p:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function oe(e,t,n){var i;switch(t.nodeType){case u:(i=t.cloneNode(!1)).ownerDocument=e;case _:break;case h:n=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n)for(var r=t.firstChild;r;)i.appendChild(oe(e,r,n)),r=r.nextSibling;return i}function le(e,t,n){var i=new t.constructor;for(var r in t){var a=t[r];"object"!=typeof a&&a!=i[r]&&(i[r]=a)}switch(t.childNodes&&(i.childNodes=new P),i.ownerDocument=e,i.nodeType){case u:var s=t.attributes,o=i.attributes=new L,l=s.length;o._ownerElement=i;for(var c=0;c<l;c++)i.setAttributeNode(le(e,s.item(c),!0));break;case h:n=!0}if(n)for(var d=t.firstChild;d;)i.appendChild(le(e,d,n)),d=d.nextSibling;return i}function ce(e,t,n){e[t]=n}S.INVALID_STATE_ERR=(k[11]="Invalid state",11),S.SYNTAX_ERR=(k[12]="Syntax error",12),S.INVALID_MODIFICATION_ERR=(k[13]="Invalid modification",13),S.NAMESPACE_ERR=(k[14]="Invalid namespace",14),S.INVALID_ACCESS_ERR=(k[15]="Invalid access",15),E.prototype=Error.prototype,o(S,E),P.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)se(this[i],n,e,t);return n.join("")}},I.prototype.item=function(e){return A(this),this[e]},l(I,P),L.prototype={length:0,item:P.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new E(x);var n=this.getNamedItem(e.nodeName);return R(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new E(x);return t=this.getNamedItemNS(e.namespaceURI,e.localName),R(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return D(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return D(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},N.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var i=new M;if(i.implementation=this,i.childNodes=new P,i.doctype=n||null,n&&i.appendChild(n),t){var r=i.createElementNS(e,t);i.appendChild(r)}return i},createDocumentType:function(e,t,n){var i=new X;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=n||"",i}},F.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return H(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return V(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return le(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==d&&e.nodeType==d?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(n[i]==e)return i;t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},o(c,F),o(c,F.prototype),M.prototype={nodeName:"#document",nodeType:v,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==_){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return null==this.documentElement&&e.nodeType==u&&(this.documentElement=e),H(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),V(this,e)},importNode:function(e,t){return oe(this,e,t)},getElementById:function(e){var t=null;return B(this.documentElement,(function(n){if(n.nodeType==u&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=s(e);return new I(this,(function(n){var i=[];return t.length>0&&B(n.documentElement,(function(r){if(r!==n&&r.nodeType===u){var a=r.getAttribute("class");if(a){var o=e===a;if(!o){var l=s(a);o=t.every((c=l,function(e){return c&&-1!==c.indexOf(e)}))}o&&i.push(r)}}var c})),i}))},createElement:function(e){var t=new q;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new P,(t.attributes=new L)._ownerElement=t,t},createDocumentFragment:function(){var e=new ee;return e.ownerDocument=this,e.childNodes=new P,e},createTextNode:function(e){var t=new G;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new K;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Y;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new te;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new z;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new J;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new q,i=t.split(":"),r=n.attributes=new L;return n.childNodes=new P,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n,n},createAttributeNS:function(e,t){var n=new z,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},l(M,F),q.prototype={nodeType:u,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===_?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var i=e.lastChild;n.removeChild(t),i=e.lastChild}return i=e.lastChild,t.parentNode=e,t.previousSibling=i,t.nextSibling=null,i?i.nextSibling=t:e.firstChild=t,e.lastChild=t,j(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new I(this,(function(t){var n=[];return B(t,(function(i){i===t||i.nodeType!=u||"*"!==e&&i.tagName!=e||n.push(i)})),n}))},getElementsByTagNameNS:function(e,t){return new I(this,(function(n){var i=[];return B(n,(function(r){r===n||r.nodeType!==u||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||i.push(r)})),i}))}},M.prototype.getElementsByTagName=q.prototype.getElementsByTagName,M.prototype.getElementsByTagNameNS=q.prototype.getElementsByTagNameNS,l(q,F),z.prototype.nodeType=h,l(z,F),W.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(k[T])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},l(W,F),G.prototype={nodeName:"#text",nodeType:d,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},l(G,W),K.prototype={nodeName:"#comment",nodeType:y},l(K,W),Y.prototype={nodeName:"#cdata-section",nodeType:f},l(Y,W),X.prototype.nodeType=b,l(X,F),Q.prototype.nodeType=w,l(Q,F),Z.prototype.nodeType=m,l(Z,F),J.prototype.nodeType=p,l(J,F),ee.prototype.nodeName="#document-fragment",ee.prototype.nodeType=_,l(ee,F),te.prototype.nodeType=g,l(te,F),ne.prototype.serializeToString=function(e,t,n){return ie.call(e,t,n)},F.prototype.toString=ie;try{if(Object.defineProperty){function ue(e){switch(e.nodeType){case u:case _:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ue(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(I.prototype,"length",{get:function(){return A(this),this.$$length}}),Object.defineProperty(F.prototype,"textContent",{get:function(){return ue(this)},set:function(e){switch(this.nodeType){case u:case _:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ce=function(e,t,n){e["$$"+t]=n}}}catch(he){}t.DocumentType=X,t.DOMException=E,t.DOMImplementation=N,t.Element=q,t.Node=F,t.NodeList=P,t.XMLSerializer=ne},1045:(e,t,n)=>{var i=n(2167).freeze;t.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=i({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:""}),t.entityMap=t.HTML_ENTITIES},3969:(e,t,n)=>{var i=n(1146);i.DOMImplementation,i.XMLSerializer,t.DOMParser=n(6129).DOMParser},6925:(e,t,n)=>{var i=n(2167).NAMESPACE,r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,a=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),s=new RegExp("^"+r.source+a.source+"*(?::"+r.source+a.source+"*)?$");function o(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,o)}function l(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,n,r,a,s){function o(e,t,i){n.attributeNames.hasOwnProperty(e)&&s.fatalError("Attribute "+e+" redefined"),n.addValue(e,t,i)}for(var l,c=++t,u=0;;){var h=e.charAt(c);switch(h){case"=":if(1===u)l=e.slice(t,c),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(s.warning('attribute value must after "="'),l=e.slice(t,c)),t=c+1,!((c=e.indexOf(h,t))>0))throw new Error("attribute value no end '"+h+"' match");o(l,d=e.slice(t,c).replace(/&#?\w+;/g,a),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');o(l,d=e.slice(t,c).replace(/&#?\w+;/g,a),t),s.warning('attribute "'+l+'" missed start quot('+h+")!!"),t=c+1,u=5}break;case"/":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),0==u&&n.setTagName(e.slice(t,c)),c;case">":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=e.slice(t,c)).slice(-1)&&(n.closed=!0,d=d.slice(0,-1));case 2:2===u&&(d=l),4==u?(s.warning('attribute "'+d+'" missed quot(")!'),o(l,d.replace(/&#?\w+;/g,a),t)):(i.isHTML(r[""])&&d.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),o(d,d,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"":h=" ";default:if(h<=" ")switch(u){case 0:n.setTagName(e.slice(t,c)),u=6;break;case 1:l=e.slice(t,c),u=2;break;case 4:var d=e.slice(t,c).replace(/&#?\w+;/g,a);s.warning('attribute "'+d+'" missed quot(")!!'),o(l,d,t);case 5:u=6}else switch(u){case 2:n.tagName,i.isHTML(r[""])&&l.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),o(l,l,t),t=c,u=1;break;case 5:s.warning('attribute space is required"'+l+'"!!');case 6:u=1,t=c;break;case 3:u=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function h(e,t,n){for(var r=e.tagName,a=null,s=e.length;s--;){var o=e[s],l=o.qName,c=o.value;if((f=l.indexOf(":"))>0)var u=o.prefix=l.slice(0,f),h=l.slice(f+1),d="xmlns"===u&&h;else h=l,u=null,d="xmlns"===l&&"";o.localName=h,!1!==d&&(null==a&&(a={},p(n,n={})),n[d]=a[d]=c,o.uri=i.XMLNS,t.startPrefixMapping(d,c))}for(s=e.length;s--;)(u=(o=e[s]).prefix)&&("xml"===u&&(o.uri=i.XML),"xmlns"!==u&&(o.uri=n[u||""]));var f;(f=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,f),h=e.localName=r.slice(f+1)):(u=null,h=e.localName=r);var m=e.uri=n[u||""];if(t.startElement(m,h,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=a,!0;if(t.endElement(m,h,r),a)for(u in a)t.endPrefixMapping(u)}function d(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),s=e.substring(t+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),r.characters(s,0,s.length),a)}return t+1}function f(e,t,n,i){var r=i[n];return null==r&&((r=e.lastIndexOf("</"+n+">"))<t&&(r=e.lastIndexOf("</"+n)),i[n]=r),r<t}function p(e,t){for(var n in e)t[n]=e[n]}function m(e,t,n,i){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,r-t-4),r+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,r-t-9),n.endCDATA(),r+3}var a=function(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=t,r.exec(e);n=r.exec(e);)if(i.push(n),n[1])return i}(e,t),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var o=a[1][0],l=!1,c=!1;s>3&&(/^public$/i.test(a[2][0])?(l=a[3][0],c=s>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var u=a[s-1];return n.startDTD(o,l,c),n.endDTD(),u.index+u[0].length}return-1}function g(e,t,n){var i=e.indexOf("?>",t);if(i){var r=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function y(){this.attributeNames={}}o.prototype=new Error,o.prototype.name=o.name,l.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),p(t,t={}),function(e,t,n,r,a){function s(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function l(t){if(t>T){var n=e.substring(T,t).replace(/&#?\w+;/g,s);w&&p(T),r.characters(n,0,t-T),T=t}}function p(t,n){for(;t>=b&&(n=_.exec(e));)v=n.index,b=v+n[0].length,w.lineNumber++;w.columnNumber=t-v+1}for(var v=0,b=0,_=/.*(?:\r\n?|\n)|.*$/g,w=r.locator,S=[{currentNSMap:t}],k={},T=0;;){try{var C=e.indexOf("<",T);if(C<0){if(!e.substr(T).match(/^\s*$/)){var x=r.doc,E=x.createTextNode(e.substr(T));x.appendChild(E),r.currentElement=E}return}switch(C>T&&l(C),e.charAt(C+1)){case"/":var P=e.indexOf(">",C+3),I=e.substring(C+2,P).replace(/[ \t\n\r]+$/g,""),A=S.pop();P<0?(I=e.substring(C+2).replace(/[\s<].*/,""),a.error("end tag name: "+I+" is not complete:"+A.tagName),P=C+1+I.length):I.match(/\s</)&&(I=I.replace(/[\s<].*/,""),a.error("end tag name: "+I+" maybe not complete"),P=C+1+I.length);var L=A.localNSMap,O=A.tagName==I;if(O||A.tagName&&A.tagName.toLowerCase()==I.toLowerCase()){if(r.endElement(A.uri,A.localName,I),L)for(var R in L)r.endPrefixMapping(R);O||a.fatalError("end tag name: "+I+" is not match the current start tagName:"+A.tagName)}else S.push(A);P++;break;case"?":w&&p(C),P=g(e,C,r);break;case"!":w&&p(C),P=m(e,C,r,a);break;default:w&&p(C);var D=new y,N=S[S.length-1].currentNSMap,F=(P=u(e,C,D,N,s,a),D.length);if(!D.closed&&f(e,P,D.tagName,k)&&(D.closed=!0,n.nbsp||a.warning("unclosed xml attribute")),w&&F){for(var $=c(w,{}),B=0;B<F;B++){var M=D[B];p(M.offset),M.locator=c(w,{})}r.locator=$,h(D,r,N)&&S.push(D),r.locator=w}else h(D,r,N)&&S.push(D);i.isHTML(D.uri)&&!D.closed?P=d(e,P,D.tagName,s,r):P++}}catch(e){if(e instanceof o)throw e;a.error("element parse error: "+e),P=-1}P>T?T=P:l(Math.max(C,T)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},y.prototype={setTagName:function(e){if(!s.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!s.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=o},8583:(e,t,n)=>{"use strict";var i=n(7418);function r(e,t){if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0}function a(e){return n.g.Buffer&&"function"==typeof n.g.Buffer.isBuffer?n.g.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=n(69),o=Object.prototype.hasOwnProperty,l=Array.prototype.slice,c="foo"===function(){}.name;function u(e){return Object.prototype.toString.call(e)}function h(e){return!a(e)&&"function"==typeof n.g.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var d=e.exports=v,f=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(s.isFunction(e)){if(c)return e.name;var t=e.toString().match(f);return t&&t[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(c||!s.isFunction(e))return s.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function y(e,t,n,i,r){throw new d.AssertionError({message:n,actual:e,expected:t,operator:i,stackStartFunction:r})}function v(e,t){e||y(e,!0,t,"==",d.ok)}function b(e,t,n,i){if(e===t)return!0;if(a(e)&&a(t))return 0===r(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(h(e)&&h(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var o=(i=i||{actual:[],expected:[]}).actual.indexOf(e);return-1!==o&&o===i.expected.indexOf(t)||(i.actual.push(e),i.expected.push(t),function(e,t,n,i){if(null==e||null==t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=_(e),a=_(t);if(r&&!a||!r&&a)return!1;if(r)return b(e=l.call(e),t=l.call(t),n);var o,c,u=k(e),h=k(t);if(u.length!==h.length)return!1;for(u.sort(),h.sort(),c=u.length-1;c>=0;c--)if(u[c]!==h[c])return!1;for(c=u.length-1;c>=0;c--)if(!b(e[o=u[c]],t[o],n,i))return!1;return!0}(e,t,n,i))}return n?e===t:e==t}function _(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function S(e,t,n,i){var r;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),r=function(e){var t;try{e()}catch(e){t=e}return t}(t),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!r&&y(r,n,"Missing expected exception"+i);var a="string"==typeof i,o=!e&&r&&!n;if((!e&&s.isError(r)&&a&&w(r,n)||o)&&y(r,n,"Got unwanted exception"+i),e&&r&&n&&!w(r,n)||!e&&r)throw r}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return m(g(e.actual),128)+" "+e.operator+" "+m(g(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var i=n.stack,r=p(t),a=i.indexOf("\n"+r);if(a>=0){var s=i.indexOf("\n",a+1);i=i.substring(s+1)}this.stack=i}}},s.inherits(d.AssertionError,Error),d.fail=y,d.ok=v,d.equal=function(e,t,n){e!=t&&y(e,t,n,"==",d.equal)},d.notEqual=function(e,t,n){e==t&&y(e,t,n,"!=",d.notEqual)},d.deepEqual=function(e,t,n){b(e,t,!1)||y(e,t,n,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,n){b(e,t,!0)||y(e,t,n,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,n){b(e,t,!1)&&y(e,t,n,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,n,i){b(t,n,!0)&&y(t,n,i,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,n){e!==t&&y(e,t,n,"===",d.strictEqual)},d.notStrictEqual=function(e,t,n){e===t&&y(e,t,n,"!==",d.notStrictEqual)},d.throws=function(e,t,n){S(!0,e,t,n)},d.doesNotThrow=function(e,t,n){S(!1,e,t,n)},d.ifError=function(e){if(e)throw e},d.strict=i((function e(t,n){t||y(t,!0,n,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var k=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t}},6076:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},2014:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},69:(e,t,n)=>{var i=n(4155),r=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,a=i.length,s=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),l=i[n];n<a;l=i[++n])m(l)||!_(l)?s+=" "+l:s+=" "+o(l);return s},t.deprecate=function(e,r){if(v(n.g.process))return function(){return t.deprecate(e,r).apply(this,arguments)};if(!0===i.noDeprecation)return e;var a=!1;return function(){if(!a){if(i.throwDeprecation)throw new Error(r);i.traceDeprecation?console.trace(r):console.error(r),a=!0}return e.apply(this,arguments)}};var a,s={};function o(e,n){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(n)?i.showHidden=n:n&&t._extend(i,n),v(i.showHidden)&&(i.showHidden=!1),v(i.depth)&&(i.depth=2),v(i.colors)&&(i.colors=!1),v(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),u(i,e,i.depth)}function l(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function c(e,t){return e}function u(e,n,i){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,e);return y(r)||(r=u(e,r,i)),r}var a=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(a)return a;var s=Object.keys(n),o=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),S(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(k(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return h(n)}var c,_="",T=!1,C=["{","}"];return f(n)&&(T=!0,C=["[","]"]),k(n)&&(_=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),S(n)&&(_=" "+h(n)),0!==s.length||T&&0!=n.length?i<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=T?function(e,t,n,i,r){for(var a=[],s=0,o=t.length;s<o;++s)P(t,String(s))?a.push(d(e,t,n,i,String(s),!0)):a.push("");return r.forEach((function(r){r.match(/^\d+$/)||a.push(d(e,t,n,i,r,!0))})),a}(e,n,i,o,s):s.map((function(t){return d(e,n,i,o,t,T)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,_,C)):C[0]+_+C[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,i,r,a){var s,o,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?o=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(o=e.stylize("[Setter]","special")),P(i,r)||(s="["+r+"]"),o||(e.seen.indexOf(l.value)<0?(o=m(n)?u(e,l.value,null):u(e,l.value,n-1)).indexOf("\n")>-1&&(o=a?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),v(s)){if(a&&r.match(/^\d+$/))return o;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+o}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===T(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===T(e)}function S(e){return _(e)&&("[object Error]"===T(e)||e instanceof Error)}function k(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(v(a)&&(a=i.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var n=i.pid;s[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,i)}}else s[e]=function(){};return s[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=S,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(2014);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",E(),t.format.apply(t,arguments))},t.inherits=n(6076),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}},9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var i=n(4867),r=n(6026),a=n(4372),s=n(5327),o=n(4097),l=n(4109),c=n(7985),u=n(7874),h=n(2648),d=n(644),f=n(205);e.exports=function(e){return new Promise((function(t,n){var p,m=e.data,g=e.headers,y=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}i.isFormData(m)&&i.isStandardBrowserEnv()&&delete g["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(_+":"+w)}var S=o(e.baseURL,e.url);function k(){if(b){var i="getAllResponseHeaders"in b?l(b.getAllResponseHeaders()):null,a={data:y&&"text"!==y&&"json"!==y?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:i,config:e,request:b};r((function(e){t(e),v()}),(function(e){n(e),v()}),a),b=null}}if(b.open(e.method.toUpperCase(),s(S,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=k:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(k)},b.onabort=function(){b&&(n(new h("Request aborted",h.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new h("Network Error",h.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new h(t,i.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,e,b)),b=null},i.isStandardBrowserEnv()){var T=(e.withCredentials||c(S))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;T&&(g[e.xsrfHeaderName]=T)}"setRequestHeader"in b&&i.forEach(g,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete g[t]:b.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),y&&"json"!==y&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){b&&(n(!e||e&&e.type?new d:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),m||(m=null);var C=f(S);C&&-1===["http","https","file"].indexOf(C)?n(new h("Unsupported protocol "+C+":",h.ERR_BAD_REQUEST,e)):b.send(m)}))}},1609:(e,t,n)=>{"use strict";var i=n(4867),r=n(1849),a=n(321),s=n(7185),o=function e(t){var n=new a(t),o=r(a.prototype.request,n);return i.extend(o,a.prototype,n),i.extend(o,n),o.create=function(n){return e(s(t,n))},o}(n(5546));o.Axios=a,o.CanceledError=n(644),o.CancelToken=n(4972),o.isCancel=n(6502),o.VERSION=n(7288).version,o.toFormData=n(7675),o.AxiosError=n(2648),o.Cancel=o.CanceledError,o.all=function(e){return Promise.all(e)},o.spread=n(8713),o.isAxiosError=n(6268),e.exports=o,e.exports.default=o},4972:(e,t,n)=>{"use strict";var i=n(644);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},644:(e,t,n)=>{"use strict";var i=n(2648);function r(e){i.call(this,null==e?"canceled":e,i.ERR_CANCELED),this.name="CanceledError"}n(4867).inherits(r,i,{__CANCEL__:!0}),e.exports=r},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var i=n(4867),r=n(5327),a=n(782),s=n(3572),o=n(7185),l=n(4097),c=n(4875),u=c.validators;function h(e){this.defaults=e,this.interceptors={request:new a,response:new a}}h.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var i=[],r=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var a,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!r){var h=[s,void 0];for(Array.prototype.unshift.apply(h,i),h=h.concat(l),a=Promise.resolve(t);h.length;)a=a.then(h.shift(),h.shift());return a}for(var d=t;i.length;){var f=i.shift(),p=i.shift();try{d=f(d)}catch(e){p(e);break}}try{a=s(d)}catch(e){return Promise.reject(e)}for(;l.length;)a=a.then(l.shift(),l.shift());return a},h.prototype.getUri=function(e){e=o(this.defaults,e);var t=l(e.baseURL,e.url);return r(t,e.params,e.paramsSerializer)},i.forEach(["delete","get","head","options"],(function(e){h.prototype[e]=function(t,n){return this.request(o(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(o(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}h.prototype[e]=t(),h.prototype[e+"Form"]=t(!0)})),e.exports=h},2648:(e,t,n)=>{"use strict";var i=n(4867);function r(e,t,n,i,r){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}i.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=r.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(r,s),Object.defineProperty(a,"isAxiosError",{value:!0}),r.from=function(e,t,n,s,o,l){var c=Object.create(a);return i.toFlatObject(e,c,(function(e){return e!==Error.prototype})),r.call(c,e.message,t,n,s,o),c.name=e.name,l&&Object.assign(c,l),c},e.exports=r},782:(e,t,n)=>{"use strict";var i=n(4867);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},4097:(e,t,n)=>{"use strict";var i=n(1793),r=n(9002);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},3572:(e,t,n)=>{"use strict";var i=n(4867),r=n(8527),a=n(6502),s=n(5546),o=n(644);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new o}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return l(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(l(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7185:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e,t){t=t||{};var n={};function r(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function a(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function s(e){if(!i.isUndefined(t[e]))return r(void 0,t[e])}function o(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function l(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l};return i.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,r=t(e);i.isUndefined(r)&&t!==l||(n[e]=r)})),n}},6026:(e,t,n)=>{"use strict";var i=n(2648);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new i("Request failed with status code "+n.status,[i.ERR_BAD_REQUEST,i.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var i=n(4867),r=n(5546);e.exports=function(e,t,n){var a=this||r;return i.forEach(n,(function(n){e=n.call(a,e,t)})),e}},5546:(e,t,n)=>{"use strict";var i=n(4155),r=n(4867),a=n(6016),s=n(2648),o=n(7874),l=n(7675),c={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var h,d={transitional:o,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==i&&"[object process]"===Object.prototype.toString.call(i))&&(h=n(5448)),h),transformRequest:[function(e,t){if(a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=r.isObject(e),s=t&&t["Content-Type"];if((n=r.isFileList(e))||i&&"multipart/form-data"===s){var o=this.env&&this.env.FormData;return l(n?{"files[]":e}:e,o&&new o)}return i||"application/json"===s?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw s.from(e,s.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(1623)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){d.headers[e]=r.merge(c)})),e.exports=d},7874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:e=>{e.exports={version:"0.27.2"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var i=n(4867);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(i.isURLSearchParams(t))a=t.toString();else{var s=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),a=s.join("&")}if(a){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9002:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var i=n(4867);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,a,s){var o=[];o.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),i.isString(r)&&o.push("path="+r),i.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e){return i.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var i=n(4867);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},1623:e=>{e.exports=null},4109:(e,t,n)=>{"use strict";var i=n(4867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,s={};return e?(i.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=i.trim(e.substr(0,a)).toLowerCase(),n=i.trim(e.substr(a+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},205:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7675:(e,t,n)=>{"use strict";var i=n(8764).Buffer,r=n(4867);e.exports=function(e,t){t=t||new FormData;var n=[];function a(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):i.from(e):e}return function e(i,s){if(r.isPlainObject(i)||r.isArray(i)){if(-1!==n.indexOf(i))throw Error("Circular reference detected in "+s);n.push(i),r.forEach(i,(function(n,i){if(!r.isUndefined(n)){var o,l=s?s+"."+i:i;if(n&&!s&&"object"==typeof n)if(r.endsWith(i,"{}"))n=JSON.stringify(n);else if(r.endsWith(i,"[]")&&(o=r.toArray(n)))return void o.forEach((function(e){!r.isUndefined(e)&&t.append(l,a(e))}));e(n,l)}})),n.pop()}else t.append(s,a(i))}(e),t}},4875:(e,t,n)=>{"use strict";var i=n(7288).version,r=n(2648),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,o){if(!1===e)throw new r(a(i," has been removed"+(t?" in "+t:"")),r.ERR_DEPRECATED);return t&&!s[i]&&(s[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new r("options must be an object",r.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),a=i.length;a-- >0;){var s=i[a],o=t[s];if(o){var l=e[s],c=void 0===l||o(l,s,e);if(!0!==c)throw new r("option "+s+" must be "+c,r.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new r("Unknown option "+s,r.ERR_BAD_OPTION)}},validators:a}},4867:(e,t,n)=>{"use strict";var i,r=n(1849),a=Object.prototype.toString,s=(i=Object.create(null),function(e){var t=a.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())});function o(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function l(e){return Array.isArray(e)}function c(e){return void 0===e}var u=o("ArrayBuffer");function h(e){return null!==e&&"object"==typeof e}function d(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var f=o("Date"),p=o("File"),m=o("Blob"),g=o("FileList");function y(e){return"[object Function]"===a.call(e)}var v=o("URLSearchParams");function b(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),l(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var _,w=(_="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return _&&e instanceof _});e.exports={isArray:l,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||a.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:h,isPlainObject:d,isUndefined:c,isDate:f,isFile:p,isBlob:m,isFunction:y,isStream:function(e){return h(e)&&y(e.pipe)},isURLSearchParams:v,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:b,merge:function e(){var t={};function n(n,i){d(t[i])&&d(n)?t[i]=e(t[i],n):d(n)?t[i]=e({},n):l(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)b(arguments[i],n);return t},extend:function(e,t,n){return b(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var i,r,a,s={};t=t||{};do{for(r=(i=Object.getOwnPropertyNames(e)).length;r-- >0;)s[a=i[r]]||(t[a]=e[a],s[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:o,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return-1!==i&&i===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:g}},794:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(3938),r=n.n(i);let a=null;a=e=>`${e}.db`;const s={};s.settings=r().create({filename:a("settings"),autoload:!0}),s.profiles=r().create({filename:a("profiles"),autoload:!0}),s.playlists=r().create({filename:a("playlists"),autoload:!0}),s.history=r().create({filename:a("history"),autoload:!0});const o=s,l={settings:class{static find(){return o.settings.find({_id:{$ne:"bounds"}})}static upsert(e,t){return o.settings.update({_id:e},{_id:e,value:t},{upsert:!0})}static _findAppReadyRelatedSettings(){return o.settings.find({$or:[{_id:"disableSmoothScrolling"},{_id:"useProxy"},{_id:"proxyProtocol"},{_id:"proxyHostname"},{_id:"proxyPort"}]})}static _findBounds(){return o.settings.findOne({_id:"bounds"})}static _findTheme(){return o.settings.findOne({_id:"baseTheme"})}static _findSidenavSettings(){return{hideTrendingVideos:o.settings.findOne({_id:"hideTrendingVideos"}),hidePopularVideos:o.settings.findOne({_id:"hidePopularVideos"}),hidePlaylists:o.settings.findOne({_id:"hidePlaylists"})}}static _updateBounds(e){return o.settings.update({_id:"bounds"},{_id:"bounds",value:e},{upsert:!0})}},history:class{static find(){return o.history.find({}).sort({timeWatched:-1})}static upsert(e){return o.history.update({videoId:e.videoId},e,{upsert:!0})}static updateWatchProgress(e,t){return o.history.update({videoId:e},{$set:{watchProgress:t}},{upsert:!0})}static delete(e){return o.history.remove({videoId:e})}static deleteAll(){return o.history.remove({},{multi:!0})}static persist(){o.history.persistence.compactDatafile()}},profiles:class{static create(e){return o.profiles.insert(e)}static find(){return o.profiles.find({})}static upsert(e){return o.profiles.update({_id:e._id},e,{upsert:!0})}static delete(e){return o.profiles.remove({_id:e})}static persist(){o.profiles.persistence.compactDatafile()}},playlists:class{static create(e){return o.playlists.insert(e)}static find(){return o.playlists.find({})}static upsertVideoByPlaylistName(e,t){return o.playlists.update({playlistName:e},{$push:{videos:t}},{upsert:!0})}static upsertVideoIdsByPlaylistId(e,t){return o.playlists.update({_id:e},{$push:{videos:{$each:t}}},{upsert:!0})}static delete(e){return o.playlists.remove({_id:e,protected:{$ne:!0}})}static deleteVideoIdByPlaylistName(e,t){return o.playlists.update({playlistName:e},{$pull:{videos:{videoId:t}}},{upsert:!0})}static deleteVideoIdsByPlaylistName(e,t){return o.playlists.update({playlistName:e},{$pull:{videos:{$in:t}}},{upsert:!0})}static deleteAllVideosByPlaylistName(e){return o.playlists.update({playlistName:e},{$set:{videos:[]}},{upsert:!0})}static deleteMultiple(e){return o.playlists.remove({_id:{$in:e},protected:{$ne:!0}})}static deleteAll(){return o.playlists.remove({protected:{$ne:!0}})}}},c={settings:class{static find(){return l.settings.find()}static upsert(e,t){return l.settings.upsert(e,t)}},history:class{static find(){return l.history.find()}static upsert(e){return l.history.upsert(e)}static updateWatchProgress(e,t){return l.history.updateWatchProgress(e,t)}static delete(e){return l.history.delete(e)}static deleteAll(){return l.history.deleteAll()}static persist(){l.history.persist()}},profiles:class{static create(e){return l.profiles.create(e)}static find(){return l.profiles.find()}static upsert(e){return l.profiles.upsert(e)}static delete(e){return l.profiles.delete(e)}static persist(){l.profiles.persist()}},playlists:class{static create(e){return l.playlists.create(e)}static find(){return l.playlists.find()}static upsertVideoByPlaylistName(e,t){return l.playlists.upsertVideoByPlaylistName(e,t)}static upsertVideoIdsByPlaylistId(e,t){return l.playlists.upsertVideoIdsByPlaylistId(e,t)}static delete(e){return l.playlists.delete(e)}static deleteVideoIdByPlaylistName(e,t){return l.playlists.deleteVideoIdByPlaylistName(e,t)}static deleteVideoIdsByPlaylistName(e,t){return l.playlists.deleteVideoIdsByPlaylistName(e,t)}static deleteAllVideosByPlaylistName(e){return l.playlists.deleteAllVideosByPlaylistName(e)}static deleteMultiple(e){return l.playlists.deleteMultiple(e)}static deleteAll(){return l.playlists.deleteAll()}}}},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,a=l(e),s=a[0],o=a[1],c=new r(function(e,t,n){return 3*(t+n)/4-n}(0,s,o)),u=0,h=o>0?s-4:s;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===o&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===o&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,a=[],s=16383,o=0,l=i-r;o<l;o+=s)a.push(c(e,o,o+s>l?l:o+s));return 1===r?(t=e[i-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),a.join("")};for(var n=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=a.length;s<o;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,i){for(var r,a,s=[],o=t;o<i;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(n[(a=r)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},4505:(e,t,n)=>{"use strict";var i=n(8764).Buffer,r=n(4155),a=n(8583),s=n(2292),o=n(405),l=n(7948),c=n(1619);for(var u in c)t[u]=c[u];function h(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,h.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,a(this.init_done,"close before init"),a(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||l.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},h.prototype.write=function(e,t,n,i,r,a,s){return this._write(!0,e,t,n,i,r,a,s)},h.prototype.writeSync=function(e,t,n,i,r,a,s){return this._write(!1,e,t,n,i,r,a,s)},h.prototype._write=function(e,n,s,o,l,c,u,h){if(a.equal(arguments.length,8),a(this.init_done,"write before init"),a(this.mode!==t.NONE,"already finalized"),a.equal(!1,this.write_in_progress,"write already in progress"),a.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,a.equal(!1,void 0===n,"must provide flush value"),this.write_in_progress=!0,n!==t.Z_NO_FLUSH&&n!==t.Z_PARTIAL_FLUSH&&n!==t.Z_SYNC_FLUSH&&n!==t.Z_FULL_FLUSH&&n!==t.Z_FINISH&&n!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==s&&(s=i.alloc(0),l=0,o=0),this.strm.avail_in=l,this.strm.input=s,this.strm.next_in=o,this.strm.avail_out=h,this.strm.output=c,this.strm.next_out=u,this.flush=n,!e)return this._process(),this._checkError()?this._afterSync():void 0;var d=this;return r.nextTick((function(){d._process(),d._after()})),this},h.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},h.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=l.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=l.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=l.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=l.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},h.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},h.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},h.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(e,n,i,r,s){a(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),a(e>=8&&e<=15,"invalid windowBits"),a(n>=-1&&n<=9,"invalid compression level"),a(i>=1&&i<=9,"invalid memlevel"),a(r===t.Z_FILTERED||r===t.Z_HUFFMAN_ONLY||r===t.Z_RLE||r===t.Z_FIXED||r===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,i,r,s),this._setDictionary()},h.prototype.params=function(){throw new Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(e,n,i,r,a){switch(this.level=e,this.windowBits=n,this.memLevel=i,this.strategy=r,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new s,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=l.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=a,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=l.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=h},2635:(e,t,n)=>{"use strict";var i=n(4155),r=n(8764).Buffer,a=n(2830).Transform,s=n(4505),o=n(9539),l=n(8583).ok,c=n(8764).kMaxLength,u="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";s.Z_MIN_WINDOWBITS=8,s.Z_MAX_WINDOWBITS=15,s.Z_DEFAULT_WINDOWBITS=15,s.Z_MIN_CHUNK=64,s.Z_MAX_CHUNK=1/0,s.Z_DEFAULT_CHUNK=16384,s.Z_MIN_MEMLEVEL=1,s.Z_MAX_MEMLEVEL=9,s.Z_DEFAULT_MEMLEVEL=8,s.Z_MIN_LEVEL=-1,s.Z_MAX_LEVEL=9,s.Z_DEFAULT_LEVEL=s.Z_DEFAULT_COMPRESSION;for(var h=Object.keys(s),d=0;d<h.length;d++){var f=h[d];f.match(/^Z/)&&Object.defineProperty(t,f,{enumerable:!0,value:s[f],writable:!1})}for(var p={Z_OK:s.Z_OK,Z_STREAM_END:s.Z_STREAM_END,Z_NEED_DICT:s.Z_NEED_DICT,Z_ERRNO:s.Z_ERRNO,Z_STREAM_ERROR:s.Z_STREAM_ERROR,Z_DATA_ERROR:s.Z_DATA_ERROR,Z_MEM_ERROR:s.Z_MEM_ERROR,Z_BUF_ERROR:s.Z_BUF_ERROR,Z_VERSION_ERROR:s.Z_VERSION_ERROR},m=Object.keys(p),g=0;g<m.length;g++){var y=m[g];p[p[y]]=y}function v(e,t,n){var i=[],a=0;function s(){for(var t;null!==(t=e.read());)i.push(t),a+=t.length;e.once("readable",s)}function o(){var t,s=null;a>=c?s=new RangeError(u):t=r.concat(i,a),i=[],e.close(),n(s,t)}e.on("error",(function(t){e.removeListener("end",o),e.removeListener("readable",s),n(t)})),e.on("end",o),e.end(t),s()}function b(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function _(e){if(!(this instanceof _))return new _(e);P.call(this,e,s.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);P.call(this,e,s.INFLATE)}function S(e){if(!(this instanceof S))return new S(e);P.call(this,e,s.GZIP)}function k(e){if(!(this instanceof k))return new k(e);P.call(this,e,s.GUNZIP)}function T(e){if(!(this instanceof T))return new T(e);P.call(this,e,s.DEFLATERAW)}function C(e){if(!(this instanceof C))return new C(e);P.call(this,e,s.INFLATERAW)}function x(e){if(!(this instanceof x))return new x(e);P.call(this,e,s.UNZIP)}function E(e){return e===s.Z_NO_FLUSH||e===s.Z_PARTIAL_FLUSH||e===s.Z_SYNC_FLUSH||e===s.Z_FULL_FLUSH||e===s.Z_FINISH||e===s.Z_BLOCK}function P(e,n){var i=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,a.call(this,e),e.flush&&!E(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!E(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||s.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:s.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new s.Zlib(n);var o=this;this._hadError=!1,this._handle.onerror=function(e,n){I(o),o._hadError=!0;var i=new Error(e);i.errno=n,i.code=t.codes[n],o.emit("error",i)};var l=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(l=e.level);var c=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(c=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,l,e.memLevel||t.Z_DEFAULT_MEMLEVEL,c,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!i._handle},configurable:!0,enumerable:!0})}function I(e,t){t&&i.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function A(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),t.Deflate=_,t.Inflate=w,t.Gzip=S,t.Gunzip=k,t.DeflateRaw=T,t.InflateRaw=C,t.Unzip=x,t.createDeflate=function(e){return new _(e)},t.createInflate=function(e){return new w(e)},t.createDeflateRaw=function(e){return new T(e)},t.createInflateRaw=function(e){return new C(e)},t.createGzip=function(e){return new S(e)},t.createGunzip=function(e){return new k(e)},t.createUnzip=function(e){return new x(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new _(t),e,n)},t.deflateSync=function(e,t){return b(new _(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new S(t),e,n)},t.gzipSync=function(e,t){return b(new S(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new T(t),e,n)},t.deflateRawSync=function(e,t){return b(new T(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new x(t),e,n)},t.unzipSync=function(e,t){return b(new x(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new w(t),e,n)},t.inflateSync=function(e,t){return b(new w(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new k(t),e,n)},t.gunzipSync=function(e,t){return b(new k(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new C(t),e,n)},t.inflateRawSync=function(e,t){return b(new C(t),e)},o.inherits(P,a),P.prototype.params=function(e,n,r){if(e<t.Z_MIN_LEVEL||e>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(n!=t.Z_FILTERED&&n!=t.Z_HUFFMAN_ONLY&&n!=t.Z_RLE&&n!=t.Z_FIXED&&n!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==e||this._strategy!==n){var a=this;this.flush(s.Z_SYNC_FLUSH,(function(){l(a._handle,"zlib binding closed"),a._handle.params(e,n),a._hadError||(a._level=e,a._strategy=n,r&&r())}))}else i.nextTick(r)},P.prototype.reset=function(){return l(this._handle,"zlib binding closed"),this._handle.reset()},P.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},P.prototype.flush=function(e,t){var n=this,a=this._writableState;("function"==typeof e||void 0===e&&!t)&&(t=e,e=s.Z_FULL_FLUSH),a.ended?t&&i.nextTick(t):a.ending?t&&this.once("end",t):a.needDrain?t&&this.once("drain",(function(){return n.flush(e,t)})):(this._flushFlag=e,this.write(r.alloc(0),"",t))},P.prototype.close=function(e){I(this,e),i.nextTick(A,this)},P.prototype._transform=function(e,t,n){var i,a=this._writableState,o=(a.ending||a.ended)&&(!e||a.length===e.length);return null===e||r.isBuffer(e)?this._handle?(o?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||s.Z_NO_FLUSH)),void this._processChunk(e,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},P.prototype._processChunk=function(e,t,n){var i=e&&e.length,a=this._chunkSize-this._offset,s=0,o=this,h="function"==typeof n;if(!h){var d,f=[],p=0;this.on("error",(function(e){d=e})),l(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,s,i,this._buffer,this._offset,a)}while(!this._hadError&&v(m[0],m[1]));if(this._hadError)throw d;if(p>=c)throw I(this),new RangeError(u);var g=r.concat(f,p);return I(this),g}l(this._handle,"zlib binding closed");var y=this._handle.write(t,e,s,i,this._buffer,this._offset,a);function v(c,u){if(this&&(this.buffer=null,this.callback=null),!o._hadError){var d=a-u;if(l(d>=0,"have should not go down"),d>0){var m=o._buffer.slice(o._offset,o._offset+d);o._offset+=d,h?o.push(m):(f.push(m),p+=m.length)}if((0===u||o._offset>=o._chunkSize)&&(a=o._chunkSize,o._offset=0,o._buffer=r.allocUnsafe(o._chunkSize)),0===u){if(s+=i-c,i=c,!h)return!0;var g=o._handle.write(t,e,s,i,o._buffer,o._offset,o._chunkSize);return g.callback=v,void(g.buffer=e)}if(!h)return!1;n()}}y.buffer=e,y.callback=v},o.inherits(_,P),o.inherits(w,P),o.inherits(S,P),o.inherits(k,P),o.inherits(T,P),o.inherits(C,P),o.inherits(x,P)},9382:()=>{},8764:(e,t,n)=>{"use strict";var i=n(9742),r=n(645);t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=o.prototype,t}function o(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|f(e,t),i=s(n),r=i.write(e,t);return r!==n&&(i=i.slice(0,r)),i}(e,t);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(U(e,ArrayBuffer)||e&&U(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return(i=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=o.prototype,i}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return o.from(i,t,n);var r=function(e){if(o.isBuffer(e)){var t=0|d(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||j(e.length)?s(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),s(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),n=s(t),i=0;i<t;i+=1)n[i]=255&e[i];return n}function d(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||U(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return i?-1:$(e).length;t=(""+t).toLowerCase(),r=!0}}function p(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function m(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function g(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),j(n=+n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=o.from(t,i)),o.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var a,s=1,o=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,o/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){var u=-1;for(a=n;a<o;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*s}else-1!==u&&(a-=a-u),u=-1}else for(n+l>o&&(n=o-l),a=n;a>=0;a--){for(var h=!0,d=0;d<l;d++)if(c(e,a+d)!==c(t,d)){h=!1;break}if(h)return a}return-1}function v(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var a=t.length;i>a/2&&(i=a/2);for(var s=0;s<i;++s){var o=parseInt(t.substr(2*s,2),16);if(j(o))return s;e[n+s]=o}return s}function b(e,t,n,i){return M($(t,e.length-n),e,n,i)}function _(e,t,n,i){return M(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function w(e,t,n,i){return _(e,t,n,i)}function S(e,t,n,i){return M(B(t),e,n,i)}function k(e,t,n,i){return M(function(e,t){for(var n,i,r,a=[],s=0;s<e.length&&!((t-=2)<0);++s)i=(n=e.charCodeAt(s))>>8,r=n%256,a.push(r),a.push(i);return a}(t,e.length-n),e,n,i)}function T(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var a,s,o,l,c=e[r],u=null,h=c>239?4:c>223?3:c>191?2:1;if(r+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[r+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[r+1],s=e[r+2],128==(192&a)&&128==(192&s)&&(l=(15&c)<<12|(63&a)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[r+1],s=e[r+2],o=e[r+3],128==(192&a)&&128==(192&s)&&128==(192&o)&&(l=(15&c)<<18|(63&a)<<12|(63&s)<<6|63&o)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=h}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=x));return n}(i)}t.kMaxLength=a,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(e,t,n){return l(e,t,n)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(U(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),U(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=o.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(U(a,Uint8Array)&&(a=o.from(a)),!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,i,r){if(U(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(t>>>=0),l=Math.min(a,s),c=this.slice(i,r),u=e.slice(t,n),h=0;h<l;++h)if(c[h]!==u[h]){a=c[h],s=u[h];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},o.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function E(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function P(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function I(e,t,n){var i,r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",s=t;s<n;++s)a+=(i=e[s])<16?"0"+i.toString(16):i.toString(16);return a}function A(e,t,n){for(var i=e.slice(t,n),r="",a=0;a<i.length;a+=2)r+=String.fromCharCode(i[a]+256*i[a+1]);return r}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,i,r,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function R(e,t,n,i,r,a){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,i,a){return t=+t,n>>>=0,a||R(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function N(e,t,n,i,a){return t=+t,n>>>=0,a||R(e,0,n,8),r.write(e,t,n,i,52,8),n+8}o.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var i=this.subarray(e,t);return i.__proto__=o.prototype,i},o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i},o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},o.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var i=t,r=1,a=this[e+--i];i>0&&(r*=256);)a+=this[e+--i]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},o.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,i){e=+e,t>>>=0,n>>>=0,i||O(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,a=0;for(this[t]=255&e;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,i){e=+e,t>>>=0,n>>>=0,i||O(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}var a=0,s=1,o=0;for(this[t]=255&e;++a<n&&(s*=256);)e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/s>>0)-o&255;return t+n},o.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}var a=n-1,s=1,o=0;for(this[t+a]=255&e;--a>=0&&(s*=256);)e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/s>>0)-o&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,i){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r=i-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,i);else if(this===e&&n<t&&t<i)for(var a=r-1;a>=0;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),t);return r},o.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var r=e.charCodeAt(0);("utf8"===i&&r<128||"latin1"===i)&&(e=r)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:o.from(e,i),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=s[a%l]}return this};var F=/[^+/0-9A-Za-z-_]/g;function $(e,t){var n;t=t||1/0;for(var i=e.length,r=null,a=[],s=0;s<i;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&a.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function B(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function U(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function j(e){return e!=e}},584:e=>{e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},1924:(e,t,n)=>{"use strict";var i=n(492),r=n(5559),a=r(i("String.prototype.indexOf"));e.exports=function(e,t){var n=i(e,!!t);return"function"==typeof n&&a(e,".prototype.")>-1?r(n):n}},5559:(e,t,n)=>{"use strict";var i=n(8612),r=n(492),a=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||i.call(s,a),l=r("%Object.getOwnPropertyDescriptor%",!0),c=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=o(i,s,arguments);if(l&&c){var n=l(t,"length");n.configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var h=function(){return o(i,a,arguments)};c?c(e.exports,"apply",{value:h}):e.exports.apply=h},492:(e,t,n)=>{"use strict";var i,r=SyntaxError,a=Function,s=TypeError,o=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,h=n(1405)(),d=Object.getPrototypeOf||function(e){return e.__proto__},f={},p="undefined"==typeof Uint8Array?i:d(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":h?d([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?d(d([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?d((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?d((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?d(""[Symbol.iterator]()):i,"%Symbol%":h?Symbol:i,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=o("async function () {}");else if("%GeneratorFunction%"===t)n=o("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=o("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=d(r.prototype))}return m[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(8612),b=n(7642),_=v.call(Function.call,Array.prototype.concat),w=v.call(Function.apply,Array.prototype.splice),S=v.call(Function.call,String.prototype.replace),k=v.call(Function.call,String.prototype.slice),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,x=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return S(e,T,(function(e,t,n,r){i[i.length]=n?S(r,C,"$1"):t||e})),i},E=function(e,t){var n,i=e;if(b(y,i)&&(i="%"+(n=y[i])[0]+"%"),b(m,i)){var a=m[i];if(a===f&&(a=g(i)),void 0===a&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:a}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var n=x(e),i=n.length>0?n[0]:"",a=E("%"+i+"%",t),o=a.name,c=a.value,u=!1,h=a.alias;h&&(i=h[0],w(n,_([0,1],h)));for(var d=1,f=!0;d<n.length;d+=1){var p=n[d],g=k(p,0,1),y=k(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new r("property names with quotes must have matching quotes");if("constructor"!==p&&f||(u=!0),b(m,o="%"+(i+="."+p)+"%"))c=m[o];else if(null!=c){if(!(p in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&d+1>=n.length){var v=l(c,p);c=(f=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[p]}else f=b(c,p),c=c[p];f&&!u&&(m[o]=c)}}return c}},219:e=>{!function(){var t=!1,n=/xyz/.test((function(){xyz}))?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(e){var i=this.prototype;t=!0;var r=new this;for(var a in t=!1,e)r[a]="function"==typeof e[a]&&"function"==typeof i[a]&&n.test(e[a])?function(e,t){return function(){var n=this._super;this._super=i[e];var r=t.apply(this,arguments);return this._super=n,r}}(a,e[a]):e[a];function s(){!t&&this.init&&this.init.apply(this,arguments)}return s.prototype=r,s.prototype.constructor=s,s.extend=arguments.callee,s},e.exports=Class}()},9435:e=>{var t=1e3,n=60*t,i=60*n,r=24*i;function a(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}e.exports=function(e,s){s=s||{};var o,l,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*r;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===c&&isFinite(e))return s.long?(o=e,(l=Math.abs(o))>=r?a(o,l,r,"day"):l>=i?a(o,l,i,"hour"):l>=n?a(o,l,n,"minute"):l>=t?a(o,l,t,"second"):o+" ms"):function(e){var a=Math.abs(e);return a>=r?Math.round(e/r)+"d":a>=i?Math.round(e/i)+"h":a>=n?Math.round(e/n)+"m":a>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1227:(e,t,n)=>{var i=n(4155);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))})),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(2447)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,n)=>{e.exports=function(e){function t(e){let n,r,a,s=null;function o(...e){if(!o.enabled)return;const i=o,r=Number(new Date),a=r-(n||r);i.diff=a,i.prev=n,i.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,r)=>{if("%%"===n)return"%";s++;const a=t.formatters[r];if("function"==typeof a){const t=e[s];n=a.call(i,t),e.splice(s,1),s--}return n})),t.formatArgs.call(i,e),(i.log||t.log).apply(i,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=i,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(r!==t.namespaces&&(r=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function i(e,n){const i=t(this.namespace+(void 0===n?":":n)+e);return i.log=this.log,i}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(9435),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},7187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,a),i(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}m(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,r)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,n,i){var r,a,s,c;if(o(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"==typeof s?s=a[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=l(e))>0&&s.length>r&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=u.bind(i);return r.listener=n,i.wrapFn=r,r}function d(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):p(r,r.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function m(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(a){i.once&&e.removeEventListener(t,r),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var l=a[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,u=p(l,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,a,s;if(o(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,r=a;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,a=Object.keys(n);for(i=0;i<a.length;++i)"removeListener"!==(r=a[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},4029:(e,t,n)=>{"use strict";var i=n(5320),r=Object.prototype.toString,a=Object.prototype.hasOwnProperty,s=function(e,t,n){for(var i=0,r=e.length;i<r;i++)a.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))},o=function(e,t,n){for(var i=0,r=e.length;i<r;i++)null==n?t(e.charAt(i),i,e):t.call(n,e.charAt(i),i,e)},l=function(e,t,n){for(var i in e)a.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))};e.exports=function(e,t,n){if(!i(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),"[object Array]"===r.call(e)?s(e,t,a):"string"==typeof e?o(e,t,a):l(e,t,a)}},6230:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},7648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,i=Object.prototype.toString,r="[object Function]";e.exports=function(e){var a=this;if("function"!=typeof a||i.call(a)!==r)throw new TypeError(t+a);for(var s,o=n.call(arguments,1),l=function(){if(this instanceof s){var t=a.apply(this,o.concat(n.call(arguments)));return Object(t)===t?t:this}return a.apply(e,o.concat(n.call(arguments)))},c=Math.max(0,a.length-o.length),u=[],h=0;h<c;h++)u.push("$"+h);if(s=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(l),a.prototype){var d=function(){};d.prototype=a.prototype,s.prototype=new d,d.prototype=null}return s}},8612:(e,t,n)=>{"use strict";var i=n(7648);e.exports=Function.prototype.bind||i},210:(e,t,n)=>{"use strict";var i,r=SyntaxError,a=Function,s=TypeError,o=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,h=n(1405)(),d=Object.getPrototypeOf||function(e){return e.__proto__},f={},p="undefined"==typeof Uint8Array?i:d(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":h?d([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?d(d([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?d((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?d((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?d(""[Symbol.iterator]()):i,"%Symbol%":h?Symbol:i,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=o("async function () {}");else if("%GeneratorFunction%"===t)n=o("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=o("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=d(r.prototype))}return m[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(8612),b=n(7642),_=v.call(Function.call,Array.prototype.concat),w=v.call(Function.apply,Array.prototype.splice),S=v.call(Function.call,String.prototype.replace),k=v.call(Function.call,String.prototype.slice),T=v.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,E=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return S(e,C,(function(e,t,n,r){i[i.length]=n?S(r,x,"$1"):t||e})),i},P=function(e,t){var n,i=e;if(b(y,i)&&(i="%"+(n=y[i])[0]+"%"),b(m,i)){var a=m[i];if(a===f&&(a=g(i)),void 0===a&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:a}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===T(/^%?[^%]*%?$/,e))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=E(e),i=n.length>0?n[0]:"",a=P("%"+i+"%",t),o=a.name,c=a.value,u=!1,h=a.alias;h&&(i=h[0],w(n,_([0,1],h)));for(var d=1,f=!0;d<n.length;d+=1){var p=n[d],g=k(p,0,1),y=k(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new r("property names with quotes must have matching quotes");if("constructor"!==p&&f||(u=!0),b(m,o="%"+(i+="."+p)+"%"))c=m[o];else if(null!=c){if(!(p in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&d+1>=n.length){var v=l(c,p);c=(f=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[p]}else f=b(c,p),c=c[p];f&&!u&&(m[o]=c)}}return c}},9144:(e,t,n)=>{var i,r=void 0!==n.g?n.g:"undefined"!=typeof window?window:{},a=n(5893);"undefined"!=typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"])||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=a),e.exports=i},8908:(e,t,n)=>{var i;i="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=i},1405:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(5419);e.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&r()}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},6410:(e,t,n)=>{"use strict";var i=n(5419);e.exports=function(){return i()&&!!Symbol.toStringTag}},7642:(e,t,n)=>{"use strict";var i=n(8612);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},9267:(e,t,n)=>{var i=n(8501),r=n(8575),a=e.exports;for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s]);function o(e){if("string"==typeof e&&(e=r.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}a.request=function(e,t){return e=o(e),i.request.call(this,e,t)},a.get=function(e,t){return e=o(e),i.get.call(this,e,t)}},645:(e,t)=>{t.read=function(e,t,n,i,r){var a,s,o=8*r-i-1,l=(1<<o)-1,c=l>>1,u=-7,h=n?r-1:0,d=n?-1:1,f=e[t+h];for(h+=d,a=f&(1<<-u)-1,f>>=-u,u+=o;u>0;a=256*a+e[t+h],h+=d,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=i;u>0;s=256*s+e[t+h],h+=d,u-=8);if(0===a)a=1-c;else{if(a===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,i),a-=c}return(f?-1:1)*s*Math.pow(2,a-i)},t.write=function(e,t,n,i,r,a){var s,o,l,c=8*a-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:a-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(o=0,s=u):s+h>=1?(o=(t*l-1)*Math.pow(2,r),s+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;e[n+f]=255&o,f+=p,o/=256,r-=8);for(s=s<<r|o,c+=r;c>0;e[n+f]=255&s,f+=p,s/=256,c-=8);e[n+f-p]|=128*m}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},2584:(e,t,n)=>{"use strict";var i=n(6410)(),r=n(1924)("Object.prototype.toString"),a=function(e){return!(i&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===r(e)},s=function(e){return!!a(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r(e)&&"[object Function]"===r(e.callee)},o=function(){return a(arguments)}();a.isLegacyArguments=s,e.exports=o?a:s},5320:e=>{"use strict";var t,n,i=Function.prototype.toString,r="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof r&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},r((function(){throw 42}),null,t)}catch(e){e!==n&&(r=null)}else r=null;var a=/^\s*class\b/,s=function(e){try{var t=i.call(e);return a.test(t)}catch(e){return!1}},o=function(e){try{return!s(e)&&(i.call(e),!0)}catch(e){return!1}},l=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),h=function(){return!1};if("object"==typeof document){var d=document.all;l.call(d)===l.call(document.all)&&(h=function(e){if((u||!e)&&(void 0===e||"object"==typeof e))try{var t=l.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=r?function(e){if(h(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{r(e,null,t)}catch(e){if(e!==n)return!1}return!s(e)&&o(e)}:function(e){if(h(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(c)return o(e);if(s(e))return!1;var t=l.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&o(e)}},7376:e=>{e.exports=function(e){if(!e)return!1;var n=t.call(e);return"[object Function]"===n||"function"==typeof e&&"[object RegExp]"!==n||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},8662:(e,t,n)=>{"use strict";var i,r=Object.prototype.toString,a=Function.prototype.toString,s=/^\s*(?:function)?\*/,o=n(6410)(),l=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(s.test(a.call(e)))return!0;if(!o)return"[object GeneratorFunction]"===r.call(e);if(!l)return!1;if(void 0===i){var t=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch(e){}}();i=!!t&&l(t)}return l(e)===i}},7537:(e,t)=>{function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return s[e];var n,a=String(e);return(n=i[a.toLowerCase()])?n:(n=r[a.toLowerCase()])||(1===a.length?a.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var a;if(a=i[t.toLowerCase()])return a===n;if(a=r[t.toLowerCase()])return a===n}else if("number"==typeof t)return t===n;return!1}};var i=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(a=97;a<123;a++)i[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)i[a-48]=a;for(a=1;a<13;a++)i["f"+a]=a+111;for(a=0;a<10;a++)i["numpad "+a]=a+96;var s=t.names=t.title={};for(a in i)s[i[a]]=a;for(var o in r)i[o]=r[o]},9483:(e,t,n)=>{e.exports=function e(t,n,i){function r(s,o){if(!n[s]){if(!t[s]){if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return r(t[s][1][e]||e)}),c,c.exports,e,t,n,i)}return n[s].exports}for(var a=void 0,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,i){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var a=0,s=new r(u),o=e.document.createTextNode("");s.observe(o,{characterData:!0}),n=function(){o.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}t.exports=function(e){1!==c.push(e)||i||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var i=e(1);function r(){}var a={},s=["REJECTED"],o=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){i((function(){var i;try{i=t(n)}catch(t){return a.reject(e,t)}i===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,i)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function i(t){n||(n=!0,a.reject(e,t))}function r(t){n||(n=!0,a.resolve(e,t))}var s=p((function(){t(r,i)}));"error"===s.status&&i(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(r);return this.state!==l?h(n,this.state===o?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){a.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return a.reject(e,n.value);var i=n.value;if(i)f(e,i);else{e.state=o,e.outcome=t;for(var r=-1,s=e.queue.length;++r<s;)e.queue[r].callFulfilled(t)}return e},a.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:a.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return a.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var s=new Array(n),o=0,l=-1,c=new this(r);++l<n;)u(e[l],l);return c;function u(e,r){t.resolve(e).then((function(e){s[r]=e,++o!==n||i||(i=!0,a.resolve(c,s))}),(function(e){i||(i=!0,a.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n,i=e.length,s=!1;if(!i)return this.resolve([]);for(var o=-1,l=new this(r);++o<i;)n=e[o],t.resolve(n).then((function(e){s||(s=!0,a.resolve(l,e))}),(function(e){s||(s=!0,a.reject(l,e))}));return l}},{1:1}],3:[function(e,t,i){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function a(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var s=Promise;function o(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function l(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function c(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function u(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",d=void 0,f={},p=Object.prototype.toString,m="readonly",g="readwrite";function y(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function v(e){return"boolean"==typeof d?s.resolve(d):function(e){return new s((function(t){var n=e.transaction(h,g),i=a([""]);n.objectStore(h).put(i,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return d=e}))}function b(e){var t=f[e.name],n={};n.promise=new s((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function _(e){var t=f[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function w(e,t){var n=f[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function S(e,t){return new s((function(n,i){if(f[e.name]=f[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);b(e),e.db.close()}var a=[e.name];t&&a.push(e.version);var s=r.open.apply(r,a);t&&(s.onupgradeneeded=function(t){var n=s.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(h)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),s.onerror=function(e){e.preventDefault(),i(s.error)},s.onsuccess=function(){var t=s.result;t.onversionchange=function(e){e.target.close()},n(t),_(e)}}))}function k(e){return S(e,!1)}function T(e){return S(e,!0)}function C(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,r=e.version>e.db.version;if(i&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),r||n){if(n){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function x(e){return a([y(atob(e.data))],{type:e.type})}function E(e){return e&&e.__local_forage_encoded_blob}function P(e){var t=this,n=t._initReady().then((function(){var e=f[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return l(n,e,e),n}function I(e,t,n,i){void 0===i&&(i=1);try{var r=e.db.transaction(e.storeName,t);n(null,r)}catch(r){if(i>0&&(!e.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return s.resolve().then((function(){if(!e.db||"NotFoundError"===r.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),T(e)})).then((function(){return function(e){b(e);for(var t=f[e.name],n=t.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return e.db=null,k(e).then((function(t){return e.db=t,C(e)?T(e):t})).then((function(i){e.db=t.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(t){throw w(e,t),t}))}(e).then((function(){I(e,t,n,i-1)}))})).catch(n);n(r)}}var A={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var i in e)n[i]=e[i];var r=f[n.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},f[n.name]=r),r.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=P);var a=[];function o(){return s.resolve()}for(var l=0;l<r.forages.length;l++){var c=r.forages[l];c!==t&&a.push(c._initReady().catch(o))}var u=r.forages.slice(0);return s.all(a).then((function(){return n.db=r.db,k(n)})).then((function(e){return n.db=e,C(n,t._defaultConfig.version)?T(n):e})).then((function(e){n.db=r.db=e,t._dbInfo=n;for(var i=0;i<u.length;i++){var a=u[i];a!==t&&(a._dbInfo.db=n.db,a._dbInfo.version=n.version)}}))},_support:function(){try{if(!r||!r.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,i=new s((function(t,i){n.ready().then((function(){I(n._dbInfo,m,(function(r,a){if(r)return i(r);try{var s=a.objectStore(n._dbInfo.storeName).openCursor(),o=1;s.onsuccess=function(){var n=s.result;if(n){var i=n.value;E(i)&&(i=x(i));var r=e(i,n.key,o++);void 0!==r?t(r):n.continue()}else t()},s.onerror=function(){i(s.error)}}catch(e){i(e)}}))})).catch(i)}));return o(i,t),i},getItem:function(e,t){var n=this;e=c(e);var i=new s((function(t,i){n.ready().then((function(){I(n._dbInfo,m,(function(r,a){if(r)return i(r);try{var s=a.objectStore(n._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),E(e)&&(e=x(e)),t(e)},s.onerror=function(){i(s.error)}}catch(e){i(e)}}))})).catch(i)}));return o(i,t),i},setItem:function(e,t,n){var i=this;e=c(e);var r=new s((function(n,r){var a;i.ready().then((function(){return a=i._dbInfo,"[object Blob]"===p.call(t)?v(a.db).then((function(e){return e?t:(n=t,new s((function(e,t){var i=new FileReader;i.onerror=t,i.onloadend=function(t){var i=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:i,type:n.type})},i.readAsBinaryString(n)})));var n})):t})).then((function(t){I(i._dbInfo,g,(function(a,s){if(a)return r(a);try{var o=s.objectStore(i._dbInfo.storeName);null===t&&(t=void 0);var l=o.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),n(t)},s.onabort=s.onerror=function(){var e=l.error?l.error:l.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return o(r,n),r},removeItem:function(e,t){var n=this;e=c(e);var i=new s((function(t,i){n.ready().then((function(){I(n._dbInfo,g,(function(r,a){if(r)return i(r);try{var s=a.objectStore(n._dbInfo.storeName).delete(e);a.oncomplete=function(){t()},a.onerror=function(){i(s.error)},a.onabort=function(){var e=s.error?s.error:s.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return o(i,t),i},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){I(t._dbInfo,g,(function(i,r){if(i)return n(i);try{var a=r.objectStore(t._dbInfo.storeName).clear();r.oncomplete=function(){e()},r.onabort=r.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return o(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){I(t._dbInfo,m,(function(i,r){if(i)return n(i);try{var a=r.objectStore(t._dbInfo.storeName).count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return o(n,e),n},key:function(e,t){var n=this,i=new s((function(t,i){e<0?t(null):n.ready().then((function(){I(n._dbInfo,m,(function(r,a){if(r)return i(r);try{var s=a.objectStore(n._dbInfo.storeName),o=!1,l=s.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||o?t(n.key):(o=!0,n.advance(e)):t(null)},l.onerror=function(){i(l.error)}}catch(e){i(e)}}))})).catch(i)}));return o(i,t),i},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){I(t._dbInfo,m,(function(i,r){if(i)return n(i);try{var a=r.objectStore(t._dbInfo.storeName).openKeyCursor(),s=[];a.onsuccess=function(){var t=a.result;t?(s.push(t.key),t.continue()):e(s)},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return o(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i,a=this;if(e.name){var l=e.name===n.name&&a._dbInfo.db?s.resolve(a._dbInfo.db):k(e).then((function(t){var n=f[e.name],i=n.forages;n.db=t;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=t;return t}));i=e.storeName?l.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;b(e);var i=f[e.name],a=i.forages;t.close();for(var o=0;o<a.length;o++){var l=a[o];l._dbInfo.db=null,l._dbInfo.version=n}var c=new s((function(t,i){var a=r.open(e.name,n);a.onerror=function(e){a.result.close(),i(e)},a.onupgradeneeded=function(){a.result.deleteObjectStore(e.storeName)},a.onsuccess=function(){var e=a.result;e.close(),t(e)}}));return c.then((function(e){i.db=e;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=e,_(n._dbInfo)}})).catch((function(t){throw(w(e,t)||s.resolve()).catch((function(){})),t}))}})):l.then((function(t){b(e);var n=f[e.name],i=n.forages;t.close();for(var a=0;a<i.length;a++)i[a]._dbInfo.db=null;var o=new s((function(t,n){var i=r.deleteDatabase(e.name);i.onerror=function(){var e=i.result;e&&e.close(),n(i.error)},i.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},i.onsuccess=function(){var e=i.result;e&&e.close(),t(e)}}));return o.then((function(e){n.db=e;for(var t=0;t<i.length;t++)_(i[t]._dbInfo)})).catch((function(t){throw(w(e,t)||s.resolve()).catch((function(){})),t}))}))}else i=s.reject("Invalid arguments");return o(i,t),i}};var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=/^~~local_forage_type~([^~]+)~/,R="__lfsc__:",D=R.length,N="arbf",F="blob",$="si08",B="ui08",M="uic8",U="si16",j="si32",V="ur16",H="ui32",q="fl32",z="fl64",W=D+N.length,G=Object.prototype.toString;function K(e){var t,n,i,r,a,s=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),u=new Uint8Array(c);for(t=0;t<o;t+=4)n=L.indexOf(e[t]),i=L.indexOf(e[t+1]),r=L.indexOf(e[t+2]),a=L.indexOf(e[t+3]),u[l++]=n<<2|i>>4,u[l++]=(15&i)<<4|r>>2,u[l++]=(3&r)<<6|63&a;return c}function Y(e){var t,n=new Uint8Array(e),i="";for(t=0;t<n.length;t+=3)i+=L[n[t]>>2],i+=L[(3&n[t])<<4|n[t+1]>>4],i+=L[(15&n[t+1])<<2|n[t+2]>>6],i+=L[63&n[t+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}var X={serialize:function(e,t){var n="";if(e&&(n=G.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===G.call(e.buffer))){var i,r=R;e instanceof ArrayBuffer?(i=e,r+=N):(i=e.buffer,"[object Int8Array]"===n?r+=$:"[object Uint8Array]"===n?r+=B:"[object Uint8ClampedArray]"===n?r+=M:"[object Int16Array]"===n?r+=U:"[object Uint16Array]"===n?r+=V:"[object Int32Array]"===n?r+=j:"[object Uint32Array]"===n?r+=H:"[object Float32Array]"===n?r+=q:"[object Float64Array]"===n?r+=z:t(new Error("Failed to get type for BinaryArray"))),t(r+Y(i))}else if("[object Blob]"===n){var a=new FileReader;a.onload=function(){var n="~~local_forage_type~"+e.type+"~"+Y(this.result);t("__lfsc__:blob"+n)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,D)!==R)return JSON.parse(e);var t,n=e.substring(W),i=e.substring(D,W);if(i===F&&O.test(n)){var r=n.match(O);t=r[1],n=n.substring(r[0].length)}var s=K(n);switch(i){case N:return s;case F:return a([s],{type:t});case $:return new Int8Array(s);case B:return new Uint8Array(s);case M:return new Uint8ClampedArray(s);case U:return new Int16Array(s);case V:return new Uint16Array(s);case j:return new Int32Array(s);case H:return new Uint32Array(s);case q:return new Float32Array(s);case z:return new Float64Array(s);default:throw new Error("Unkown type: "+i)}},stringToBuffer:K,bufferToString:Y};function Q(e,t,n,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function Z(e,t,n,i,r,a){e.executeSql(n,i,r,(function(e,s){s.code===s.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,o){o.rows.length?a(e,s):Q(e,t,(function(){e.executeSql(n,i,r,a)}),a)}),a):a(e,s)}),a)}function J(e,t,n,i){var r=this;e=c(e);var a=new s((function(a,s){r.ready().then((function(){void 0===t&&(t=null);var o=t,l=r._dbInfo;l.serializer.serialize(t,(function(t,c){c?s(c):l.db.transaction((function(n){Z(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){a(o)}),(function(e,t){s(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(i>0)return void a(J.apply(r,[e,o,n,i-1]));s(t)}}))}))})).catch(s)}));return o(a,n),a}function ee(e){return new s((function(t,n){e.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],a=0;a<i.rows.length;a++)r.push(i.rows.item(a).name);t({db:e,storeNames:r})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var te={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var i in e)n[i]="string"!=typeof e[i]?e[i].toString():e[i];var r=new s((function(e,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return i(e)}n.db.transaction((function(r){Q(r,n,(function(){t._dbInfo=n,e()}),(function(e,t){i(t)}))}),i)}));return n.serializer=X,r},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,i=new s((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Z(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var a=i.rows,s=a.length,o=0;o<s;o++){var l=a.item(o),c=l.value;if(c&&(c=r.serializer.deserialize(c)),void 0!==(c=e(c,l.key,o+1)))return void t(c)}t()}),(function(e,t){i(t)}))}))})).catch(i)}));return o(i,t),i},getItem:function(e,t){var n=this;e=c(e);var i=new s((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Z(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return o(i,t),i},setItem:function(e,t,n){return J.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=c(e);var i=new s((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Z(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){i(t)}))}))})).catch(i)}));return o(i,t),i},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){Z(t,i,"DELETE FROM "+i.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return o(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){Z(t,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(t,n){var i=n.rows.item(0).c;e(i)}),(function(e,t){n(t)}))}))})).catch(n)}));return o(n,e),n},key:function(e,t){var n=this,i=new s((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Z(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var i=n.rows.length?n.rows.item(0).key:null;t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return o(i,t),i},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){Z(t,i,"SELECT key FROM "+i.storeName,[],(function(t,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);e(i)}),(function(e,t){n(t)}))}))})).catch(n)}));return o(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i,r=this;return o(i=e.name?new s((function(t){var i;i=e.name===n.name?r._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:i,storeNames:[e.storeName]}):t(ee(i))})).then((function(e){return new s((function(t,n){e.db.transaction((function(i){function r(e){return new s((function(t,n){i.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var a=[],o=0,l=e.storeNames.length;o<l;o++)a.push(r(e.storeNames[o]));s.all(a).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):s.reject("Invalid arguments"),t),i}};function ne(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function ie(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var re={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=ne(e,this._defaultConfig),ie()?(this._dbInfo=t,t.serializer=X,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,i=n.ready().then((function(){for(var t=n._dbInfo,i=t.keyPrefix,r=i.length,a=localStorage.length,s=1,o=0;o<a;o++){var l=localStorage.key(o);if(0===l.indexOf(i)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(r),s++)))return c}}}));return o(i,t),i},getItem:function(e,t){var n=this;e=c(e);var i=n.ready().then((function(){var t=n._dbInfo,i=localStorage.getItem(t.keyPrefix+e);return i&&(i=t.serializer.deserialize(i)),i}));return o(i,t),i},setItem:function(e,t,n){var i=this;e=c(e);var r=i.ready().then((function(){void 0===t&&(t=null);var n=t;return new s((function(r,a){var s=i._dbInfo;s.serializer.serialize(t,(function(t,i){if(i)a(i);else try{localStorage.setItem(s.keyPrefix+e,t),r(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||a(e),a(e)}}))}))}));return o(r,n),r},removeItem:function(e,t){var n=this;e=c(e);var i=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return o(i,t),i},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(e)&&localStorage.removeItem(i)}}));return o(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return o(t,e),t},key:function(e,t){var n=this,i=n.ready().then((function(){var t,i=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(i.keyPrefix.length)),t}));return o(i,t),i},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var a=localStorage.key(r);0===a.indexOf(e.keyPrefix)&&i.push(a.substring(e.keyPrefix.length))}return i}));return o(n,e),n},dropInstance:function(e,t){if(t=u.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var i,r=this;return i=e.name?new s((function(t){e.storeName?t(ne(e,r._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):s.reject("Invalid arguments"),o(i,t),i}},ae=function(e,t){for(var n=e.length,i=0;i<n;){if((r=e[i])===(a=t)||"number"==typeof r&&"number"==typeof a&&isNaN(r)&&isNaN(a))return!0;i++}var r,a;return!1},se=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},oe={},le={},ce={INDEXEDDB:A,WEBSQL:te,LOCALSTORAGE:re},ue=[ce.INDEXEDDB._driver,ce.WEBSQL._driver,ce.LOCALSTORAGE._driver],he=["dropInstance"],de=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(he),fe={description:"",driver:ue.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function pe(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function me(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(se(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ge=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ce)if(ce.hasOwnProperty(n)){var i=ce[n],r=i._driver;this[n]=r,oe[r]||this.defineDriver(i)}this._defaultConfig=me({},fe),this._config=me({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":i(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var i=new s((function(t,n){try{var i=e._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(r);for(var a=de.concat("_initStorage"),l=0,c=a.length;l<c;l++){var u=a[l];if((!ae(he,u)||e[u])&&"function"!=typeof e[u])return void n(r)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=s.reject(t);return o(n,arguments[arguments.length-1]),n}},n=0,i=he.length;n<i;n++){var r=he[n];e[r]||(e[r]=t(r))}}();var h=function(n){oe[i]&&console.info("Redefining LocalForage driver: "+i),oe[i]=e,le[i]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(h,n):h(!!e._support):h(!0)}catch(e){n(e)}}));return l(i,t,n),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var i=oe[e]?s.resolve(oe[e]):s.reject(new Error("Driver not found."));return l(i,t,n),i},e.prototype.getSerializer=function(e){var t=s.resolve(X);return l(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return l(n,e,e),n},e.prototype.setDriver=function(e,t,n){var i=this;se(e)||(e=[e]);var r=this._getSupportedDrivers(e);function a(){i._config.driver=i.driver()}function o(e){return i._extend(e),a(),i._ready=i._initStorage(i._config),i._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=c.then((function(){var e=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then((function(e){i._driver=e._driver,a(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var r=e[t];return t++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(o).catch(n)}a();var l=new Error("No available storage method found.");return i._driverSet=s.reject(l),i._driverSet}()}}(r)}))})).catch((function(){a();var e=new Error("No available storage method found.");return i._driverSet=s.reject(e),i._driverSet})),l(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!le[e]},e.prototype._extend=function(e){me(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];this.supports(r)&&t.push(r)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=de.length;e<t;e++)pe(this,de[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),ye=new ge;t.exports=ye},{3:3}]},{},[4])(4)},1296:(e,t,n)=>{var i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),h=Object.prototype.toString,d=Math.max,f=Math.min,p=function(){return u.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=a.test(e);return n||s.test(e)?o(e.slice(2),n?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var i,r,a,s,o,l,c=0,u=!1,h=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=i,a=r;return i=r=void 0,c=t,s=e.apply(a,n)}function b(e){return c=e,o=setTimeout(w,t),u?v(e):s}function _(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=a}function w(){var e=p();if(_(e))return S(e);o=setTimeout(w,function(e){var n=t-(e-l);return h?f(n,a-(e-c)):n}(e))}function S(e){return o=void 0,y&&i?v(e):(i=r=void 0,s)}function k(){var e=p(),n=_(e);if(i=arguments,r=this,l=e,n){if(void 0===o)return b(l);if(h)return o=setTimeout(w,t),v(l)}return void 0===o&&(o=setTimeout(w,t)),s}return t=g(t)||0,m(n)&&(u=!!n.leading,a=(h="maxWait"in n)?d(g(n.maxWait)||0,t):a,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==o&&clearTimeout(o),c=0,i=l=r=o=void 0},k.flush=function(){return void 0===o?s:S(p())},k}},4221:(e,t,n)=>{var i=n(6894).getUint64;e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},r=12;0===n.version?(n.earliestPresentationTime=t.getUint32(r),n.firstOffset=t.getUint32(r+4),r+=8):(n.earliestPresentationTime=i(e.subarray(r)),n.firstOffset=i(e.subarray(r+8)),r+=16),r+=2;var a=t.getUint16(r);for(r+=2;a>0;r+=12,a--)n.references.push({referenceType:(128&e[r])>>>7,referencedSize:2147483647&t.getUint32(r),subsegmentDuration:t.getUint32(r+4),startsWithSap:!!(128&e[r+8]),sapType:(112&e[r+8])>>>4,sapDeltaTime:268435455&t.getUint32(r+8)});return n}},1489:e=>{var t,n,i,r,a,s,o,l=9e4;t=function(e){return e*l},n=function(e,t){return e*t},i=function(e){return e/l},r=function(e,t){return e/t},a=function(e,n){return t(r(e,n))},s=function(e,t){return n(i(e),t)},o=function(e,t,n){return i(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:l,secondsToVideoTs:t,secondsToAudioTs:n,videoTsToSeconds:i,audioTsToSeconds:r,audioTsToVideoTs:a,videoTsToAudioTs:s,metadataTsToSeconds:o}},6894:e=>{var t=Math.pow(2,32);e.exports={getUint64:function(e){var n,i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.getBigUint64?(n=i.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(n):n:i.getUint32(0)*t+i.getUint32(4)},MAX_UINT32:t}},3938:(e,t,n)=>{e.exports=n(212)},6203:(e,t,n)=>{const i=n(2018);e.exports=class{constructor(e,t,...n){const r=e.__original[t](...n);if(!(r instanceof i))throw new TypeError(`Unexpected ${typeof original}, expected: Cursor (nedb/lib/cursor)`);Object.defineProperties(this,{__original:{configurable:!1,enumerable:!1,writable:!1,value:r},__datastore:{configurable:!1,enumerable:!1,writable:!1,value:e},__op:{configurable:!1,enumerable:!1,writable:!1,value:t},__args:{configurable:!1,enumerable:!1,writable:!1,value:n}})}sort(...e){return this.__original.sort(...e),this}skip(...e){return this.__original.skip(...e),this}limit(...e){return this.__original.limit(...e),this}project(...e){return this.__original.projection(...e),this}async exec(){await this.__datastore.load();try{const e=await this.__original.execAsync();return this.__datastore.broadcastSuccess(this.__op,e,...this.__args),e}catch(e){throw this.__datastore.broadcastError(this.__op,e,...this.__args),e}}then(e,t){return this.exec().then(e,t)}catch(e){return this.exec().catch(e)}}},212:(e,t,n)=>{const i=n(7187),r=n(2795),a=n(6203);e.exports=class extends i{static create(e){return new Proxy(new this(e),{get:(e,t)=>e[t]?e[t]:e.__original[t],set:(e,t,n)=>Object.prototype.hasOwnProperty.call(e.__original,t)?e.__original[t]=n:e[t]=n})}constructor(e){super();const t=new r("string"==typeof e?{filename:e}:e);Object.defineProperties(this,{__loaded:{enumerable:!1,writable:!0,value:null},__original:{configurable:!0,enumerable:!1,writable:!1,value:t}}),this.__original.on("compaction.done",(()=>{this.emit("compactionDone",this)}))}load(){return this.__loaded instanceof Promise||(this.__loaded=this.__original.loadDatabaseAsync().then((()=>this.broadcastSuccess("load"))).catch((e=>{throw this.broadcastError("load",e),e}))),this.__loaded}find(e={},t){return"function"==typeof t&&(t={}),new a(this,"find",e,t)}findOne(e={},t){return"function"==typeof t&&(t={}),new a(this,"findOne",e,t)}async insert(e){await this.load();try{const t=await this.__original.insertAsync(e);return this.broadcastSuccess("insert",e),t}catch(t){throw this.broadcastError("insert",t,e),t}}insertOne({...e}){return this.insert(e)}insertMany([...e]){return this.insert(e)}async update(e,t,n={}){await this.load();try{const{numAffected:i,affectedDocuments:r}=await this.__original.updateAsync(e,t,n),a=n.returnUpdatedDocs?r:i;return this.broadcastSuccess("update",a,e,t,n),a}catch(i){throw this.broadcastError("update",i,e,t,n),i}}updateOne(e,t,n={}){return this.update(e,t,{...n,multi:!1})}updateMany(e,t,n={}){return this.update(e,t,{...n,multi:!0})}async remove(e={},t={}){await this.load();try{const n=await this.__original.removeAsync(e,t);return this.broadcastSuccess("remove",n,e,t),n}catch(n){throw this.broadcastError("remove",n,e,t),n}}removeOne(e,t={}){return this.remove(e,{...t,multi:!1})}removeMany(e,t={}){return this.remove(e,{...t,multi:!0})}deleteOne(e,t){return this.removeOne(e,t)}deleteMany(e,t){return this.removeMany(e,t)}count(e={}){return new a(this,"count",e)}async ensureIndex(e){try{const t=await this.__original.ensureIndexAsync(e);return this.broadcastSuccess("ensureIndex",t,e),t}catch(t){throw this.broadcastError("ensureIndex",t,e),t}}async removeIndex(e){try{const t=await this.__original.removeIndexAsync(e);return this.broadcastSuccess("removeIndex",t,e),t}catch(t){throw this.broadcastError("removeIndex",t,e),t}}broadcastSuccess(e,t,...n){return this.emit(e,this,t,...n),this}broadcastError(e,t,...n){return this.emit(`${e}Error`,this,t,...n),this.emit("__error__",this,e,t,...n),this}}},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var s,o,l=r(e),c=1;c<arguments.length;c++){for(var u in s=Object(arguments[c]))n.call(s,u)&&(l[u]=s[u]);if(t){o=t(s);for(var h=0;h<o.length;h++)i.call(s,o[h])&&(l[o[h]]=s[o[h]])}}return l}},4236:(e,t)=>{"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){var t,n,i,r,a,s;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)a=e[t],s.set(a,r),r+=a.length;return s}},a={arraySet:function(e,t,n,i,r){for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(n)},6069:e=>{"use strict";e.exports=function(e,t,n,i){for(var r=65535&e|0,a=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{a=a+(r=r+t[i++]|0)|0}while(--s);r%=65521,a%=65521}return r|a<<16|0}},1619:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:e=>{"use strict";var t=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,n,i,r){var a=t,s=r+i;e^=-1;for(var o=r;o<s;o++)e=e>>>8^a[255&(e^n[o])];return-1^e}},405:(e,t,n)=>{"use strict";var i,r=n(4236),a=n(342),s=n(6069),o=n(2869),l=n(8898),c=-2,u=258,h=262,d=103,f=113,p=666;function m(e,t){return e.msg=l[t],t}function g(e){return(e<<1)-(e>4?9:0)}function y(e){for(var t=e.length;--t>=0;)e[t]=0}function v(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,v(e.strm)}function _(e,t){e.pending_buf[e.pending++]=t}function w(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function S(e,t){var n,i,r=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,c=e.window,d=e.w_mask,f=e.prev,p=e.strstart+u,m=c[a+s-1],g=c[a+s];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do{if(c[(n=t)+s]===g&&c[n+s-1]===m&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<p);if(i=u-(p-a),a=p-u,i>s){if(e.match_start=t,s=i,i>=o)break;m=c[a+s-1],g=c[a+s]}}}while((t=f[t&d])>l&&0!=--r);return s<=e.lookahead?s:e.lookahead}function k(e){var t,n,i,a,l,c,u,d,f,p,m=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-h)){r.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=m?i-m:0}while(--n);t=n=m;do{i=e.prev[--t],e.prev[t]=i>=m?i-m:0}while(--n);a+=m}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,d=e.strstart+e.lookahead,f=a,p=void 0,(p=c.avail_in)>f&&(p=f),n=0===p?0:(c.avail_in-=p,r.arraySet(u,c.input,c.next_in,p,d),1===c.state.wrap?c.adler=s(c.adler,u,p,d):2===c.state.wrap&&(c.adler=o(c.adler,u,p,d)),c.next_in+=p,c.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function T(e,t){for(var n,i;;){if(e.lookahead<h){if(k(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-h&&(e.match_length=S(e,n)),e.match_length>=3)if(i=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function C(e,t){for(var n,i,r;;){if(e.lookahead<h){if(k(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-h&&(e.match_length=S(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=a._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function x(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function P(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):m(e,c)}function I(e){var t,n=P(e);return 0===n&&((t=e.state).window_size=2*t.w_size,y(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function A(e,t,n,i,a,s){if(!e)return c;var o=1;if(-1===t&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),a<1||a>9||8!==n||i<8||i>15||t<0||t>9||s<0||s>4)return m(e,c);8===i&&(i=9);var l=new E;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,I(e)}i=[new x(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(k(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new x(4,4,8,4,T),new x(4,5,16,8,T),new x(4,6,32,32,T),new x(4,4,16,16,C),new x(8,16,32,32,C),new x(8,16,128,128,C),new x(8,32,128,256,C),new x(32,128,258,1024,C),new x(32,258,258,4096,C)],t.deflateInit=function(e,t){return A(e,t,8,15,8,0)},t.deflateInit2=A,t.deflateReset=I,t.deflateResetKeep=P,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},t.deflate=function(e,t){var n,r,s,l;if(!e||!e.state||t>5||t<0)return e?m(e,c):c;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===p&&4!==t)return m(e,0===e.avail_out?-5:c);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,_(r,31),_(r,139),_(r,8),r.gzhead?(_(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),_(r,255&r.gzhead.time),_(r,r.gzhead.time>>8&255),_(r,r.gzhead.time>>16&255),_(r,r.gzhead.time>>24&255),_(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),_(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(_(r,255&r.gzhead.extra.length),_(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=o(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(_(r,0),_(r,0),_(r,0),_(r,0),_(r,0),_(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),_(r,3),r.status=f);else{var h=8+(r.w_bits-8<<4)<<8;h|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=f,w(r,h),0!==r.strstart&&(w(r,e.adler>>>16),w(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),v(e),s=r.pending,r.pending!==r.pending_buf_size));)_(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),v(e),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,_(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),v(e),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,_(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.status=d)}else r.status=d;if(r.status===d&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&v(e),r.pending+2<=r.pending_buf_size&&(_(r,255&e.adler),_(r,e.adler>>8&255),e.adler=0,r.status=f)):r.status=f),0!==r.pending){if(v(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(n)&&4!==t)return m(e,-5);if(r.status===p&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&r.status!==p){var S=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(k(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,s,o=e.window;;){if(e.lookahead<=u){if(k(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=o[r=e.strstart-1])===o[++r]&&i===o[++r]&&i===o[++r]){s=e.strstart+u;do{}while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<s);e.match_length=u-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==S&&4!==S||(r.status=p),1===S||3===S)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===S&&(1===t?a._tr_align(r):5!==t&&(a._tr_stored_block(r,0,0,!1),3===t&&(y(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),v(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(_(r,255&e.adler),_(r,e.adler>>8&255),_(r,e.adler>>16&255),_(r,e.adler>>24&255),_(r,255&e.total_in),_(r,e.total_in>>8&255),_(r,e.total_in>>16&255),_(r,e.total_in>>24&255)):(w(r,e.adler>>>16),w(r,65535&e.adler)),v(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==f&&t!==p?m(e,c):(e.state=null,t===f?m(e,-3):0):c},t.deflateSetDictionary=function(e,t){var n,i,a,o,l,u,h,d,f=t.length;if(!e||!e.state)return c;if(2===(o=(n=e.state).wrap)||1===o&&42!==n.status||n.lookahead)return c;for(1===o&&(e.adler=s(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===o&&(y(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new r.Buf8(n.w_size),r.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),l=e.avail_in,u=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,k(n);n.lookahead>=3;){i=n.strstart,a=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--a);n.strstart=i,n.lookahead=2,k(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=h,e.avail_in=l,n.wrap=o,0},t.deflateInfo="pako deflate (from Nodeca project)"},4264:e=>{"use strict";e.exports=function(e,t){var n,i,r,a,s,o,l,c,u,h,d,f,p,m,g,y,v,b,_,w,S,k,T,C,x;n=e.state,i=e.next_in,C=e.input,r=i+(e.avail_in-5),a=e.next_out,x=e.output,s=a-(t-e.avail_out),o=a+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{p<15&&(f+=C[i++]<<p,p+=8,f+=C[i++]<<p,p+=8),b=m[f&y];t:for(;;){if(f>>>=_=b>>>24,p-=_,0==(_=b>>>16&255))x[a++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(f&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(_&=15)&&(p<_&&(f+=C[i++]<<p,p+=8),w+=f&(1<<_)-1,f>>>=_,p-=_),p<15&&(f+=C[i++]<<p,p+=8,f+=C[i++]<<p,p+=8),b=g[f&v];n:for(;;){if(f>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(f&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(S=65535&b,p<(_&=15)&&(f+=C[i++]<<p,(p+=8)<_&&(f+=C[i++]<<p,p+=8)),(S+=f&(1<<_)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=_,p-=_,S>(_=a-s)){if((_=S-_)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,T=d,0===h){if(k+=c-_,_<w){w-=_;do{x[a++]=d[k++]}while(--_);k=a-S,T=x}}else if(h<_){if(k+=c+h-_,(_-=h)<w){w-=_;do{x[a++]=d[k++]}while(--_);if(k=0,h<w){w-=_=h;do{x[a++]=d[k++]}while(--_);k=a-S,T=x}}}else if(k+=h-_,_<w){w-=_;do{x[a++]=d[k++]}while(--_);k=a-S,T=x}for(;w>2;)x[a++]=T[k++],x[a++]=T[k++],x[a++]=T[k++],w-=3;w&&(x[a++]=T[k++],w>1&&(x[a++]=T[k++]))}else{k=a-S;do{x[a++]=x[k++],x[a++]=x[k++],x[a++]=x[k++],w-=3}while(w>2);w&&(x[a++]=x[k++],w>1&&(x[a++]=x[k++]))}break}}break}}while(i<r&&a<o);i-=w=p>>3,f&=(1<<(p-=w<<3))-1,e.next_in=i,e.next_out=a,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=a<o?o-a+257:257-(a-o),n.hold=f,n.bits=p}},7948:(e,t,n)=>{"use strict";var i=n(4236),r=n(6069),a=n(2869),s=n(4264),o=n(9241),l=-2,c=12,u=30;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):l}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):l}function m(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,p(e))):l}function g(e,t){var n,i;return e?(i=new d,e.state=i,i.window=null,0!==(n=m(e,t))&&(e.state=null),n):l}var y,v,b=!0;function _(e){if(b){var t;for(y=new i.Buf32(512),v=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(1,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(2,e.lens,0,32,v,0,e.work,{bits:5}),b=!1}e.lencode=y,e.lenbits=9,e.distcode=v,e.distbits=5}function w(e,t,n,r){var a,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),r>=s.wsize?(i.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((a=s.wsize-s.wnext)>r&&(a=r),i.arraySet(s.window,t,n-r,a,s.wnext),(r-=a)?(i.arraySet(s.window,t,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0}t.inflateReset=p,t.inflateReset2=m,t.inflateResetKeep=f,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var n,d,f,p,m,g,y,v,b,S,k,T,C,x,E,P,I,A,L,O,R,D,N,F,$=0,B=new i.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(n=e.state).mode===c&&(n.mode=13),m=e.next_out,f=e.output,y=e.avail_out,p=e.next_in,d=e.input,g=e.avail_in,v=n.hold,b=n.bits,S=g,k=y,D=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}if(2&n.wrap&&35615===v){n.check=0,B[0]=255&v,B[1]=v>>>8&255,n.check=a(n.check,B,2,0),v=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&v)<<8)+(v>>8))%31){e.msg="incorrect header check",n.mode=u;break}if(8!=(15&v)){e.msg="unknown compression method",n.mode=u;break}if(b-=4,R=8+(15&(v>>>=4)),0===n.wbits)n.wbits=R;else if(R>n.wbits){e.msg="invalid window size",n.mode=u;break}n.dmax=1<<R,e.adler=n.check=1,n.mode=512&v?10:c,v=0,b=0;break;case 2:for(;b<16;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}if(n.flags=v,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=u;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=u;break}n.head&&(n.head.text=v>>8&1),512&n.flags&&(B[0]=255&v,B[1]=v>>>8&255,n.check=a(n.check,B,2,0)),v=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}n.head&&(n.head.time=v),512&n.flags&&(B[0]=255&v,B[1]=v>>>8&255,B[2]=v>>>16&255,B[3]=v>>>24&255,n.check=a(n.check,B,4,0)),v=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}n.head&&(n.head.xflags=255&v,n.head.os=v>>8),512&n.flags&&(B[0]=255&v,B[1]=v>>>8&255,n.check=a(n.check,B,2,0)),v=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}n.length=v,n.head&&(n.head.extra_len=v),512&n.flags&&(B[0]=255&v,B[1]=v>>>8&255,n.check=a(n.check,B,2,0)),v=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((T=n.length)>g&&(T=g),T&&(n.head&&(R=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,d,p,T,R)),512&n.flags&&(n.check=a(n.check,d,T,p)),g-=T,p+=T,n.length-=T),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break e;T=0;do{R=d[p+T++],n.head&&R&&n.length<65536&&(n.head.name+=String.fromCharCode(R))}while(R&&T<g);if(512&n.flags&&(n.check=a(n.check,d,T,p)),g-=T,p+=T,R)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break e;T=0;do{R=d[p+T++],n.head&&R&&n.length<65536&&(n.head.comment+=String.fromCharCode(R))}while(R&&T<g);if(512&n.flags&&(n.check=a(n.check,d,T,p)),g-=T,p+=T,R)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}if(v!==(65535&n.check)){e.msg="header crc mismatch",n.mode=u;break}v=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=c;break;case 10:for(;b<32;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}e.adler=n.check=h(v),v=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=m,e.avail_out=y,e.next_in=p,e.avail_in=g,n.hold=v,n.bits=b,2;e.adler=n.check=1,n.mode=c;case c:if(5===t||6===t)break e;case 13:if(n.last){v>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}switch(n.last=1&v,b-=1,3&(v>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6===t){v>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=u}v>>>=2,b-=2;break;case 14:for(v>>>=7&b,b-=7&b;b<32;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}if((65535&v)!=(v>>>16^65535)){e.msg="invalid stored block lengths",n.mode=u;break}if(n.length=65535&v,v=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(T=n.length){if(T>g&&(T=g),T>y&&(T=y),0===T)break e;i.arraySet(f,d,p,T,m),g-=T,p+=T,y-=T,m+=T,n.length-=T;break}n.mode=c;break;case 17:for(;b<14;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}if(n.nlen=257+(31&v),v>>>=5,b-=5,n.ndist=1+(31&v),v>>>=5,b-=5,n.ncode=4+(15&v),v>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=u;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}n.lens[M[n.have++]]=7&v,v>>>=3,b-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},D=o(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,D){e.msg="invalid code lengths set",n.mode=u;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;P=($=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,I=65535&$,!((E=$>>>24)<=b);){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}if(I<16)v>>>=E,b-=E,n.lens[n.have++]=I;else{if(16===I){for(F=E+2;b<F;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}if(v>>>=E,b-=E,0===n.have){e.msg="invalid bit length repeat",n.mode=u;break}R=n.lens[n.have-1],T=3+(3&v),v>>>=2,b-=2}else if(17===I){for(F=E+3;b<F;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}b-=E,R=0,T=3+(7&(v>>>=E)),v>>>=3,b-=3}else{for(F=E+7;b<F;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}b-=E,R=0,T=11+(127&(v>>>=E)),v>>>=7,b-=7}if(n.have+T>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=u;break}for(;T--;)n.lens[n.have++]=R}}if(n.mode===u)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=u;break}if(n.lenbits=9,N={bits:n.lenbits},D=o(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,D){e.msg="invalid literal/lengths set",n.mode=u;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},D=o(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,D){e.msg="invalid distances set",n.mode=u;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(g>=6&&y>=258){e.next_out=m,e.avail_out=y,e.next_in=p,e.avail_in=g,n.hold=v,n.bits=b,s(e,k),m=e.next_out,f=e.output,y=e.avail_out,p=e.next_in,d=e.input,g=e.avail_in,v=n.hold,b=n.bits,n.mode===c&&(n.back=-1);break}for(n.back=0;P=($=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,I=65535&$,!((E=$>>>24)<=b);){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}if(P&&0==(240&P)){for(A=E,L=P,O=I;P=($=n.lencode[O+((v&(1<<A+L)-1)>>A)])>>>16&255,I=65535&$,!(A+(E=$>>>24)<=b);){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}v>>>=A,b-=A,n.back+=A}if(v>>>=E,b-=E,n.back+=E,n.length=I,0===P){n.mode=26;break}if(32&P){n.back=-1,n.mode=c;break}if(64&P){e.msg="invalid literal/length code",n.mode=u;break}n.extra=15&P,n.mode=22;case 22:if(n.extra){for(F=n.extra;b<F;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;P=($=n.distcode[v&(1<<n.distbits)-1])>>>16&255,I=65535&$,!((E=$>>>24)<=b);){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}if(0==(240&P)){for(A=E,L=P,O=I;P=($=n.distcode[O+((v&(1<<A+L)-1)>>A)])>>>16&255,I=65535&$,!(A+(E=$>>>24)<=b);){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}v>>>=A,b-=A,n.back+=A}if(v>>>=E,b-=E,n.back+=E,64&P){e.msg="invalid distance code",n.mode=u;break}n.offset=I,n.extra=15&P,n.mode=24;case 24:if(n.extra){for(F=n.extra;b<F;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=u;break}n.mode=25;case 25:if(0===y)break e;if(T=k-y,n.offset>T){if((T=n.offset-T)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=u;break}T>n.wnext?(T-=n.wnext,C=n.wsize-T):C=n.wnext-T,T>n.length&&(T=n.length),x=n.window}else x=f,C=m-n.offset,T=n.length;T>y&&(T=y),y-=T,n.length-=T;do{f[m++]=x[C++]}while(--T);0===n.length&&(n.mode=21);break;case 26:if(0===y)break e;f[m++]=n.length,y--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===g)break e;g--,v|=d[p++]<<b,b+=8}if(k-=y,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?a(n.check,f,k,m-k):r(n.check,f,k,m-k)),k=y,(n.flags?v:h(v))!==n.check){e.msg="incorrect data check",n.mode=u;break}v=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===g)break e;g--,v+=d[p++]<<b,b+=8}if(v!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=u;break}v=0,b=0}n.mode=29;case 29:D=1;break e;case u:D=-3;break e;case 31:return-4;default:return l}return e.next_out=m,e.avail_out=y,e.next_in=p,e.avail_in=g,n.hold=v,n.bits=b,(n.wsize||k!==e.avail_out&&n.mode<u&&(n.mode<27||4!==t))&&w(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(S-=e.avail_in,k-=e.avail_out,e.total_in+=S,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?a(n.check,f,k,e.next_out-k):r(n.check,f,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(n.mode===c?128:0)+(20===n.mode||15===n.mode?256:0),(0===S&&0===k||4===t)&&0===D&&(D=-5),D)},t.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?l:(n.head=t,t.done=!1,0):l},t.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&r(1,t,i,0)!==n.check?-3:w(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):l},t.inflateInfo="pako inflate (from Nodeca project)"},9241:(e,t,n)=>{"use strict";var i=n(4236),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,u,h,d){var f,p,m,g,y,v,b,_,w,S=d.bits,k=0,T=0,C=0,x=0,E=0,P=0,I=0,A=0,L=0,O=0,R=null,D=0,N=new i.Buf16(16),F=new i.Buf16(16),$=null,B=0;for(k=0;k<=15;k++)N[k]=0;for(T=0;T<l;T++)N[t[n+T]]++;for(E=S,x=15;x>=1&&0===N[x];x--);if(E>x&&(E=x),0===x)return c[u++]=20971520,c[u++]=20971520,d.bits=1,0;for(C=1;C<x&&0===N[C];C++);for(E<C&&(E=C),A=1,k=1;k<=15;k++)if(A<<=1,(A-=N[k])<0)return-1;if(A>0&&(0===e||1!==x))return-1;for(F[1]=0,k=1;k<15;k++)F[k+1]=F[k]+N[k];for(T=0;T<l;T++)0!==t[n+T]&&(h[F[t[n+T]]++]=T);if(0===e?(R=$=h,v=19):1===e?(R=r,D-=257,$=a,B-=257,v=256):(R=s,$=o,v=-1),O=0,T=0,k=C,y=u,P=E,I=0,m=-1,g=(L=1<<E)-1,1===e&&L>852||2===e&&L>592)return 1;for(;;){b=k-I,h[T]<v?(_=0,w=h[T]):h[T]>v?(_=$[B+h[T]],w=R[D+h[T]]):(_=96,w=0),f=1<<k-I,C=p=1<<P;do{c[y+(O>>I)+(p-=f)]=b<<24|_<<16|w|0}while(0!==p);for(f=1<<k-1;O&f;)f>>=1;if(0!==f?(O&=f-1,O+=f):O=0,T++,0==--N[k]){if(k===x)break;k=t[n+h[T]]}if(k>E&&(O&g)!==m){for(0===I&&(I=E),y+=C,A=1<<(P=k-I);P+I<x&&!((A-=N[P+I])<=0);)P++,A<<=1;if(L+=1<<P,1===e&&L>852||2===e&&L>592)return 1;c[m=O&g]=E<<24|P<<16|y-u|0}}return 0!==O&&(c[y+O]=k-I<<24|64<<16|0),d.bits=E,0}},8898:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:(e,t,n)=>{"use strict";var i=n(4236);function r(e){for(var t=e.length;--t>=0;)e[t]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);r(c);var u=new Array(60);r(u);var h=new Array(512);r(h);var d=new Array(256);r(d);var f=new Array(29);r(f);var p,m,g,y=new Array(30);function v(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function _(e){return e<256?h[e]:h[256+(e>>>7)]}function w(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function S(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,w(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function k(e,t,n){S(e,n[2*t],n[2*t+1])}function T(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function C(e,t,n){var i,r,a=new Array(16),s=0;for(i=1;i<=15;i++)a[i]=s=s+n[i-1]<<1;for(r=0;r<=t;r++){var o=e[2*r+1];0!==o&&(e[2*r]=T(a[o]++,o))}}function x(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function E(e){e.bi_valid>8?w(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function P(e,t,n,i){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&i[t]<=i[n]}function I(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&P(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!P(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function A(e,t,n){var i,r,o,l,c=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],r=e.pending_buf[e.l_buf+c],c++,0===i?k(e,r,t):(k(e,(o=d[r])+256+1,t),0!==(l=a[o])&&S(e,r-=f[o],l),k(e,o=_(--i),n),0!==(l=s[o])&&S(e,i-=y[o],l))}while(c<e.last_lit);k(e,256,t)}function L(e,t){var n,i,r,a=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,o&&(e.static_len-=s[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)I(e,a,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],I(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,a[2*r]=a[2*n]+a[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,a[2*n+1]=a[2*i+1]=r,e.heap[1]=r++,I(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,a,s,o,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(a=l[2*l[2*(i=e.heap[n])+1]+1]+1)>p&&(a=p,m++),l[2*i+1]=a,i>c||(e.bl_count[a]++,s=0,i>=f&&(s=d[i-f]),o=l[2*i],e.opt_len+=o*(a+s),h&&(e.static_len+=o*(u[2*i+1]+s)));if(0!==m){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--)for(i=e.bl_count[a];0!==i;)(r=e.heap[--n])>c||(l[2*r+1]!==a&&(e.opt_len+=(a-l[2*r+1])*l[2*r],l[2*r+1]=a),i--)}}(e,t),C(a,c,e.bl_count)}function O(e,t,n){var i,r,a=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=t[2*(i+1)+1],++o<l&&r===s||(o<c?e.bl_tree[2*r]+=o:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,a=r,0===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4))}function R(e,t,n){var i,r,a=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),i=0;i<=n;i++)if(r=s,s=t[2*(i+1)+1],!(++o<l&&r===s)){if(o<c)do{k(e,r,e.bl_tree)}while(0!=--o);else 0!==r?(r!==a&&(k(e,r,e.bl_tree),o--),k(e,16,e.bl_tree),S(e,o-3,2)):o<=10?(k(e,17,e.bl_tree),S(e,o-3,3)):(k(e,18,e.bl_tree),S(e,o-11,7));o=0,a=r,0===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4)}}r(y);var D=!1;function N(e,t,n,r){S(e,0+(r?1:0),3),function(e,t,n,r){E(e),w(e,n),w(e,~n),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}t._tr_init=function(e){D||(function(){var e,t,n,i,r,l=new Array(16);for(n=0,i=0;i<28;i++)for(f[i]=n,e=0;e<1<<a[i];e++)d[n++]=i;for(d[n-1]=i,r=0,i=0;i<16;i++)for(y[i]=r,e=0;e<1<<s[i];e++)h[r++]=i;for(r>>=7;i<30;i++)for(y[i]=r<<7,e=0;e<1<<s[i]-7;e++)h[256+r++]=i;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)c[2*e+1]=8,e++,l[8]++;for(;e<=255;)c[2*e+1]=9,e++,l[9]++;for(;e<=279;)c[2*e+1]=7,e++,l[7]++;for(;e<=287;)c[2*e+1]=8,e++,l[8]++;for(C(c,287,l),e=0;e<30;e++)u[2*e+1]=5,u[2*e]=T(e,5);p=new v(c,a,257,286,15),m=new v(u,s,0,30,15),g=new v(new Array(0),o,0,19,7)}(),D=!0),e.l_desc=new b(e.dyn_ltree,p),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,x(e)},t._tr_stored_block=N,t._tr_flush_block=function(e,t,n,i){var r,a,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),L(e,e.l_desc),L(e,e.d_desc),s=function(e){var t;for(O(e,e.dyn_ltree,e.l_desc.max_code),O(e,e.dyn_dtree,e.d_desc.max_code),L(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=r&&(r=a)):r=a=n+5,n+4<=r&&-1!==t?N(e,t,n,i):4===e.strategy||a===r?(S(e,2+(i?1:0),3),A(e,c,u)):(S(e,4+(i?1:0),3),function(e,t,n,i){var r;for(S(e,t-257,5),S(e,n-1,5),S(e,i-4,4),r=0;r<i;r++)S(e,e.bl_tree[2*l[r]+1],3);R(e,e.dyn_ltree,t-1),R(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),A(e,e.dyn_ltree,e.dyn_dtree)),x(e),i&&E(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(d[n]+256+1)]++,e.dyn_dtree[2*_(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){S(e,2,3),k(e,256,c),function(e){16===e.bi_valid?(w(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},2292:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},6470:(e,t,n)=>{"use strict";var i=n(4155);function r(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function a(e,t){for(var n,i="",r=0,a=-1,s=0,o=0;o<=e.length;++o){if(o<e.length)n=e.charCodeAt(o);else{if(47===n)break;n=47}if(47===n){if(a===o-1||1===s);else if(a!==o-1&&2===s){if(i.length<2||2!==r||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var l=i.lastIndexOf("/");if(l!==i.length-1){-1===l?(i="",r=0):r=(i=i.slice(0,l)).length-1-i.lastIndexOf("/"),a=o,s=0;continue}}else if(2===i.length||1===i.length){i="",r=0,a=o,s=0;continue}t&&(i.length>0?i+="/..":i="..",r=2)}else i.length>0?i+="/"+e.slice(a+1,o):i=e.slice(a+1,o),r=o-a-1;a=o,s=0}else 46===n&&-1!==s?++s:s=-1}return i}var s={resolve:function(){for(var e,t="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var o;s>=0?o=arguments[s]:(void 0===e&&(e=i.cwd()),o=e),r(o),0!==o.length&&(t=o+"/"+t,n=47===o.charCodeAt(0))}return t=a(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(r(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0!==(e=a(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return r(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];r(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":s.normalize(e)},relative:function(e,t){if(r(e),r(t),e===t)return"";if((e=s.resolve(e))===(t=s.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var i=e.length,a=i-n,o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var l=t.length-o,c=a<l?a:l,u=-1,h=0;h<=c;++h){if(h===c){if(l>c){if(47===t.charCodeAt(o+h))return t.slice(o+h+1);if(0===h)return t.slice(o+h)}else a>c&&(47===e.charCodeAt(n+h)?u=h:0===h&&(u=0));break}var d=e.charCodeAt(n+h);if(d!==t.charCodeAt(o+h))break;47===d&&(u=h)}var f="";for(h=n+u+1;h<=i;++h)h!==i&&47!==e.charCodeAt(h)||(0===f.length?f+="..":f+="/..");return f.length>0?f+t.slice(o+u):(o+=u,47===t.charCodeAt(o)&&++o,t.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(r(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,a=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!a){i=s;break}}else a=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');r(e);var n,i=0,a=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,l=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!s){i=n+1;break}}else-1===l&&(s=!1,l=n+1),o>=0&&(c===t.charCodeAt(o)?-1==--o&&(a=n):(o=-1,a=l))}return i===a?a=l:-1===a&&(a=e.length),e.slice(i,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){i=n+1;break}}else-1===a&&(s=!1,a=n+1);return-1===a?"":e.slice(i,a)},extname:function(e){r(e);for(var t=-1,n=0,i=-1,a=!0,s=0,o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(47!==l)-1===i&&(a=!1,i=o+1),46===l?-1===t?t=o:1!==s&&(s=1):-1!==t&&(s=-1);else if(!a){n=o+1;break}}return-1===t||-1===i||0===s||1===s&&t===i-1&&t===n+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+i:n+"/"+i:i}(0,e)},parse:function(e){r(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,i=e.charCodeAt(0),a=47===i;a?(t.root="/",n=1):n=0;for(var s=-1,o=0,l=-1,c=!0,u=e.length-1,h=0;u>=n;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===i?-1===s?s=u:1!==h&&(h=1):-1!==s&&(h=-1);else if(!c){o=u+1;break}return-1===s||-1===l||0===h||1===h&&s===l-1&&s===o+1?-1!==l&&(t.base=t.name=0===o&&a?e.slice(1,l):e.slice(o,l)):(0===o&&a?(t.name=e.slice(1,s),t.base=e.slice(1,l)):(t.name=e.slice(o,s),t.base=e.slice(o,l)),t.ext=e.slice(s,l)),o>0?t.dir=e.slice(0,o-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,e.exports=s},4155:e=>{var t,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var o,l=[],c=!1,u=-1;function h(){c&&o&&(c=!1,o.length?l=o.concat(l):u=-1,l.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(o=l,l=[];++u<t;)o&&o[u].run();u=-1,t=l.length}o=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},1394:(e,t,n)=>{"use strict";var i=n(4155),r=n(8575).parse,a={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},s=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function o(e){return i.env[e.toLowerCase()]||i.env[e.toUpperCase()]||""}t.getProxyForUrl=function(e){var t="string"==typeof e?r(e):e||{},n=t.protocol,i=t.host,l=t.port;if("string"!=typeof i||!i||"string"!=typeof n)return"";if(n=n.split(":",1)[0],!function(e,t){var n=(o("npm_config_no_proxy")||o("no_proxy")).toLowerCase();return!n||"*"!==n&&n.split(/[,\s]/).every((function(n){if(!n)return!0;var i=n.match(/^(.+):(\d+)$/),r=i?i[1]:n,a=i?parseInt(i[2]):0;return!(!a||a===t)||(/^[.*]/.test(r)?("*"===r.charAt(0)&&(r=r.slice(1)),!s.call(e,r)):e!==r)}))}(i=i.replace(/:\d*$/,""),l=parseInt(l)||a[n]||0))return"";var c=o("npm_config_"+n+"_proxy")||o(n+"_proxy")||o("npm_config_proxy")||o("all_proxy");return c&&-1===c.indexOf("://")&&(c=n+"://"+c),c}},2587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,i,r){n=n||"&",i=i||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(n);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var l=e.length;o>0&&l>o&&(l=o);for(var c=0;c<l;++c){var u,h,d,f,p=e[c].replace(s,"%20"),m=p.indexOf(i);m>=0?(u=p.substr(0,m),h=p.substr(m+1)):(u=p,h=""),d=decodeURIComponent(u),f=decodeURIComponent(h),t(a,d)?Array.isArray(a[d])?a[d].push(f):a[d]=[a[d],f]:a[d]=f}return a}},2361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,r){return n=n||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var a=encodeURIComponent(t(r))+i;return Array.isArray(e[r])?e[r].map((function(e){return a+encodeURIComponent(t(e))})).join(n):a+encodeURIComponent(t(e[r]))})).join(n):r?encodeURIComponent(t(r))+i+encodeURIComponent(t(e)):""}},7673:(e,t,n)=>{"use strict";t.decode=t.parse=n(2587),t.encode=t.stringify=n(2361)},9509:(e,t,n)=>{var i=n(8764),r=i.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=s),s.prototype=Object.create(r.prototype),a(r,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},5974:e=>{e.exports=function(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(e){i=e}return[i,n]}},2830:(e,t,n)=>{e.exports=r;var i=n(7187).EventEmitter;function r(){i.call(this)}n(5717)(r,i),r.Readable=n(6577),r.Writable=n(323),r.Duplex=n(8656),r.Transform=n(4473),r.PassThrough=n(2366),r.finished=n(1086),r.pipeline=n(6472),r.Stream=r,r.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",o),n.on("close",l));var s=!1;function o(){s||(s=!0,e.end())}function l(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",r),e.removeListener("drain",a),n.removeListener("end",o),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},8106:e=>{"use strict";var t={};function n(e,n,i){i||(i=Error);var r=function(e){var t,i;function r(t,i,r){return e.call(this,function(e,t,i){return"string"==typeof n?n:n(e,t,i)}(t,i,r))||this}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,r}(i);r.prototype.name=i.name,r.prototype.code=e,t[e]=r}function i(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,a,s,o,l;if("string"==typeof t&&(a="not ",t.substr(0,a.length)===a)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(r," ").concat(i(t,"type"));else{var c=("number"!=typeof l&&(l=0),l+".".length>(o=e).length||-1===o.indexOf(".",l)?"argument":"property");s='The "'.concat(e,'" ').concat(c," ").concat(r," ").concat(i(t,"type"))}return s+". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},8656:(e,t,n)=>{"use strict";var i=n(4155),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var a=n(6577),s=n(323);n(5717)(u,a);for(var o=r(s.prototype),l=0;l<o.length;l++){var c=o[l];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||i.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2366:(e,t,n)=>{"use strict";e.exports=r;var i=n(4473);function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}n(5717)(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},6577:(e,t,n)=>{"use strict";var i,r=n(4155);e.exports=C,C.ReadableState=T,n(7187).EventEmitter;var a,s=function(e,t){return e.listeners(t).length},o=n(3194),l=n(8764).Buffer,c=n.g.Uint8Array||function(){},u=n(964);a=u&&u.debuglog?u.debuglog("stream"):function(){};var h,d,f,p=n(9686),m=n(1029),g=n(94).getHighWaterMark,y=n(8106).q,v=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(5717)(C,o);var S=m.errorOrDestroy,k=["error","close","destroy","pause","resume"];function T(e,t,r){i=i||n(8656),e=e||{},"boolean"!=typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=n(2553).s),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function C(e){if(i=i||n(8656),!(this instanceof C))return new C(e);var t=this instanceof i;this._readableState=new T(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function x(e,t,n,i,r){a("readableAddChunk",t);var s,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,L(e)))}}(e,o);else if(r||(s=function(e,t){var n,i;return i=t,l.isBuffer(i)||i instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],t)),n}(o,t)),s)S(e,s);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),i)o.endEmitted?S(e,new w):E(e,o,t,!0);else if(o.ended)S(e,new b);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?E(e,o,t,!1):O(e,o)):E(e,o,t,!1)}else i||(o.reading=!1,O(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function E(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&A(e)),O(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=m.destroy,C.prototype._undestroy=m.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=l.from(e,t),t=""),n=!0),x(this,e,t,!1,n)},C.prototype.unshift=function(e){return x(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){h||(h=n(2553).s);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,r="";null!==i;)r+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var P=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(L,e))}function L(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,$(e)}function O(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(a("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function D(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){a("readable nexttick read 0"),e.read(0)}function F(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),$(e),t.flowing&&!t.reading&&e.read(0)}function $(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function M(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(U,t,e))}function U(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function j(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return a("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):A(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&M(this),null;var i,r=t.needReadable;return a("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&a("length less than watermark",r=!0),t.ended||t.reading?a("reading or ended",r=!1):r&&(a("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(i=e>0?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==i&&this.emit("data",i),i},C.prototype._read=function(e){S(this,new _("_read()"))},C.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,a("pipe count=%d opts=%j",i.pipesCount,t);var o=t&&!1===t.end||e===r.stdout||e===r.stderr?m:l;function l(){a("onend"),e.end()}i.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",(function t(r,s){a("onunpipe"),r===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,a("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),n.removeListener("end",l),n.removeListener("end",m),n.removeListener("data",h),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;a("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,$(e))}}(n);e.on("drain",c);var u=!1;function h(t){a("ondata");var r=e.write(t);a("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==j(i.pipes,e))&&!u&&(a("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function d(t){a("onerror",t),m(),e.removeListener("error",d),0===s(e,"error")&&S(e,t)}function f(){e.removeListener("finish",p),m()}function p(){a("onfinish"),e.removeListener("close",f),m()}function m(){a("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on(t,n)}(e,"error",d),e.once("close",f),e.once("finish",p),e.emit("pipe",n),i.flowing||(a("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<r;a++)i[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=j(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?A(this):i.reading||r.nextTick(N,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(D,this),n},C.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(D,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(F,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",(function(){if(a("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){a("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r||(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var s=0;s<k.length;s++)e.on(k[s],this.emit.bind(this,k[s]));return this._read=function(t){a("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(828)),d(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=B,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(e,t){return void 0===f&&(f=n(1265)),f(C,e,t)})},4473:(e,t,n)=>{"use strict";e.exports=u;var i=n(8106).q,r=i.ERR_METHOD_NOT_IMPLEMENTED,a=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=i.ERR_TRANSFORM_WITH_LENGTH_0,l=n(8656);function c(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new a);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}n(5717)(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new r("_transform()"))},u.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},323:(e,t,n)=>{"use strict";var i,r=n(4155);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(undefined),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=C,C.WritableState=T;var s,o={deprecate:n(4927)},l=n(3194),c=n(8764).Buffer,u=n.g.Uint8Array||function(){},h=n(1029),d=n(94).getHighWaterMark,f=n(8106).q,p=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,y=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,_=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,S=h.errorOrDestroy;function k(){}function T(e,t,s){i=i||n(8656),e=e||{},"boolean"!=typeof s&&(s=t instanceof i),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,a=n.writecb;if("function"!=typeof a)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,a){--t.pendingcb,n?(r.nextTick(a,i),r.nextTick(L,e,t),e._writableState.errorEmitted=!0,S(e,i)):(a(i),e._writableState.errorEmitted=!0,S(e,i),L(e,t))}(e,n,i,t,a);else{var s=I(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||P(e,n),i?r.nextTick(E,e,n,s,a):E(e,n,s,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function C(e){var t=this instanceof(i=i||n(8656));if(!t&&!s.call(C,this))return new C(e);this._writableState=new T(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function x(e,t,n,i,r,a,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):n?e._writev(r,t.onwrite):e._write(r,a,t.onwrite),t.sync=!1}function E(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),L(e,t)}function P(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var o=0,l=!0;n;)r[o]=n,n.isBuf||(l=!1),n=n.next,o+=1;r.allBuffers=l,x(e,t,!0,t.length,r,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,h=n.callback;if(x(e,t,!1,t.objectMode?1:c.length,c,u,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),L(e,t)}))}function L(e,t){var n=I(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n(5717)(C,l),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===C&&e&&e._writableState instanceof T}})):s=function(e){return e instanceof this},C.prototype.pipe=function(){S(this,new y)},C.prototype.write=function(e,t,n){var i,a=this._writableState,s=!1,o=!a.objectMode&&(i=e,c.isBuffer(i)||i instanceof u);return o&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof n&&(n=k),a.ending?function(e,t){var n=new _;S(e,n),r.nextTick(t,n)}(this,n):(o||function(e,t,n,i){var a;return null===n?a=new b:"string"==typeof n||t.objectMode||(a=new p("chunk",["string","Buffer"],n)),!a||(S(e,a),r.nextTick(i,a),!1)}(this,a,e,n))&&(a.pendingcb++,s=function(e,t,n,i,r,a){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}(t,i,r);i!==s&&(n=!0,r="buffer",i=s)}var o=t.objectMode?1:i.length;t.length+=o;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,o,i,r,a);return l}(this,a,o,e,t,n)),s},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new m("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,L(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=h.destroy,C.prototype._undestroy=h.undestroy,C.prototype._destroy=function(e,t){t(e)}},828:(e,t,n)=>{"use strict";var i,r=n(4155);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(1086),o=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function m(e){var t=e[o];if(null!==t){var n=e[f].read();null!==n&&(e[h]=null,e[o]=null,e[l]=null,t(p(n,!1)))}}function g(e){r.nextTick(m,e)}var y=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((a(i={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[c]?n(e[c]):t(p(void 0,!0))}))}));var n,i=this[h];if(i)n=new Promise(function(e,t){return function(n,i){e.then((function(){t[u]?n(p(void 0,!0)):t[d](n,i)}),i)}}(i,this));else{var a=this[f].read();if(null!==a)return Promise.resolve(p(a,!1));n=new Promise(this[d])}return this[h]=n,n}},Symbol.asyncIterator,(function(){return this})),a(i,"return",(function(){var e=this;return new Promise((function(t,n){e[f].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),i),y);e.exports=function(e){var t,n=Object.create(v,(a(t={},f,{value:e,writable:!0}),a(t,o,{value:null,writable:!0}),a(t,l,{value:null,writable:!0}),a(t,c,{value:null,writable:!0}),a(t,u,{value:e._readableState.endEmitted,writable:!0}),a(t,d,{value:function(e,t){var i=n[f].read();i?(n[h]=null,n[o]=null,n[l]=null,e(p(i,!1))):(n[o]=e,n[l]=t)},writable:!0}),t));return n[h]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[l];return null!==t&&(n[h]=null,n[o]=null,n[l]=null,t(e)),void(n[c]=e)}var i=n[o];null!==i&&(n[h]=null,n[o]=null,n[l]=null,i(p(void 0,!0))),n[u]=!0})),e.on("readable",g.bind(null,n)),n}},9686:(e,t,n)=>{"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=n(8764).Buffer,o=n(9862).inspect,l=o&&o.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,i,r=s.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=a.data,n=r,i=o,s.prototype.copy.call(t,n,i),o+=a.data.length,a=a.next;return r}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,i=t.data;for(e-=i.length;t=t.next;){var r=t.data,a=e>r.length?r.length:e;if(a===r.length?i+=r:i+=r.slice(0,e),0==(e-=a)){a===r.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(a));break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,i=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var r=n.data,a=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,a),0==(e-=a)){a===r.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=r.slice(a));break}++i}return this.length-=i,t}},{key:l,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&a(t.prototype,n),e}()},1029:(e,t,n)=>{"use strict";var i=n(4155);function r(e,t){s(e,t),a(e)}function a(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return o||l?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(s,this,e)):i.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?i.nextTick(a,n):(n._writableState.errorEmitted=!0,i.nextTick(r,n,e)):i.nextTick(r,n,e):t?(i.nextTick(a,n),t(e)):i.nextTick(a,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,i=e._writableState;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},1086:(e,t,n)=>{"use strict";var i=n(8106).q.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,n,a){if("function"==typeof n)return e(t,null,n);n||(n={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i)}}}(a||r);var s=n.readable||!1!==n.readable&&t.readable,o=n.writable||!1!==n.writable&&t.writable,l=function(){t.writable||u()},c=t._writableState&&t._writableState.finished,u=function(){o=!1,c=!0,s||a.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){s=!1,h=!0,o||a.call(t)},f=function(e){a.call(t,e)},p=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new i),a.call(t,e)):o&&!c?(t._writableState&&t._writableState.ended||(e=new i),a.call(t,e)):void 0},m=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",p),t.req?m():t.on("request",m)):o&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",d),t.on("finish",u),!1!==n.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}},1265:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},6472:(e,t,n)=>{"use strict";var i,r=n(8106).q,a=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function l(e,t,r,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var o=!1;e.on("close",(function(){o=!0})),void 0===i&&(i=n(1086)),i(e,{readable:t,writable:r},(function(e){if(e)return a(e);o=!0,a()}));var l=!1;return function(t){if(!o&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void a(t||new s("pipe"))}}function c(e){e()}function u(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var s=t.map((function(e,n){var a=n<t.length-1;return l(e,a,n>0,(function(e){i||(i=e),e&&s.forEach(c),a||(s.forEach(c),r(i))}))}));return t.reduce(u)}},94:(e,t,n)=>{"use strict";var i=n(8106).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,r){var a=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new i(r?n:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},3194:(e,t,n)=>{e.exports=n(7187).EventEmitter},8501:(e,t,n)=>{var i=n(1989),r=n(5676),a=n(7529),s=n(584),o=n(8575),l=t;l.request=function(e,t){e="string"==typeof e?o.parse(e):a(e);var r=-1===n.g.location.protocol.search(/^https?:$/)?"http:":"",s=e.protocol||r,l=e.hostname||e.host,c=e.port,u=e.path||"/";l&&-1!==l.indexOf(":")&&(l="["+l+"]"),e.url=(l?s+"//"+l:"")+(c?":"+c:"")+u,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var h=new i(e);return t&&h.on("response",t),h},l.get=function(e,t){var n=l.request(e,t);return n.end(),n},l.ClientRequest=i,l.IncomingMessage=r.IncomingMessage,l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.globalAgent=new l.Agent,l.STATUS_CODES=s,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},8725:(e,t,n)=>{var i;function r(){if(void 0!==i)return i;if(n.g.XMLHttpRequest){i=new n.g.XMLHttpRequest;try{i.open("GET",n.g.XDomainRequest?"/":"https://example.com")}catch(e){i=null}}else i=null;return i}function a(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function s(e){return"function"==typeof e}t.fetch=s(n.g.fetch)&&s(n.g.ReadableStream),t.writableStream=s(n.g.WritableStream),t.abortController=s(n.g.AbortController),t.arraybuffer=t.fetch||a("arraybuffer"),t.msstream=!t.fetch&&a("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&a("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&s(r().overrideMimeType),i=null},1989:(e,t,n)=>{var i=n(8764).Buffer,r=n(4155),a=n(8725),s=n(5717),o=n(5676),l=n(925),c=o.IncomingMessage,u=o.readyStates,h=e.exports=function(e){var t,n=this;l.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+i.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){n.setHeader(t,e.headers[t])}));var r=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!a.abortController)r=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}n._mode=function(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":"text"}(t,r),n._fetchTimer=null,n._socketTimeout=null,n._socketTimer=null,n.on("finish",(function(){n._onFinish()}))};s(h,l.Writable),h.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===d.indexOf(n)&&(this._headers[n]={name:e,value:t})},h.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},h.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},h.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var i=e._headers,s=null;"GET"!==t.method&&"HEAD"!==t.method&&(s=new Blob(e._body,{type:(i["content-type"]||{}).value||""}));var o=[];if(Object.keys(i).forEach((function(e){var t=i[e].name,n=i[e].value;Array.isArray(n)?n.forEach((function(e){o.push([t,e])})):o.push([t,n])})),"fetch"===e._mode){var l=null;if(a.abortController){var c=new AbortController;l=c.signal,e._fetchAbortController=c,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=n.g.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}n.g.fetch(e._opts.url,{method:e._opts.method,headers:o,body:s||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:l}).then((function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()}),(function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)}))}else{var h=e._xhr=new n.g.XMLHttpRequest;try{h.open(e._opts.method,e._opts.url,!0)}catch(t){return void r.nextTick((function(){e.emit("error",t)}))}"responseType"in h&&(h.responseType=e._mode),"withCredentials"in h&&(h.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(h.timeout=t.requestTimeout,h.ontimeout=function(){e.emit("requestTimeout")}),o.forEach((function(e){h.setRequestHeader(e[0],e[1])})),e._response=null,h.onreadystatechange=function(){switch(h.readyState){case u.LOADING:case u.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(h.onprogress=function(){e._onXHRProgress()}),h.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{h.send(s)}catch(t){return void r.nextTick((function(){e.emit("error",t)}))}}}},h.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))},h.prototype._connect=function(){var e=this;e._destroyed||(e._response=new c(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},h.prototype._write=function(e,t,n){this._body.push(e),n()},h.prototype._resetTimers=function(e){var t=this;n.g.clearTimeout(t._socketTimer),t._socketTimer=null,e?(n.g.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=n.g.setTimeout((function(){t.emit("timeout")}),t._socketTimeout))},h.prototype.abort=h.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)},h.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),l.Writable.prototype.end.call(this,e,t,n)},h.prototype.setTimeout=function(e,t){var n=this;t&&n.once("timeout",t),n._socketTimeout=e,n._resetTimers(!1)},h.prototype.flushHeaders=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},5676:(e,t,n)=>{var i=n(4155),r=n(8764).Buffer,a=n(8725),s=n(5717),o=n(925),l=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=t.IncomingMessage=function(e,t,n,s){var l=this;if(o.Readable.call(l),l._mode=n,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",(function(){i.nextTick((function(){l.emit("close")}))})),"fetch"===n){if(l._fetchResponse=t,l.url=t.url,l.statusCode=t.status,l.statusMessage=t.statusText,t.headers.forEach((function(e,t){l.headers[t.toLowerCase()]=e,l.rawHeaders.push(t,e)})),a.writableStream){var c=new WritableStream({write:function(e){return s(!1),new Promise((function(t,n){l._destroyed?n():l.push(r.from(e))?t():l._resumeFetch=t}))},close:function(){s(!0),l._destroyed||l.push(null)},abort:function(e){s(!0),l._destroyed||l.emit("error",e)}});try{return void t.body.pipeTo(c).catch((function(e){s(!0),l._destroyed||l.emit("error",e)}))}catch(e){}}var u=t.body.getReader();!function e(){u.read().then((function(t){l._destroyed||(s(t.done),t.done?l.push(null):(l.push(r.from(t.value)),e()))})).catch((function(e){s(!0),l._destroyed||l.emit("error",e)}))}()}else if(l._xhr=e,l._pos=0,l.url=e.responseURL,l.statusCode=e.status,l.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===l.headers[n]&&(l.headers[n]=[]),l.headers[n].push(t[2])):void 0!==l.headers[n]?l.headers[n]+=", "+t[2]:l.headers[n]=t[2],l.rawHeaders.push(t[1],t[2])}})),l._charset="x-user-defined",!a.overrideMimeType){var h=l.rawHeaders["mime-type"];if(h){var d=h.match(/;\s*charset=([^;])(;|$)/);d&&(l._charset=d[1].toLowerCase())}l._charset||(l._charset="utf-8")}};s(c,o.Readable),c.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},c.prototype._onXHRProgress=function(e){var t=this,i=t._xhr,a=null;switch(t._mode){case"text":if((a=i.responseText).length>t._pos){var s=a.substr(t._pos);if("x-user-defined"===t._charset){for(var o=r.alloc(s.length),c=0;c<s.length;c++)o[c]=255&s.charCodeAt(c);t.push(o)}else t.push(s,t._charset);t._pos=a.length}break;case"arraybuffer":if(i.readyState!==l.DONE||!i.response)break;a=i.response,t.push(r.from(new Uint8Array(a)));break;case"moz-chunked-arraybuffer":if(a=i.response,i.readyState!==l.LOADING||!a)break;t.push(r.from(new Uint8Array(a)));break;case"ms-stream":if(a=i.response,i.readyState!==l.LOADING)break;var u=new n.g.MSStreamReader;u.onprogress=function(){u.result.byteLength>t._pos&&(t.push(r.from(new Uint8Array(u.result.slice(t._pos)))),t._pos=u.result.byteLength)},u.onload=function(){e(!0),t.push(null)},u.readAsArrayBuffer(a)}t._xhr.readyState===l.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}},7303:e=>{"use strict";var t={};function n(e,n,i){i||(i=Error);var r=function(e){var t,i;function r(t,i,r){return e.call(this,function(e,t,i){return"string"==typeof n?n:n(e,t,i)}(t,i,r))||this}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,r}(i);r.prototype.name=i.name,r.prototype.code=e,t[e]=r}function i(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,a,s,o,l;if("string"==typeof t&&(a="not ",t.substr(0,a.length)===a)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(r," ").concat(i(t,"type"));else{var c=("number"!=typeof l&&(l=0),l+".".length>(o=e).length||-1===o.indexOf(".",l)?"argument":"property");s='The "'.concat(e,'" ').concat(c," ").concat(r," ").concat(i(t,"type"))}return s+". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},9560:(e,t,n)=>{"use strict";var i=n(4155),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var a=n(4002),s=n(3313);n(5717)(u,a);for(var o=r(s.prototype),l=0;l<o.length;l++){var c=o[l];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||i.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},4842:(e,t,n)=>{"use strict";e.exports=r;var i=n(1846);function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}n(5717)(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},4002:(e,t,n)=>{"use strict";var i,r=n(4155);e.exports=C,C.ReadableState=T,n(7187).EventEmitter;var a,s=function(e,t){return e.listeners(t).length},o=n(1463),l=n(8764).Buffer,c=n.g.Uint8Array||function(){},u=n(3646);a=u&&u.debuglog?u.debuglog("stream"):function(){};var h,d,f,p=n(6641),m=n(3369),g=n(624).getHighWaterMark,y=n(7303).q,v=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(5717)(C,o);var S=m.errorOrDestroy,k=["error","close","destroy","pause","resume"];function T(e,t,r){i=i||n(9560),e=e||{},"boolean"!=typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=n(2553).s),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function C(e){if(i=i||n(9560),!(this instanceof C))return new C(e);var t=this instanceof i;this._readableState=new T(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function x(e,t,n,i,r){a("readableAddChunk",t);var s,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,L(e)))}}(e,o);else if(r||(s=function(e,t){var n,i;return i=t,l.isBuffer(i)||i instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],t)),n}(o,t)),s)S(e,s);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),i)o.endEmitted?S(e,new w):E(e,o,t,!0);else if(o.ended)S(e,new b);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?E(e,o,t,!1):O(e,o)):E(e,o,t,!1)}else i||(o.reading=!1,O(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function E(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&A(e)),O(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=m.destroy,C.prototype._undestroy=m.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=l.from(e,t),t=""),n=!0),x(this,e,t,!1,n)},C.prototype.unshift=function(e){return x(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){h||(h=n(2553).s);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,r="";null!==i;)r+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var P=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(L,e))}function L(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,$(e)}function O(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(a("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function D(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){a("readable nexttick read 0"),e.read(0)}function F(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),$(e),t.flowing&&!t.reading&&e.read(0)}function $(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function M(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(U,t,e))}function U(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function j(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return a("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):A(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&M(this),null;var i,r=t.needReadable;return a("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&a("length less than watermark",r=!0),t.ended||t.reading?a("reading or ended",r=!1):r&&(a("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(i=e>0?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==i&&this.emit("data",i),i},C.prototype._read=function(e){S(this,new _("_read()"))},C.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,a("pipe count=%d opts=%j",i.pipesCount,t);var o=t&&!1===t.end||e===r.stdout||e===r.stderr?m:l;function l(){a("onend"),e.end()}i.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",(function t(r,s){a("onunpipe"),r===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,a("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),n.removeListener("end",l),n.removeListener("end",m),n.removeListener("data",h),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;a("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,$(e))}}(n);e.on("drain",c);var u=!1;function h(t){a("ondata");var r=e.write(t);a("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==j(i.pipes,e))&&!u&&(a("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function d(t){a("onerror",t),m(),e.removeListener("error",d),0===s(e,"error")&&S(e,t)}function f(){e.removeListener("finish",p),m()}function p(){a("onfinish"),e.removeListener("close",f),m()}function m(){a("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on(t,n)}(e,"error",d),e.once("close",f),e.once("finish",p),e.emit("pipe",n),i.flowing||(a("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<r;a++)i[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=j(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?A(this):i.reading||r.nextTick(N,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(D,this),n},C.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(D,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(F,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",(function(){if(a("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){a("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r||(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var s=0;s<k.length;s++)e.on(k[s],this.emit.bind(this,k[s]));return this._read=function(t){a("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(6819)),d(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=B,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(e,t){return void 0===f&&(f=n(8869)),f(C,e,t)})},1846:(e,t,n)=>{"use strict";e.exports=u;var i=n(7303).q,r=i.ERR_METHOD_NOT_IMPLEMENTED,a=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=i.ERR_TRANSFORM_WITH_LENGTH_0,l=n(9560);function c(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new a);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}n(5717)(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new r("_transform()"))},u.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},3313:(e,t,n)=>{"use strict";var i,r=n(4155);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(undefined),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=C,C.WritableState=T;var s,o={deprecate:n(4927)},l=n(1463),c=n(8764).Buffer,u=n.g.Uint8Array||function(){},h=n(3369),d=n(624).getHighWaterMark,f=n(7303).q,p=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,y=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,_=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,S=h.errorOrDestroy;function k(){}function T(e,t,s){i=i||n(9560),e=e||{},"boolean"!=typeof s&&(s=t instanceof i),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,a=n.writecb;if("function"!=typeof a)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,a){--t.pendingcb,n?(r.nextTick(a,i),r.nextTick(L,e,t),e._writableState.errorEmitted=!0,S(e,i)):(a(i),e._writableState.errorEmitted=!0,S(e,i),L(e,t))}(e,n,i,t,a);else{var s=I(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||P(e,n),i?r.nextTick(E,e,n,s,a):E(e,n,s,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function C(e){var t=this instanceof(i=i||n(9560));if(!t&&!s.call(C,this))return new C(e);this._writableState=new T(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function x(e,t,n,i,r,a,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):n?e._writev(r,t.onwrite):e._write(r,a,t.onwrite),t.sync=!1}function E(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),L(e,t)}function P(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var o=0,l=!0;n;)r[o]=n,n.isBuf||(l=!1),n=n.next,o+=1;r.allBuffers=l,x(e,t,!0,t.length,r,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,h=n.callback;if(x(e,t,!1,t.objectMode?1:c.length,c,u,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),L(e,t)}))}function L(e,t){var n=I(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n(5717)(C,l),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===C&&e&&e._writableState instanceof T}})):s=function(e){return e instanceof this},C.prototype.pipe=function(){S(this,new y)},C.prototype.write=function(e,t,n){var i,a=this._writableState,s=!1,o=!a.objectMode&&(i=e,c.isBuffer(i)||i instanceof u);return o&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof n&&(n=k),a.ending?function(e,t){var n=new _;S(e,n),r.nextTick(t,n)}(this,n):(o||function(e,t,n,i){var a;return null===n?a=new b:"string"==typeof n||t.objectMode||(a=new p("chunk",["string","Buffer"],n)),!a||(S(e,a),r.nextTick(i,a),!1)}(this,a,e,n))&&(a.pendingcb++,s=function(e,t,n,i,r,a){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}(t,i,r);i!==s&&(n=!0,r="buffer",i=s)}var o=t.objectMode?1:i.length;t.length+=o;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,o,i,r,a);return l}(this,a,o,e,t,n)),s},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new m("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,L(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=h.destroy,C.prototype._undestroy=h.undestroy,C.prototype._destroy=function(e,t){t(e)}},6819:(e,t,n)=>{"use strict";var i,r=n(4155);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(5467),o=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function m(e){var t=e[o];if(null!==t){var n=e[f].read();null!==n&&(e[h]=null,e[o]=null,e[l]=null,t(p(n,!1)))}}function g(e){r.nextTick(m,e)}var y=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((a(i={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[c]?n(e[c]):t(p(void 0,!0))}))}));var n,i=this[h];if(i)n=new Promise(function(e,t){return function(n,i){e.then((function(){t[u]?n(p(void 0,!0)):t[d](n,i)}),i)}}(i,this));else{var a=this[f].read();if(null!==a)return Promise.resolve(p(a,!1));n=new Promise(this[d])}return this[h]=n,n}},Symbol.asyncIterator,(function(){return this})),a(i,"return",(function(){var e=this;return new Promise((function(t,n){e[f].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),i),y);e.exports=function(e){var t,n=Object.create(v,(a(t={},f,{value:e,writable:!0}),a(t,o,{value:null,writable:!0}),a(t,l,{value:null,writable:!0}),a(t,c,{value:null,writable:!0}),a(t,u,{value:e._readableState.endEmitted,writable:!0}),a(t,d,{value:function(e,t){var i=n[f].read();i?(n[h]=null,n[o]=null,n[l]=null,e(p(i,!1))):(n[o]=e,n[l]=t)},writable:!0}),t));return n[h]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[l];return null!==t&&(n[h]=null,n[o]=null,n[l]=null,t(e)),void(n[c]=e)}var i=n[o];null!==i&&(n[h]=null,n[o]=null,n[l]=null,i(p(void 0,!0))),n[u]=!0})),e.on("readable",g.bind(null,n)),n}},6641:(e,t,n)=>{"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=n(8764).Buffer,o=n(1408).inspect,l=o&&o.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,i,r=s.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=a.data,n=r,i=o,s.prototype.copy.call(t,n,i),o+=a.data.length,a=a.next;return r}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,i=t.data;for(e-=i.length;t=t.next;){var r=t.data,a=e>r.length?r.length:e;if(a===r.length?i+=r:i+=r.slice(0,e),0==(e-=a)){a===r.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(a));break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,i=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var r=n.data,a=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,a),0==(e-=a)){a===r.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=r.slice(a));break}++i}return this.length-=i,t}},{key:l,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&a(t.prototype,n),e}()},3369:(e,t,n)=>{"use strict";var i=n(4155);function r(e,t){s(e,t),a(e)}function a(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return o||l?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(s,this,e)):i.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?i.nextTick(a,n):(n._writableState.errorEmitted=!0,i.nextTick(r,n,e)):i.nextTick(r,n,e):t?(i.nextTick(a,n),t(e)):i.nextTick(a,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,i=e._writableState;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},5467:(e,t,n)=>{"use strict";var i=n(7303).q.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,n,a){if("function"==typeof n)return e(t,null,n);n||(n={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i)}}}(a||r);var s=n.readable||!1!==n.readable&&t.readable,o=n.writable||!1!==n.writable&&t.writable,l=function(){t.writable||u()},c=t._writableState&&t._writableState.finished,u=function(){o=!1,c=!0,s||a.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){s=!1,h=!0,o||a.call(t)},f=function(e){a.call(t,e)},p=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new i),a.call(t,e)):o&&!c?(t._writableState&&t._writableState.ended||(e=new i),a.call(t,e)):void 0},m=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",p),t.req?m():t.on("request",m)):o&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",d),t.on("finish",u),!1!==n.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}},8869:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9689:(e,t,n)=>{"use strict";var i,r=n(7303).q,a=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function l(e,t,r,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var o=!1;e.on("close",(function(){o=!0})),void 0===i&&(i=n(5467)),i(e,{readable:t,writable:r},(function(e){if(e)return a(e);o=!0,a()}));var l=!1;return function(t){if(!o&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void a(t||new s("pipe"))}}function c(e){e()}function u(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var s=t.map((function(e,n){var a=n<t.length-1;return l(e,a,n>0,(function(e){i||(i=e),e&&s.forEach(c),a||(s.forEach(c),r(i))}))}));return t.reduce(u)}},624:(e,t,n)=>{"use strict";var i=n(7303).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,r){var a=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new i(r?n:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},1463:(e,t,n)=>{e.exports=n(7187).EventEmitter},925:(e,t,n)=>{(t=e.exports=n(4002)).Stream=t,t.Readable=t,t.Writable=n(3313),t.Duplex=n(9560),t.Transform=n(1846),t.PassThrough=n(4842),t.finished=n(5467),t.pipeline=n(9689)},2553:(e,t,n)=>{"use strict";var i=n(9509).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},a.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=s(t[i]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--i<n||-2===r?0:(r=s(t[i]))>=0?(r>0&&(e.lastNeed=r-2),r):--i<n||-2===r?0:(r=s(t[i]))>=0?(r>0&&(2===r?r=0:e.lastNeed=r-3),r):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},9945:function(e){var t,n,i,r,a;t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var r=a.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return i.alwaysNormalize?(s.path=a.normalizePath(s.path),a.buildURLFromParts(s)):t;var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=n.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var c={scheme:o.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(c.netLoc=o.netLoc,"/"!==s.path[0]))if(s.path){var u=o.path,h=u.substring(0,u.lastIndexOf("/")+1)+s.path;c.path=a.normalizePath(h)}else c.path=o.path,s.params||(c.params=o.params,s.query||(c.query=o.query));return null===c.path&&(c.path=i.alwaysNormalize?a.normalizePath(s.path):s.path),a.buildURLFromParts(c)},parseURL:function(e){var n=t.exec(e);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=a},2511:function(e,t,n){var i;e=n.nmd(e),function(r){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n.g&&n.g;a.global!==a&&a.window!==a&&a.self;var s,o=2147483647,l=36,c=/^xn--/,u=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function m(e){throw RangeError(d[e])}function g(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function y(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+g((e=e.replace(h,".")).split("."),t).join(".")}function v(e){for(var t,n,i=[],r=0,a=e.length;r<a;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<a?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+p(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var i=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;i+=l)e=f(e/35);return f(i+36*e/(e+38))}function S(e){var t,n,i,r,a,s,c,u,h,d,p,g=[],y=e.length,v=0,_=128,S=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&m("not-basic"),g.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<y;){for(a=v,s=1,c=l;r>=y&&m("invalid-input"),((u=(p=e.charCodeAt(r++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:l)>=l||u>f((o-v)/s))&&m("overflow"),v+=u*s,!(u<(h=c<=S?1:c>=S+26?26:c-S));c+=l)s>f(o/(d=l-h))&&m("overflow"),s*=d;S=w(v-a,t=g.length+1,0==a),f(v/t)>o-_&&m("overflow"),_+=f(v/t),v%=t,g.splice(v++,0,_)}return b(g)}function k(e){var t,n,i,r,a,s,c,u,h,d,g,y,b,S,k,T=[];for(y=(e=v(e)).length,t=128,n=0,a=72,s=0;s<y;++s)(g=e[s])<128&&T.push(p(g));for(i=r=T.length,r&&T.push("-");i<y;){for(c=o,s=0;s<y;++s)(g=e[s])>=t&&g<c&&(c=g);for(c-t>f((o-n)/(b=i+1))&&m("overflow"),n+=(c-t)*b,t=c,s=0;s<y;++s)if((g=e[s])<t&&++n>o&&m("overflow"),g==t){for(u=n,h=l;!(u<(d=h<=a?1:h>=a+26?26:h-a));h+=l)k=u-d,S=l-d,T.push(p(_(d+k%S,0))),u=f(k/S);T.push(p(_(u,0))),a=w(n,b,i==r),n=0,++i}++n,++t}return T.join("")}s={version:"1.3.2",ucs2:{decode:v,encode:b},decode:S,encode:k,toASCII:function(e){return y(e,(function(e){return u.test(e)?"xn--"+k(e):e}))},toUnicode:function(e){return y(e,(function(e){return c.test(e)?S(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()},8575:(e,t,n)=>{"use strict";var i=n(2511),r=n(2502);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return r.isString(e)&&(e=b(e)),e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),h=["%","/","?",";","#"].concat(u),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(7673);function b(e,t,n){if(e&&r.isObject(e)&&e instanceof a)return e;var i=new a;return i.parse(e,t,n),i}a.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),o=-1!==a&&a<e.indexOf("#")?"?":"#",c=e.split(o);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(o);if(b=b.trim(),!n&&1===e.split("#").length){var _=l.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=s.exec(b);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===b.substr(0,2);!k||w&&g[w]||(b=b.substr(2),this.slashes=!0)}if(!g[w]&&(k||w&&!y[w])){for(var T,C,x=-1,E=0;E<d.length;E++)-1!==(P=b.indexOf(d[E]))&&(-1===x||P<x)&&(x=P);for(-1!==(C=-1===x?b.lastIndexOf("@"):b.lastIndexOf("@",x))&&(T=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(T)),x=-1,E=0;E<h.length;E++){var P;-1!==(P=b.indexOf(h[E]))&&(-1===x||P<x)&&(x=P)}-1===x&&(x=b.length),this.host=b.slice(0,x),b=b.slice(x),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var A=this.hostname.split(/\./),L=(E=0,A.length);E<L;E++){var O=A[E];if(O&&!O.match(f)){for(var R="",D=0,N=O.length;D<N;D++)O.charCodeAt(D)>127?R+="x":R+=O[D];if(!R.match(f)){var F=A.slice(0,E),$=A.slice(E+1),B=O.match(p);B&&(F.push(B[1]),$.unshift(B[2])),$.length&&(b="/"+$.join(".")+b),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var M=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+M,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[S])for(E=0,L=u.length;E<L;E++){var j=u[E];if(-1!==b.indexOf(j)){var V=encodeURIComponent(j);V===j&&(V=escape(j)),b=b.split(j).join(V)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var q=b.indexOf("?");if(-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,q)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){M=this.pathname||"";var z=this.search||"";this.path=M+z}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",a=!1,s="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),t+a+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+i},a.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(r.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,i=Object.keys(this),s=0;s<i.length;s++){var o=i[s];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var f=h[d];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||n.host&&e.pathname,S=w,k=n.pathname&&n.pathname.split("/")||[],T=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),w=w&&(""===p[0]||""===k[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,k=p;else if(p.length)k||(k=[]),k.pop(),k=k.concat(p),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search))return T&&(n.hostname=n.host=k.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift())),n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=k.slice(-1)[0],x=(n.host||e.host||k.length>1)&&("."===C||".."===C)||""===C,E=0,P=k.length;P>=0;P--)"."===(C=k[P])?k.splice(P,1):".."===C?(k.splice(P,1),E++):E&&(k.splice(P,1),E--);if(!w&&!S)for(;E--;E)k.unshift("..");!w||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),x&&"/"!==k.join("/").substr(-1)&&k.push("");var I,A=""===k[0]||k[0]&&"/"===k[0].charAt(0);return T&&(n.hostname=n.host=A?"":k.length?k.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift())),(w=w||n.host&&k.length)&&!A&&k.unshift(""),k.length?n.pathname=k.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},4927:(e,t,n)=>{function i(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},2020:(e,t,n)=>{"use strict";var i=n(4029),r=n(3083),a=n(1924),s=a("Object.prototype.toString"),o=n(6410)(),l="undefined"==typeof globalThis?n.g:globalThis,c=r(),u=a("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},h=a("String.prototype.slice"),d={},f=n(1407),p=Object.getPrototypeOf;o&&f&&p&&i(c,(function(e){var t=new l[e];if(Symbol.toStringTag in t){var n=p(t),i=f(n,Symbol.toStringTag);if(!i){var r=p(n);i=f(r,Symbol.toStringTag)}d[e]=i.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!o||!(Symbol.toStringTag in e)){var t=h(s(e),8,-1);return u(c,t)>-1}return!!f&&function(e){var t=!1;return i(d,(function(n,i){if(!t)try{t=n.call(e)===i}catch(e){}})),t}(e)}},3395:(e,t,n)=>{"use strict";var i=n(4029),r=n(3083),a=n(1924),s=a("Object.prototype.toString"),o=n(6410)(),l="undefined"==typeof globalThis?n.g:globalThis,c=r(),u=a("String.prototype.slice"),h={},d=n(1407),f=Object.getPrototypeOf;o&&d&&f&&i(c,(function(e){if("function"==typeof l[e]){var t=new l[e];if(Symbol.toStringTag in t){var n=f(t),i=d(n,Symbol.toStringTag);if(!i){var r=f(n);i=d(r,Symbol.toStringTag)}h[e]=i.get}}}));var p=n(2020);e.exports=function(e){return!!p(e)&&(o&&Symbol.toStringTag in e?function(e){var t=!1;return i(h,(function(n,i){if(!t)try{var r=n.call(e);r===i&&(t=r)}catch(e){}})),t}(e):u(s(e),8,-1))}},384:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},5955:(e,t,n)=>{"use strict";var i=n(2584),r=n(8662),a=n(3395),s=n(2020);function o(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,u=o(Object.prototype.toString),h=o(Number.prototype.valueOf),d=o(String.prototype.valueOf),f=o(Boolean.prototype.valueOf);if(l)var p=o(BigInt.prototype.valueOf);if(c)var m=o(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"[object Map]"===u(e)}function v(e){return"[object Set]"===u(e)}function b(e){return"[object WeakMap]"===u(e)}function _(e){return"[object WeakSet]"===u(e)}function w(e){return"[object ArrayBuffer]"===u(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(w.working?w(e):e instanceof ArrayBuffer)}function k(e){return"[object DataView]"===u(e)}function T(e){return"undefined"!=typeof DataView&&(k.working?k(e):e instanceof DataView)}t.isArgumentsObject=i,t.isGeneratorFunction=r,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||T(e)},t.isUint8Array=function(e){return"Uint8Array"===a(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===a(e)},t.isUint16Array=function(e){return"Uint16Array"===a(e)},t.isUint32Array=function(e){return"Uint32Array"===a(e)},t.isInt8Array=function(e){return"Int8Array"===a(e)},t.isInt16Array=function(e){return"Int16Array"===a(e)},t.isInt32Array=function(e){return"Int32Array"===a(e)},t.isFloat32Array=function(e){return"Float32Array"===a(e)},t.isFloat64Array=function(e){return"Float64Array"===a(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===a(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===a(e)},y.working="undefined"!=typeof Map&&y(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(y.working?y(e):e instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(v.working?v(e):e instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(b.working?b(e):e instanceof WeakMap)},_.working="undefined"!=typeof WeakSet&&_(new WeakSet),t.isWeakSet=function(e){return _(e)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),t.isArrayBuffer=S,k.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&k(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=T;var C="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function x(e){return"[object SharedArrayBuffer]"===u(e)}function E(e){return void 0!==C&&(void 0===x.working&&(x.working=x(new C)),x.working?x(e):e instanceof C)}function P(e){return g(e,h)}function I(e){return g(e,d)}function A(e){return g(e,f)}function L(e){return l&&g(e,p)}function O(e){return c&&g(e,m)}t.isSharedArrayBuffer=E,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===u(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===u(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===u(e)},t.isGeneratorObject=function(e){return"[object Generator]"===u(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===u(e)},t.isNumberObject=P,t.isStringObject=I,t.isBooleanObject=A,t.isBigIntObject=L,t.isSymbolObject=O,t.isBoxedPrimitive=function(e){return P(e)||I(e)||A(e)||L(e)||O(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||E(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},9539:(e,t,n)=>{var i=n(4155),r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},a=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,r=i.length,s=String(e).replace(a,(function(e){if("%%"===e)return"%";if(n>=r)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),o=i[n];n<r;o=i[++n])y(o)||!S(o)?s+=" "+o:s+=" "+c(o);return s},t.deprecate=function(e,n){if(void 0!==i&&!0===i.noDeprecation)return e;if(void 0===i)return function(){return t.deprecate(e,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(i.throwDeprecation)throw new Error(n);i.traceDeprecation?console.trace(n):console.error(n),r=!0}return e.apply(this,arguments)}};var s={},o=/^$/;if(i.env.NODE_DEBUG){var l=i.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+l+"$","i")}function c(e,n){var i={seen:[],stylize:h};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),g(n)?i.showHidden=n:n&&t._extend(i,n),_(i.showHidden)&&(i.showHidden=!1),_(i.depth)&&(i.depth=2),_(i.colors)&&(i.colors=!1),_(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=u),d(i,e,i.depth)}function u(e,t){var n=c.styles[t];return n?"["+c.colors[n][0]+"m"+e+"["+c.colors[n][1]+"m":e}function h(e,t){return e}function d(e,n,i){if(e.customInspect&&n&&C(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,e);return b(r)||(r=d(e,r,i)),r}var a=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,n);if(a)return a;var s=Object.keys(n),o=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),T(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(C(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return e.stylize(Date.prototype.toString.call(n),"date");if(T(n))return f(n)}var c,u="",h=!1,S=["{","}"];return m(n)&&(h=!0,S=["[","]"]),C(n)&&(u=" [Function"+(n.name?": "+n.name:"")+"]"),w(n)&&(u=" "+RegExp.prototype.toString.call(n)),k(n)&&(u=" "+Date.prototype.toUTCString.call(n)),T(n)&&(u=" "+f(n)),0!==s.length||h&&0!=n.length?i<0?w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=h?function(e,t,n,i,r){for(var a=[],s=0,o=t.length;s<o;++s)A(t,String(s))?a.push(p(e,t,n,i,String(s),!0)):a.push("");return r.forEach((function(r){r.match(/^\d+$/)||a.push(p(e,t,n,i,r,!0))})),a}(e,n,i,o,s):s.map((function(t){return p(e,n,i,o,t,h)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,u,S)):S[0]+u+S[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,i,r,a){var s,o,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?o=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(o=e.stylize("[Setter]","special")),A(i,r)||(s="["+r+"]"),o||(e.seen.indexOf(l.value)<0?(o=y(n)?d(e,l.value,null):d(e,l.value,n-1)).indexOf("\n")>-1&&(o=a?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),_(s)){if(a&&r.match(/^\d+$/))return o;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+o}function m(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function _(e){return void 0===e}function w(e){return S(e)&&"[object RegExp]"===x(e)}function S(e){return"object"==typeof e&&null!==e}function k(e){return S(e)&&"[object Date]"===x(e)}function T(e){return S(e)&&("[object Error]"===x(e)||e instanceof Error)}function C(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(o.test(e)){var n=i.pid;s[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,i)}}else s[e]=function(){};return s[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n(5955),t.isArray=m,t.isBoolean=g,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=w,t.types.isRegExp=w,t.isObject=S,t.isDate=k,t.types.isDate=k,t.isError=T,t.types.isNativeError=T,t.isFunction=C,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(384);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",I(),t.format.apply(t,arguments))},t.inherits=n(5717),t._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var L="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(L&&e[L]){var t;if("function"!=typeof(t=e[L]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,i=new Promise((function(e,i){t=e,n=i})),r=[],a=0;a<arguments.length;a++)r.push(arguments[a]);r.push((function(e,i){e?n(e):t(i)}));try{e.apply(this,r)}catch(e){n(e)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),L&&Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=L,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var r=t.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var a=this,s=function(){return r.apply(a,arguments)};e.apply(this,t).then((function(e){i.nextTick(s.bind(null,null,e))}),(function(e){i.nextTick(O.bind(null,e,s))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,r(e)),t}},3649:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Rc});var i=n(8908),r=n.n(i),a=n(9144),s=n.n(a);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}var l=n(7537),c=n.n(l);function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}var f=n(5974),p=n.n(f),m=n(9603),g=n.n(m),y=n(3407),v=n.n(y);function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e,t,n){return _=b()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&h(r,n.prototype),r},_.apply(null,arguments)}var w=n(9945),S=n.n(w),k="http://example.com";const T=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=r().location&&r().location.href||"");var n="function"==typeof r().URL,i=/^\/\//.test(e),a=!r().location&&!/\/\//i.test(e);if(n?e=new(r().URL)(e,r().location||k):/\/\//i.test(e)||(e=S().buildAbsoluteURL(r().location&&r().location.href||"",e)),n){var s=new URL(t,e);return a?s.href.slice(k.length):i?s.href.slice(s.protocol.length):s.href}return S().buildAbsoluteURL(e,t)};var C=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=t.length,s=0;s<a;++s)t[s].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),x=n(8764).Buffer;function E(e){for(var t,n=(t=e,r().atob?r().atob(t):x.from(t,"base64").toString("binary")),i=new Uint8Array(n.length),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}var P,I,A,L=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return d(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(C),O=String.fromCharCode(9),R=function(e){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},D=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},r=n.length;r--;)""!==n[r]&&((t=/([^=]*)=(.*)/.exec(n[r]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),i[t[0]]=t[1]);return i},N=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}d(t,e);var n=t.prototype;return n.push=function(e){var t,n,i=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var i=n(e);return i===e?t:t.concat([i])}),[e]).forEach((function(e){for(var r=0;r<i.customParsers.length;r++)if(i.customParsers[r].call(i,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))i.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void i.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void i.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(e))return n=o(R(t[1]),{type:"tag",tagType:"byterange"}),void i.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void i.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var a=D(t[1]);a.URI&&(n.uri=a.URI),a.BYTERANGE&&(n.byterange=R(a.BYTERANGE))}i.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=D(t[1]),n.attributes.RESOLUTION){var s=n.attributes.RESOLUTION.split("x"),l={};s[0]&&(l.width=parseInt(s[0],10)),s[1]&&(l.height=parseInt(s[1],10)),n.attributes.RESOLUTION=l}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}i.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=D(t[1])),void i.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))i.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))i.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void i.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=D(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void i.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=D(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void i.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n);if((t=/^#EXT-X-SKIP:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"skip"}).attributes=D(t[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(O)),void i.trigger("data",n);if((t=/^#EXT-X-PART:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part"}).attributes=D(t[1]),["DURATION"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=R(n.attributes.BYTERANGE)),void i.trigger("data",n);if((t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"server-control"}).attributes=D(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),void i.trigger("data",n);if((t=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part-inf"}).attributes=D(t[1]),["PART-TARGET"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),void i.trigger("data",n);if((t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"preload-hint"}).attributes=D(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(n.attributes.hasOwnProperty(e)){n.attributes[e]=parseInt(n.attributes[e],10);var t="BYTERANGE-LENGTH"===e?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[t]=n.attributes[e],delete n.attributes[e]}})),void i.trigger("data",n);if((t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"rendition-report"}).attributes=D(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseInt(n.attributes[e],10))})),void i.trigger("data",n);i.trigger("data",{type:"tag",data:e.slice(4)})}}}else i.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,i=e.customType,r=e.dataParser,a=e.segment;"function"!=typeof r&&(r=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:r(e),customType:i,segment:a}),!0}))},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))},t}(C),F=function(e){var t={};return Object.keys(e).forEach((function(n){var i;t[(i=n,i.toLowerCase().replace(/-(\w)/g,(function(e){return e[1].toUpperCase()})))]=e[n]})),t},$=function(e){var t=e.serverControl,n=e.targetDuration,i=e.partTargetDuration;if(t){var r="#EXT-X-SERVER-CONTROL",a="holdBack",s="partHoldBack",o=n&&3*n,l=i&&2*i;n&&!t.hasOwnProperty(a)&&(t[a]=o,this.trigger("info",{message:r+" defaulting HOLD-BACK to targetDuration * 3 ("+o+")."})),o&&t[a]<o&&(this.trigger("warn",{message:r+" clamping HOLD-BACK ("+t[a]+") to targetDuration * 3 ("+o+")"}),t[a]=o),i&&!t.hasOwnProperty(s)&&(t[s]=3*i,this.trigger("info",{message:r+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+t[s]+")."})),i&&t[s]<l&&(this.trigger("warn",{message:r+" clamping PART-HOLD-BACK ("+t[s]+") to partTargetDuration * 2 ("+l+")."}),t[s]=l)}},B=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new L,t.parseStream=new N,t.lineStream.pipe(t.parseStream);var n,i,r=u(t),a=[],s={},l=!1,c=function(){},h={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var f=0,p=0;return t.on("end",(function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&n&&(s.map=n),!s.key&&i&&(s.key=i),s.timeline||"number"!=typeof d||(s.timeline=d),t.manifest.preloadSegment=s)})),t.parseStream.on("data",(function(e){var t,u;({tag:function(){({version:function(){e.version&&(this.manifest.version=e.version)},"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(s.byterange=t,t.length=e.length,"offset"in e||(e.offset=f)),"offset"in e&&(s.byterange=t,t.offset=e.offset),f=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(s.duration=e.duration),0===e.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("com.microsoft.playready"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:e.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:E(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(i.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else i=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,d=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange),i&&(n.key=i)},"stream-inf":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||h,e.attributes?(s.attributes||(s.attributes={}),o(s.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||h,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(u={default:/yes/i.test(e.attributes.DEFAULT)}).default?u.autoselect=!0:u.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(u.language=e.attributes.LANGUAGE),e.attributes.URI&&(u.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(u.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(u.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(u.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=u}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){d+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),s.dateTimeString=e.dateTimeString,s.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):(this.manifest.targetDuration=e.duration,$.call(this,this.manifest))},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){s.cueOut=e.data},"cue-out-cont":function(){s.cueOutCont=e.data},"cue-in":function(){s.cueIn=e.data},skip:function(){this.manifest.skip=F(e.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",e.attributes,["SKIPPED-SEGMENTS"])},part:function(){var t=this;l=!0;var n=this.manifest.segments.length,i=F(e.attributes);s.parts=s.parts||[],s.parts.push(i),i.byterange&&(i.byterange.hasOwnProperty("offset")||(i.byterange.offset=p),p=i.byterange.offset+i.byterange.length);var r=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+r+" for segment #"+n,e.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((function(e,n){e.hasOwnProperty("lastPart")||t.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+n+" lacks required attribute(s): LAST-PART"})}))},"server-control":function(){var t=this.manifest.serverControl=F(e.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),$.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var t=this.manifest.segments.length,n=F(e.attributes),i=n.type&&"PART"===n.type;s.preloadHints=s.preloadHints||[],s.preloadHints.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=i?p:0,i&&(p=n.byterange.offset+n.byterange.length)));var r=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+r+" for segment #"+t,e.attributes,["TYPE","URI"]),n.type)for(var a=0;a<s.preloadHints.length-1;a++){var o=s.preloadHints[a];o.type&&o.type===n.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+r+" for segment #"+t+" has the same TYPE "+n.type+" as preload hint #"+a})}},"rendition-report":function(){var t=F(e.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);var n=this.manifest.renditionReports.length-1,i=["LAST-MSN","URI"];l&&i.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+n,e.attributes,i)},"part-inf":function(){this.manifest.partInf=F(e.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",e.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),$.call(this,this.manifest)}}[e.tagType]||c).call(r)},uri:function(){s.uri=e.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),i&&(s.key=i),s.timeline=d,n&&(s.map=n),p=0,s={}},comment:function(){},custom:function(){e.segment?(s.custom=s.custom||{},s.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(r)})),t}d(t,e);var n=t.prototype;return n.warnOnMissingAttributes_=function(e,t,n){var i=[];n.forEach((function(e){t.hasOwnProperty(e)||i.push(e)})),i.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+i.join(", ")})},n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n"),this.trigger("end")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(C),M={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},U=["video","audio","text"],j=["Video","Audio","Text"],V=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e},H=function(e){void 0===e&&(e="");var t=e.split(","),n=[];return t.forEach((function(e){var t;e=e.trim(),U.forEach((function(i){var r=M[i].exec(e.toLowerCase());if(r&&!(r.length<=1)){t=i;var a=e.substring(0,r[1].length),s=e.replace(a,"");n.push({type:a,details:s,mediaType:i})}})),t||n.push({type:e,details:"",mediaType:"unknown"})})),n},q=function(e){return void 0===e&&(e=""),M.audio.test(e.trim().toLowerCase())},z=function(e){if(e&&"string"==typeof e){var t,n=e.toLowerCase().split(",").map((function(e){return V(e.trim())})),i="video";1===n.length&&q(n[0])?i="audio":1===n.length&&(void 0===(t=n[0])&&(t=""),M.text.test(t.trim().toLowerCase()))&&(i="application");var r="mp4";return n.every((function(e){return M.mp4.test(e)}))?r="mp4":n.every((function(e){return M.webm.test(e)}))?r="webm":n.every((function(e){return M.ogg.test(e)}))&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}},W=function(e){return void 0===e&&(e=""),r().MediaSource&&r().MediaSource.isTypeSupported&&r().MediaSource.isTypeSupported(z(e))||!1},G=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<j.length;t++)if(M["muxer"+j[t]].test(e))return!0;return!1}))},K="mp4a.40.2",Y=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,X=/^application\/dash\+xml/i,Q=function(e){return Y.test(e)?"hls":X.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},Z=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},J=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||Z(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},ee=r().BigInt||Number,te=[ee("0x1"),ee("0x100"),ee("0x10000"),ee("0x1000000"),ee("0x100000000"),ee("0x10000000000"),ee("0x1000000000000"),ee("0x100000000000000"),ee("0x10000000000000000")],ne=(P=new Uint16Array([65484]),255===(I=new Uint8Array(P.buffer,P.byteOffset,P.byteLength))[0]||I[0],function(e,t){var n=void 0===t?{}:t,i=n.signed,r=void 0!==i&&i,a=n.le,s=void 0!==a&&a;e=J(e);var o=s?"reduce":"reduceRight",l=(e[o]?e[o]:Array.prototype[o]).call(e,(function(t,n,i){var r=s?i:Math.abs(i+1-e.length);return t+ee(n)*te[r]}),ee(0));if(r){var c=te[e.length]/ee(2)-ee(1);(l=ee(l))>c&&(l-=c,l-=c,l-=ee(2))}return Number(l)}),ie=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},re=function(e,t,n){var i=void 0===n?{}:n,r=i.offset,a=void 0===r?0:r,s=i.mask,o=void 0===s?[]:s;e=J(e);var l=(t=J(t)).every?t.every:Array.prototype.every;return t.length&&e.length-a>=t.length&&l.call(t,(function(t,n){return t===(o[n]?o[n]&e[a+n]:e[a+n])}))},ae=n(3969),se=function(e){return!!e&&"object"==typeof e},oe=function e(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.reduce((function(t,n){return"object"!=typeof n||Object.keys(n).forEach((function(i){Array.isArray(t[i])&&Array.isArray(n[i])?t[i]=t[i].concat(n[i]):se(t[i])&&se(n[i])?t[i]=e(t[i],n[i]):t[i]=n[i]})),t}),{})},le=function(e){return Object.keys(e).map((function(t){return e[t]}))},ce=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},ue=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},he=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},de=function(e){var t=e.baseUrl,n=void 0===t?"":t,i=e.source,a=void 0===i?"":i,s=e.range,o=void 0===s?"":s,l=e.indexRange,c=void 0===l?"":l,u={uri:a,resolvedUri:T(n||"",a)};if(o||c){var h,d=(o||c).split("-"),f=r().BigInt?r().BigInt(d[0]):parseInt(d[0],10),p=r().BigInt?r().BigInt(d[1]):parseInt(d[1],10);f<Number.MAX_SAFE_INTEGER&&"bigint"==typeof f&&(f=Number(f)),p<Number.MAX_SAFE_INTEGER&&"bigint"==typeof p&&(p=Number(p)),"bigint"==typeof(h="bigint"==typeof p||"bigint"==typeof f?r().BigInt(p)-r().BigInt(f)+r().BigInt(1):p-f+1)&&h<Number.MAX_SAFE_INTEGER&&(h=Number(h)),u.byterange={length:h,offset:f}}return u},fe=function(e){return e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e},pe={static:function(e){var t=e.duration,n=e.timescale,i=void 0===n?1:n,r=e.sourceDuration,a=e.periodDuration,s=fe(e.endNumber),o=t/i;return"number"==typeof s?{start:0,end:s}:"number"==typeof a?{start:0,end:a/o}:{start:0,end:r/o}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,i=e.availabilityStartTime,r=e.timescale,a=void 0===r?1:r,s=e.duration,o=e.periodStart,l=void 0===o?0:o,c=e.minimumUpdatePeriod,u=void 0===c?0:c,h=e.timeShiftBufferDepth,d=void 0===h?1/0:h,f=fe(e.endNumber),p=(t+n)/1e3,m=i+l,g=p+u-m,y=Math.ceil(g*a/s),v=Math.floor((p-m-d)*a/s),b=Math.floor((p-m)*a/s);return{start:Math.max(0,v),end:"number"==typeof f?f:Math.min(y,b)}}},me=function(e){var t=e.type,n=e.duration,i=e.timescale,r=void 0===i?1:i,a=e.periodDuration,s=e.sourceDuration,o=pe[t](e),l=function(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n}(o.start,o.end).map(function(e){return function(t){var n=e.duration,i=e.timescale,r=void 0===i?1:i,a=e.periodStart,s=e.startNumber;return{number:(void 0===s?1:s)+t,duration:n/r,timeline:a,time:t*n}}}(e));if("static"===t){var c=l.length-1,u="number"==typeof a?a:s;l[c].duration=u-n/r*c}return l},ge=function(e){var t=e.baseUrl,n=e.initialization,i=void 0===n?{}:n,r=e.sourceDuration,a=e.indexRange,s=void 0===a?"":a,o=e.periodStart,l=e.presentationTime,c=e.number,u=void 0===c?0:c,h=e.duration;if(!t)throw new Error("NO_BASE_URL");var d=de({baseUrl:t,source:i.sourceURL,range:i.range}),f=de({baseUrl:t,source:t,indexRange:s});if(f.map=d,h){var p=me(e);p.length&&(f.duration=p[0].duration,f.timeline=p[0].timeline)}else r&&(f.duration=r,f.timeline=o);return f.presentationTime=l||o,f.number=u,[f]},ye=function(e,t,n){var i,a=e.sidx.map?e.sidx.map:null,s=e.sidx.duration,o=e.timeline||0,l=e.sidx.byterange,c=l.offset+l.length,u=t.timescale,h=t.references.filter((function(e){return 1!==e.referenceType})),d=[],f=e.endList?"static":"dynamic",p=e.sidx.timeline,m=p,g=e.mediaSequence||0;i="bigint"==typeof t.firstOffset?r().BigInt(c)+t.firstOffset:c+t.firstOffset;for(var y=0;y<h.length;y++){var v,b=t.references[y],_=b.referencedSize,w=b.subsegmentDuration;v="bigint"==typeof i?i+r().BigInt(_)-r().BigInt(1):i+_-1;var S=ge({baseUrl:n,timescale:u,timeline:o,periodStart:p,presentationTime:m,number:g,duration:w,sourceDuration:s,indexRange:i+"-"+v,type:f})[0];a&&(S.map=a),d.push(S),i+="bigint"==typeof i?r().BigInt(_):_,m+=w/u,g++}return e.segments=d,e},ve=["AUDIO","SUBTITLES"],be=function(e){return(t=e,n=function(e){return e.timeline},le(t.reduce((function(e,t){return t.forEach((function(t){e[n(t)]=t})),e}),{}))).sort((function(e,t){return e.timeline>t.timeline?1:-1}));var t,n},_e=function(e){var t,n,i=[];return t=e,n=function(e,t,n,r){i=i.concat(e.playlists||[])},ve.forEach((function(e){for(var i in t.mediaGroups[e])for(var r in t.mediaGroups[e][i]){var a=t.mediaGroups[e][i][r];n(a)}})),i},we=function(e){var t=e.playlist,n=e.mediaSequence;t.mediaSequence=n,t.segments.forEach((function(e,n){e.number=t.mediaSequence+n}))},Se=function(e){return e&&e.uri+"-"+(n="bigint"==typeof(t=e.byterange).offset||"bigint"==typeof t.length?r().BigInt(t.offset)+r().BigInt(t.length)-r().BigInt(1):t.offset+t.length-1,t.offset+"-"+n);var t,n},ke=function(e){return le(e.reduce((function(e,t){var n,i=t.attributes.id+(t.attributes.lang||"");e[i]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),(n=e[i].segments).push.apply(n,t.segments)),t.attributes.contentProtection&&(e[i].attributes.contentProtection=t.attributes.contentProtection)):(e[i]=t,e[i].attributes.timelineStarts=[]);return e[i].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{})).map((function(e){var t;return e.discontinuityStarts=(t=e.segments||[],"discontinuity",t.reduce((function(e,t,n){return t.discontinuity&&e.push(n),e}),[])),e}))},Te=function(e,t){var n=Se(e.sidx),i=n&&t[n]&&t[n].sidx;return i&&ye(e,i,e.sidx.resolvedUri),e},Ce=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e)e[n]=Te(e[n],t);return e},xe=function(e){var t,n=e.attributes,i=e.segments,r=e.sidx,a=e.discontinuityStarts,s={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuityStarts:a,timelineStarts:n.timelineStarts,segments:i};return n.contentProtection&&(s.contentProtection=n.contentProtection),r&&(s.sidx=r),s},Ee=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType},Pe=function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType},Ie=function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},Ae=function(e){return e?Object.keys(e).reduce((function(t,n){var i=e[n];return t.concat(i.playlists)}),[]):[]},Le=function(e){var t,n=e.dashPlaylists,i=e.locations,r=e.sidxMapping,a=void 0===r?{}:r,s=e.previousManifest;if(!n.length)return{};var o=n[0].attributes,l=o.sourceDuration,c=o.type,u=o.suggestedPresentationDelay,h=o.minimumUpdatePeriod,d=ke(n.filter(Ee)).map(xe),f=ke(n.filter(Pe)),p=ke(n.filter(Ie)),m=n.map((function(e){return e.attributes.captionServices})).filter(Boolean),g={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:l,playlists:Ce(d,a)};h>=0&&(g.minimumUpdatePeriod=1e3*h),i&&(g.locations=i),"dynamic"===c&&(g.suggestedPresentationDelay=u);var y,v,b,_,w,S,k,T=0===g.playlists.length,C=f.length?function(e,t,n){var i;void 0===t&&(t={}),void 0===n&&(n=!1);var r=e.reduce((function(e,r){var a=r.attributes.role&&r.attributes.role.value||"",s=r.attributes.lang||"",o=r.attributes.label||"main";if(s&&!r.attributes.label){var l=a?" ("+a+")":"";o=""+r.attributes.lang+l}e[o]||(e[o]={language:s,autoselect:!0,default:"main"===a,playlists:[],uri:""});var c=Te(function(e,t){var n,i=e.attributes,r=e.segments,a=e.sidx,s=e.mediaSequence,o=e.discontinuitySequence,l=e.discontinuityStarts,c={attributes:(n={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:"static"===i.type,timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuitySequence:o,discontinuityStarts:l,timelineStarts:i.timelineStarts,mediaSequence:s,segments:r};return i.contentProtection&&(c.contentProtection=i.contentProtection),a&&(c.sidx=a),t&&(c.attributes.AUDIO="audio",c.attributes.SUBTITLES="subs"),c}(r,n),t);return e[o].playlists.push(c),void 0===i&&"main"===a&&((i=r).default=!0),e}),{});return i||(r[Object.keys(r)[0]].default=!0),r}(f,a,T):null,x=p.length?function(e,t){return void 0===t&&(t={}),e.reduce((function(e,n){var i=n.attributes.lang||"text";return e[i]||(e[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),e[i].playlists.push(Te(function(e){var t,n=e.attributes,i=e.segments,r=e.mediaSequence,a=e.discontinuityStarts,s=e.discontinuitySequence;void 0===i&&(i=[{uri:n.baseUrl,timeline:n.periodStart,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var o=((t={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,t);return n.codecs&&(o.CODECS=n.codecs),{attributes:o,uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,timelineStarts:n.timelineStarts,discontinuityStarts:a,discontinuitySequence:s,mediaSequence:r,segments:i}}(n),t)),e}),{})}(p,a):null,E=d.concat(Ae(C),Ae(x)),P=E.map((function(e){return e.timelineStarts}));return g.timelineStarts=be(P),y=E,v=g.timelineStarts,y.forEach((function(e){e.mediaSequence=0,e.discontinuitySequence=he(v,(function(t){return t.timeline===e.timeline})),e.segments&&e.segments.forEach((function(e,t){e.number=t}))})),C&&(g.mediaGroups.AUDIO.audio=C),x&&(g.mediaGroups.SUBTITLES.subs=x),m.length&&(g.mediaGroups["CLOSED-CAPTIONS"].cc=m.reduce((function(e,t){return t?(t.forEach((function(t){var n=t.channel,i=t.language;e[i]={autoselect:!1,default:!1,instreamId:n,language:i},t.hasOwnProperty("aspectRatio")&&(e[i].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[i].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[i]["3D"]=t["3D"])})),e):e}),{})),s?(_=(b={oldManifest:s,newManifest:g}).oldManifest,w=b.newManifest,S=_.playlists.concat(_e(_)),k=w.playlists.concat(_e(w)),w.timelineStarts=be([_.timelineStarts,w.timelineStarts]),function(e){var t=e.oldPlaylists,n=e.timelineStarts;e.newPlaylists.forEach((function(e){e.discontinuitySequence=he(n,(function(t){return t.timeline===e.timeline}));var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null}(t,e.attributes.NAME);if(i&&!e.sidx){var r=e.segments[0],a=he(i.segments,(function(e){return Math.abs(e.presentationTime-r.presentationTime)<.016666666666666666}));if(-1===a)return we({playlist:e,mediaSequence:i.mediaSequence+i.segments.length}),e.segments[0].discontinuity=!0,e.discontinuityStarts.unshift(0),void((!i.segments.length&&e.timeline>i.timeline||i.segments.length&&e.timeline>i.segments[i.segments.length-1].timeline)&&e.discontinuitySequence--);i.segments[a].discontinuity&&!r.discontinuity&&(r.discontinuity=!0,e.discontinuityStarts.unshift(0),e.discontinuitySequence--),we({playlist:e,mediaSequence:i.segments[a].number})}}))}({oldPlaylists:S,newPlaylists:k,timelineStarts:w.timelineStarts}),w):g},Oe=function(e,t,n){var i=e.NOW,r=e.clientOffset,a=e.availabilityStartTime,s=e.timescale,o=void 0===s?1:s,l=e.periodStart,c=void 0===l?0:l,u=e.minimumUpdatePeriod,h=(i+r)/1e3+(void 0===u?0:u)-(a+c);return Math.ceil((h*o-t)/n)},Re=function(e,t){for(var n=e.type,i=e.minimumUpdatePeriod,r=void 0===i?0:i,a=e.media,s=void 0===a?"":a,o=e.sourceDuration,l=e.timescale,c=void 0===l?1:l,u=e.startNumber,h=void 0===u?1:u,d=e.periodStart,f=[],p=-1,m=0;m<t.length;m++){var g=t[m],y=g.d,v=g.r||0,b=g.t||0;p<0&&(p=b),b&&b>p&&(p=b);var _=void 0;if(v<0){var w=m+1;_=w===t.length?"dynamic"===n&&r>0&&s.indexOf("$Number$")>0?Oe(e,p,y):(o*c-p)/y:(t[w].t-p)/y}else _=v+1;for(var S=h+f.length+_,k=h+f.length;k<S;)f.push({number:k,duration:y/c,time:p,timeline:d}),p+=y,k++}return f},De=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Ne=function(e,t){return e.replace(De,function(e){return function(t,n,i,r){if("$$"===t)return"$";if(void 0===e[n])return t;var a=""+e[n];return"RepresentationID"===n?a:(r=i?parseInt(r,10):1,a.length>=r?a:""+new Array(r-a.length+1).join("0")+a)}}(t))},Fe=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},i=e.initialization,r=void 0===i?{sourceURL:"",range:""}:i,a=de({baseUrl:e.baseUrl,source:Ne(r.sourceURL,n),range:r.range}),s=function(e,t){return e.duration||t?e.duration?me(e):Re(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]}(e,t);return s.map((function(t){n.Number=t.number,n.Time=t.time;var i=Ne(e.media||"",n),r=e.timescale||1,s=e.presentationTimeOffset||0,o=e.periodStart+(t.time-s)/r;return{uri:i,timeline:t.timeline,duration:t.duration,resolvedUri:T(e.baseUrl||"",i),map:a,number:t.number,presentationTime:o}}))},$e=function(e,t){var n=e.duration,i=e.segmentUrls,r=void 0===i?[]:i,a=e.periodStart;if(!n&&!t||n&&t)throw new Error("SEGMENT_TIME_UNSPECIFIED");var s,o=r.map((function(t){return function(e,t){var n=e.baseUrl,i=e.initialization,r=void 0===i?{}:i,a=de({baseUrl:n,source:r.sourceURL,range:r.range}),s=de({baseUrl:n,source:t.media,range:t.mediaRange});return s.map=a,s}(e,t)}));return n&&(s=me(e)),t&&(s=Re(e,t)),s.map((function(t,n){if(o[n]){var i=o[n],r=e.timescale||1,s=e.presentationTimeOffset||0;return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i.presentationTime=a+(t.time-s)/r,i}})).filter((function(e){return e}))},Be=function(e){var t,n,i=e.attributes,r=e.segmentInfo;r.template?(n=Fe,t=oe(i,r.template)):r.base?(n=ge,t=oe(i,r.base)):r.list&&(n=$e,t=oe(i,r.list));var a={attributes:i};if(!n)return a;var s=n(t,r.segmentTimeline);if(t.duration){var o=t,l=o.duration,c=o.timescale,u=void 0===c?1:c;t.duration=l/u}else s.length?t.duration=s.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return a.attributes=t,a.segments=s,r.base&&t.indexRange&&(a.sidx=s[0],a.segments=[]),a},Me=function(e,t){return ue(e.childNodes).filter((function(e){return e.tagName===t}))},Ue=function(e){return e.textContent.trim()},je=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),i=n[0],r=n[1],a=n[2],s=n[3],o=n[4],l=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(r||0)+86400*parseFloat(a||0)+3600*parseFloat(s||0)+60*parseFloat(o||0)+parseFloat(l||0)},Ve={mediaPresentationDuration:function(e){return je(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return je(e)},suggestedPresentationDelay:function(e){return je(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return je(e)},start:function(e){return je(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?je(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},He=function(e){return e&&e.attributes?ue(e.attributes).reduce((function(e,t){var n=Ve[t.name]||Ve.DEFAULT;return e[t.name]=n(t.value),e}),{}):{}},qe={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},ze=function(e,t){return t.length?ce(e.map((function(e){return t.map((function(t){return T(e,Ue(t))}))}))):e},We=function(e){var t=Me(e,"SegmentTemplate")[0],n=Me(e,"SegmentList")[0],i=n&&Me(n,"SegmentURL").map((function(e){return oe({tag:"SegmentURL"},He(e))})),r=Me(e,"SegmentBase")[0],a=n||t,s=a&&Me(a,"SegmentTimeline")[0],o=n||r||t,l=o&&Me(o,"Initialization")[0],c=t&&He(t);c&&l?c.initialization=l&&He(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var u={template:c,segmentTimeline:s&&Me(s,"S").map((function(e){return He(e)})),list:n&&oe(He(n),{segmentUrls:i,initialization:He(l)}),base:r&&oe(He(r),{initialization:He(l)})};return Object.keys(u).forEach((function(e){u[e]||delete u[e]})),u},Ge=function(e,t){return function(n,i){var r=ze(t,Me(n.node,"BaseURL")),a=oe(e,{periodStart:n.attributes.start});"number"==typeof n.attributes.duration&&(a.periodDuration=n.attributes.duration);var s=Me(n.node,"AdaptationSet"),o=We(n.node);return ce(s.map(function(e,t,n){return function(i){var r,a=He(i),s=ze(t,Me(i,"BaseURL")),o=Me(i,"Role")[0],l={role:He(o)},c=oe(e,a,l),u=Me(i,"Accessibility")[0],h="urn:scte:dash:cc:cea-608:2015"===(r=He(u)).schemeIdUri?("string"!=typeof r.value?[]:r.value.split(";")).map((function(e){var t,n;if(n=e,/^CC\d=/.test(e)){var i=e.split("=");t=i[0],n=i[1]}else/^CC\d$/.test(e)&&(t=e);return{channel:t,language:n}})):"urn:scte:dash:cc:cea-708:2015"===r.schemeIdUri?("string"!=typeof r.value?[]:r.value.split(";")).map((function(e){var t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){var n=e.split("="),i=n[0],r=n[1],a=void 0===r?"":r;t.channel=i,t.language=e,a.split(",").forEach((function(e){var n=e.split(":"),i=n[0],r=n[1];"lang"===i?t.language=r:"er"===i?t.easyReader=Number(r):"war"===i?t.aspectRatio=Number(r):"3D"===i&&(t["3D"]=Number(r))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t})):void 0;h&&(c=oe(c,{captionServices:h}));var d=Me(i,"Label")[0];if(d&&d.childNodes.length){var f=d.childNodes[0].nodeValue.trim();c=oe(c,{label:f})}var p=Me(i,"ContentProtection").reduce((function(e,t){var n=He(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());var i=qe[n.schemeIdUri];if(i){e[i]={attributes:n};var r=Me(t,"cenc:pssh")[0];if(r){var a=Ue(r);e[i].pssh=a&&E(a)}}return e}),{});Object.keys(p).length&&(c=oe(c,{contentProtection:p}));var m=We(i),g=Me(i,"Representation"),y=oe(n,m);return ce(g.map(function(e,t,n){return function(i){var r=Me(i,"BaseURL"),a=ze(t,r),s=oe(e,He(i)),o=We(i);return a.map((function(e){return{segmentInfo:oe(n,o),attributes:oe(s,{baseUrl:e})}}))}}(c,s,y)))}}(a,r,o)))}},Ke=function(e){if(""===e)throw new Error("DASH_EMPTY_MANIFEST");var t,n,i=new ae.DOMParser;try{n=(t=i.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return n},Ye=n(4221),Xe=n.n(Ye),Qe=J([73,68,51]),Ze=function e(t,n){return void 0===n&&(n=0),(t=J(t)).length-n<10||!re(t,Qe,{offset:n})?n:(n+=function(e,t){void 0===t&&(t=0);var n=(e=J(e))[t+5],i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?i+20:i+10}(t,n),e(t,n))},Je=(new Uint8Array([79,112,117,115,72,101,97,100]),function(e){return"string"==typeof e?ie(e):e}),et=function(e){e=J(e);for(var t=[],n=0;e.length>n;){var i=e[n],r=0,a=0,s=e[++a];for(a++;128&s;)r=(127&s)<<7,s=e[a],a++;r+=127&s;for(var o=0;o<A.length;o++){var l=A[o],c=l.id,u=l.parser;if(i===c){t.push(u(e.subarray(a,a+r)));break}}n+=r+a}return t};A=[{id:3,parser:function(e){var t={tag:3,id:e[0]<<8|e[1],flags:e[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&t.flags&&(t.dependsOnEsId=e[t.size]<<8|e[t.size+1],t.size+=2),64&t.flags){var n=e[t.size];t.url=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,J(e));try{return decodeURIComponent(escape(t))}catch(e){}return t}(e.subarray(t.size+1,t.size+1+n)),t.size+=n}return 32&t.flags&&(t.ocrEsId=e[t.size]<<8|e[t.size+1],t.size+=2),t.descriptors=et(e.subarray(t.size))||[],t}},{id:4,parser:function(e){return{tag:4,oti:e[0],streamType:e[1],bufferSize:e[2]<<16|e[3]<<8|e[4],maxBitrate:e[5]<<24|e[6]<<16|e[7]<<8|e[8],avgBitrate:e[9]<<24|e[10]<<16|e[11]<<8|e[12],descriptors:et(e.subarray(13))}}},{id:5,parser:function(e){return{tag:5,bytes:e}}},{id:6,parser:function(e){return{tag:6,bytes:e}}}];var tt=function e(t,n,i){void 0===i&&(i=!1),n=function(e){return Array.isArray(e)?e.map((function(e){return Je(e)})):[Je(e)]}(n),t=J(t);var r=[];if(!n.length)return r;for(var a=0;a<t.length;){var s=(t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3])>>>0,o=t.subarray(a+4,a+8);if(0===s)break;var l=a+s;if(l>t.length){if(i)break;l=t.length}var c=t.subarray(a+8,l);re(o,n[0])&&(1===n.length?r.push(c):r.push.apply(r,e(c,n.slice(1),i))),a=l}return r},nt={EBML:J([26,69,223,163]),DocType:J([66,130]),Segment:J([24,83,128,103]),SegmentInfo:J([21,73,169,102]),Tracks:J([22,84,174,107]),Track:J([174]),TrackNumber:J([215]),DefaultDuration:J([35,227,131]),TrackEntry:J([174]),TrackType:J([131]),FlagDefault:J([136]),CodecID:J([134]),CodecPrivate:J([99,162]),VideoTrack:J([224]),AudioTrack:J([225]),Cluster:J([31,67,182,117]),Timestamp:J([231]),TimestampScale:J([42,215,177]),BlockGroup:J([160]),BlockDuration:J([155]),Block:J([161]),SimpleBlock:J([163])},it=[128,64,32,16,8,4,2,1],rt=function(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1);var r=function(e){for(var t=1,n=0;n<it.length&&!(e&it[n]);n++)t++;return t}(e[t]),a=e.subarray(t,t+r);return n&&((a=Array.prototype.slice.call(e,t,t+r))[0]^=it[r-1]),{length:r,value:ne(a,{signed:i}),bytes:a}},at=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"==typeof t?function(e,t){var n=(void 0===t?{}:t).le,i=void 0!==n&&n;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0);for(var r,a=(r=e=ee(e),Math.ceil(function(e){return e.toString(2).length}(r)/8)),s=new Uint8Array(new ArrayBuffer(a)),o=0;o<a;o++){var l=i?o:Math.abs(o+1-s.length);s[l]=Number(e/te[o]&ee(255)),e<0&&(s[l]=Math.abs(~s[l]),s[l]-=0===o?1:2)}return s}(t):t},st=function e(t,n,i){if(i>=n.length)return n.length;var r=rt(n,i,!1);if(re(t.bytes,r.bytes))return i;var a=rt(n,i+r.length);return e(t,n,i+a.length+a.value+r.length)},ot=function e(t,n){n=function(e){return Array.isArray(e)?e.map((function(e){return at(e)})):[at(e)]}(n),t=J(t);var i=[];if(!n.length)return i;for(var r=0;r<t.length;){var a=rt(t,r,!1),s=rt(t,r+a.length),o=r+a.length+s.length;127===s.value&&(s.value=st(a,t,o),s.value!==t.length&&(s.value-=o));var l=o+s.value>t.length?t.length:o+s.value,c=t.subarray(o,l);re(n[0],a.bytes)&&(1===n.length?i.push(c):i=i.concat(e(c,n.slice(1)))),r+=a.length+s.length+c.length}return i},lt=J([0,0,0,1]),ct=J([0,0,1]),ut=J([0,0,3]),ht=function(e){for(var t=[],n=1;n<e.length-2;)re(e.subarray(n,n+3),ut)&&(t.push(n+2),n++),n++;if(0===t.length)return e;var i=e.length-t.length,r=new Uint8Array(i),a=0;for(n=0;n<i;a++,n++)a===t[0]&&(a++,t.shift()),r[n]=e[a];return r},dt=function(e,t,n,i){void 0===i&&(i=1/0),e=J(e),n=[].concat(n);for(var r,a=0,s=0;a<e.length&&(s<i||r);){var o=void 0;if(re(e.subarray(a),lt)?o=4:re(e.subarray(a),ct)&&(o=3),o){if(s++,r)return ht(e.subarray(r,a));var l=void 0;"h264"===t?l=31&e[a+o]:"h265"===t&&(l=e[a+o]>>1&63),-1!==n.indexOf(l)&&(r=a+o),a+=o+("h264"===t?1:2)}else a++}return e.subarray(0,0)},ft={webm:J([119,101,98,109]),matroska:J([109,97,116,114,111,115,107,97]),flac:J([102,76,97,67]),ogg:J([79,103,103,83]),ac3:J([11,119]),riff:J([82,73,70,70]),avi:J([65,86,73]),wav:J([87,65,86,69]),"3gp":J([102,116,121,112,51,103]),mp4:J([102,116,121,112]),fmp4:J([115,116,121,112]),mov:J([102,116,121,112,113,116]),moov:J([109,111,111,118]),moof:J([109,111,111,102])},pt={aac:function(e){var t=Ze(e);return re(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=Ze(e);return re(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=ot(e,[nt.EBML,nt.DocType])[0];return re(t,ft.webm)},mkv:function(e){var t=ot(e,[nt.EBML,nt.DocType])[0];return re(t,ft.matroska)},mp4:function(e){return!pt["3gp"](e)&&!pt.mov(e)&&(!(!re(e,ft.mp4,{offset:4})&&!re(e,ft.fmp4,{offset:4}))||!(!re(e,ft.moof,{offset:4})&&!re(e,ft.moov,{offset:4}))||void 0)},mov:function(e){return re(e,ft.mov,{offset:4})},"3gp":function(e){return re(e,ft["3gp"],{offset:4})},ac3:function(e){var t=Ze(e);return re(e,ft.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=Ze(e);return re(e,ft.flac,{offset:t})},ogg:function(e){return re(e,ft.ogg)},avi:function(e){return re(e,ft.riff)&&re(e,ft.avi,{offset:8})},wav:function(e){return re(e,ft.riff)&&re(e,ft.wav,{offset:8})},h264:function(e){return function(e,t,n){return dt(e,"h264",7,3)}(e).length},h265:function(e){return function(e,t,n){return dt(e,"h265",[32,33],3)}(e).length}},mt=Object.keys(pt).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);mt.forEach((function(e){var t=pt[e];pt[e]=function(e){return t(J(e))}}));for(var gt,yt=pt,vt=function(e){e=J(e);for(var t=0;t<mt.length;t++){var n=mt[t];if(yt[n](e))return n}return""},bt=n(1489),_t="7.20.3",wt={},St=function(e,t){return wt[e]=wt[e]||[],t&&(wt[e]=wt[e].concat(t)),wt[e]},kt=function(e,t){var n=St(e).indexOf(t);return!(n<=-1||(wt[e]=wt[e].slice(),wt[e].splice(n,1),0))},Tt={prefixed:!0},Ct=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],xt=Ct[0],Et=0;Et<Ct.length;Et++)if(Ct[Et][1]in s()){gt=Ct[Et];break}if(gt){for(var Pt=0;Pt<gt.length;Pt++)Tt[xt[Pt]]=gt[Pt];Tt.prefixed=gt[0]!==xt[0]}var It=[],At=function e(t){var n,i="info",a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n("log",i,t)};return n=function(e,t){return function(n,i,a){var s=t.levels[i],o=new RegExp("^("+s+")$");if("log"!==n&&a.unshift(n.toUpperCase()+":"),a.unshift(e+":"),It){It.push([].concat(a));var l=It.length-1e3;It.splice(0,l>0?l:0)}if(r().console){var c=r().console[n];c||"debug"!==n||(c=r().console.info||r().console.log),c&&s&&o.test(n)&&c[Array.isArray(a)?"apply":"call"](r().console,a)}}}(t,a),a.createLogger=function(n){return e(t+": "+n)},a.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},a.level=function(e){if("string"==typeof e){if(!a.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');i=e}return i},(a.history=function(){return It?[].concat(It):[]}).filter=function(e){return(It||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},a.history.clear=function(){It&&(It.length=0)},a.history.disable=function(){null!==It&&(It.length=0,It=null)},a.history.enable=function(){null===It&&(It=[])},a.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("error",i,t)},a.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("warn",i,t)},a.debug=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("debug",i,t)},a}("VIDEOJS"),Lt=At.createLogger,Ot=Object.prototype.toString,Rt=function(e){return Ft(e)?Object.keys(e):[]};function Dt(e,t){Rt(e).forEach((function(n){return t(e[n],n)}))}function Nt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?o.apply(void 0,[e].concat(n)):(n.forEach((function(t){t&&Dt(t,(function(t,n){e[n]=t}))})),e)}function Ft(e){return!!e&&"object"==typeof e}function $t(e){return Ft(e)&&"[object Object]"===Ot.call(e)&&e.constructor===Object}function Bt(e,t){if(!e||!t)return"";if("function"==typeof r().getComputedStyle){var n;try{n=r().getComputedStyle(e)}catch(e){return""}return n?n.getPropertyValue(t)||n[t]:""}return""}var Mt,Ut,jt,Vt=r().navigator&&r().navigator.userAgent||"",Ht=/AppleWebKit\/([\d.]+)/i.exec(Vt),qt=Ht?parseFloat(Ht.pop()):null,zt=/iPod/i.test(Vt),Wt=(Mt=Vt.match(/OS (\d+)_/i))&&Mt[1]?Mt[1]:null,Gt=/Android/i.test(Vt),Kt=function(){var e=Vt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),Yt=Gt&&Kt<5&&qt<537,Xt=/Firefox/i.test(Vt),Qt=/Edg/i.test(Vt),Zt=!Qt&&(/Chrome/i.test(Vt)||/CriOS/i.test(Vt)),Jt=function(){var e=Vt.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),en=(Ut=/MSIE\s(\d+)\.\d/.exec(Vt),!(jt=Ut&&parseFloat(Ut[1]))&&/Trident\/7.0/i.test(Vt)&&/rv:11.0/.test(Vt)&&(jt=11),jt),tn=/Safari/i.test(Vt)&&!Zt&&!Gt&&!Qt,nn=/Windows/i.test(Vt),rn=Boolean(dn()&&("ontouchstart"in r()||r().navigator.maxTouchPoints||r().DocumentTouch&&r().document instanceof r().DocumentTouch)),an=/iPad/i.test(Vt)||tn&&rn&&!/iPhone/i.test(Vt),sn=/iPhone/i.test(Vt)&&!an,on=sn||an||zt,ln=(tn||on)&&!Zt,cn=Object.freeze({__proto__:null,IS_IPOD:zt,IOS_VERSION:Wt,IS_ANDROID:Gt,ANDROID_VERSION:Kt,IS_NATIVE_ANDROID:Yt,IS_FIREFOX:Xt,IS_EDGE:Qt,IS_CHROME:Zt,CHROME_VERSION:Jt,IE_VERSION:en,IS_SAFARI:tn,IS_WINDOWS:nn,TOUCH_ENABLED:rn,IS_IPAD:an,IS_IPHONE:sn,IS_IOS:on,IS_ANY_SAFARI:ln});function un(e){return"string"==typeof e&&Boolean(e.trim())}function hn(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function dn(){return s()===r().document}function fn(e){return Ft(e)&&1===e.nodeType}function pn(){try{return r().parent!==r().self}catch(e){return!0}}function mn(e){return function(t,n){if(!un(t))return s()[e](null);un(n)&&(n=s().querySelector(n));var i=fn(n)?n:s();return i[e]&&i[e](t)}}function gn(e,t,n,i){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var r=s().createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(At.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+n+"."),r.setAttribute(e,n)):"textContent"===e?yn(r,n):r[e]===n&&"tabIndex"!==e||(r[e]=n)})),Object.getOwnPropertyNames(n).forEach((function(e){r.setAttribute(e,n[e])})),i&&Fn(r,i),r}function yn(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function vn(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function bn(e,t){return hn(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function _n(e,t){return e.classList?e.classList.add(t):bn(e,t)||(e.className=(e.className+" "+t).trim()),e}function wn(e,t){return e?(e.classList?e.classList.remove(t):(hn(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e):(At.warn("removeClass was called with an element that doesn't exist"),null)}function Sn(e,t,n){var i=bn(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!i),n!==i)return n?_n(e,t):wn(e,t),e}function kn(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var i=t[n];null==i||!1===i?e.removeAttribute(n):e.setAttribute(n,!0===i?"":i)}))}function Tn(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,i=n.length-1;i>=0;i--){var r=n[i].name,a=n[i].value;"boolean"!=typeof e[r]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")||(a=null!==a),t[r]=a}return t}function Cn(e,t){return e.getAttribute(t)}function xn(e,t,n){e.setAttribute(t,n)}function En(e,t){e.removeAttribute(t)}function Pn(){s().body.focus(),s().onselectstart=function(){return!1}}function In(){s().onselectstart=function(){return!0}}function An(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(Bt(e,"height"))),n.width||(n.width=parseFloat(Bt(e,"width"))),n}}function Ln(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,n=e.offsetHeight,i=0,r=0;e.offsetParent&&e!==s()[Tt.fullscreenElement];)i+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:i,top:r,width:t,height:n}}function On(e,t){var n={x:0,y:0};if(on)for(var i=e;i&&"html"!==i.nodeName.toLowerCase();){var r=Bt(i,"transform");if(/^matrix/.test(r)){var a=r.slice(7,-1).split(/,\s/).map(Number);n.x+=a[4],n.y+=a[5]}else if(/^matrix3d/.test(r)){var s=r.slice(9,-1).split(/,\s/).map(Number);n.x+=s[12],n.y+=s[13]}i=i.parentNode}var o={},l=Ln(t.target),c=Ln(e),u=c.width,h=c.height,d=t.offsetY-(c.top-l.top),f=t.offsetX-(c.left-l.left);return t.changedTouches&&(f=t.changedTouches[0].pageX-c.left,d=t.changedTouches[0].pageY+c.top,on&&(f-=n.x,d-=n.y)),o.y=1-Math.max(0,Math.min(1,d/h)),o.x=Math.max(0,Math.min(1,f/u)),o}function Rn(e){return Ft(e)&&3===e.nodeType}function Dn(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Nn(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"==typeof e&&(e=e()),fn(e)||Rn(e)?e:"string"==typeof e&&/\S/.test(e)?s().createTextNode(e):void 0})).filter((function(e){return e}))}function Fn(e,t){return Nn(t).forEach((function(t){return e.appendChild(t)})),e}function $n(e,t){return Fn(Dn(e),t)}function Bn(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}var Mn,Un=mn("querySelector"),jn=mn("querySelectorAll"),Vn=Object.freeze({__proto__:null,isReal:dn,isEl:fn,isInFrame:pn,createEl:gn,textContent:yn,prependTo:vn,hasClass:bn,addClass:_n,removeClass:wn,toggleClass:Sn,setAttributes:kn,getAttributes:Tn,getAttribute:Cn,setAttribute:xn,removeAttribute:En,blockTextSelection:Pn,unblockTextSelection:In,getBoundingClientRect:An,findPosition:Ln,getPointerPosition:On,isTextNode:Rn,emptyEl:Dn,normalizeContent:Nn,appendContent:Fn,insertContent:$n,isSingleLeftClick:Bn,$:Un,$$:jn}),Hn=!1,qn=function(){if(!1!==Mn.options.autoSetup){var e=Array.prototype.slice.call(s().getElementsByTagName("video")),t=Array.prototype.slice.call(s().getElementsByTagName("audio")),n=Array.prototype.slice.call(s().getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&i.length>0)for(var r=0,a=i.length;r<a;r++){var o=i[r];if(!o||!o.getAttribute){zn(1);break}void 0===o.player&&null!==o.getAttribute("data-setup")&&Mn(o)}else Hn||zn(1)}};function zn(e,t){dn()&&(t&&(Mn=t),r().setTimeout(qn,e))}function Wn(){Hn=!0,r().removeEventListener("load",Wn)}dn()&&("complete"===s().readyState?Wn():r().addEventListener("load",Wn));var Gn,Kn=function(e){var t=s().createElement("style");return t.className=e,t},Yn=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},Xn=3;function Qn(){return Xn++}r().WeakMap||(Gn=function(){function e(){this.vdata="vdata"+Math.floor(r().performance&&r().performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var n=e[this.vdata]||Qn();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];At("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var Zn,Jn=r().WeakMap?new WeakMap:new Gn;function ei(e,t){if(Jn.has(e)){var n=Jn.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Jn.delete(e)}}function ti(e,t,n,i){n.forEach((function(n){e(t,n,i)}))}function ni(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var i=e||r().event;for(var a in e={},i)"layerX"!==a&&"layerY"!==a&&"keyLocation"!==a&&"webkitMovementX"!==a&&"webkitMovementY"!==a&&"path"!==a&&("returnValue"===a&&i.preventDefault||(e[a]=i[a]));if(e.target||(e.target=e.srcElement||s()),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var o=s().documentElement,l=s().body;e.pageX=e.clientX+(o&&o.scrollLeft||l&&l.scrollLeft||0)-(o&&o.clientLeft||l&&l.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||l&&l.scrollTop||0)-(o&&o.clientTop||l&&l.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var ii=["touchstart","touchmove"];function ri(e,t,n){if(Array.isArray(t))return ti(ri,e,t,n);Jn.has(e)||Jn.set(e,{});var i=Jn.get(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=Qn()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(!i.disabled){t=ni(t);var r=i.handlers[t.type];if(r)for(var a=r.slice(0),s=0,o=a.length;s<o&&!t.isImmediatePropagationStopped();s++)try{a[s].call(e,t,n)}catch(e){At.error(e)}}}),1===i.handlers[t].length)if(e.addEventListener){var a=!1;(function(){if("boolean"!=typeof Zn){Zn=!1;try{var e=Object.defineProperty({},"passive",{get:function(){Zn=!0}});r().addEventListener("test",null,e),r().removeEventListener("test",null,e)}catch(e){}}return Zn})()&&ii.indexOf(t)>-1&&(a={passive:!0}),e.addEventListener(t,i.dispatcher,a)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function ai(e,t,n){if(Jn.has(e)){var i=Jn.get(e);if(i.handlers){if(Array.isArray(t))return ti(ai,e,t,n);var r=function(e,t){i.handlers[t]=[],ei(e,t)};if(void 0!==t){var a=i.handlers[t];if(a)if(n){if(n.guid)for(var s=0;s<a.length;s++)a[s].guid===n.guid&&a.splice(s--,1);ei(e,t)}else r(e,t)}else for(var o in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},o)&&r(e,o)}}}function si(e,t,n){var i=Jn.has(e)?Jn.get(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=ni(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&!0===t.bubbles)si.call(null,r,t,n);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){Jn.has(t.target)||Jn.set(t.target,{});var a=Jn.get(t.target);t.target[t.type]&&(a.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented}function oi(e,t,n){if(Array.isArray(t))return ti(oi,e,t,n);var i=function i(){ai(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Qn(),ri(e,t,i)}function li(e,t,n){var i=function i(){ai(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Qn(),ri(e,t,i)}var ci,ui=Object.freeze({__proto__:null,fixEvent:ni,on:ri,off:ai,trigger:si,one:oi,any:li}),hi=30,di=function(e,t,n){t.guid||(t.guid=Qn());var i=t.bind(e);return i.guid=n?n+"_"+t.guid:t.guid,i},fi=function(e,t){var n=r().performance.now();return function(){var i=r().performance.now();i-n>=t&&(e.apply(void 0,arguments),n=i)}},pi=function(){};pi.prototype.allowedEvents_={},pi.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},ri(this,e,t),this.addEventListener=n},pi.prototype.addEventListener=pi.prototype.on,pi.prototype.off=function(e,t){ai(this,e,t)},pi.prototype.removeEventListener=pi.prototype.off,pi.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},oi(this,e,t),this.addEventListener=n},pi.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},li(this,e,t),this.addEventListener=n},pi.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=ni(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),si(this,e)},pi.prototype.dispatchEvent=pi.prototype.trigger,pi.prototype.queueTrigger=function(e){var t=this;ci||(ci=new Map);var n=e.type||e,i=ci.get(this);i||(i=new Map,ci.set(this,i));var a=i.get(n);i.delete(n),r().clearTimeout(a);var s=r().setTimeout((function(){0===i.size&&(i=null,ci.delete(t)),t.trigger(e)}),0);i.set(n,s)};var mi=function(e){return"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},gi=function(e){return e instanceof pi||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},yi=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},vi=function(e,t,n){if(!e||!e.nodeName&&!gi(e))throw new Error("Invalid target for "+mi(t)+"#"+n+"; must be a DOM node or evented object.")},bi=function(e,t,n){if(!yi(e))throw new Error("Invalid event type for "+mi(t)+"#"+n+"; must be a non-empty string or array.")},_i=function(e,t,n){if("function"!=typeof e)throw new Error("Invalid listener for "+mi(t)+"#"+n+"; must be a function.")},wi=function(e,t,n){var i,r,a,s=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return s?(i=e.eventBusEl_,t.length>=3&&t.shift(),r=t[0],a=t[1]):(i=t[0],r=t[1],a=t[2]),vi(i,e,n),bi(r,e,n),_i(a,e,n),{isTargetingSelf:s,target:i,type:r,listener:a=di(e,a)}},Si=function(e,t,n,i){vi(e,e,t),e.nodeName?ui[t](e,n,i):e[t](n,i)},ki={on:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=wi(this,n,"on"),a=r.isTargetingSelf,s=r.target,o=r.type,l=r.listener;if(Si(s,"on",o,l),!a){var c=function(){return e.off(s,o,l)};c.guid=l.guid;var u=function(){return e.off("dispose",c)};u.guid=l.guid,Si(this,"on","dispose",c),Si(s,"on","dispose",u)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=wi(this,n,"one"),a=r.isTargetingSelf,s=r.target,o=r.type,l=r.listener;if(a)Si(s,"one",o,l);else{var c=function t(){e.off(s,o,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];l.apply(null,i)};c.guid=l.guid,Si(s,"one",o,c)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=wi(this,n,"any"),a=r.isTargetingSelf,s=r.target,o=r.type,l=r.listener;if(a)Si(s,"any",o,l);else{var c=function t(){e.off(s,o,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];l.apply(null,i)};c.guid=l.guid,Si(s,"any",o,c)}},off:function(e,t,n){if(!e||yi(e))ai(this.eventBusEl_,e,t);else{var i=e,r=t;vi(i,this,"off"),bi(r,this,"off"),_i(n,this,"off"),n=di(this,n),this.off("dispose",n),i.nodeName?(ai(i,r,n),ai(i,"dispose",n)):gi(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(e,t){vi(this.eventBusEl_,this,"trigger");var n=e&&"string"!=typeof e?e.type:e;if(!yi(n)){var i="Invalid event type for "+mi(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!e)throw new Error(i);(this.log||At).error(i)}return si(this.eventBusEl_,e,t)}};function Ti(e,t){void 0===t&&(t={});var n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=gn("span",{className:"vjs-event-bus"});return Nt(e,ki),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&Jn.has(e)&&Jn.delete(e)})),r().setTimeout((function(){e.eventBusEl_=null}),0)})),e}var Ci={state:{},setState:function(e){var t,n=this;return"function"==typeof e&&(e=e()),Dt(e,(function(e,i){n.state[i]!==e&&((t=t||{})[i]={from:n.state[i],to:e}),n.state[i]=e})),t&&gi(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function xi(e,t){return Nt(e,Ci),e.state=Nt({},e.state,t),"function"==typeof e.handleStateChanged&&gi(e)&&e.on("statechanged",e.handleStateChanged),e}var Ei=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},Pi=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))};function Ii(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){t&&Dt(t,(function(t,n){$t(t)?($t(e[n])||(e[n]={}),e[n]=Ii(e[n],t)):e[n]=t}))})),e}var Ai=function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.map_[e]=t,this},t.forEach=function(e,t){for(var n in this.map_)e.call(t,this.map_[n],n,this)},e}(),Li=r().Map?r().Map:Ai,Oi=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var n in this.set_)e.call(t,n,n,this)},e}(),Ri=r().Set?r().Set:Oi,Di=function(){function e(e,t,n){var i=this;if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ii({},this.options_),t=this.options_=Ii(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+Qn()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach((function(e){return i.addClass(e)})),!1!==t.evented&&(Ti(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),xi(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Ri,this.setIntervalIds_=new Ri,this.rafIds_=new Ri,this.namedRafs_=new Li,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(e){if(void 0===e&&(e={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=Ii(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return gn(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),a=r&&r[i],s=i&&i.split("-")[0],o=r&&r[s],l=n;return a&&a[e]?l=a[e]:o&&o[e]&&(l=o[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,n){var i=t[n-1],r=i;return void 0===i&&(r=e),r}))),l},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.reduce((function(e,t){return e.concat(t)}),[]);for(var i=this,r=0;r<t.length;r++)if(!(i=i.getChild(t[r]))||!i.getChild)return;return i},t.addChild=function(t,n,i){var r,a;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof t){a=Pi(t);var s=n.componentClass||a;n.name=a;var o=e.getComponent(s);if(!o)throw new Error("Component "+s+" does not exist");if("function"!=typeof o)return null;r=new o(this.player_||this,n)}else r=t;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(a=a||r.name&&Pi(r.name()))&&(this.childNameIndex_[a]=r,this.childNameIndex_[Ei(a)]=r),"function"==typeof r.el&&r.el()){var l=null;this.children_[i+1]&&(this.children_[i+1].el_?l=this.children_[i+1].el_:fn(this.children_[i+1])&&(l=this.children_[i+1])),this.contentEl().insertBefore(r.el(),l)}return r},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Pi(e.name())]=null,this.childNameIndex_[Ei(e.name())]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var i,r=this.options_,a=e.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!i.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((function(e){var i,r;return"string"==typeof e?r=n[i=e]||t.options_[i]||{}:(i=e.name,r=e),{name:i,opts:r}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||Pi(t.name));return n&&!a.isTech(n)})).forEach((function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var a=t.addChild(n,i);a&&(t[n]=a)}}))}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},t.$=function(e,t){return Un(e,t||this.contentEl())},t.$$=function(e,t){return jn(e,t||this.contentEl())},t.hasClass=function(e){return bn(this.el_,e)},t.addClass=function(e){_n(this.el_,e)},t.removeClass=function(e){wn(this.el_,e)},t.toggleClass=function(e,t){Sn(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return Cn(this.el_,e)},t.setAttribute=function(e,t){xn(this.el_,e,t)},t.removeAttribute=function(e){En(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[e],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+Pi(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=Bt(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var n="offset"+Pi(e);t=this.el_[n]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(c().isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null;this.on("touchstart",(function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=r().performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){var i=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY;Math.sqrt(i*i+r*r)>10&&(e=!1)}}));var i=function(){e=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",(function(i){n=null,!0===e&&r().performance.now()-t<200&&(i.preventDefault(),this.trigger("tap"))}))},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=di(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,i=this;return e=di(this,e),this.clearTimersOnDispose_(),n=r().setTimeout((function(){i.setTimeoutIds_.has(n)&&i.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),r().clearTimeout(e)),e},t.setInterval=function(e,t){e=di(this,e),this.clearTimersOnDispose_();var n=r().setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),r().clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=di(this,e),t=r().requestAnimationFrame((function(){n.rafIds_.has(t)&&n.rafIds_.delete(t),e()})),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.requestNamedAnimationFrame=function(e,t){var n=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=di(this,t);var i=this.requestAnimationFrame((function(){t(),n.namedRafs_.has(e)&&n.namedRafs_.delete(e)}));return this.namedRafs_.set(e,i),e}},t.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),r().cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var n=t[0],i=t[1];e[n].forEach((function(t,n){return e[i](n)}))})),e.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var i=e.getComponent("Tech"),r=i&&i.isTech(n),a=e===n||e.prototype.isPrototypeOf(n.prototype);if(r||!a)throw new Error('Illegal component, "'+t+'"; '+(r?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");t=Pi(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var o=s.players,l=Object.keys(o);if(o&&l.length>0&&l.map((function(e){return o[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[Ei(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();function Ni(e,t,n,i){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,i,n.length-1),n[i][t]}function Fi(e){var t;return t=void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Ni.bind(null,"start",0,e),end:Ni.bind(null,"end",1,e)},r().Symbol&&r().Symbol.iterator&&(t[r().Symbol.iterator]=function(){return(e||[]).values()}),t}function $i(e,t){return Array.isArray(e)?Fi(e):void 0===e||void 0===t?Fi():Fi([[e,t]])}function Bi(e,t){var n,i,r=0;if(!t)return 0;e&&e.length||(e=$i(0,0));for(var a=0;a<e.length;a++)n=e.start(a),(i=e.end(a))>t&&(i=t),r+=i-n;return r/t}function Mi(e){if(e instanceof Mi)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:Ft(e)&&("number"==typeof e.code&&(this.code=e.code),Nt(this,e)),this.message||(this.message=Mi.defaultMessages[this.code]||"")}Di.prototype.supportsRaf_="function"==typeof r().requestAnimationFrame&&"function"==typeof r().cancelAnimationFrame,Di.registerComponent("Component",Di),Mi.prototype.code=0,Mi.prototype.message="",Mi.prototype.status=null,Mi.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Mi.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Ui=0;Ui<Mi.errorTypes.length;Ui++)Mi[Mi.errorTypes[Ui]]=Ui,Mi.prototype[Mi.errorTypes[Ui]]=Ui;function ji(e){return null!=e&&"function"==typeof e.then}function Vi(e){ji(e)&&e.then(null,(function(e){}))}var Hi=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,i){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},qi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handleKeyDown_=function(e){return i.handleKeyDown(e)},i.close_=function(e){return i.close(e)},i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=gn("div",{className:"vjs-modal-dialog-content"},{role:"document"}),i.descEl_=gn("p",{className:"vjs-modal-dialog-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),yn(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}d(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close_)}!t&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),$n(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},n.empty=function(){this.trigger("beforemodalempty"),Dn(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return void 0!==e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=s().activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),c().isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(c().isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),r=0;r<n.length;r++)if(i===n[r]){t=r;break}s().activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof r().HTMLAnchorElement||e instanceof r().HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof r().HTMLInputElement||e instanceof r().HTMLSelectElement||e instanceof r().HTMLTextAreaElement||e instanceof r().HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof r().HTMLIFrameElement||e instanceof r().HTMLObjectElement||e instanceof r().HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(Di);qi.prototype.options_={pauseOnOpen:!0,temporary:!0},Di.registerComponent("ModalDialog",qi);var zi=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty(u(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<t.length;i++)n.addTrack(t[i]);return n}d(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this,n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.tracks_[n]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},gi(e)&&e.addEventListener("labelchange",e.labelchange_)},n.removeTrack=function(e){for(var t,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},t}(pi);for(var Wi in zi.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},zi.prototype.allowedEvents_)zi.prototype["on"+Wi]=null;var Gi=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},Ki=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].enabled){Gi(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,n}d(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&Gi(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,Gi(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(zi),Yi=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},Xi=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].selected){Yi(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty(u(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}d(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&Yi(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,Yi(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(zi),Qi=function(e){function t(){return e.apply(this,arguments)||this}d(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(zi),Zi=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),Ji=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var r=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)r.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},e}(),er={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},tr={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},nr={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ir={disabled:"disabled",hidden:"hidden",showing:"showing"},rr=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var i={id:t.id||"vjs_track_"+Qn(),kind:t.kind||"",language:t.language||""},r=t.label||"",a=function(e){Object.defineProperty(u(n),e,{get:function(){return i[e]},set:function(){}})};for(var s in i)a(s);return Object.defineProperty(u(n),"label",{get:function(){return r},set:function(e){e!==r&&(r=e,this.trigger("labelchange"))}}),n}return d(t,e),t}(pi),ar=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=s().createElement("a");n.href=e;for(var i={},a=0;a<t.length;a++)i[t[a]]=n[t[a]];return"http:"===i.protocol&&(i.host=i.host.replace(/:80$/,"")),"https:"===i.protocol&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=r().location.protocol),i.host||(i.host=r().location.host),i},sr=function(e){if(!e.match(/^https?:\/\//)){var t=s().createElement("a");t.href=e,e=t.href}return e},or=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},lr=function(e,t){void 0===t&&(t=r().location);var n=ar(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},cr=Object.freeze({__proto__:null,parseUrl:ar,getAbsoluteURL:sr,getFileExtension:or,isCrossOrigin:lr}),ur=function(e,t){var n=new(r().WebVTT.Parser)(r(),r().vttjs,r().WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(r().console&&r().console.groupCollapsed&&r().console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach((function(e){return At.error(e)})),r().console&&r().console.groupEnd&&r().console.groupEnd()),n.flush()},hr=function(e,t){var n={uri:e},i=lr(e);i&&(n.cors=i);var a="use-credentials"===t.tech_.crossOrigin();a&&(n.withCredentials=a),g()(n,di(this,(function(e,n,i){if(e)return At.error(e,n);t.loaded_=!0,"function"!=typeof r().WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return ur(i,t);At.error("vttjs failed to load, stopping trying to process "+t.src)})):ur(i,t)})))},dr=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var i=Ii(t,{kind:nr[t.kind]||"subtitles",language:t.language||t.srclang||""}),r=ir[i.mode]||"disabled",a=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden"),(n=e.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var s=new Ji(n.cues_),o=new Ji(n.activeCues_),l=!1;return n.timeupdateHandler=di(u(n),(function(e){void 0===e&&(e={}),this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))):"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))})),n.tech_.one("dispose",(function(){n.stopTracking()})),"disabled"!==r&&n.startTracking(),Object.defineProperties(u(n),{default:{get:function(){return a},set:function(){}},mode:{get:function(){return r},set:function(e){ir[e]&&r!==e&&(r=e,this.preload_||"disabled"===r||0!==this.cues.length||hr(this.src,this),this.stopTracking(),"disabled"!==r&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?s:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return o;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];(r.startTime<=e&&r.endTime>=e||r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e)&&t.push(r)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var a=0;a<t.length;a++)-1===this.activeCues_.indexOf(t[a])&&(l=!0);return this.activeCues_=t,o.setCues_(this.activeCues_),o},set:function(){}}}),i.src?(n.src=i.src,n.preload_||(n.loaded_=!0),(n.preload_||"subtitles"!==i.kind&&"captions"!==i.kind)&&hr(n.src,u(n))):n.loaded_=!0,n}d(t,e);var n=t.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},n.addCue=function(e){var t=e;if(r().vttjs&&!(e instanceof r().vttjs.VTTCue)){for(var n in t=new(r().vttjs.VTTCue)(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),a=0;a<i.length;a++)i[a]!==this&&i[a].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(rr);dr.prototype.allowedEvents_={cuechange:"cuechange"};var fr=function(e){function t(t){var n;void 0===t&&(t={});var i=Ii(t,{kind:tr[t.kind]||""});n=e.call(this,i)||this;var r=!1;return Object.defineProperty(u(n),"enabled",{get:function(){return r},set:function(e){"boolean"==typeof e&&e!==r&&(r=e,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return d(t,e),t}(rr),pr=function(e){function t(t){var n;void 0===t&&(t={});var i=Ii(t,{kind:er[t.kind]||""});n=e.call(this,i)||this;var r=!1;return Object.defineProperty(u(n),"selected",{get:function(){return r},set:function(e){"boolean"==typeof e&&e!==r&&(r=e,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return d(t,e),t}(rr),mr=function(e){function t(t){var n,i;void 0===t&&(t={}),n=e.call(this)||this;var r=new dr(t);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n.default=r.default,Object.defineProperties(u(n),{readyState:{get:function(){return i}},track:{get:function(){return r}}}),i=0,r.addEventListener("loadeddata",(function(){i=2,n.trigger({type:"load",target:u(n)})})),n}return d(t,e),t}(pi);mr.prototype.allowedEvents_={load:"load"},mr.NONE=0,mr.LOADING=1,mr.LOADED=2,mr.ERROR=3;var gr={audio:{ListClass:Ki,TrackClass:fr,capitalName:"Audio"},video:{ListClass:Xi,TrackClass:pr,capitalName:"Video"},text:{ListClass:Qi,TrackClass:dr,capitalName:"Text"}};Object.keys(gr).forEach((function(e){gr[e].getterName=e+"Tracks",gr[e].privateName=e+"Tracks_"}));var yr={remoteText:{ListClass:Qi,TrackClass:dr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Zi,TrackClass:mr,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},vr=o({},gr,yr);yr.names=Object.keys(yr),gr.names=Object.keys(gr),vr.names=[].concat(yr.names).concat(gr.names);var br=function(e){function t(t,n){var i;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(i=e.call(this,null,t,n)||this).onDurationChange_=function(e){return i.onDurationChange(e)},i.trackProgress_=function(e){return i.trackProgress(e)},i.trackCurrentTime_=function(e){return i.trackCurrentTime(e)},i.stopTrackingCurrentTime_=function(e){return i.stopTrackingCurrentTime(e)},i.disposeSourceHandler_=function(e){return i.disposeSourceHandler(e)},i.queuedHanders_=new Set,i.hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),vr.names.forEach((function(e){var n=vr[e];t&&t[n.getterName]&&(i[n.privateName]=t[n.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==t.preloadTextTracks,i.autoRemoteTextTracks_=new vr.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}d(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(di(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return $i(0,0)},n.bufferedPercent=function(){return Bi(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(gr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t[e+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===e&&t.removeRemoteTextTrack(r),n.removeTrack(r)}}))},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(e){return void 0!==e&&(this.error_=new Mi(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?$i(0,0):$i()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;gr.names.forEach((function(t){var n=gr[t],i=function(){e.trigger(t+"trackchange")},r=e[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),e.on("dispose",(function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)}))}))},n.addWebVttScript_=function(){var e=this;if(!r().WebVTT)if(s().body.contains(this.el())){if(!this.options_["vtt.js"]&&$t(v())&&Object.keys(v()).length>0)return void this.trigger("vttjsloaded");var t=s().createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),r().WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),i=function(e){return t.addTrack(e.track)},r=function(e){return t.removeTrack(e.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var a=function(){return e.trigger("texttrackchange")},s=function(){a();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",a),"showing"===n.mode&&n.addEventListener("cuechange",a)}};s(),t.addEventListener("change",s),t.addEventListener("addtrack",s),t.addEventListener("removetrack",s),this.on("dispose",(function(){n.off("addtrack",i),n.off("removetrack",r),t.removeEventListener("change",s),t.removeEventListener("addtrack",s),t.removeEventListener("removetrack",s);for(var e=0;e<t.length;e++)t[e].removeEventListener("cuechange",a)}))},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i,r){void 0===r&&(r={});var a=e.textTracks();r.kind=t,n&&(r.label=n),i&&(r.language=i),r.tech=e;var s=new vr.text.TrackClass(r);return a.addTrack(s),s}(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=Ii(e,{tech:this});return new yr.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var i=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(At.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==t&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(i.track)})),i},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||r().Promise;if(e)return e.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(e){var t=this,n=Qn();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",(function(){t.queuedHanders_.has(n)&&(t.queuedHanders_.delete(n),e())}))):this.requestNamedAnimationFrame(n,e),n},n.cancelVideoFrameCallback=function(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Pi(e),t.techs_[e]=n,t.techs_[Ei(e)]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=Pi(e),r()&&r().videojs&&r().videojs[e]?(At.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),r().videojs[e]):void 0)},t}(Di);vr.names.forEach((function(e){var t=vr[e];br.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),br.prototype.featuresVolumeControl=!0,br.prototype.featuresMuteControl=!0,br.prototype.featuresFullscreenResize=!1,br.prototype.featuresPlaybackRate=!1,br.prototype.featuresProgressEvents=!1,br.prototype.featuresSourceset=!1,br.prototype.featuresTimeupdateEvents=!1,br.prototype.featuresNativeTextTracks=!1,br.prototype.featuresVideoFrameCallback=!1,br.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.canPlayType=function(t){for(var n,i=e.sourceHandlers||[],r=0;r<i.length;r++)if(n=i[r].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var i=e.sourceHandlers||[],r=0;r<i.length;r++)if(i[r].canHandleSource(t,n))return i[r];return null},e.canPlaySource=function(t,n){var i=e.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""},["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:At.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Di.registerComponent("Tech",br),br.registerTech("Tech",br),br.defaultTechOrder_=[];var _r={},wr={},Sr={};function kr(e,t,n){e.setTimeout((function(){return Ir(t,_r[t.type],n,e)}),1)}function Tr(e,t,n,i){void 0===i&&(i=null);var r="call"+Pi(n),a=e.reduce(Pr(r),i),s=a===Sr,o=s?null:t[n](a);return function(e,t,n,i){for(var r=e.length-1;r>=0;r--){var a=e[r];a[t]&&a[t](i,n)}}(e,n,o,s),o}var Cr={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},xr={setCurrentTime:1,setMuted:1,setVolume:1},Er={play:1,pause:1};function Pr(e){return function(t,n){return t===Sr?Sr:n[e]?n[e](t):t}}function Ir(e,t,n,i,r,a){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===a&&(a=!1);var s=t,o=s[0],l=s.slice(1);if("string"==typeof o)Ir(e,_r[o],n,i,r,a);else if(o){var c=function(e,t){var n=wr[e.id()],i=null;if(null==n)return i=t(e),wr[e.id()]=[[t,i]],i;for(var r=0;r<n.length;r++){var a=n[r],s=a[0],o=a[1];s===t&&(i=o)}return null===i&&(i=t(e),n.push([t,i])),i}(i,o);if(!c.setSource)return r.push(c),Ir(e,l,n,i,r,a);c.setSource(Nt({},e),(function(t,s){if(t)return Ir(e,l,n,i,r,a);r.push(c),Ir(s,e.type===s.type?l:_r[s.type],n,i,r,a)}))}else l.length?Ir(e,l,n,i,r,a):a?n(e,r):Ir(e,_r["*"],n,i,r,!0)}var Ar={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Lr=function(e){void 0===e&&(e="");var t=or(e);return Ar[t.toLowerCase()]||""},Or=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):Ft(t)&&n.push(t)})),t=n}else t="string"==typeof t&&t.trim()?[Rr({src:t})]:Ft(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Rr(t)]:[];return t};function Rr(e){if(!e.type){var t=Lr(e.src);t&&(e.type=t)}return e}var Dr=function(e){function t(t,n,i){var r,a=Ii({createEl:!1},n);if(r=e.call(this,t,a,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var s=0,o=n.playerOptions.techOrder;s<o.length;s++){var l=Pi(o[s]),c=br.getTech(l);if(l||(c=Di.getComponent(l)),c&&c.isSupported()){t.loadTech_(l);break}}return r}return d(t,e),t}(Di);Di.registerComponent("MediaLoader",Dr);var Nr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).options_.controlText&&i.controlText(i.options_.controlText),i.handleMouseOver_=function(e){return i.handleMouseOver(e)},i.handleMouseOut_=function(e){return i.handleMouseOut(e)},i.handleClick_=function(e){return i.handleClick(e)},i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.emitTapEvents(),i.enable(),i}d(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={}),t=Nt({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&At.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=Nt({role:"button"},n),this.tabIndex_=t.tabIndex;var i=gn(e,t,n);return i.appendChild(gn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=gn("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,yn(this.controlTextEl_,n),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(t){c().isEventKey(t,"Space")||c().isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Di);Di.registerComponent("ClickableComponent",Nr);var Fr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update(),i.update_=function(e){return i.update(e)},t.on("posterchange",i.update_),i}d(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),e.prototype.dispose.call(this)},n.createEl=function(){return gn("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(en||Qt)&&t||this.player_.tech(!0).focus(),this.player_.paused()?Vi(this.player_.play()):this.player_.pause()}},t}(Nr);Di.registerComponent("PosterImage",Fr);var $r={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Br(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Mr(e,t,n){try{e.style[t]=n}catch(e){return}}var Ur=function(e){function t(t,n,i){var a;a=e.call(this,t,n,i)||this;var s=function(e){return a.updateDisplay(e)};return t.on("loadstart",(function(e){return a.toggleDisplay(e)})),t.on("texttrackchange",s),t.on("loadedmetadata",(function(e){return a.preselectTrack(e)})),t.ready(di(u(a),(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",s),t.on("playerresize",s),r().addEventListener("orientationchange",s),t.on("dispose",(function(){return r().removeEventListener("orientationchange",s)}));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),a}d(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,s=0;s<r.length;s++){var o=r[s];a&&a.enabled&&a.language&&a.language===o.language&&o.kind in i?o.kind===a.kind?n=o:n||(n=o):a&&!a.enabled?(n=null,e=null,t=null):o.default&&("descriptions"!==o.kind||e?o.kind in i&&!t&&(t=o):e=o)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof r().WebVTT&&r().WebVTT.processCues(r(),[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],i=0;i<e.length;++i){var r=e[i];"showing"===r.mode&&n.push(r)}this.updateForTrack(n)}else{for(var a=null,s=null,o=e.length;o--;){var l=e[o];"showing"===l.mode&&("descriptions"===l.kind?a=l:s=l)}s?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(s)):a&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(a))}},n.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,i=n.length;i--;){var a=n[i];if(a){var s=a.displayState;if(t.color&&(s.firstChild.style.color=t.color),t.textOpacity&&Mr(s.firstChild,"color",Br(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(s.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Mr(s.firstChild,"backgroundColor",Br(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Mr(s,"backgroundColor",Br(t.windowColor,t.windowOpacity)):s.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var o=r().parseFloat(s.style.fontSize);s.style.fontSize=o*t.fontPercent+"px",s.style.height="auto",s.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=$r[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof r().WebVTT&&!e.every((function(e){return!e.activeCues}))){for(var t=[],n=0;n<e.length;++n)for(var i=e[n],a=0;a<i.activeCues.length;++a)t.push(i.activeCues[a]);r().WebVTT.processCues(r(),t,this.el_);for(var s=0;s<e.length;++s){for(var o=e[s],l=0;l<o.activeCues.length;++l){var c=o.activeCues[l].displayState;_n(c,"vjs-text-track-cue"),_n(c,"vjs-text-track-cue-"+(o.language?o.language:s)),o.language&&xn(c,"lang",o.language)}this.player_.textTrackSettings&&this.updateDisplayState(o)}}},t}(Di);Di.registerComponent("TextTrackDisplay",Ur);var jr=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),i=gn("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),r=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},t}(Di);Di.registerComponent("LoadingSpinner",jr);var Vr=function(e){function t(){return e.apply(this,arguments)||this}d(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var i=gn("button",t=Nt({className:this.buildCSSClass()},t),n=Nt({type:"button"},n));return i.appendChild(gn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i},n.addChild=function(e,t){void 0===t&&(t={});var n=this.constructor.name;return At.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Di.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){c().isEventKey(t,"Space")||c().isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(Nr);Di.registerComponent("Button",Vr);var Hr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).mouseused_=!1,i.on("mousedown",(function(e){return i.handleMouseDown(e)})),i}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Vi(t),void(!this.player_.tech(!0)||(en||Qt)&&n||this.player_.tech(!0).focus())}var i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(r){var a=function(){return r.focus()};ji(t)?t.then(a,(function(){})):this.setTimeout(a,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(Vr);Hr.prototype.controlText_="Play Video",Di.registerComponent("BigPlayButton",Hr);var qr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){c().isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Vr);Di.registerComponent("CloseButton",qr);var zr=function(e){function t(t,n){var i;return void 0===n&&(n={}),i=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,i.on(t,"play",(function(e){return i.handlePlay(e)})),i.on(t,"pause",(function(e){return i.handlePause(e)})),n.replay&&i.on(t,"ended",(function(e){return i.handleEnded(e)})),i}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?Vi(this.player_.play()):this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",(function(e){return t.handleSeeked(e)}))},t}(Vr);zr.prototype.controlText_="Play",Di.registerComponent("PlayToggle",zr);var Wr=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),a=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),(r=r>0||s>0?r+":":"")+(i=((r||a>=10)&&i<10?"0"+i:i)+":")+(n<10?"0"+n:n)},Gr=Wr;function Kr(e,t){return void 0===t&&(t=e),Gr(e,t)}var Yr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,["timeupdate","ended"],(function(e){return i.updateContent(e)})),i.updateTextNode_(),i}d(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),i=gn("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+""},{role:"presentation"});return n.appendChild(i),this.contentEl_=gn("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=Kr(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(t.contentEl_){var e=t.textNode_;e&&t.contentEl_.firstChild!==e&&(e=null,At.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=s().createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}})))},n.updateContent=function(e){},t}(Di);Yr.prototype.labelText_="Time",Yr.prototype.controlText_="Time",Di.registerComponent("TimeDisplay",Yr);var Xr=function(e){function t(){return e.apply(this,arguments)||this}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(Yr);Xr.prototype.labelText_="Current Time",Xr.prototype.controlText_="Current Time",Di.registerComponent("CurrentTimeDisplay",Xr);var Qr=function(e){function t(t,n){var i,r=function(e){return i.updateContent(e)};return(i=e.call(this,t,n)||this).on(t,"durationchange",r),i.on(t,"loadstart",r),i.on(t,"loadedmetadata",r),i}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(Yr);Qr.prototype.labelText_="Duration",Qr.prototype.controlText_="Duration",Di.registerComponent("DurationDisplay",Qr);var Zr=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=e.prototype.createEl.call(this,"div"),i=e.prototype.createEl.call(this,"span",{textContent:"/"});return n.appendChild(i),t.appendChild(n),t},t}(Di);Di.registerComponent("TimeDivider",Zr);var Jr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"durationchange",(function(e){return i.updateContent(e)})),i}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&t.insertBefore(gn("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(Yr);Jr.prototype.labelText_="Remaining Time",Jr.prototype.controlText_="Remaining Time",Di.registerComponent("RemainingTimeDisplay",Jr);var ea=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateShowing(),i.on(i.player(),"durationchange",(function(e){return i.updateShowing(e)})),i}d(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=gn("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(gn("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+""})),this.contentEl_.appendChild(s().createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(Di);Di.registerComponent("LiveDisplay",ea);var ta=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&(i.updateLiveEdgeStatusHandler_=function(e){return i.updateLiveEdgeStatus(e)},i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatusHandler_)),i}d(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=gn("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,e.prototype.dispose.call(this)},t}(Vr);ta.prototype.controlText_="Seek to live, currently playing live",Di.registerComponent("SeekToLive",ta);var na=function(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))},ia=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handleMouseDown_=function(e){return i.handleMouseDown(e)},i.handleMouseUp_=function(e){return i.handleMouseUp(e)},i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.handleClick_=function(e){return i.handleClick(e)},i.handleMouseMove_=function(e){return i.handleMouseMove(e)},i.update_=function(e){return i.update(e)},i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}d(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=Nt({tabIndex:0},n),i=Nt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),e.prototype.createEl.call(this,t,n,i)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Zt||e.preventDefault(),Pn(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;In(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",(function(){var n=e.vertical()?"height":"width";e.bar.el().style[n]=(100*t).toFixed(2)+"%"}))),t}},n.getProgress=function(){return Number(na(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(e){var t=On(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){c().isEventKey(t,"Left")||c().isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):c().isEventKey(t,"Right")||c().isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(Di);Di.registerComponent("Slider",ia);var ra=function(e,t){return na(e/t*100,0,100).toFixed(2)+"%"},aa=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).partEls_=[],i.on(t,"progress",(function(e){return i.update(e)})),i}d(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=gn("span",{className:"vjs-control-text"}),i=gn("span",{textContent:this.localize("Loaded")}),r=s().createTextNode(": ");return this.percentageEl_=gn("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(n),n.appendChild(i),n.appendChild(r),n.appendChild(this.percentageEl_),t},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var e=t.player_.liveTracker,n=t.player_.buffered(),i=e&&e.isLive()?e.seekableEnd():t.player_.duration(),r=t.player_.bufferedEnd(),a=t.partEls_,s=ra(r,i);t.percent_!==s&&(t.el_.style.width=s,yn(t.percentageEl_,s),t.percent_=s);for(var o=0;o<n.length;o++){var l=n.start(o),c=n.end(o),u=a[o];u||(u=t.el_.appendChild(gn()),a[o]=u),u.dataset.start===l&&u.dataset.end===c||(u.dataset.start=l,u.dataset.end=c,u.style.left=ra(l,r),u.style.width=ra(c-l,r))}for(var h=a.length;h>n.length;h--)t.el_.removeChild(a[h-1]);a.length=n.length}))},t}(Di);Di.registerComponent("LoadProgressBar",aa);var sa=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=fi(di(u(i),i.update),hi),i}d(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var i=Ln(this.el_),r=An(this.player_.el()),a=e.width*t;if(r&&i){var s=e.left-r.left+a,o=e.width-a+(r.right-e.right),l=i.width/2;s<l?l+=l-s:o<l&&(l=o),l<0?l=0:l>i.width&&(l=i.width),l=Math.round(l),this.el_.style.right="-"+l+"px",this.write(n)}},n.write=function(e){yn(this.el_,e)},n.updateTime=function(e,t,n,i){var r=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var a,s=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var o=r.player_.liveTracker.liveWindow(),l=o-t*o;a=(l<1?"":"-")+Kr(l,o)}else a=Kr(n,s);r.update(e,t,a),i&&i()}))},t}(Di);Di.registerComponent("TimeTooltip",sa);var oa=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=fi(di(u(i),i.update),hi),i}d(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,i)}},t}(Di);oa.prototype.options_={children:[]},on||Gt||oa.prototype.options_.children.push("timeTooltip"),Di.registerComponent("PlayProgressBar",oa);var la=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=fi(di(u(i),i.update),hi),i}d(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,(function(){n.el_.style.left=e.width*t+"px"}))},t}(Di);la.prototype.options_={children:["timeTooltip"]},Di.registerComponent("MouseTimeDisplay",la);var ca=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).setEventHandlers_(),i}d(t,e);var n=t.prototype;return n.setEventHandlers_=function(){var e=this;this.update_=di(this,this.update),this.update=fi(this.update_,hi),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(t){return e.enableInterval_(t)},this.disableIntervalHandler_=function(t){return e.disableInterval_(t)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in s()&&"visibilityState"in s()&&this.on(s(),"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){"hidden"===s().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,hi))},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var n=this;if("hidden"!==s().visibilityState){var i=e.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,r=n.player_.duration();t&&t.isLive()&&(r=n.player_.liveTracker.liveCurrentTime()),n.percent_!==i&&(n.el_.setAttribute("aria-valuenow",(100*i).toFixed(2)),n.percent_=i),n.currentTime_===e&&n.duration_===r||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[Kr(e,r),Kr(r,r)],"{1} of {2}")),n.currentTime_=e,n.duration_=r),n.bar&&n.bar.update(An(n.el()),n.getProgress())})),i}},n.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},n.handleMouseDown=function(t){Bn(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e,t){if(void 0===t&&(t=!1),Bn(e)){var n;t||this.player_.scrubbing()||this.player_.scrubbing(!0);var i=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){if(i>=.99)return void r.seekToLiveEdge();var a=r.seekableStart(),s=r.liveCurrentTime();if((n=a+i*r.liveWindow())>=s&&(n=s),n<=a&&(n=a+.1),n===1/0)return}else(n=i*this.player_.duration())===this.player_.duration()&&(n-=.1);this.userSeek_(n)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Vi(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){var n=this.player_.liveTracker;if(c().isEventKey(t,"Space")||c().isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(c().isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(c().isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(c()(t))){t.preventDefault(),t.stopPropagation();var i=10*(c().codes[c()(t)]-c().codes[0])/100;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else c().isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):c().isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in s()&&"visibilityState"in s()&&this.off(s(),"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(ia);ca.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},on||Gt||ca.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Di.registerComponent("SeekBar",ca);var ua=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handleMouseMove=fi(di(u(i),i.handleMouseMove),hi),i.throttledHandleMouseSeek=fi(di(u(i),i.handleMouseSeek),hi),i.handleMouseUpHandler_=function(e){return i.handleMouseUp(e)},i.handleMouseDownHandler_=function(e){return i.handleMouseDown(e)},i.enable(),i}d(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("playProgressBar"),i=t.getChild("mouseTimeDisplay");if(n||i){var r=t.el(),a=Ln(r),s=On(r,e).x;s=na(s,0,1),i&&i.update(a,s),n&&n.update(a,t.getProgress())}}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Vi(this.player_.play())}},n.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},t}(Di);ua.prototype.options_={children:["seekBar"]},Di.registerComponent("ProgressControl",ua);var ha=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],(function(e){return i.handlePictureInPictureChange(e)})),i.on(t,["disablepictureinpicturechanged","loadedmetadata"],(function(e){return i.handlePictureInPictureEnabledChange(e)})),i.on(t,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(function(){"audio"===t.currentType().substring(0,5)||t.audioPosterMode()||t.audioOnlyMode()?(t.isInPictureInPicture()&&t.exitPictureInPicture(),i.hide()):i.show()})),i.disable(),i}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){s().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(Vr);ha.prototype.controlText_="Picture-in-Picture",Di.registerComponent("PictureInPictureToggle",ha);var da=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"fullscreenchange",(function(e){return i.handleFullscreenChange(e)})),!1===s()[t.fsApi_.fullscreenEnabled]&&i.disable(),i}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Vr);da.prototype.controlText_="Fullscreen",Di.registerComponent("FullscreenToggle",da);var fa=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(e.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},t}(Di);Di.registerComponent("VolumeLevel",fa);var pa=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=fi(di(u(i),i.update),hi),i}d(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n,i){if(!n){var r=An(this.el_),a=An(this.player_.el()),s=e.width*t;if(!a||!r)return;var o=e.left-a.left+s,l=e.width-s+(a.right-e.right),c=r.width/2;o<c?c+=c-o:l<c&&(c=l),c<0?c=0:c>r.width&&(c=r.width),this.el_.style.right="-"+c+"px"}this.write(i+"%")},n.write=function(e){yn(this.el_,e)},n.updateVolume=function(e,t,n,i,r){var a=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(function(){a.update(e,t,n,i.toFixed(0)),r&&r()}))},t}(Di);Di.registerComponent("VolumeLevelTooltip",pa);var ma=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=fi(di(u(i),i.update),hi),i}d(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t,n){var i=this,r=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,n,r,(function(){n?i.el_.style.bottom=e.height*t+"px":i.el_.style.left=e.width*t+"px"}))},t}(Di);ma.prototype.options_={children:["volumeLevelTooltip"]},Di.registerComponent("MouseVolumeLevelDisplay",ma);var ga=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on("slideractive",(function(e){return i.updateLastVolume_(e)})),i.on(t,"volumechange",(function(e){return i.updateARIAAttributes(e)})),t.ready((function(){return i.updateARIAAttributes()})),i}d(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){Bn(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){var t=this.getChild("mouseVolumeLevelDisplay");if(t){var n=this.el(),i=An(n),r=this.vertical(),a=On(n,e);a=r?a.y:a.x,a=na(a,0,1),t.update(i,a,r)}Bn(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(ia);ga.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},on||Gt||ga.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),ga.prototype.playerEvent="volumechange",Di.registerComponent("VolumeBar",ga);var ya=function(e){function t(t,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||$t(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(u(i=e.call(this,t,n)||this),t),i.throttledHandleMouseMove=fi(di(u(i),i.handleMouseMove),hi),i.handleMouseUpHandler_=function(e){return i.handleMouseUp(e)},i.on("mousedown",(function(e){return i.handleMouseDown(e)})),i.on("touchstart",(function(e){return i.handleMouseDown(e)})),i.on("mousemove",(function(e){return i.handleMouseMove(e)})),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}d(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Di);ya.prototype.options_={children:["volumeBar"]},Di.registerComponent("VolumeControl",ya);var va=function(e){function t(t,n){var i;return function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(u(i=e.call(this,t,n)||this),t),i.on(t,["loadstart","volumechange"],(function(e){return i.update(e)})),i}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;on&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)wn(this.el_,"vjs-vol-"+n);_n(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(Vr);va.prototype.controlText_="Mute",Di.registerComponent("MuteToggle",va);var ba=function(e){function t(t,n){var i;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||$t(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=e.call(this,t,n)||this).handleKeyPressHandler_=function(e){return i.handleKeyPress(e)},i.on(t,["loadstart"],(function(e){return i.volumePanelState_(e)})),i.on(i.muteToggle,"keyup",(function(e){return i.handleKeyPress(e)})),i.on(i.volumeControl,"keyup",(function(e){return i.handleVolumeControlKeyUp(e)})),i.on("keydown",(function(e){return i.handleKeyPress(e)})),i.on("mouseover",(function(e){return i.handleMouseOver(e)})),i.on("mouseout",(function(e){return i.handleMouseOut(e)})),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}d(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){c().isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),ri(s(),"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),ai(s(),"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(e){c().isEventKey(e,"Esc")&&this.handleMouseOut()},t}(Di);ba.prototype.options_={children:["muteToggle","volumeControl"]},Di.registerComponent("VolumePanel",ba);var _a=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",(function(e){return i.handleKeyDown(e)})),i.boundHandleBlur_=function(e){return i.handleBlur(e)},i.boundHandleTapClick_=function(e){return i.handleTapClick(e)},i}d(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){e instanceof Di&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof Di&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=gn(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),ri(n,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||s().activeElement;if(!this.children().some((function(e){return e.el()===t}))){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter((function(t){return t.el()===e.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){c().isEventKey(e,"Left")||c().isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(c().isEventKey(e,"Right")||c().isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(Di);Di.registerComponent("Menu",_a);var wa=function(e){function t(t,n){var i;void 0===n&&(n={}),(i=e.call(this,t,n)||this).menuButton_=new Vr(t,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var r=Vr.prototype.buildCSSClass();i.menuButton_.el_.className=i.buildCSSClass()+" "+r,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0;var a=function(e){return i.handleClick(e)};return i.handleMenuKeyUp_=function(e){return i.handleMenuKeyUp(e)},i.on(i.menuButton_,"tap",a),i.on(i.menuButton_,"click",a),i.on(i.menuButton_,"keydown",(function(e){return i.handleKeyDown(e)})),i.on(i.menuButton_,"mouseenter",(function(){i.addClass("vjs-hover"),i.menu.show(),ri(s(),"keyup",i.handleMenuKeyUp_)})),i.on("mouseleave",(function(e){return i.handleMouseLeave(e)})),i.on("keydown",(function(e){return i.handleSubmenuKeyDown(e)})),i}d(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var e=new _a(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=gn("li",{className:"vjs-menu-title",textContent:Pi(this.options_.title),tabIndex:-1}),n=new Di(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Vr.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),ai(s(),"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){c().isEventKey(e,"Esc")||c().isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),c().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(c().isEventKey(e,"Up")||c().isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(c().isEventKey(e,"Esc")||c().isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(c().isEventKey(e,"Esc")||c().isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),c().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),on&&pn())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Di);Di.registerComponent("MenuButton",wa);var Sa=function(e){function t(t,n){var i,r=n.tracks;if((i=e.call(this,t,n)||this).items.length<=1&&i.hide(),!r)return u(i);var a=di(u(i),i.update);return r.addEventListener("removetrack",a),r.addEventListener("addtrack",a),r.addEventListener("labelchange",a),i.player_.on("ready",a),i.player_.on("dispose",(function(){r.removeEventListener("removetrack",a),r.removeEventListener("addtrack",a),r.removeEventListener("labelchange",a)})),i}return d(t,e),t}(wa);Di.registerComponent("TrackButton",Sa);var ka=["Tab","Esc","Up","Down","Right","Left"],Ta=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}d(t,e);var n=t.prototype;return n.createEl=function(t,n,i){this.nonIconControl=!0;var r=e.prototype.createEl.call(this,"li",Nt({className:"vjs-menu-item",tabIndex:-1},n),i);return r.replaceChild(gn("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),r.querySelector(".vjs-icon-placeholder")),r},n.handleKeyDown=function(t){ka.some((function(e){return c().isEventKey(t,e)}))||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Nr);Di.registerComponent("MenuItem",Ta);var Ca=function(e){function t(t,n){var i,a=n.track,o=t.textTracks();n.label=a.label||a.language||"Unknown",n.selected="showing"===a.mode,(i=e.call(this,t,n)||this).track=a,i.kinds=(n.kinds||[n.kind||i.track.kind]).filter(Boolean);var l,c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(u(i),t)},h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleSelectedLanguageChange.apply(u(i),t)};return t.on(["loadstart","texttrackchange"],c),o.addEventListener("change",c),o.addEventListener("selectedlanguagechange",h),i.on("dispose",(function(){t.off(["loadstart","texttrackchange"],c),o.removeEventListener("change",c),o.removeEventListener("selectedlanguagechange",h)})),void 0===o.onchange&&i.on(["tap","click"],(function(){if("object"!=typeof r().Event)try{l=new(r().Event)("change")}catch(e){}l||(l=s().createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(l)})),i.handleTracksChange(),i}d(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,i=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),i)for(var r=0;r<i.length;r++){var a=i[r];-1!==this.kinds.indexOf(a.kind)&&(a===n?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(Ta);Di.registerComponent("TextTrackMenuItem",Ca);var xa=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}d(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var a=t[i];if(this.options_.kinds.indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var a=t[i];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(Ca);Di.registerComponent("OffTextTrackMenuItem",xa);var Ea=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return d(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=Ca),this.label_&&(n=this.label_+" off"),e.push(new xa(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var a=i[r];if(this.kinds_.indexOf(a.kind)>-1){var s=new t(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});s.addClass("vjs-"+a.kind+"-menu-item"),e.push(s)}}return e},t}(Sa);Di.registerComponent("TextTrackButton",Ea);var Pa=function(e){function t(t,n){var i,r=n.track,a=n.cue,s=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=a.text,n.selected=a.startTime<=s&&s<a.endTime,(i=e.call(this,t,n)||this).track=r,i.cue=a,i}return d(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},t}(Ta);Di.registerComponent("ChaptersTrackMenuItem",Pa);var Ia=function(e){function t(t,n,i){var r;return(r=e.call(this,t,n,i)||this).selectCurrentItem_=function(){r.items.forEach((function(e){e.selected(r.track_.activeCues[0]===e.cue)}))},r}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){if(!t||!t.track||"chapters"===t.track.kind){var n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),e.prototype.update.call(this)):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&e.prototype.update.call(this)}},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Pi(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var r=t[n],a=new Pa(this.player_,{track:this.track_,cue:r});e.push(a)}return e},t}(Ea);Ia.prototype.kind_="chapters",Ia.prototype.controlText_="Chapters",Di.registerComponent("ChaptersButton",Ia);var Aa=function(e){function t(t,n,i){var r;r=e.call(this,t,n,i)||this;var a=t.textTracks(),s=di(u(r),r.handleTracksChange);return a.addEventListener("change",s),r.on("dispose",(function(){a.removeEventListener("change",s)})),r}d(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,r=t.length;i<r;i++){var a=t[i];if(a.kind!==this.kind_&&"showing"===a.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ea);Aa.prototype.kind_="descriptions",Aa.prototype.controlText_="Descriptions",Di.registerComponent("DescriptionsButton",Aa);var La=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ea);La.prototype.kind_="subtitles",La.prototype.controlText_="Subtitles",Di.registerComponent("SubtitlesButton",La);var Oa=function(e){function t(t,n){var i;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return d(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(Ca);Di.registerComponent("CaptionSettingsMenuItem",Oa);var Ra=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Oa(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Ea);Ra.prototype.kind_="captions",Ra.prototype.controlText_="Captions",Di.registerComponent("CaptionsButton",Ra);var Da=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.createEl=function(t,n,i){var r=e.prototype.createEl.call(this,t,n,i),a=r.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(a.appendChild(gn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),a.appendChild(gn("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),r},t}(Ca);Di.registerComponent("SubsCapsMenuItem",Da);var Na=function(e){function t(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(Pi(i.label_)),i}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Oa(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t,Da)},t}(Ea);Na.prototype.kinds_=["captions","subtitles"],Na.prototype.controlText_="Subtitles",Di.registerComponent("SubsCapsButton",Na);var Fa=function(e){function t(t,n){var i,r=n.track,a=t.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,(i=e.call(this,t,n)||this).track=r,i.addClass("vjs-"+r.kind+"-menu-item");var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(u(i),t)};return a.addEventListener("change",s),i.on("dispose",(function(){a.removeEventListener("change",s)})),i}d(t,e);var n=t.prototype;return n.createEl=function(t,n,i){var r=e.prototype.createEl.call(this,t,n,i),a=r.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(a.appendChild(gn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),a.appendChild(gn("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),r},n.handleClick=function(t){if(e.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var n=this.player_.audioTracks(),i=0;i<n.length;i++){var r=n[i];r!==this.track&&(r.enabled=r===this.track)}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(Ta);Di.registerComponent("AudioTrackMenuItem",Fa);var $a=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var i=t[n];e.push(new Fa(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e},t}(Sa);$a.prototype.controlText_="Audio Track",Di.registerComponent("AudioTrackButton",$a);var Ba=function(e){function t(t,n){var i,r=n.rate,a=parseFloat(r,10);return n.label=r,n.selected=a===t.playbackRate(),n.selectable=!0,n.multiSelectable=!1,(i=e.call(this,t,n)||this).label=r,i.rate=a,i.on(t,"ratechange",(function(e){return i.update(e)})),i}d(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(Ta);Ba.prototype.contentElType="button",Di.registerComponent("PlaybackRateMenuItem",Ba);var Ma=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).menuButton_.el_.setAttribute("aria-describedby",i.labelElId_),i.updateVisibility(),i.updateLabel(),i.on(t,"loadstart",(function(e){return i.updateVisibility(e)})),i.on(t,"ratechange",(function(e){return i.updateLabel(e)})),i.on(t,"playbackrateschange",(function(e){return i.handlePlaybackRateschange(e)})),i}d(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=gn("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var e=this.playbackRates(),t=[],n=e.length-1;n>=0;n--)t.push(new Ba(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){var t=this.player().playbackRate(),n=this.playbackRates(),i=(n.indexOf(t)+1)%n.length;this.player().playbackRate(n[i])},n.handlePlaybackRateschange=function(e){this.update()},n.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},t}(wa);Ma.prototype.controlText_="Playback Rate",Di.registerComponent("PlaybackRateMenuButton",Ma);var Ua=function(e){function t(){return e.apply(this,arguments)||this}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(t,n,i){return void 0===t&&(t="div"),void 0===n&&(n={}),void 0===i&&(i={}),n.className||(n.className=this.buildCSSClass()),e.prototype.createEl.call(this,t,n,i)},t}(Di);Di.registerComponent("Spacer",Ua);var ja=function(e){function t(){return e.apply(this,arguments)||this}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:""})},t}(Ua);Di.registerComponent("CustomControlSpacer",ja);var Va=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Di);Va.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in s()&&Va.prototype.options_.children.splice(Va.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Di.registerComponent("ControlBar",Va);var Ha=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"error",(function(e){return i.open(e)})),i}d(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(qi);Ha.prototype.options_=o({},qi.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Di.registerComponent("ErrorDisplay",Ha);var qa="vjs-text-track-settings",za=["#000","Black"],Wa=["#00F","Blue"],Ga=["#0FF","Cyan"],Ka=["#0F0","Green"],Ya=["#F0F","Magenta"],Xa=["#F00","Red"],Qa=["#FFF","White"],Za=["#FF0","Yellow"],Ja=["1","Opaque"],es=["0.5","Semi-Transparent"],ts=["0","Transparent"],ns={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[za,Qa,Xa,Ka,Wa,Za,Ya,Ga]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Ja,es,ts]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Qa,za,Xa,Ka,Wa,Za,Ya,Ga]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Ja,es]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ts,es,Ja]}};function is(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}ns.windowColor.options=ns.backgroundColor.options;var rs=function(e){function t(t,n){var i;return n.temporary=!1,(i=e.call(this,t,n)||this).updateDisplay=i.updateDisplay.bind(u(i)),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=gn("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),Dt(ns,(function(e){i.on(i.$(e.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}d(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var i=this;void 0===t&&(t=""),void 0===n&&(n="label");var r=ns[e],a=r.id.replace("%s",this.id_),s=[t,a].join(" ").trim();return["<"+n+' id="'+a+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+s+'">'].concat(r.options.map((function(e){var t=a+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+s+" "+t+'">',i.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return gn("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return gn("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return gn("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e,t,n,i=this;return t=function(e,t,n){var r,a,s=(r=i.$(t.selector),a=t.parser,is(r.options[r.options.selectedIndex].value,a));return void 0!==s&&(e[n]=s),e},void 0===(n={})&&(n=0),Rt(e=ns).reduce((function(n,i){return t(n,e[i],i)}),n)},n.setValues=function(e){var t=this;Dt(ns,(function(n,i){!function(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(is(e.options[i].value,n)===t){e.selectedIndex=i;break}}(t.$(n.selector),e[i],n.parser)}))},n.setDefaults=function(){var e=this;Dt(ns,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))},n.restoreSettings=function(){var e;try{e=JSON.parse(r().localStorage.getItem(qa))}catch(e){At.warn(e)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?r().localStorage.setItem(qa,JSON.stringify(e)):r().localStorage.removeItem(qa)}catch(e){At.warn(e)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(qi);Di.registerComponent("TextTrackSettings",rs);var as=function(e){function t(t,n){var i,a=n.ResizeObserver||r().ResizeObserver;null===n.ResizeObserver&&(a=!1);var s=Ii({createEl:!a,reportTouchActivity:!1},n);return(i=e.call(this,t,s)||this).ResizeObserver=n.ResizeObserver||r().ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(e,t,n,i){var a;void 0===i&&(i=r());var s=function(){var t=this,n=arguments,r=function(){a=null,r=null,e.apply(t,n)};i.clearTimeout(a),a=i.setTimeout(r,100)};return s.cancel=function(){i.clearTimeout(a),a=null},s}((function(){i.resizeHandler()}),0,0,u(i)),a?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(t.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var e=i.debouncedHandler_,t=i.unloadListener_=function(){ai(this,"resize",e),ai(this,"unload",t),t=null};ri(i.el_.contentWindow,"unload",t),ri(i.el_.contentWindow,"resize",e)}},i.one("load",i.loadListener_)),i}d(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(Di);Di.registerComponent("ResizeManager",as);var ss={trackingThreshold:20,liveTolerance:15},os=function(e){function t(t,n){var i,r=Ii(ss,n,{createEl:!1});return(i=e.call(this,t,r)||this).handleVisibilityChange_=function(e){return i.handleVisibilityChange(e)},i.trackLiveHandler_=function(){return i.trackLive_()},i.handlePlay_=function(e){return i.handlePlay(e)},i.handleFirstTimeupdate_=function(e){return i.handleFirstTimeupdate(e)},i.handleSeeked_=function(e){return i.handleSeeked(e)},i.seekToLiveEdge_=function(e){return i.seekToLiveEdge(e)},i.reset_(),i.on(i.player_,"durationchange",(function(e){return i.handleDurationchange(e)})),i.on(i.player_,"canplay",(function(){return i.toggleTracking()})),en&&"hidden"in s()&&"visibilityState"in s()&&i.on(s(),"visibilitychange",i.handleVisibilityChange_),i}d(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(s().hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(r().performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;var i=this.liveCurrentTime(),a=this.player_.currentTime(),s=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-a)>this.options_.liveTolerance;this.timeupdateSeen_&&i!==1/0||(s=!1),s!==this.behindLiveEdge_&&(this.behindLiveEdge_=s,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,hi),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(s(),"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),e.prototype.dispose.call(this)},t}(Di);Di.registerComponent("LiveTracker",os);var ls,cs=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],r="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var s=n[a].src;s&&-1===i.indexOf(s)&&i.push(s)}return!!i.length&&(1===i.length&&(r=i[0]),e.triggerSourceset(r),!0)},us=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=s().createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=s().createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",r().Element.prototype.appendChild.call(this,n),this.innerHTML}}),hs=function(e,t){for(var n={},i=0;i<e.length&&!((n=Object.getOwnPropertyDescriptor(e[i],t))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},ds=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},i=function(e){return hs([e.el(),r().HTMLMediaElement.prototype,r().Element.prototype,us],"innerHTML")}(e),a=function(n){return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var s=n.apply(t,r);return cs(e),s}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=a(n[e]))})),Object.defineProperty(t,"innerHTML",Ii(i,{set:a(i.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",i)},e.one("sourceset",t.resetSourceWatch_)}},fs=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?sr(r().Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return r().Element.prototype.setAttribute.call(this,"src",e),e}}),ps=function(e,t,n,i){void 0===i&&(i=!0);var r=function(n){return Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var e=n();return r(e),e}};return i&&(a.set=r),Object.defineProperty(e,t,a)},ms=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r=t.source,a=!1;if(i.featuresVideoFrameCallback=i.featuresVideoFrameCallback&&"VIDEO"===i.el_.tagName,r&&(i.el_.currentSrc!==r.src||t.tag&&3===t.tag.initNetworkState_)?i.setSource(r):i.handleLateInit_(i.el_),t.enableSourceset&&i.setupSourcesetHandling_(),i.isScrubbing_=!1,i.el_.hasChildNodes()){for(var s=i.el_.childNodes,o=s.length,l=[];o--;){var c=s[o];"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),a||i.el_.hasAttribute("crossorigin")||!lr(c.src)||(a=!0)):l.push(c))}for(var u=0;u<l.length;u++)i.el_.removeChild(l[u])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&At.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(rn||sn||Yt)&&!0===t.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}d(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){!function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return hs([e.el(),r().HTMLMediaElement.prototype,fs],"src")}(e),i=t.setAttribute,a=t.load;Object.defineProperty(t,"src",Ii(n,{set:function(i){var r=n.set.call(t,i);return e.triggerSourceset(t.src),r}})),t.setAttribute=function(n,r){var a=i.call(t,n,r);return/src/i.test(n)&&e.triggerSourceset(t.src),a},t.load=function(){var n=a.call(t);return cs(e)||(e.triggerSourceset(""),ds(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):cs(e)||ds(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=a,t.setAttribute=i,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}}(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var i=t[n];"metadata"===i.kind&&e.push({track:i,storedMode:i.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var i=function n(){for(var i=0;i<e.length;i++){var r=e[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",i),t.addEventListener("change",i)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",i)}))},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var i=e.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach((function(e){n.el()[i+"Tracks"].removeEventListener(e,n[i+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=gr[e],i=this.el()[n.getterName],r=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var a={change:function(n){var i={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(i),"text"===e&&t[yr.remoteText.getterName]().trigger(i)},addtrack:function(e){r.addTrack(e.track)},removetrack:function(e){r.removeTrack(e.track)}},s=function(){for(var e=[],t=0;t<r.length;t++){for(var n=!1,a=0;a<i.length;a++)if(i[a]===r[t]){n=!0;break}n||e.push(r[t])}for(;e.length;)r.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=a,Object.keys(a).forEach((function(e){var n=a[e];i.addEventListener(e,n),t.on("dispose",(function(t){return i.removeEventListener(e,n)}))})),this.on("loadstart",s),this.on("dispose",(function(e){return t.off("loadstart",s)}))}},n.proxyNativeTracks_=function(){var e=this;gr.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=s().createElement("video");var i=Ii({},this.options_.tag&&Tn(this.options_.tag));rn&&!0===this.options_.nativeControlsForTouch||delete i.controls,kn(e,Nt(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&xn(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var r=["loop","muted","playsinline","autoplay"],a=0;a<r.length;a++){var o=r[a],l=this.options_[o];void 0!==l&&(l?xn(e,o,o):En(e,o),e[o]=l)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var i=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(e){this.trigger(e)}),this)}))}},n.setScrubbing=function(e){this.isScrubbing_=e},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&ln?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){At(e,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;return this.el_.duration===1/0&&Gt&&Zt&&0===this.el_.currentTime?(this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN):this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=r().navigator&&r().navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Vi(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}),0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},n.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):e.prototype.requestVideoFrameCallback.call(this,t)},n.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):e.prototype.cancelVideoFrameCallback.call(this,t)},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):e.prototype.addTextTrack.call(this,t,n,i)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=s().createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var i=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)t!==n[i]&&t!==n[i].track||this.el().removeChild(n[i])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),r().performance&&"function"==typeof r().performance.now?e.creationTime=r().performance.now():r().performance&&r().performance.timing&&"number"==typeof r().performance.timing.navigationStart&&(e.creationTime=r().Date.now()-r().performance.timing.navigationStart),e},t}(br);ps(ms,"TEST_VID",(function(){if(dn()){var e=s().createElement("video"),t=s().createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}})),ms.isSupported=function(){try{ms.TEST_VID.volume=.5}catch(e){return!1}return!(!ms.TEST_VID||!ms.TEST_VID.canPlayType)},ms.canPlayType=function(e){return ms.TEST_VID.canPlayType(e)},ms.canPlaySource=function(e,t){return ms.canPlayType(e.type)},ms.canControlVolume=function(){try{var e=ms.TEST_VID.volume;ms.TEST_VID.volume=e/2+.1;var t=e!==ms.TEST_VID.volume;return t&&on?(r().setTimeout((function(){ms&&ms.prototype&&(ms.prototype.featuresVolumeControl=e!==ms.TEST_VID.volume)})),!1):t}catch(e){return!1}},ms.canMuteVolume=function(){try{var e=ms.TEST_VID.muted;return ms.TEST_VID.muted=!e,ms.TEST_VID.muted?xn(ms.TEST_VID,"muted","muted"):En(ms.TEST_VID,"muted"),e!==ms.TEST_VID.muted}catch(e){return!1}},ms.canControlPlaybackRate=function(){if(Gt&&Zt&&Jt<58)return!1;try{var e=ms.TEST_VID.playbackRate;return ms.TEST_VID.playbackRate=e/2+.1,e!==ms.TEST_VID.playbackRate}catch(e){return!1}},ms.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(s().createElement("video"),"src",{get:e,set:e}),Object.defineProperty(s().createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(s().createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(s().createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},ms.supportsNativeTextTracks=function(){return ln||on&&Zt},ms.supportsNativeVideoTracks=function(){return!(!ms.TEST_VID||!ms.TEST_VID.videoTracks)},ms.supportsNativeAudioTracks=function(){return!(!ms.TEST_VID||!ms.TEST_VID.audioTracks)},ms.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(e){var t=e[0],n=e[1];ps(ms.prototype,t,(function(){return ms[n]()}),!0)})),ms.prototype.featuresVolumeControl=ms.canControlVolume(),ms.prototype.movingMediaElementInDOM=!on,ms.prototype.featuresFullscreenResize=!0,ms.prototype.featuresProgressEvents=!0,ms.prototype.featuresTimeupdateEvents=!0,ms.prototype.featuresVideoFrameCallback=!(!ms.TEST_VID||!ms.TEST_VID.requestVideoFrameCallback),ms.patchCanPlayType=function(){Kt>=4&&!Xt&&!Zt&&(ls=ms.TEST_VID&&ms.TEST_VID.constructor.prototype.canPlayType,ms.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":ls.call(this,e)})},ms.unpatchCanPlayType=function(){var e=ms.TEST_VID.constructor.prototype.canPlayType;return ls&&(ms.TEST_VID.constructor.prototype.canPlayType=ls),e},ms.patchCanPlayType(),ms.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},ms.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){ms.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){ms.prototype["set"+Pi(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){ms.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){ms.prototype["set"+Pi(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){ms.prototype[e]=function(){return this.el_[e]()}})),br.withSourceHandlers(ms),ms.nativeSourceHandler={},ms.nativeSourceHandler.canPlayType=function(e){try{return ms.TEST_VID.canPlayType(e)}catch(e){return""}},ms.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return ms.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=or(e.src);return ms.nativeSourceHandler.canPlayType("video/"+n)}return""},ms.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},ms.nativeSourceHandler.dispose=function(){},ms.registerSourceHandler(ms.nativeSourceHandler),br.registerTech("Html5",ms);var gs=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],ys={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},vs=["tiny","xsmall","small","medium","large","xlarge","huge"],bs={};vs.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;bs[e]="vjs-layout-"+t}));var _s={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},ws=function(e){function t(n,i,r){var a;if(n.id=n.id||i.id||"vjs_video_"+Qn(),(i=Nt(t.getTagSettings(n),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var o=n.closest("[lang]");o&&o.getAttribute&&(i.language=o.getAttribute("lang"))}else for(var l=n;l&&1===l.nodeType;){if(Tn(l).hasOwnProperty("lang")){i.language=l.getAttribute("lang");break}l=l.parentNode}if((a=e.call(this,null,i,r)||this).boundDocumentFullscreenChange_=function(e){return a.documentFullscreenChange_(e)},a.boundFullWindowOnEscKey_=function(e){return a.fullWindowOnEscKey(e)},a.boundUpdateStyleEl_=function(e){return a.updateStyleEl_(e)},a.boundApplyInitTime_=function(e){return a.applyInitTime_(e)},a.boundUpdateCurrentBreakpoint_=function(e){return a.updateCurrentBreakpoint_(e)},a.boundHandleTechClick_=function(e){return a.handleTechClick_(e)},a.boundHandleTechDoubleClick_=function(e){return a.handleTechDoubleClick_(e)},a.boundHandleTechTouchStart_=function(e){return a.handleTechTouchStart_(e)},a.boundHandleTechTouchMove_=function(e){return a.handleTechTouchMove_(e)},a.boundHandleTechTouchEnd_=function(e){return a.handleTechTouchEnd_(e)},a.boundHandleTechTap_=function(e){return a.handleTechTap_(e)},a.isFullscreen_=!1,a.log=Lt(a.id_),a.fsApi_=Tt,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,a.audioOnlyMode_=!1,a.audioPosterMode_=!1,a.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=n,a.tagAttributes=n&&Tn(n),a.language(a.options_.language),i.languages){var c={};Object.getOwnPropertyNames(i.languages).forEach((function(e){c[e.toLowerCase()]=i.languages[e]})),a.languages_=c}else a.languages_=t.prototype.options_.languages;a.resetCache_(),a.poster_=i.poster||"",a.controls_=!!i.controls,n.controls=!1,n.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],n.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach((function(e){if("function"!=typeof a[e])throw new Error('plugin "'+e+'" does not exist')})),a.scrubbing_=!1,a.el_=a.createEl(),Ti(u(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(ri(s(),a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var h=Ii(a.options_);i.plugins&&Object.keys(i.plugins).forEach((function(e){a[e](i.plugins[e])})),i.debug&&a.debug(!0),a.options_.playerOptions=h,a.middleware_=[],a.playbackRates(i.playbackRates),a.initChildren(),a.isAudio("audio"===n.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),rn&&a.addClass("vjs-touch-enabled"),on||a.addClass("vjs-workinghover"),t.players[a.id_]=u(a);var d=_t.split(".")[0];return a.addClass("vjs-v"+d),a.userActive(!0),a.reportUserActivity(),a.one("play",(function(e){return a.listenForUserActivity_(e)})),a.on("stageclick",(function(e){return a.handleStageClick_(e)})),a.on("keydown",(function(e){return a.handleKeyDown(e)})),a.on("languagechange",(function(e){return a.handleLanguagechange(e)})),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.on("ready",(function(){a.audioPosterMode(a.options_.audioPosterMode),a.audioOnlyMode(a.options_.audioOnlyMode)})),a}d(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),ai(s(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ai(s(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),wr[this.id()]=null,vr.names.forEach((function(e){var t=vr[e],i=n[t.getterName]();i&&i.off&&i.off()})),e.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},n.createEl=function(){var t,n=this.tag,i=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();i?t=this.el_=n.parentNode:a||(t=this.el_=e.prototype.createEl.call(this,"div"));var o=Tn(n);if(a){for(t=this.el_=n,n=this.tag=s().createElement("video");t.children.length;)n.appendChild(t.firstChild);bn(t,"video-js")||_n(t,"video-js"),t.appendChild(n),i=this.playerElIngest_=t,Object.keys(t).forEach((function(e){try{n[e]=t[e]}catch(e){}}))}if(n.setAttribute("tabindex","-1"),o.tabindex="-1",(en||Zt&&nn)&&(n.setAttribute("role","application"),o.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach((function(e){a&&"class"===e||t.setAttribute(e,o[e]),a&&n.setAttribute(e,o[e])})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==r().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Kn("vjs-styles-dimensions");var l=Un(".vjs-styles-defaults"),c=Un("head");c.insertBefore(this.styleEl_,l?l.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var u=n.getElementsByTagName("a"),h=0;h<u.length;h++){var d=u.item(h);_n(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!i&&n.parentNode.insertBefore(t,n),vn(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t,t},n.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):At.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(t);isNaN(i)?At.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,this.updateStyleEl_())},n.fluid=function(e){var t,n,i=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,gi(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),n=function(){i.on(["playerreset","resize"],i.boundUpdateStyleEl_)},gi(t=this)?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==r().VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),a=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/a:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*a,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),Yn(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*a+"%;\n      }\n    ")}else{var s="number"==typeof this.width_?this.width_:this.options_.width,o="number"==typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(s>=0&&(l.width=s),o>=0&&(l.height=o))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var i=Pi(e),r=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(br.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var a=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(a=!1);var s={source:t,autoplay:a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};vr.names.forEach((function(e){var t=vr[e];s[t.getterName]=n[t.privateName]})),Nt(s,this.options_[i]),Nt(s,this.options_[r]),Nt(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var o,l,c=br.getTech(e);if(!c)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new c(s),this.tech_.ready(di(this,this.handleTechReady_),!0),o=this.textTracksJson_||[],l=this.tech_,o.forEach((function(e){var t=l.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return t.addCue(e)}))})),l.textTracks(),gs.forEach((function(e){n.on(n.tech_,e,(function(t){return n["handleTech"+Pi(e)+"_"](t)}))})),Object.keys(ys).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+ys[e]+"_"].bind(n),event:t}):n["handleTech"+ys[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",(function(e){return n.handleTechLoadStart_(e)})),this.on(this.tech_,"sourceset",(function(e){return n.handleTechSourceset_(e)})),this.on(this.tech_,"waiting",(function(e){return n.handleTechWaiting_(e)})),this.on(this.tech_,"ended",(function(e){return n.handleTechEnded_(e)})),this.on(this.tech_,"seeking",(function(e){return n.handleTechSeeking_(e)})),this.on(this.tech_,"play",(function(e){return n.handleTechPlay_(e)})),this.on(this.tech_,"firstplay",(function(e){return n.handleTechFirstPlay_(e)})),this.on(this.tech_,"pause",(function(e){return n.handleTechPause_(e)})),this.on(this.tech_,"durationchange",(function(e){return n.handleTechDurationChange_(e)})),this.on(this.tech_,"fullscreenchange",(function(e,t){return n.handleTechFullscreenChange_(e,t)})),this.on(this.tech_,"fullscreenerror",(function(e,t){return n.handleTechFullscreenError_(e,t)})),this.on(this.tech_,"enterpictureinpicture",(function(e){return n.handleTechEnterPictureInPicture_(e)})),this.on(this.tech_,"leavepictureinpicture",(function(e){return n.handleTechLeavePictureInPicture_(e)})),this.on(this.tech_,"error",(function(e){return n.handleTechError_(e)})),this.on(this.tech_,"posterchange",(function(e){return n.handleTechPosterChange_(e)})),this.on(this.tech_,"textdata",(function(e){return n.handleTechTextData_(e)})),this.on(this.tech_,"ratechange",(function(e){return n.handleTechRateChange_(e)})),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||vn(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e,t,n,i=this;vr.names.forEach((function(e){var t=vr[e];i[t.privateName]=i[t.getterName]()})),this.textTracksJson_=(e=this.tech_,t=e.$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track})),Array.prototype.map.call(t,(function(e){var t=Hi(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(Hi))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&At.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n,i=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var i=t.play();if(ji(i))return i.catch((function(e){throw n(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(e||""))}))};if("any"!==e||this.muted()?n="muted"!==e||this.muted()?this.play():i():ji(n=this.play())&&(n=n.catch(i)),ji(n))return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(){t.trigger({type:"autoplay-failure",autoplay:e})}))}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var i=e.$$("source"),r=0;r<i.length;r++){var a=i[r];if(a.type&&a.src&&a.src===t)return a.type}return Lr(t)}(this,t)),this.cache_.source=Ii({},e,{src:t,type:n});for(var i=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),r=[],a=this.$$("source"),s=[],o=0;o<a.length;o++){var l=Tn(a[o]);r.push(l),l.src&&l.src===t&&s.push(l.src)}s.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},i=this.currentSource().src,r=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=function(){}),n(r),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))}))},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(At.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?Vi(this.play()):this.pause()))},n.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var n=this.el(),i=s()[this.fsApi_.fullscreenElement]===n;!i&&n.matches?i=n.matches(":"+this.fsApi_.fullscreen):!i&&n.msMatchesSelector&&(i=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}},n.handleTechFullscreenChange_=function(e,t){var n=this;t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(function(){n.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(t.isFullscreen))},n.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(e,t){this.ready((function(){if(e in xr)return function(e,t,n,i){return t[n](e.reduce(Pr(n),i))}(this.middleware_,this.tech_,e,t);if(e in Er)return Tr(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw At(e),e}}),!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Cr)return function(e,t,n){return e.reduceRight(Pr(n),t[n]())}(this.middleware_,this.tech_,e);if(e in Er)return Tr(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw At("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw At("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw At(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||r().Promise;return t?new t((function(t){e.play_(t)})):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=Vi),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!ln&&!on||this.load());var i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||$i(0,0)},n.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=$i(0,0)),e},n.bufferedPercent=function(){return Bi(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},n.requestFullscreen=function(e){var t=this.options_.Promise||r().Promise;if(t){var n=this;return new t((function(t,i){function r(){n.off("fullscreenerror",s),n.off("fullscreenchange",a)}function a(){r(),t()}function s(e,t){r(),i(t)}n.one("fullscreenchange",a),n.one("fullscreenerror",s);var o=n.requestFullscreenHelper_(e);o&&(o.then(r,r),o.then(t,i))}))}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(e){var t,n=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var i=this.el_[this.fsApi_.requestFullscreen](t);return i&&i.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),i}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var e=this.options_.Promise||r().Promise;if(e){var t=this;return new e((function(e,n){function i(){t.off("fullscreenerror",a),t.off("fullscreenchange",r)}function r(){i(),e()}function a(e,t){i(),n(t)}t.one("fullscreenchange",r),t.one("fullscreenerror",a);var s=t.exitFullscreenHelper_();s&&(s.then(i,i),s.then(e,n))}))}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=s()[this.fsApi_.exitFullscreen]();return t&&Vi(t.then((function(){return e.isFullscreen(!1)}))),t}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=s().documentElement.style.overflow,ri(s(),"keydown",this.boundFullWindowOnEscKey_),s().documentElement.style.overflow="hidden",_n(s().body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){c().isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,ai(s(),"keydown",this.boundFullWindowOnEscKey_),s().documentElement.style.overflow=this.docOrigOverflow,wn(s().body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in s()&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in s())return s().exitPictureInPicture()},n.handleKeyDown=function(e){var t,n,i=this.options_.userActions;i&&i.hotkeys&&(t=this.el_.ownerDocument.activeElement,n=t.tagName.toLowerCase(),t.isContentEditable||("input"===n?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(t.type):-1!==["textarea"].indexOf(n))||("function"==typeof i.hotkeys?i.hotkeys.call(this,e):this.handleHotkeys(e)))},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,i=void 0===n?function(e){return c().isEventKey(e,"f")}:n,r=t.muteKey,a=void 0===r?function(e){return c().isEventKey(e,"m")}:r,o=t.playPauseKey,l=void 0===o?function(e){return c().isEventKey(e,"k")||c().isEventKey(e,"Space")}:o;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();var u=Di.getComponent("FullscreenToggle");!1!==s()[this.fsApi_.fullscreenEnabled]&&u.prototype.handleClick.call(this,e)}else a.call(this,e)?(e.preventDefault(),e.stopPropagation(),Di.getComponent("MuteToggle").prototype.handleClick.call(this,e)):l.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Di.getComponent("PlayToggle").prototype.handleClick.call(this,e))},n.canPlayType=function(e){for(var t,n=0,i=this.options_.techOrder;n<i.length;n++){var r=i[n],a=br.getTech(r);if(a||(a=Di.getComponent(r)),a){if(a.isSupported()&&(t=a.canPlayType(e)))return t}else At.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n,i=this,r=this.options_.techOrder.map((function(e){return[e,br.getTech(e)]})).filter((function(e){var t=e[0],n=e[1];return n?n.isSupported():(At.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),a=function(e,t,n){var i;return e.some((function(e){return t.some((function(t){if(i=n(e,t))return!0}))})),i},s=function(e,t){var n=e[0];if(e[1].canPlaySource(t,i.options_[n.toLowerCase()]))return{source:t,tech:n}};return t=this.options_.sourceOrder?a(e,r,(n=s,function(e,t){return n(t,e)})):a(r,e,s),t||!1},n.handleSrc_=function(e,t){var n=this;if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var i=Or(e);if(i.length){if(this.changingSrc_=!0,t||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),kr(this,i[0],(function(e,r){var a,s;if(n.middleware_=r,t||(n.cache_.sources=i),n.updateSourceCaches_(e),n.src_(e))return i.length>1?n.handleSrc_(i.slice(1)):(n.changingSrc_=!1,n.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void n.triggerReady());a=r,s=n.tech_,a.forEach((function(e){return e.setTech&&e.setTech(s)}))})),this.options_.retryOnError&&i.length>1){var r=function(){n.error(null),n.handleSrc_(i.slice(1),!0)},a=function(){n.off("error",r)};this.one("error",r),this.one("playing",a),this.resetRetryOnError_=function(){n.off("error",r),n.off("playing",a)}}}else this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0)},n.src=function(e){return this.handleSrc_(e,!1)},n.src_=function(e){var t,n,i=this,r=this.selectSource([e]);return!r||(t=r.tech,n=this.techName_,Pi(t)!==Pi(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready((function(){i.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||r().Promise;this.paused()||!t?this.doReset_():Vi(this.play().then((function(){return e.doReset_()})))},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),gi(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar||{},t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){var t=this;if(void 0===e)return this.error_||null;if(St("beforeerror").forEach((function(n){var i=n(t,e);Ft(i)&&!Array.isArray(i)||"string"==typeof i||"number"==typeof i||null===i?e=i:t.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){var n=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),void this.one("loadstart",(function(){this.off(["click","touchstart"],n)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Mi(e),this.addClass("vjs-error"),At.error("(CODE:"+this.error_.code+" "+Mi.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),St("error").forEach((function(e){return e(t,t.error_)}))},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,i=di(this,this.reportUserActivity),r=function(t){i(),this.clearInterval(e)};this.on("mousedown",(function(){i(),this.clearInterval(e),e=this.setInterval(i,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,i())})),this.on("mouseup",r),this.on("mouseleave",r);var a,s=this.getChild("controlBar");!s||on||Gt||(s.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),s.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a);var e=this.options_.inactivityTimeout;e<=0||(a=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.enableAudioOnlyUI_=function(){var e=this;this.addClass("vjs-audio-only-mode");var t=this.children(),n=this.getChild("ControlBar"),i=n&&n.currentHeight();t.forEach((function(t){t!==n&&t.el_&&!t.hasClass("vjs-hidden")&&(t.hide(),e.audioOnlyCache_.hiddenChildren.push(t))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(i),this.trigger("audioonlymodechange")},n.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach((function(e){return e.show()})),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},n.audioOnlyMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=e;var n=this.options_.Promise||r().Promise;if(n){if(e){var i=[];return this.isInPictureInPicture()&&i.push(this.exitPictureInPicture()),this.isFullscreen()&&i.push(this.exitFullscreen()),this.audioPosterMode()&&i.push(this.audioPosterMode(!1)),n.all(i).then((function(){return t.enableAudioOnlyUI_()}))}return n.resolve().then((function(){return t.disableAudioOnlyUI_()}))}e?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},n.enablePosterModeUI_=function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.disablePosterModeUI_=function(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.audioPosterMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=e;var n=this.options_.Promise||r().Promise;return n?e?this.audioOnlyMode()?this.audioOnlyMode(!1).then((function(){t.enablePosterModeUI_()})):n.resolve().then((function(){t.enablePosterModeUI_()})):n.resolve().then((function(){t.disablePosterModeUI_()})):e?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),gi(this)&&this.trigger("languagechange"))},n.languages=function(){return Ii(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=Ii(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=Ii(i)).player=void 0,e.tracks[n]=i}return e},n.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var i=new qi(this,t);return this.addChild(i),i.on("dispose",(function(){n.removeChild(i)})),i.open(),i},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<vs.length;n++){var i=vs[n];if(t<=this.breakpoints_[i]){if(e===i)return;e&&this.removeClass(bs[e]),this.addClass(bs[i]),this.breakpoint_=i;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Nt({},_s,e),this.updateCurrentBreakpoint_()),Nt(this.breakpoints_)},n.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return bs[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=Ii(e);var i=this.cache_.media,r=i.artwork,a=i.poster,s=i.src,o=i.textTracks;!r&&a&&(this.cache_.media.artwork=[{src:a,type:Lr(a)}]),s&&this.src(s),a&&this.poster(a),Array.isArray(o)&&o.forEach((function(e){return n.addRemoteTextTrack(e,!1)})),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:Lr(t.poster)}]),t}return Ii(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=Tn(e),i=n["data-setup"];if(bn(e,"vjs-fill")&&(n.fill=!0),bn(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var r=p()(i||"{}"),a=r[0],s=r[1];a&&At.error(a),Nt(n,s)}if(Nt(t,n),e.hasChildNodes())for(var o=e.childNodes,l=0,c=o.length;l<c;l++){var u=o[l],h=u.nodeName.toLowerCase();"source"===h?t.sources.push(Tn(u)):"track"===h&&t.tracks.push(Tn(u))}return t},n.flexNotSupported_=function(){var e=s().createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},n.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((function(e){return"number"==typeof e}))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},t}(Di);vr.names.forEach((function(e){var t=vr[e];ws.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),ws.prototype.crossorigin=ws.prototype.crossOrigin,ws.players={};var Ss=r().navigator;ws.prototype.options_={techOrder:br.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ss&&(Ss.languages&&Ss.languages[0]||Ss.userLanguage||Ss.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){ws.prototype[e]=function(){return this.techGet_(e)}})),gs.forEach((function(e){ws.prototype["handleTech"+Pi(e)+"_"]=function(){return this.trigger(e)}})),Di.registerComponent("Player",ws);var ks="plugin",Ts={},Cs=function(e){return Ts.hasOwnProperty(e)},xs=function(e){return Cs(e)?Ts[e]:void 0},Es=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},Ps=function(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},Is=function(e,t){return t.prototype.name=e,function(){Ps(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=_(t,[this].concat(i));return this[e]=function(){return a},Ps(this,a.getEventHash()),a}},As=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),Ti(this),delete this.trigger,xi(this,this.constructor.defaultState),Es(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),si(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=Is(e,Ts[e])},e.isBasic=function(t){var n="string"==typeof t?xs(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(Cs(t))At.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(ws.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return Ts[t]=n,t!==ks&&(e.isBasic(n)?ws.prototype[t]=function(e,t){var n=function(){Ps(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return Es(this,e),Ps(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):ws.prototype[t]=Is(t,n)),n},e.deregisterPlugin=function(e){if(e===ks)throw new Error("Cannot de-register base plugin.");Cs(e)&&(delete Ts[e],delete ws.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(Ts)),e.forEach((function(e){var n=xs(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=xs(e);return t&&t.VERSION||""},e}();As.getPlugin=xs,As.BASE_PLUGIN_NAME=ks,As.registerPlugin(ks,As),ws.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},ws.prototype.hasPlugin=function(e){return!!Cs(e)};var Ls=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Os(e,t,n){var i=Os.getPlayer(e);if(i)return t&&At.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r="string"==typeof e?Un("#"+Ls(e)):e;if(!fn(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||At.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(r.parentNode&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),St("beforesetup").forEach((function(e){var n=e(r,Ii(t));Ft(n)&&!Array.isArray(n)?t=Ii(t,n):At.error("please return an object in beforesetup hooks")}));var a=Di.getComponent("Player");return i=new a(r,t,n),St("setup").forEach((function(e){return e(i)})),i}if(Os.hooks_=wt,Os.hooks=St,Os.hook=function(e,t){St(e,t)},Os.hookOnce=function(e,t){St(e,[].concat(t).map((function(t){return function n(){return kt(e,n),t.apply(void 0,arguments)}})))},Os.removeHook=kt,!0!==r().VIDEOJS_NO_DYNAMIC_STYLE&&dn()){var Rs=Un(".vjs-styles-defaults");if(!Rs){Rs=Kn("vjs-styles-defaults");var Ds=Un("head");Ds&&Ds.insertBefore(Rs,Ds.firstChild),Yn(Rs,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}zn(1,Os),Os.VERSION=_t,Os.options=ws.prototype.options_,Os.getPlayers=function(){return ws.players},Os.getPlayer=function(e){var t,n=ws.players;if("string"==typeof e){var i=Ls(e),r=n[i];if(r)return r;t=Un("#"+i)}else t=e;if(fn(t)){var a=t,s=a.player,o=a.playerId;if(s||n[o])return s||n[o]}},Os.getAllPlayers=function(){return Object.keys(ws.players).map((function(e){return ws.players[e]})).filter(Boolean)},Os.players=ws.players,Os.getComponent=Di.getComponent,Os.registerComponent=function(e,t){br.isTech(t)&&At.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Di.registerComponent.call(Di,e,t)},Os.getTech=br.getTech,Os.registerTech=br.registerTech,Os.use=function(e,t){_r[e]=_r[e]||[],_r[e].push(t)},Object.defineProperty(Os,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Os.middleware,"TERMINATOR",{value:Sr,writeable:!1,enumerable:!0}),Os.browser=cn,Os.TOUCH_ENABLED=rn,Os.extend=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},i={};for(var r in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):"function"==typeof t&&(n=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(n,e),e&&(n.super_=e),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},Os.mergeOptions=Ii,Os.bind=di,Os.registerPlugin=As.registerPlugin,Os.deregisterPlugin=As.deregisterPlugin,Os.plugin=function(e,t){return At.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),As.registerPlugin(e,t)},Os.getPlugins=As.getPlugins,Os.getPlugin=As.getPlugin,Os.getPluginVersion=As.getPluginVersion,Os.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),Os.options.languages=Ii(Os.options.languages,((n={})[e]=t,n)),Os.options.languages[e]},Os.log=At,Os.createLogger=Lt,Os.createTimeRange=Os.createTimeRanges=$i,Os.formatTime=Kr,Os.setFormatTime=function(e){Gr=e},Os.resetFormatTime=function(){Gr=Wr},Os.parseUrl=ar,Os.isCrossOrigin=lr,Os.EventTarget=pi,Os.on=ri,Os.one=oi,Os.off=ai,Os.trigger=si,Os.xhr=g(),Os.TextTrack=dr,Os.AudioTrack=fr,Os.VideoTrack=pr,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){Os[e]=function(){return At.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Vn[e].apply(null,arguments)}})),Os.computedStyle=Bt,Os.dom=Vn,Os.url=cr,Os.defineLazyProperty=ps,Os.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var Ns=T,Fs=function(e,t,n){return e&&n&&n.responseURL&&t!==n.responseURL?n.responseURL:t},$s=function(e){return Os.log.debug?Os.log.debug.bind(Os,"VHS:",e+" >"):function(){}},Bs=1/30,Ms=.1,Us=function(e,t){var n,i=[];if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&i.push([e.start(n),e.end(n)]);return Os.createTimeRanges(i)},js=function(e,t){return Us(e,(function(e,n){return e-Ms<=t&&n+Ms>=t}))},Vs=function(e,t){return Us(e,(function(e){return e-Bs>=t}))},Hs=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},qs=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},zs=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},Ws=function(e,t){var n=0;if(!e||!e.length)return n;for(var i=0;i<e.length;i++){var r=e.start(i),a=e.end(i);t>a||(n+=t>r&&t<=a?a-t:a-r)}return n},Gs=Os.createTimeRange,Ks=function(e,t){if(!t.preload)return t.duration;var n=0;return(t.parts||[]).forEach((function(e){n+=e.duration})),(t.preloadHints||[]).forEach((function(t){"PART"===t.type&&(n+=e.partTargetDuration)})),n},Ys=function(e){return(e.segments||[]).reduce((function(e,t,n){return t.parts?t.parts.forEach((function(i,r){e.push({duration:i.duration,segmentIndex:n,partIndex:r,part:i,segment:t})})):e.push({duration:t.duration,segmentIndex:n,partIndex:null,segment:t,part:null}),e}),[])},Xs=function(e){var t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},Qs=function(e){var t=e.preloadSegment;if(t){var n=t.parts;return(t.preloadHints||[]).reduce((function(e,t){return e+("PART"===t.type?1:0)}),0)+(n&&n.length?n.length:0)}},Zs=function(e,t){if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=Xs(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},Js=function(e,t,n){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;var i=function(e,t){var n=0,i=t-e.mediaSequence,r=e.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=e.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=Ks(e,r),void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(e,t);if(i.precise)return i.result;var r=function(e,t){for(var n,i=0,r=t-e.mediaSequence;r<e.segments.length;r++){if(void 0!==(n=e.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=Ks(e,n),void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(e,t);return r.precise?r.result:i.result+n},eo=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return r()[1/0]}return Js(e,t,n)},to=function(e){var t=e.defaultDuration,n=e.durationList,i=e.startIndex,r=e.endIndex,a=0;if(i>r){var s=[r,i];i=s[0],r=s[1]}if(i<0){for(var o=i;o<Math.min(0,r);o++)a+=t;i=0}for(var l=i;l<r;l++)a+=n[l].duration;return a},no=function(e,t,n,i){if(!e||!e.segments)return null;if(e.endList)return eo(e);if(null===t)return null;t=t||0;var r=Js(e,e.mediaSequence+e.segments.length,t);return n&&(r-=i="number"==typeof i?i:Zs(null,e)),Math.max(0,r)},io=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},ro=function(e){return e.excludeUntil&&e.excludeUntil===1/0},ao=function(e){var t=io(e);return!e.disabled&&!t},so=function(e,t){return t.attributes&&t.attributes[e]},oo=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!ao(e)&&(e.attributes.BANDWIDTH||0)<n})).length},lo=function(e,t){return!(!e&&!t||!e&&t||e&&!t||e!==t&&(!e.id||!t.id||e.id!==t.id)&&(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)&&(!e.uri||!t.uri||e.uri!==t.uri))},co=function(e,t){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},i=!1;for(var r in n){for(var a in n[r])if(i=t(n[r][a]))break;if(i)break}return!!i},uo=function(e){if(!e||!e.playlists||!e.playlists.length)return co(e,(function(e){return e.playlists&&e.playlists.length||e.uri}));for(var t=function(t){var n=e.playlists[t],i=n.attributes&&n.attributes.CODECS;return i&&i.split(",").every((function(e){return q(e)}))||co(e,(function(e){return lo(n,e)}))?"continue":{v:!1}},n=0;n<e.playlists.length;n++){var i=t(n);if("continue"!==i&&"object"==typeof i)return i.v}return!0},ho={liveEdgeDelay:Zs,duration:eo,seekable:function(e,t,n){var i=t||0,r=no(e,t,!0,n);return null===r?Gs():Gs(i,r)},getMediaInfoForTime:function(e){for(var t=e.playlist,n=e.currentTime,i=e.startingSegmentIndex,r=e.startingPartIndex,a=e.startTime,s=e.experimentalExactManifestTimings,o=n-a,l=Ys(t),c=0,u=0;u<l.length;u++){var h=l[u];if(i===h.segmentIndex&&("number"!=typeof r||"number"!=typeof h.partIndex||r===h.partIndex)){c=u;break}}if(o<0){if(c>0)for(var d=c-1;d>=0;d--){var f=l[d];if(o+=f.duration,s){if(o<0)continue}else if(o+Bs<=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:a-to({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:d})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:n}}if(c<0){for(var p=c;p<0;p++)if((o-=t.targetDuration)<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:n};c=0}for(var m=c;m<l.length;m++){var g=l[m];if(o-=g.duration,s){if(o>0)continue}else if(o-Bs>=0)continue;return{partIndex:g.partIndex,segmentIndex:g.segmentIndex,startTime:a+to({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:m})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:n}},isEnabled:ao,isDisabled:function(e){return e.disabled},isBlacklisted:io,isIncompatible:ro,playlistEnd:no,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:so,estimateSegmentRequestTime:function(e,t,n,i){return void 0===i&&(i=0),so("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*i)/t:NaN},isLowestEnabledRendition:oo,isAudioOnly:uo,playlistMatch:lo,segmentDurationWithParts:Ks},fo=Os.log,po=function(e,t){return e+"-"+t},mo=function(e,t){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((function(n){if(e.mediaGroups[n])for(var i in e.mediaGroups[n])for(var r in e.mediaGroups[n][i]){var a=e.mediaGroups[n][i][r];t(a,n,i,r)}}))},go=function(e){var t=e.playlist,n=e.uri,i=e.id;t.id=i,t.playlistErrors_=0,n&&(t.uri=n),t.attributes=t.attributes||{}},yo=function(e,t){e.uri=t;for(var n=0;n<e.playlists.length;n++)if(!e.playlists[n].uri){var i="placeholder-uri-"+n;e.playlists[n].uri=i}var r=uo(e);mo(e,(function(t,n,i,a){var s="placeholder-uri-"+n+"-"+i+"-"+a;if(!t.playlists||!t.playlists.length){if(r&&"AUDIO"===n&&!t.uri)for(var l=0;l<e.playlists.length;l++){var c=e.playlists[l];if(c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===i)return}t.playlists=[o({},t)]}t.playlists.forEach((function(t,n){var i=po(n,s);t.uri?t.resolvedUri=t.resolvedUri||Ns(e.uri,t.uri):(t.uri=0===n?s:i,t.resolvedUri=t.uri),t.id=t.id||i,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t}))})),function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];go({playlist:n,id:po(t,n.uri)}),n.resolvedUri=Ns(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||fo.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(e),function(e){mo(e,(function(t){t.uri&&(t.resolvedUri=Ns(e.uri,t.uri))}))}(e)},vo=Os.mergeOptions,bo=Os.EventTarget,_o=function(e,t){if(!e)return t;var n=vo(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(var i=0;i<t.parts.length;i++)e.parts&&e.parts[i]&&(n.parts[i]=vo(e.parts[i],t.parts[i]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},wo=function(e,t){!e.resolvedUri&&e.uri&&(e.resolvedUri=Ns(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Ns(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Ns(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Ns(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach((function(e){e.resolvedUri||(e.resolvedUri=Ns(t,e.uri))})),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach((function(e){e.resolvedUri||(e.resolvedUri=Ns(t,e.uri))}))},So=function(e){var t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints)for(var i=0;i<n.preloadHints.length;i++)if("MAP"===n.preloadHints[i].type)return t;n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},ko=function(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment},To=function(e,t,n){void 0===n&&(n=ko);var i=vo(e,{}),r=i.playlists[t.id];if(!r)return null;if(n(r,t))return null;t.segments=So(t);var a=vo(r,t);if(a.preloadSegment&&!t.preloadSegment&&delete a.preloadSegment,r.segments){if(t.skip){t.segments=t.segments||[];for(var s=0;s<t.skip.skippedSegments;s++)t.segments.unshift({skipped:!0})}a.segments=function(e,t,n){var i=e.slice(),r=t.slice();n=n||0;for(var a,s=[],o=0;o<r.length;o++){var l=i[o+n],c=r[o];l?(a=l.map||a,s.push(_o(l,c))):(a&&!c.map&&(c.map=a),s.push(c))}return s}(r.segments,t.segments,t.mediaSequence-r.mediaSequence)}a.segments.forEach((function(e){wo(e,a.resolvedUri)}));for(var o=0;o<i.playlists.length;o++)i.playlists[o].id===t.id&&(i.playlists[o]=a);return i.playlists[t.id]=a,i.playlists[t.uri]=a,mo(e,(function(e,n,i,r){if(e.playlists)for(var s=0;s<e.playlists.length;s++)t.id===e.playlists[s].id&&(e.playlists[s]=a)})),i},Co=function(e,t){var n=e.segments||[],i=n[n.length-1],r=i&&i.parts&&i.parts[i.parts.length-1],a=r&&r.duration||i&&i.duration;return t&&a?1e3*a:500*(e.partTargetDuration||e.targetDuration||10)},xo=function(e){function t(t,n,i){var r;if(void 0===i&&(i={}),r=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");r.logger_=$s("PlaylistLoader");var a=i,s=a.withCredentials,o=void 0!==s&&s,l=a.handleManifestRedirects,c=void 0!==l&&l;r.src=t,r.vhs_=n,r.withCredentials=o,r.handleManifestRedirects=c;var h=n.options_;return r.customTagParsers=h&&h.customTagParsers||[],r.customTagMappers=h&&h.customTagMappers||[],r.experimentalLLHLS=h&&h.experimentalLLHLS||!1,Os.browser.IE_VERSION&&(r.experimentalLLHLS=!1),r.state="HAVE_NOTHING",r.handleMediaupdatetimeout_=r.handleMediaupdatetimeout_.bind(u(r)),r.on("mediaupdatetimeout",r.handleMediaupdatetimeout_),r}d(t,e);var n=t.prototype;return n.handleMediaupdatetimeout_=function(){var e=this;if("HAVE_METADATA"===this.state){var t=this.media(),n=Ns(this.master.uri,t.uri);this.experimentalLLHLS&&(n=function(e,t){if(t.endList||!t.serverControl)return e;var n={};if(t.serverControl.canBlockReload){var i=t.preloadSegment,a=t.mediaSequence+t.segments.length;if(i){var s=i.parts||[],o=Qs(t)-1;o>-1&&o!==s.length-1&&(n._HLS_part=o),(o>-1||s.length)&&a--}n._HLS_msn=a}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var l=new(r().URL)(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(e){n.hasOwnProperty(e)&&l.searchParams.set(e,n[e])})),e=l.toString()}return e}(n,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials},(function(t,n){if(e.request)return t?e.playlistRequestError(e.request,e.media(),"HAVE_METADATA"):void e.haveMetadata({playlistString:e.request.responseText,url:e.media().uri,id:e.media().id})}))}},n.playlistRequestError=function(e,t,n){var i=t.uri,r=t.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[r],status:e.status,message:"HLS playlist request error at URL: "+i+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")},n.parseManifest_=function(e){var t=this,n=e.url;return function(e){var t=e.onwarn,n=e.oninfo,i=e.manifestString,r=e.customTagParsers,a=void 0===r?[]:r,s=e.customTagMappers,o=void 0===s?[]:s,l=e.experimentalLLHLS,c=new B;t&&c.on("warn",t),n&&c.on("info",n),a.forEach((function(e){return c.addParser(e)})),o.forEach((function(e){return c.addTagMapper(e)})),c.push(i),c.end();var u=c.manifest;if(l||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){u.hasOwnProperty(e)&&delete u[e]})),u.segments&&u.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))}))),!u.targetDuration){var h=10;u.segments&&u.segments.length&&(h=u.segments.reduce((function(e,t){return Math.max(e,t.duration)}),0)),t&&t("manifest has no targetDuration defaulting to "+h),u.targetDuration=h}var d=Xs(u);if(d.length&&!u.partTargetDuration){var f=d.reduce((function(e,t){return Math.max(e,t.duration)}),0);t&&(t("manifest has no partTargetDuration defaulting to "+f),fo.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),u.partTargetDuration=f}return u}({onwarn:function(e){var i=e.message;return t.logger_("m3u8-parser warn for "+n+": "+i)},oninfo:function(e){var i=e.message;return t.logger_("m3u8-parser info for "+n+": "+i)},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},n.haveMetadata=function(e){var t=e.playlistString,n=e.playlistObject,i=e.url,r=e.id;this.request=null,this.state="HAVE_METADATA";var a=n||this.parseManifest_({url:i,manifestString:t});a.lastRequest=Date.now(),go({playlist:a,uri:i,id:r});var s=To(this.master,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,s?(this.master=s,this.media_=this.master.playlists[r]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Co(this.media(),!!s)),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),r().clearTimeout(this.mediaUpdateTimeout),r().clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(r().clearTimeout(this.finalRenditionTimeout),t){var i=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=r().setTimeout(this.media.bind(this,e,!1),i)}else{var a=this.state,s=!this.media_||e.id!==this.media_.id,o=this.master.playlists[e.id];if(o&&o.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(s&&(this.trigger("mediachanging"),"HAVE_MASTER"===a?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(Co(e,!0)),s){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,i){if(n.request){if(e.lastRequest=Date.now(),e.resolvedUri=Fs(n.handleManifestRedirects,e.resolvedUri,i),t)return n.playlistRequestError(n.request,e,a);n.haveMetadata({playlistString:i.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===a?n.trigger("loadedmetadata"):n.trigger("mediachange")}}))}}},n.pause=function(){this.mediaUpdateTimeout&&(r().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},n.load=function(e){var t=this;this.mediaUpdateTimeout&&(r().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var n=this.media();if(e){var i=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=r().setTimeout((function(){t.mediaUpdateTimeout=null,t.load()}),i)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},n.updateMediaUpdateTimeout_=function(e){var t=this;this.mediaUpdateTimeout&&(r().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=r().setTimeout((function(){t.mediaUpdateTimeout=null,t.trigger("mediaupdatetimeout"),t.updateMediaUpdateTimeout_(e)}),e))},n.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=r().location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=Fs(e.handleManifestRedirects,e.src,n);var i=e.parseManifest_({manifestString:n.responseText,url:e.src});e.setupInitialPlaylist(i)}}))},n.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},n.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,yo(this.master,this.srcUri()),e.playlists.forEach((function(e){e.segments=So(e),e.segments.forEach((function(t){wo(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var t=this.srcUri()||r().location.href;this.master=function(e,t){var n=po(0,t),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:r().location.href,resolvedUri:r().location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[t]=i.playlists[0],i}(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(bo),Eo=Os.xhr,Po=Os.mergeOptions,Io=function(e,t,n,i){var r="arraybuffer"===e.responseType?e.response:e.responseText;!t&&r&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(r||e.responseText)))),i(t,e)},Ao=function(){var e=function e(t,n){t=Po({timeout:45e3},t);var i=e.beforeRequest||Os.Vhs.xhr.beforeRequest;if(i&&"function"==typeof i){var r=i(t);r&&(t=r)}var a=(!0===Os.Vhs.xhr.original?Eo:Os.Vhs.xhr)(t,(function(e,t){return Io(a,e,t,n)})),s=a.abort;return a.abort=function(){return a.aborted=!0,s.apply(a,arguments)},a.uri=t.uri,a.requestTime=Date.now(),a};return e.original=!0,e},Lo=function(e){var t,n={};return e.byterange&&(n.Range="bytes="+(t=e.byterange).offset+"-"+("bigint"==typeof t.offset||"bigint"==typeof t.length?r().BigInt(t.offset)+r().BigInt(t.length)-r().BigInt(1):t.offset+t.length-1)),n},Oo=function(e,t){return e.start(t)+"-"+e.end(t)},Ro=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},Do=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},No=function(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];Z(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t},Fo=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},$o=function(e){return e.resolvedUri},Bo=function(e){for(var t=Array.prototype.slice.call(e),n=16,i="",r=0;r<t.length/n;r++)i+=t.slice(r*n,r*n+n).map(Ro).join("")+" "+t.slice(r*n,r*n+n).map(Do).join("")+"\n";return i},Mo=Object.freeze({__proto__:null,createTransferableMessage:No,initSegmentId:Fo,segmentKeyId:$o,hexDump:Bo,tagDump:function(e){var t=e.bytes;return Bo(t)},textRanges:function(e){var t,n="";for(t=0;t<e.length;t++)n+=Oo(e,t)+" ";return n}}),Uo=function e(t){var n=t.programTime,i=t.playlist,r=t.retryCount,a=void 0===r?2:r,s=t.seekTo,o=t.pauseAfterSeek,l=void 0===o||o,c=t.tech,u=t.callback;if(!u)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!i||!s)return u({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!c.hasStarted_)return u({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(i))return u({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var h=function(e,t){var n;try{n=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var i=t.segments[0];if(n<i.dateTimeObject)return null;for(var r=0;r<t.segments.length-1&&(i=t.segments[r],!(n<t.segments[r+1].dateTimeObject));r++);var a,s=t.segments[t.segments.length-1],o=s.dateTimeObject,l=s.videoTimingInfo?(a=s.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:s.duration+.25*s.duration;return n>new Date(o.getTime()+1e3*l)?null:(n>o&&(i=s),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:ho.duration(t,t.mediaSequence+t.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})}(n,i);if(!h)return u({message:n+" was not found in the stream"});var d=h.segment,f=function(e,t){var n,i;try{n=new Date(e),i=new Date(t)}catch(e){}var r=n.getTime();return(i.getTime()-r)/1e3}(d.dateTimeObject,n);if("estimate"===h.type)return 0===a?u({message:n+" is not buffered yet. Try again"}):(s(h.estimatedStart+f),void c.one("seeked",(function(){e({programTime:n,playlist:i,retryCount:a-1,seekTo:s,pauseAfterSeek:l,tech:c,callback:u})})));var p=d.start+f;c.one("seeked",(function(){return u(null,c.currentTime())})),l&&c.pause(),s(p)},jo=function(e,t){if(4===e.readyState)return t()},Vo=Os.EventTarget,Ho=Os.mergeOptions,qo=function(e,t){if(!ko(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(var n=0;n<e.segments.length;n++){var i=e.segments[n],r=t.segments[n];if(i.uri!==r.uri)return!1;if(i.byterange||r.byterange){var a=i.byterange,s=r.byterange;if(a&&!s||!a&&s)return!1;if(a.offset!==s.offset||a.length!==s.length)return!1}}return!0},zo=function(e,t){return(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length},Wo=function(e,t){var n={};for(var i in e){var r=e[i].sidx;if(r){var a=Se(r);if(!t[a])break;var s=t[a].sidxInfo;zo(s,r)&&(n[a]=t[a])}}return n},Go=function(e){function t(t,n,i,r){var a;void 0===i&&(i={}),(a=e.call(this)||this).masterPlaylistLoader_=r||u(a),r||(a.isMaster_=!0);var s=i,o=s.withCredentials,l=void 0!==o&&o,c=s.handleManifestRedirects,h=void 0!==c&&c;if(a.vhs_=n,a.withCredentials=l,a.handleManifestRedirects=h,!t)throw new Error("A non-empty playlist URL or object is required");return a.on("minimumUpdatePeriod",(function(){a.refreshXml_()})),a.on("mediaupdatetimeout",(function(){a.refreshMedia_(a.media().id)})),a.state="HAVE_NOTHING",a.loadedPlaylists_={},a.logger_=$s("DashPlaylistLoader"),a.isMaster_?(a.masterPlaylistLoader_.srcUrl=t,a.masterPlaylistLoader_.sidxMapping_={}):a.childPlaylist_=t,a}d(t,e);var n=t.prototype;return n.requestErrored_=function(e,t,n){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,n&&(this.state=n),this.trigger("error"),!0):void 0)},n.addSidxSegments_=function(e,t,n){var i=this,a=e.sidx&&Se(e.sidx);if(e.sidx&&a&&!this.masterPlaylistLoader_.sidxMapping_[a]){var s=Fs(this.handleManifestRedirects,e.sidx.resolvedUri),o=function(r,s){if(!i.requestErrored_(r,s,t)){var o,l=i.masterPlaylistLoader_.sidxMapping_;try{o=Xe()(J(s.response).subarray(8))}catch(e){return void i.requestErrored_(e,s,t)}return l[a]={sidxInfo:e.sidx,sidx:o},ye(e,o,e.sidx.resolvedUri),n(!0)}};this.request=function(e,t,n){var i,r=[],a=!1,s=function(e,t,i,r){return t.abort(),a=!0,n(e,t,i,r)},o=function(e,t){if(!a){if(e)return s(e,t,"",r);var n=t.responseText.substring(r&&r.byteLength||0,t.responseText.length);if(r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})),t.length<=1)return J(t[0]);var i=t.reduce((function(e,t,n){return e+(t.byteLength||t.length)}),0),r=new Uint8Array(i),a=0;return t.forEach((function(e){e=J(e),r.set(e,a),a+=e.byteLength})),r}(r,ie(n,!0)),i=i||Ze(r),r.length<10||i&&r.length<i+2)return jo(t,(function(){return s(e,t,"",r)}));var o=vt(r);return"ts"===o&&r.length<188||!o&&r.length<376?jo(t,(function(){return s(e,t,"",r)})):s(null,t,o,r)}},l={uri:e,beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function(t){return t.total,t.loaded,Io(e,null,{statusCode:e.status},o)}))}},c=t(l,(function(e,t){return Io(c,e,t,o)}));return c}(s,this.vhs_.xhr,(function(t,n,r,a){if(t)return o(t,n);if(!r||"mp4"!==r)return o({status:n.status,message:"Unsupported "+(r||"unknown")+" container type for sidx segment at URL: "+s,response:"",playlist:e,internal:!0,blacklistDuration:1/0,code:2},n);var l=e.sidx.byterange,c=l.offset,u=l.length;if(a.length>=u+c)return o(t,{response:a.subarray(c,c+u),status:n.status,uri:n.uri});i.request=i.vhs_.xhr({uri:s,responseType:"arraybuffer",headers:Lo({byterange:e.sidx.byterange})},o)}))}else this.mediaRequest_=r().setTimeout((function(){return n(!1)}),0)},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},r().clearTimeout(this.minimumUpdatePeriodTimeout_),r().clearTimeout(this.mediaRequest_),r().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,(function(i){t.haveMetadata({startingState:n,playlist:e})})))},n.haveMetadata=function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),r().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(r().clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},n.load=function(e){var t=this;r().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var n=this.media();if(e){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=r().setTimeout((function(){return t.load()}),i)}else this.started?n&&!n.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},n.start=function(){var e=this;this.started=!0,this.isMaster_?this.requestMaster_((function(t,n){e.haveMaster_(),e.hasPendingRequest()||e.media_||e.media(e.masterPlaylistLoader_.master.playlists[0])})):this.mediaRequest_=r().setTimeout((function(){return e.haveMaster_()}),0)},n.requestMaster_=function(e){var t=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(function(n,i){if(!t.requestErrored_(n,i)){var r=i.responseText!==t.masterPlaylistLoader_.masterXml_;return t.masterPlaylistLoader_.masterXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?t.masterLoaded_=Date.parse(i.responseHeaders.date):t.masterLoaded_=Date.now(),t.masterPlaylistLoader_.srcUrl=Fs(t.handleManifestRedirects,t.masterPlaylistLoader_.srcUrl,i),r?(t.handleMaster_(),void t.syncClientServerClock_((function(){return e(i,r)}))):e(i,r)}"HAVE_NOTHING"===t.state&&(t.started=!1)}))},n.syncClientServerClock_=function(e){var t,n=this,i=(t=this.masterPlaylistLoader_.masterXml_,function(e){var t=Me(e,"UTCTiming")[0];if(!t)return null;var n=He(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return n}(Ke(t)));return null===i?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===i.method?(this.masterPlaylistLoader_.clientOffset_=i.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:Ns(this.masterPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},(function(t,r){if(n.request){if(t)return n.masterPlaylistLoader_.clientOffset_=n.masterLoaded_-Date.now(),e();var a;a="HEAD"===i.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):n.masterLoaded_:Date.parse(r.responseText),n.masterPlaylistLoader_.clientOffset_=a-Date.now(),e()}})))},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var e,t,n,i=this.masterPlaylistLoader_.master,r=(n=function(e,t){void 0===t&&(t={});var n=function(e,t){void 0===t&&(t={});var n=t,i=n.manifestUri,r=void 0===i?"":i,a=n.NOW,s=void 0===a?Date.now():a,o=n.clientOffset,l=void 0===o?0:o,c=Me(e,"Period");if(!c.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var u=Me(e,"Location"),h=He(e),d=ze([r],Me(e,"BaseURL"));h.type=h.type||"static",h.sourceDuration=h.mediaPresentationDuration||0,h.NOW=s,h.clientOffset=l,u.length&&(h.locations=u.map(Ue));var f=[];return c.forEach((function(e,t){var n=He(e),i=f[t-1];n.start=function(e){var t=e.attributes,n=e.priorPeriodAttributes,i=e.mpdType;return"number"==typeof t.start?t.start:n&&"number"==typeof n.start&&"number"==typeof n.duration?n.start+n.duration:n||"static"!==i?null:0}({attributes:n,priorPeriodAttributes:i?i.attributes:null,mpdType:h.type}),f.push({node:e,attributes:n})})),{locations:h.locations,representationInfo:ce(f.map(Ge(h,d)))}}(Ke(e),t),i=n.representationInfo.map(Be);return Le({dashPlaylists:i,locations:n.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest})}((e={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:i}).masterXml,{manifestUri:t=e.srcUrl,clientOffset:e.clientOffset,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest}),yo(n,t),n);i&&(r=function(e,t,n){for(var i=!0,r=Ho(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts}),a=0;a<t.playlists.length;a++){var s=t.playlists[a];if(s.sidx){var o=Se(s.sidx);n&&n[o]&&n[o].sidx&&ye(s,n[o].sidx,s.sidx.resolvedUri)}var l=To(r,s,qo);l&&(r=l,i=!1)}return mo(t,(function(e,t,n,a){if(e.playlists&&e.playlists.length){var s=e.playlists[0].id,o=To(r,e.playlists[0],qo);o&&((r=o).mediaGroups[t][n][a].playlists[0]=r.playlists[s],i=!1)}})),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(i=!1),i?null:r}(i,r,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=r||i;var a=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return a&&a!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=a),(!i||r&&r.minimumUpdatePeriod!==i.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(r)},n.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(r().clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var t=e.master&&e.master.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_("found invalid minimumUpdatePeriod of "+t+", not setting a timeout"):this.createMUPTimeout_(t)},n.createMUPTimeout_=function(e){var t=this.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=r().setTimeout((function(){t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)},n.refreshXml_=function(){var e=this;this.requestMaster_((function(t,n){var i,r,a;n&&(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=(i=e.masterPlaylistLoader_.master,r=e.masterPlaylistLoader_.sidxMapping_,a=Wo(i.playlists,r),mo(i,(function(e,t,n,i){if(e.playlists&&e.playlists.length){var s=e.playlists;a=Ho(a,Wo(s,r))}})),a),e.addSidxSegments_(e.media(),e.state,(function(t){e.refreshMedia_(e.media().id)})))}))},n.refreshMedia_=function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var n=this.masterPlaylistLoader_.master.playlists,i=!this.media_||this.media_!==n[e];i?this.media_=n[e]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function e(){t.media().endList||(t.mediaUpdateTimeout=r().setTimeout((function(){t.trigger("mediaupdatetimeout"),e()}),Co(t.media(),Boolean(i))))}(),this.trigger("loadedplaylist")},t}(Vo),Ko={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},Yo=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},Xo=function(e){return function(){var t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(n){var t=new BlobBuilder;return t.append(e),URL.createObjectURL(t.getBlob())}}(e),n=Yo(new Worker(t));n.objURL=t;var i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),i.call(this)},n}},Qo=function(e){return"var browserWorkerPolyFill = "+Yo.toString()+";\nbrowserWorkerPolyFill(self);\n"+e},Zo=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},Jo=Qo(Zo((function(){var e=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,a;if(n=e[t])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(a=[],i=arguments.length,i=1;i<arguments.length;++i)a.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,a)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,i,r,a,s,o,l,c,u,h,d,f,p,m,g,y,v,b,_,w,S,k,T,C,x,E,P,I,A,L,O,R,D,N,F,$,B,M,U,j,V=e,H=Math.pow(2,32),q={getUint64:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*H+n.getUint32(4)},MAX_UINT32:H},z=q.MAX_UINT32;!function(){var e;if(k={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in k)k.hasOwnProperty(e)&&(k[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);T=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),x=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),E=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),I={video:E,audio:P},O=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),L=new Uint8Array([0,0,0,0,0,0,0,0]),R=new Uint8Array([0,0,0,0,0,0,0,0]),D=R,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),F=R,A=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(e){var t,n,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},i=function(){return t(k.dinf,t(k.dref,O))},r=function(e){return t(k.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},g=function(e){return t(k.hdlr,I[e])},m=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(k.mdhd,n)},p=function(e){return t(k.mdia,m(e),g(e.type),o(e))},s=function(e){return t(k.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},o=function(e){return t(k.minf,"video"===e.type?t(k.vmhd,A):t(k.smhd,L),i(),v(e))},l=function(e,n){for(var i=[],r=n.length;r--;)i[r]=_(n[r]);return t.apply(null,[k.moof,s(e)].concat(i))},c=function(e){for(var n=e.length,i=[];n--;)i[n]=d(e[n]);return t.apply(null,[k.moov,h(4294967295)].concat(i).concat(u(e)))},u=function(e){for(var n=e.length,i=[];n--;)i[n]=w(e[n]);return t.apply(null,[k.mvex].concat(i))},h=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(k.mvhd,n)},y=function(e){var n,i,r=e.samples||[],a=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,a[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(k.sdtp,a)},v=function(e){return t(k.stbl,b(e),t(k.stts,F),t(k.stsc,D),t(k.stsz,N),t(k.stco,R))},b=function(e){return t(k.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?$(e):B(e))},$=function(e){var n,i,r=e.sps||[],a=e.pps||[],s=[],o=[];for(n=0;n<r.length;n++)s.push((65280&r[n].byteLength)>>>8),s.push(255&r[n].byteLength),s=s.concat(Array.prototype.slice.call(r[n]));for(n=0;n<a.length;n++)o.push((65280&a[n].byteLength)>>>8),o.push(255&a[n].byteLength),o=o.concat(Array.prototype.slice.call(a[n]));if(i=[k.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(k.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length],s,[a.length],o))),t(k.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],c=e.sarRatio[1];i.push(t(k.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c])))}return t.apply(null,i)},B=function(e){return t(k.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))},f=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(k.tkhd,n)},_=function(e){var n,i,r,a,s,o;return n=t(k.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/z),o=Math.floor(e.baseMediaDecodeTime%z),i=t(k.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o>>>24&255,o>>>16&255,o>>>8&255,255&o])),"audio"===e.type?(r=S(e,92),t(k.traf,n,i,r)):(a=y(e),r=S(e,a.length+92),t(k.traf,n,i,r,a))},d=function(e){return e.duration=e.duration||4294967295,t(k.trak,f(e),p(e))},w=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(k.trex,n)},j=function(e,t){var n=0,i=0,r=0,a=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},U=function(e,n){var i,r,a,s,o,l;for(n+=20+16*(s=e.samples||[]).length,a=j(s,n),(r=new Uint8Array(a.length+16*s.length)).set(a),i=a.length,l=0;l<s.length;l++)o=s[l],r[i++]=(4278190080&o.duration)>>>24,r[i++]=(16711680&o.duration)>>>16,r[i++]=(65280&o.duration)>>>8,r[i++]=255&o.duration,r[i++]=(4278190080&o.size)>>>24,r[i++]=(16711680&o.size)>>>16,r[i++]=(65280&o.size)>>>8,r[i++]=255&o.size,r[i++]=o.flags.isLeading<<2|o.flags.dependsOn,r[i++]=o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,r[i++]=61440&o.flags.degradationPriority,r[i++]=15&o.flags.degradationPriority,r[i++]=(4278190080&o.compositionTimeOffset)>>>24,r[i++]=(16711680&o.compositionTimeOffset)>>>16,r[i++]=(65280&o.compositionTimeOffset)>>>8,r[i++]=255&o.compositionTimeOffset;return t(k.trun,r)},M=function(e,n){var i,r,a,s,o,l;for(n+=20+8*(s=e.samples||[]).length,a=j(s,n),(i=new Uint8Array(a.length+8*s.length)).set(a),r=a.length,l=0;l<s.length;l++)o=s[l],i[r++]=(4278190080&o.duration)>>>24,i[r++]=(16711680&o.duration)>>>16,i[r++]=(65280&o.duration)>>>8,i[r++]=255&o.duration,i[r++]=(4278190080&o.size)>>>24,i[r++]=(16711680&o.size)>>>16,i[r++]=(65280&o.size)>>>8,i[r++]=255&o.size;return t(k.trun,i)},S=function(e,t){return"audio"===e.type?M(e,t):U(e,t)},a=function(){return t(k.ftyp,T,C,T,x)};var W,G,K,Y,X,Q,Z,J,ee=function(e){return t(k.mdat,e)},te=l,ne=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},ie=[33,16,5,32,164,27],re=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ae=function(e){for(var t=[];e--;)t.push(0);return t},se=9e4;Q=function(e,t){return G(X(e,t))},Z=function(e,t){return K(Y(e),t)},J=function(e,t,n){return Y(n?e:e-t)};var oe=se,le=G=function(e){return e*se},ce=(K=function(e,t){return e*t},Y=function(e){return e/se}),ue=(X=function(e,t){return e/t},Q),he=Z,de=J,fe=function(e,t,n,i){var r,a,s,o,l,c=0,u=0,h=0;if(t.length&&(r=ue(e.baseMediaDecodeTime,e.samplerate),a=Math.ceil(oe/(e.samplerate/1024)),n&&i&&(c=r-Math.max(n,i),h=(u=Math.floor(c/a))*a),!(u<1||h>45e3))){for((s=function(){if(!W){var e={96e3:[ie,[227,64],ae(154),[56]],88200:[ie,[231],ae(170),[56]],64e3:[ie,[248,192],ae(240),[56]],48e3:[ie,[255,192],ae(268),[55,148,128],ae(54),[112]],44100:[ie,[255,192],ae(268),[55,163,128],ae(84),[112]],32e3:[ie,[255,192],ae(268),[55,234],ae(226),[112]],24e3:[ie,[255,192],ae(268),[55,255,128],ae(268),[111,112],ae(126),[224]],16e3:[ie,[255,192],ae(268),[55,255,128],ae(268),[111,255],ae(269),[223,108],ae(195),[1,192]],12e3:[re,ae(268),[3,127,248],ae(268),[6,255,240],ae(268),[13,255,224],ae(268),[27,253,128],ae(259),[56]],11025:[re,ae(268),[3,127,248],ae(268),[6,255,240],ae(268),[13,255,224],ae(268),[27,255,192],ae(268),[55,175,128],ae(108),[112]],8e3:[re,ae(268),[3,121,16],ae(47),[7]]};t=e,W=Object.keys(t).reduce((function(e,n){return e[n]=new Uint8Array(t[n].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return W}()[e.samplerate])||(s=t[0].data),o=0;o<u;o++)l=t[0],t.splice(0,0,{data:s,dts:l.dts-a,pts:l.pts-a});return e.baseMediaDecodeTime-=Math.floor(he(h,e.samplerate)),h}},pe=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},me=function(e,t){var n,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/9e4,n=Math.floor(n)),n},ge=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},ye=function e(t){t=t||{},e.prototype.init.call(this),this.parse708captions_="boolean"!=typeof t.parse708captions||t.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Ee(0,0),new Ee(0,1),new Ee(1,0),new Ee(1,1)],this.parse708captions_&&(this.cc708Stream_=new Se({captionServices:t.captionServices})),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(ye.prototype=new V).push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&(t=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}n.payload=void 0}t+=r,i=0,r=0}return n}(e.escapedRBSP)).payload&&4===t.payloadType&&(n=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)}(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=function(e,t){var n,i,r,a,s=[];if(!(64&t[0]))return s;for(i=31&t[0],n=0;n<i;n++)a={type:3&t[2+(r=3*n)],pts:e},4&t[r+2]&&(a.ccData=t[r+3]<<8|t[r+4],s.push(a));return s}(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},ye.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},ye.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},ye.prototype.flush=function(){return this.flushStream("flush")},ye.prototype.partialFlush=function(){return this.flushStream("partialFlush")},ye.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},ye.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},ye.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},ye.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},ye.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},ye.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var ve={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},be=function(e){return 32<=e&&e<=127||160<=e&&e<=255},_e=function(e){this.windowNum=e,this.reset()};_e.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},_e.prototype.getText=function(){return this.rows.join("\n")},_e.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},_e.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},_e.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},_e.prototype.addText=function(e){this.rows[this.rowIdx]+=e},_e.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var we=function(e,t,n){this.serviceNum=e,this.text="",this.currentWindow=new _e(-1),this.windows=[],this.stream=n,"string"==typeof t&&this.createTextDecoder(t)};we.prototype.init=function(e,t){this.startPts=e;for(var n=0;n<8;n++)this.windows[n]=new _e(n),"function"==typeof t&&(this.windows[n].beforeRowOverflow=t)},we.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},we.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var Se=function e(t){t=t||{},e.prototype.init.call(this);var n,i=this,r=t.captionServices||{},a={};Object.keys(r).forEach((function(e){n=r[e],/^SERVICE/.test(e)&&(a[e]=n.encoding)})),this.serviceEncodings=a,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(i.new708Packet(),i.add708Bytes(e)):(null===i.current708Packet&&i.new708Packet(),i.add708Bytes(e))}};Se.prototype=new V,Se.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Se.prototype.add708Bytes=function(e){var t=e.ccData,n=t>>>8,i=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(n),this.current708Packet.data.push(i)},Se.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,n=null,i=null,r=0,a=t[r++];for(e.seq=a>>6,e.sizeCode=63&a;r<t.length;r++)i=31&(a=t[r++]),7==(n=a>>5)&&i>0&&(n=a=t[r++]),this.pushServiceBlock(n,r,i),i>0&&(r+=i-1)},Se.prototype.pushServiceBlock=function(e,t,n){var i,r=t,a=this.current708Packet.data,s=this.services[e];for(s||(s=this.initService(e,r));r<t+n&&r<a.length;r++)i=a[r],be(i)?r=this.handleText(r,s):24===i?r=this.multiByteCharacter(r,s):16===i?r=this.extendedCommands(r,s):128<=i&&i<=135?r=this.setCurrentWindow(r,s):152<=i&&i<=159?r=this.defineWindow(r,s):136===i?r=this.clearWindows(r,s):140===i?r=this.deleteWindows(r,s):137===i?r=this.displayWindows(r,s):138===i?r=this.hideWindows(r,s):139===i?r=this.toggleWindows(r,s):151===i?r=this.setWindowAttributes(r,s):144===i?r=this.setPenAttributes(r,s):145===i?r=this.setPenColor(r,s):146===i?r=this.setPenLocation(r,s):143===i?s=this.reset(r,s):8===i?s.currentWindow.backspace():12===i?s.currentWindow.clearText():13===i?s.currentWindow.pendingNewLine=!0:14===i?s.currentWindow.clearText():141===i&&r++},Se.prototype.extendedCommands=function(e,t){var n=this.current708Packet.data[++e];return be(n)&&(e=this.handleText(e,t,{isExtended:!0})),e},Se.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},Se.prototype.initService=function(e,t){var n,i,r=this;return(n="SERVICE"+e)in this.serviceEncodings&&(i=this.serviceEncodings[n]),this.services[e]=new we(e,i,r),this.services[e].init(this.getPts(t),(function(t){r.flushDisplayed(t,r.services[e])})),this.services[e]},Se.prototype.handleText=function(e,t,n){var i,r,a,s,o=n&&n.isExtended,l=n&&n.isMultiByte,c=this.current708Packet.data,u=o?4096:0,h=c[e],d=c[e+1],f=t.currentWindow;return t.textDecoder_&&!o?(l?(r=[h,d],e++):r=[h],i=t.textDecoder_.decode(new Uint8Array(r))):(s=ve[a=u|h]||a,i=4096&a&&a===s?"":String.fromCharCode(s)),f.pendingNewLine&&!f.isEmpty()&&f.newLine(this.getPts(e)),f.pendingNewLine=!1,f.addText(i),e},Se.prototype.multiByteCharacter=function(e,t){var n=this.current708Packet.data,i=n[e+1],r=n[e+2];return be(i)&&be(r)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},Se.prototype.setCurrentWindow=function(e,t){var n=7&this.current708Packet.data[e];return t.setCurrentWindow(n),e},Se.prototype.defineWindow=function(e,t){var n=this.current708Packet.data,i=n[e],r=7&i;t.setCurrentWindow(r);var a=t.currentWindow;return i=n[++e],a.visible=(32&i)>>5,a.rowLock=(16&i)>>4,a.columnLock=(8&i)>>3,a.priority=7&i,i=n[++e],a.relativePositioning=(128&i)>>7,a.anchorVertical=127&i,i=n[++e],a.anchorHorizontal=i,i=n[++e],a.anchorPoint=(240&i)>>4,a.rowCount=15&i,i=n[++e],a.columnCount=63&i,i=n[++e],a.windowStyle=(56&i)>>3,a.penStyle=7&i,a.virtualRowCount=a.rowCount+1,e},Se.prototype.setWindowAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.winAttr;return i=n[++e],r.fillOpacity=(192&i)>>6,r.fillRed=(48&i)>>4,r.fillGreen=(12&i)>>2,r.fillBlue=3&i,i=n[++e],r.borderType=(192&i)>>6,r.borderRed=(48&i)>>4,r.borderGreen=(12&i)>>2,r.borderBlue=3&i,i=n[++e],r.borderType+=(128&i)>>5,r.wordWrap=(64&i)>>6,r.printDirection=(48&i)>>4,r.scrollDirection=(12&i)>>2,r.justify=3&i,i=n[++e],r.effectSpeed=(240&i)>>4,r.effectDirection=(12&i)>>2,r.displayEffect=3&i,e},Se.prototype.flushDisplayed=function(e,t){for(var n=[],i=0;i<8;i++)t.windows[i].visible&&!t.windows[i].isEmpty()&&n.push(t.windows[i].getText());t.endPts=e,t.text=n.join("\n\n"),this.pushCaption(t),t.startPts=e},Se.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},Se.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=1);return e},Se.prototype.hideWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=0);return e},Se.prototype.toggleWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible^=1);return e},Se.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].clearText();return e},Se.prototype.deleteWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].reset();return e},Se.prototype.setPenAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penAttr;return i=n[++e],r.textTag=(240&i)>>4,r.offset=(12&i)>>2,r.penSize=3&i,i=n[++e],r.italics=(128&i)>>7,r.underline=(64&i)>>6,r.edgeType=(56&i)>>3,r.fontStyle=7&i,e},Se.prototype.setPenColor=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penColor;return i=n[++e],r.fgOpacity=(192&i)>>6,r.fgRed=(48&i)>>4,r.fgGreen=(12&i)>>2,r.fgBlue=3&i,i=n[++e],r.bgOpacity=(192&i)>>6,r.bgRed=(48&i)>>4,r.bgGreen=(12&i)>>2,r.bgBlue=3&i,i=n[++e],r.edgeRed=(48&i)>>4,r.edgeGreen=(12&i)>>2,r.edgeBlue=3&i,e},Se.prototype.setPenLocation=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,i=n[++e],r.row=15&i,i=n[++e],r.column=63&i,e},Se.prototype.reset=function(e,t){var n=this.getPts(e);return this.flushDisplayed(n,t),this.initService(t.serviceNum,e)};var ke={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Te=function(e){return null===e?"":(e=ke[e]||e,String.fromCharCode(e))},Ce=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],xe=function(){for(var e=[],t=15;t--;)e.push("");return e},Ee=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,a;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=xe();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=xe();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=xe()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,r))a=Te((i=(3&i)<<8)|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=Te((i=(3&i)<<8)|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var s=Ce.indexOf(7968&t);"rollUp"===this.mode_&&(s-this.rollUpRows_+1<0&&(s=this.rollUpRows_-1),this.setRollUp(e.pts,s)),s!==this.row_&&(this.clearFormatting(e.pts),this.row_=s),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),a=Te(i),a+=Te(r),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};Ee.prototype=new V,Ee.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e,t){try{return e.trim()}catch(e){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+t+"."}),""}}),this).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Ee.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=xe(),this.nonDisplayed_=xe(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ee.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ee.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Ee.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Ee.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Ee.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Ee.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Ee.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Ee.prototype.isNormalChar=function(e){return e>=32&&e<=127},Ee.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=xe(),this.displayed_=xe()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ee.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},Ee.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},Ee.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},Ee.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},Ee.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Ee.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var Pe={CaptionStream:ye,Cea608Stream:Ee,Cea708Stream:Se},Ie={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ae="shared",Le=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},Oe=function e(t){var n,i;e.prototype.init.call(this),this.type_=t||Ae,this.push=function(e){this.type_!==Ae&&e.type!==this.type_||(void 0===i&&(i=e.dts),e.dts=Le(e.dts,i),e.pts=Le(e.pts,i),n=e.dts,this.trigger("data",e))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Oe.prototype=new V;var Re,De=Oe,Ne=Le,Fe=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},$e=function(e,t,n){return decodeURIComponent(Fe(e,t,n))},Be=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Me={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=$e(e.data,1,t),e.value=$e(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=$e(e.data,1,t),e.url=$e(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(Fe(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};Re=function(e){var t,n={descriptor:e&&e.descriptor},i=0,r=[],a=0;if(Re.prototype.init.call(this),this.dispatchType=Ie.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,s,o,l;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(a=0,r.length=0),0===r.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(r.push(e),a+=e.data.byteLength,1===r.length&&(i=Be(e.data.subarray(6,10)),i+=10),!(a<i)){for(t={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<i;)t.data.set(r[0].data.subarray(0,i-l),l),l+=r[0].data.byteLength,a-=r[0].data.byteLength,r.shift();n=10,64&t.data[5]&&(n+=4,n+=Be(t.data.subarray(10,14)),i-=Be(t.data.subarray(16,20)));do{if((s=Be(t.data.subarray(n+4,n+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if((o={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+s+10)}).key=o.id,Me[o.id]&&(Me[o.id](o),"com.apple.streaming.transportStreamTimestamp"===o.owner)){var c=o.data,u=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;u*=4,u+=3&c[7],o.timeStamp=u,void 0===t.pts&&void 0===t.dts&&(t.pts=o.timeStamp,t.dts=o.timeStamp),this.trigger("timestamp",o)}t.frames.push(o),n+=10,n+=s}while(n<i);this.trigger("data",t)}}},Re.prototype=new V;var Ue,je,Ve,He=Re,qe=De,ze=188;(Ue=function(){var e=new Uint8Array(ze),t=0;Ue.prototype.init.call(this),this.push=function(n){var i,r=0,a=ze;for(t?((i=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),i.set(n,t),t=0):i=n;a<i.byteLength;)71!==i[r]||71!==i[a]?(r++,a++):(this.trigger("data",i.subarray(r,a)),r+=ze,a+=ze);r<i.byteLength&&(e.set(i.subarray(r),0),t=i.byteLength-r)},this.flush=function(){t===ze&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new V,je=function(){var e,t,n,i;je.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,i){var r=0;i.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===i.type?t(e.subarray(r),i):n(e.subarray(r),i)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},n=function(e,t){var n,r;if(1&e[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<n;){var a=e[r],s=(31&e[r+1])<<8|e[r+2];a===Ie.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=s:a===Ie.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=s:a===Ie.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][s]=a),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=i.programMapTable}},this.push=function(t){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(i+=t[i]+1),0===n.pid)n.type="pat",e(t.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,n]):this.processPes_(t,i,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Ie.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Ie.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},je.prototype=new V,je.STREAM_TYPES={h264:27,adts:15},Ve=function(){var e,t=this,n=!1,i={data:[],size:0},r={data:[],size:0},a={data:[],size:0},s=function(e,n,i){var r,a,s=new Uint8Array(e.size),o={type:n},l=0,c=0;if(e.data.length&&!(e.size<9)){for(o.trackId=e.data[0].pid,l=0;l<e.data.length;l++)a=e.data[l],s.set(a.data,c),c+=a.data.byteLength;var u,h,d,f;h=o,f=(u=s)[0]<<16|u[1]<<8|u[2],h.data=new Uint8Array,1===f&&(h.packetLength=6+(u[4]<<8|u[5]),h.dataAlignmentIndicator=0!=(4&u[6]),192&(d=u[7])&&(h.pts=(14&u[9])<<27|(255&u[10])<<20|(254&u[11])<<12|(255&u[12])<<5|(254&u[13])>>>3,h.pts*=4,h.pts+=(6&u[13])>>>1,h.dts=h.pts,64&d&&(h.dts=(14&u[14])<<27|(255&u[15])<<20|(254&u[16])<<12|(255&u[17])<<5|(254&u[18])>>>3,h.dts*=4,h.dts+=(6&u[18])>>>1)),h.data=u.subarray(9+u[8])),r="video"===n||o.packetLength<=e.size,(i||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",o)}};Ve.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,t;switch(o.streamType){case Ie.H264_STREAM_TYPE:e=i,t="video";break;case Ie.ADTS_STREAM_TYPE:e=r,t="audio";break;case Ie.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]};null!==(e=o.programMapTable).video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),n=!0,t.trigger("data",i)}})[o.type]()},this.reset=function(){i.size=0,i.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(i,"video"),s(r,"audio"),s(a,"timed-metadata")},this.flush=function(){if(!n&&e){var i={type:"metadata",tracks:[]};null!==e.video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",i)}n=!1,this.flushStreams_(),this.trigger("done")}},Ve.prototype=new V;var We={PAT_PID:0,MP2T_PACKET_LENGTH:ze,TransportPacketStream:Ue,TransportParseStream:je,ElementaryStream:Ve,TimestampRolloverStream:qe,CaptionStream:Pe.CaptionStream,Cea608Stream:Pe.Cea608Stream,Cea708Stream:Pe.Cea708Stream,MetadataStream:He};for(var Ge in Ie)Ie.hasOwnProperty(Ge)&&(We[Ge]=Ie[Ge]);var Ke,Ye=We,Xe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Ke=function(e){var t,n=0;Ke.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:"adts skiping bytes "+e+" to "+t+" in frame "+n+" outside syncword"})},this.push=function(i){var r,a,s,o,l,c=0;if(e||(n=0),"audio"===i.type){var u;for(t&&t.length?(s=t,(t=new Uint8Array(s.byteLength+i.data.byteLength)).set(s),t.set(i.data,s.byteLength)):t=i.data;c+7<t.length;)if(255===t[c]&&240==(246&t[c+1])){if("number"==typeof u&&(this.skipWarn_(u,c),u=null),a=2*(1&~t[c+1]),r=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,l=9e4*(o=1024*(1+(3&t[c+6])))/Xe[(60&t[c+2])>>>2],t.byteLength-c<r)break;this.trigger("data",{pts:i.pts+n*l,dts:i.dts+n*l,sampleCount:o,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:Xe[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+a,c+r)}),n++,c+=r}else"number"!=typeof u&&(u=c),c++;"number"==typeof u&&(this.skipWarn_(u,c),u=null),t=t.subarray(c)}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},Ke.prototype=new V;var Qe,Ze,Je,et=Ke,tt=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var r=e.byteLength-t,a=new Uint8Array(4),s=Math.min(4,t);if(0===s)throw new Error("no bytes available");a.set(e.subarray(r,r+s)),n=new DataView(a.buffer).getUint32(0),i=8*s,t-=s},this.skipBits=function(e){var r;i>e?(n<<=e,i-=e):(e-=i,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var r=Math.min(i,e),a=n>>>32-r;return(i-=r)>0?n<<=r:t>0&&this.loadWord(),(r=e-r)>0?a<<r|this.readBits(r):a},this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e)if(0!=(n&2147483648>>>e))return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};Ze=function(){var e,t,n=0;Ze.prototype.init.call(this),this.push=function(i){var r;t?((r=new Uint8Array(t.byteLength+i.data.byteLength)).set(t),r.set(i.data,t.byteLength),t=r):t=i.data;for(var a=t.byteLength;n<a-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<a;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<a);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Ze.prototype=new V,Je={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Qe=function(){var e,t,n,i,r,a,s,o=new Ze;Qe.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,i=e.dts,o.push(e))},o.on("data",(function(s){var o={trackId:t,pts:n,dts:i,data:s,nalUnitTypeCode:31&s[0]};switch(o.nalUnitTypeCode){case 5:o.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:o.nalUnitType="sei_rbsp",o.escapedRBSP=r(s.subarray(1));break;case 7:o.nalUnitType="seq_parameter_set_rbsp",o.escapedRBSP=r(s.subarray(1)),o.config=a(o.escapedRBSP);break;case 8:o.nalUnitType="pic_parameter_set_rbsp";break;case 9:o.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",o)})),o.on("done",(function(){e.trigger("done")})),o.on("partialdone",(function(){e.trigger("partialdone")})),o.on("reset",(function(){e.trigger("reset")})),o.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){o.flush()},this.partialFlush=function(){o.partialFlush()},this.reset=function(){o.reset()},this.endTimeline=function(){o.endTimeline()},s=function(e,t){var n,i=8,r=8;for(n=0;n<e;n++)0!==r&&(r=(i+t.readExpGolomb()+256)%256),i=0===r?i:r},r=function(e){for(var t,n,i=e.byteLength,r=[],a=1;a<i-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var s=0;for(a=0;a<t;s++,a++)s===r[0]&&(s++,r.shift()),n[a]=e[s];return n},a=function(e){var t,n,i,r,a,o,l,c,u,h,d,f,p=0,m=0,g=0,y=0,v=[1,1];if(n=(t=new tt(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),Je[n]&&(3===(a=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==a?8:12,f=0;f<d;f++)t.readBoolean()&&s(f<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(o=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===o)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),f=0;f<l;f++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),c=t.readUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),0===(h=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(p=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:v=[1,1];break;case 2:v=[12,11];break;case 3:v=[10,11];break;case 4:v=[16,11];break;case 5:v=[40,33];break;case 6:v=[24,11];break;case 7:v=[20,11];break;case 8:v=[32,11];break;case 9:v=[80,33];break;case 10:v=[18,11];break;case 11:v=[15,11];break;case 12:v=[64,33];break;case 13:v=[160,99];break;case 14:v=[4,3];break;case 15:v=[3,2];break;case 16:v=[2,1];break;case 255:v=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}v&&(v[0],v[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:16*(c+1)-2*p-2*m,height:(2-h)*(u+1)*16-2*g-2*y,sarRatio:v}}},Qe.prototype=new V;var nt,it={H264Stream:Qe,NalByteStream:Ze},rt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],at=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},st=function e(t,n){return t.length-n<10||t[n]!=="I".charCodeAt(0)||t[n+1]!=="D".charCodeAt(0)||t[n+2]!=="3".charCodeAt(0)?n:e(t,n+=at(t,n))},ot=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},lt={isLikelyAacData:function(e){var t=st(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:at,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return rt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,i;t=10,64&e[5]&&(t+=4,t+=ot(e.subarray(10,14)));do{if((n=ot(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){i=e.subarray(t+10,t+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){var a=unescape(function(e,t,n){var i,r="";for(i=0;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r}(i,0,r));if("com.apple.streaming.transportStreamTimestamp"===a){var s=i.subarray(r+1),o=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return(o*=4)+(3&s[7])}break}}t+=10,t+=n}while(t<e.byteLength);return null}};(nt=function(){var e=new Uint8Array,t=0;nt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var i,r,a,s,o=0,l=0;for(e.length?(s=e.length,(e=new Uint8Array(n.byteLength+s)).set(e.subarray(0,s)),e.set(n,s)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255!=(255&e[l])||240!=(240&e[l+1]))l++;else{if(e.length-l<7)break;if(l+(o=lt.parseAdtsSize(e,l))>e.length)break;a={type:"audio",data:e.subarray(l,l+o),pts:t,dts:t},this.trigger("data",a),l+=o}else{if(e.length-l<10)break;if(l+(o=lt.parseId3TagSize(e,l))>e.length)break;r={type:"timed-metadata",data:e.subarray(l,l+o)},this.trigger("data",r),l+=o}i=e.length-l,e=i>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new V;var ct,ut,ht,dt,ft=nt,pt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],mt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],gt=it.H264Stream,yt=lt.isLikelyAacData,vt=function(e,t){t.stream=e,this.trigger("log",t)},bt=function(e,t){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];"headOfPipeline"!==r&&t[r].on&&t[r].on("log",vt.bind(e,r))}},_t=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},wt=function(e,t,n,i,r,a){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(i-t),pts:e+(r-n)},prependedContentDuration:a,baseMediaDecodeTime:e}};ut=function(e,t){var n,i=[],r=0,a=0,s=1/0;n=(t=t||{}).firstSequenceNumber||0,ut.prototype.init.call(this),this.push=function(t){ge(e,t),e&&pt.forEach((function(n){e[n]=t[n]})),i.push(t)},this.setEarliestDts=function(e){r=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){a=e},this.flush=function(){var o,l,c,u,h,d,f;0!==i.length?(o=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))}(i,e,r),e.baseMediaDecodeTime=me(e,t.keepOriginalTimestamps),f=fe(e,o,a,s),e.samples=function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i}(o),c=ee(function(e){var t,n,i=0,r=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r}(o)),i=[],l=te(n,[e]),u=new Uint8Array(l.byteLength+c.byteLength),n++,u.set(l),u.set(c,l.byteLength),pe(e),h=Math.ceil(9216e4/e.samplerate),o.length&&(d=o.length*h,this.trigger("segmentTimingInfo",wt(ue(e.baseMediaDecodeTime,e.samplerate),o[0].dts,o[0].pts,o[0].dts+d,o[0].pts+d,f||0)),this.trigger("timingInfo",{start:o[0].pts,end:o[0].pts+d})),this.trigger("data",{track:e,boxes:u}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){pe(e),i=[],this.trigger("reset")}},ut.prototype=new V,ct=function(e,t){var n,i,r,a=[],s=[];n=(t=t||{}).firstSequenceNumber||0,ct.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){ge(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],mt.forEach((function(t){e[t]=i[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),a.push(t)},this.flush=function(){for(var i,r,o,l,c,u,h,d,f=0;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=function(e){var t,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,i.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r}(a),(o=function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r}(i))[0][0].keyFrame||((r=this.getGopForFusion_(a[0],e))?(f=r.duration,o.unshift(r),o.byteLength+=r.byteLength,o.nalCount+=r.nalCount,o.pts=r.pts,o.dts=r.dts,o.duration+=r.duration):o=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e}(o)),s.length){var p;if(!(p=t.alignGopsAtEnd?this.alignGopsAtEnd_(o):this.alignGopsAtStart_(o)))return this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");pe(e),o=p}ge(e,o),e.samples=function(e,t){var n,i,r,a,s,o=t||0,l=[];for(n=0;n<e.length;n++)for(a=e[n],i=0;i<a.length;i++)s=a[i],o+=(r=ne(s,o)).size,l.push(r);return l}(o),c=ee(function(e){var t,n,i,r,a,s,o=0,l=e.byteLength,c=e.nalCount,u=new Uint8Array(l+4*c),h=new DataView(u.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)s=a[i],h.setUint32(o,s.data.byteLength),o+=4,u.set(s.data,o),o+=s.data.byteLength;return u}(o)),e.baseMediaDecodeTime=me(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",o.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),h=o[0],d=o[o.length-1],this.trigger("segmentTimingInfo",wt(e.baseMediaDecodeTime,h.dts,h.pts,d.dts+d.duration,d.pts+d.duration,f)),this.trigger("timingInfo",{start:o[0].pts,end:o[o.length-1].pts+o[o.length-1].duration}),this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=te(n,[e]),u=new Uint8Array(l.byteLength+c.byteLength),n++,u.set(l),u.set(c,l.byteLength),this.trigger("data",{track:e,boxes:u}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),a=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){pe(e),i=void 0,r=void 0},this.getGopForFusion_=function(t){var n,i,r,a,s,o=1/0;for(s=0;s<this.gopCache_.length;s++)r=(a=this.gopCache_[s]).gop,e.pps&&_t(e.pps[0],a.pps[0])&&e.sps&&_t(e.sps[0],a.sps[0])&&(r.dts<e.timelineStartInfo.dts||(n=t.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||o>n)&&(i=a,o=n));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,n,i,r,a,o,l,c;for(a=e.byteLength,o=e.nalCount,l=e.duration,t=n=0;t<s.length&&n<e.length&&(i=s[t],r=e[n],i.pts!==r.pts);)r.pts>i.pts?t++:(n++,a-=r.byteLength,o-=r.nalCount,l-=r.duration);return 0===n?e:n===e.length?null:((c=e.slice(n)).byteLength=a,c.duration=l,c.nalCount=o,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,n,i,r,a,o,l;for(t=s.length-1,n=e.length-1,a=null,o=!1;t>=0&&n>=0;){if(i=s[t],r=e[n],i.pts===r.pts){o=!0;break}i.pts>r.pts?t--:(t===s.length-1&&(a=n),n--)}if(!o&&null===a)return null;if(0===(l=o?n:a))return e;var c=e.slice(l),u=c.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=u.byteLength,c.duration=u.duration,c.nalCount=u.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){s=e}},ct.prototype=new V,dt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,dt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},dt.prototype=new V,dt.prototype.flush=function(e){var t,n,i,r,s=0,o={captions:[],captionStreams:{},metadata:[],info:{}},l=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(l=this.videoTrack.timelineStartInfo.pts,mt.forEach((function(e){o.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(l=this.audioTrack.timelineStartInfo.pts,pt.forEach((function(e){o.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,i=function(e){var t,n=a(),i=c(e);return(t=new Uint8Array(n.byteLength+i.byteLength)).set(n),t.set(i,n.byteLength),t}(this.pendingTracks),o.initSegment=new Uint8Array(i.byteLength),o.initSegment.set(i),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],s),s+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=de(t.startPts,l,this.keepOriginalTimestamps),t.endTime=de(t.endPts,l,this.keepOriginalTimestamps),o.captionStreams[t.stream]=!0,o.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=de(n.pts,l,this.keepOriginalTimestamps),o.metadata.push(n);for(o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),r=0;r<o.captions.length;r++)t=o.captions[r],this.trigger("caption",t);for(r=0;r<o.metadata.length;r++)n=o.metadata[r],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},dt.prototype.setRemux=function(e){this.remuxTracks=e},ht=function(e){var t,n,i=this,r=!0;ht.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new Ye.MetadataStream,r.aacStream=new ft,r.audioTimestampRolloverStream=new Ye.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new Ye.TimestampRolloverStream("timed-metadata"),r.adtsStream=new et,r.coalesceStream=new dt(e,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(e){r.aacStream.setTimestamp(e.timeStamp)})),r.aacStream.on("data",(function(a){"timed-metadata"!==a.type&&"audio"!==a.type||r.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ut(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),bt(this,r)},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new Ye.MetadataStream,r.packetStream=new Ye.TransportPacketStream,r.parseStream=new Ye.TransportParseStream,r.elementaryStream=new Ye.ElementaryStream,r.timestampRolloverStream=new Ye.TimestampRolloverStream,r.adtsStream=new et,r.h264Stream=new gt,r.captionStream=new Ye.CaptionStream(e),r.coalesceStream=new dt(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(a){var s;if("metadata"===a.type){for(s=a.tracks.length;s--;)t||"video"!==a.tracks[s].type?n||"audio"!==a.tracks[s].type||((n=a.tracks[s]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(t=a.tracks[s]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new ct(t,e),r.videoSegmentStream.on("log",i.getLogTrigger_("videoSegmentStream")),r.videoSegmentStream.on("timelineStartInfo",(function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts-i.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),r.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ut(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.audioSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"audioSegmentTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(e){e.dispatchType=r.metadataStream.dispatchType,i.trigger("id3Frame",e)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),bt(this,r)},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,pe(n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,pe(t),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(n){n.stream=e,t.trigger("log",n)}},this.push=function(e){if(r){var t=yt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},ht.prototype=new V;var St,kt,Tt,Ct={Transmuxer:ht,VideoSegmentStream:ct,AudioSegmentStream:ut,AUDIO_PROPERTIES:pt,VIDEO_PROPERTIES:mt,generateSegmentTimingInfo:wt},xt=function(e){return e>>>0},Et=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),(t+=String.fromCharCode(e[2]))+String.fromCharCode(e[3])},Pt=xt,It=function e(t,n){var i,r,a,s,o,l=[];if(!n.length)return null;for(i=0;i<t.byteLength;)r=Pt(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]),a=Et(t.subarray(i+4,i+8)),s=r>1?i+r:t.byteLength,a===n[0]&&(1===n.length?l.push(t.subarray(i+8,s)):(o=e(t.subarray(i+8,s),n.slice(1))).length&&(l=l.concat(o))),i=s;return l},At=xt,Lt=q.getUint64,Ot=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Dt="undefined"!=typeof window?window:void 0!==Rt?Rt:"undefined"!=typeof self?self:{},Nt=function(e){for(var t,n,i=e.byteLength,r=[],a=1;a<i-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var s=0;for(a=0;a<t;s++,a++)s===r[0]&&(s++,r.shift()),n[a]=e[s];return n},Ft=Pe.CaptionStream,$t=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null},Bt=function(e,t){var n=It(e,["moof","traf"]),i=It(e,["mdat"]),r={},a=[];return i.forEach((function(e,t){var i=n[t];a.push({mdat:e,traf:i})})),a.forEach((function(e){var n,i,a=e.mdat,s=e.traf,o=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],a=2&i.flags[2],s=8&i.flags[2],o=16&i.flags[2],l=32&i.flags[2],c=65536&i.flags[0],u=131072&i.flags[0];return t=8,r&&(t+=4,i.baseDataOffset=n.getUint32(12),t+=4),a&&(i.sampleDescriptionIndex=n.getUint32(t),t+=4),s&&(i.defaultSampleDuration=n.getUint32(t),t+=4),o&&(i.defaultSampleSize=n.getUint32(t),t+=4),l&&(i.defaultSampleFlags=n.getUint32(t)),c&&(i.durationIsEmpty=!0),!r&&u&&(i.baseDataOffsetIsMoof=!0),i}(It(s,["tfhd"])[0]),l=o.trackId,c=It(s,["tfdt"]),u=c.length>0?function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=Lt(e.subarray(4)):t.baseMediaDecodeTime=At(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t}(c[0]).baseMediaDecodeTime:0,h=It(s,["trun"]);t===l&&h.length>0&&(n=function(e,t,n){var i=t,r=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,s=n.trackId,o=[];return e.forEach((function(e){var t=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&n.flags[2],a=4&n.flags[2],s=1&n.flags[1],o=2&n.flags[1],l=4&n.flags[1],c=8&n.flags[1],u=i.getUint32(4),h=8;for(r&&(n.dataOffset=i.getInt32(h),h+=4),a&&u&&(t={flags:Ot(e.subarray(h,h+4))},h+=4,s&&(t.duration=i.getUint32(h),h+=4),o&&(t.size=i.getUint32(h),h+=4),c&&(1===n.version?t.compositionTimeOffset=i.getInt32(h):t.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(t),u--);u--;)t={},s&&(t.duration=i.getUint32(h),h+=4),o&&(t.size=i.getUint32(h),h+=4),l&&(t.flags=Ot(e.subarray(h,h+4)),h+=4),c&&(1===n.version?t.compositionTimeOffset=i.getInt32(h):t.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(t);return n}(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=a),e.trackId=s,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof i?(e.pts=i+Dt.BigInt(e.compositionTimeOffset),i+=Dt.BigInt(e.duration)):(e.pts=i+e.compositionTimeOffset,i+=e.duration)})),o=o.concat(t)})),o}(h,u,o),i=function(e,t,n){var i,r,a,s,o=new DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(r=0;r+4<e.length;r+=a)if(a=o.getUint32(r),r+=4,!(a<=0))switch(31&e[r]){case 6:var c=e.subarray(r+1,r+1+a),u=$t(r,t);if(i={nalUnitType:"sei_rbsp",size:a,data:c,escapedRBSP:Nt(c),trackId:n},u)i.pts=u.pts,i.dts=u.dts,s=u;else{if(!s){l.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+r+" for trackId "+n+". See mux.js#223."});break}i.pts=s.pts,i.dts=s.dts}l.seiNals.push(i)}return l}(a,n,l),r[l]||(r[l]={seiNals:[],logs:[]}),r[l].seiNals=r[l].seiNals.concat(i.seiNals),r[l].logs=r[l].logs.concat(i.logs))})),r},Mt=function(){var e,t,n,i,r,a,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new Ft,s=!0,a=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/i,e.endTime=e.endPts/i,r.captions.push(e),r.captionStreams[e.stream]=!0})),e.on("log",(function(e){r.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||n===e[0]&&i===t[n])},this.parse=function(e,a,s){var o;if(!this.isInitialized())return null;if(!a||!s)return null;if(this.isNewInit(a,s))n=a[0],i=s[n];else if(null===n||!i)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,a,s)}return o=function(e,t,n){if(null===t)return null;var i=Bt(e,t)[t]||{};return{seiNals:i.seiNals,logs:i.logs,timescale:n}}(e,n,i),o&&o.logs&&(r.logs=r.logs.concat(o.logs)),null!==o&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),r):r.logs.length?{logs:r.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;a?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={},r.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Ut=xt,jt=function(e){return("00"+e.toString(16)).slice(-2)},Vt=q.getUint64;St=function(e,t){var n=It(t,["moof","traf"]).reduce((function(t,n){var i,r,a=It(n,["tfhd"])[0],s=Ut(a[4]<<24|a[5]<<16|a[6]<<8|a[7]),o=e[s]||9e4,l=It(n,["tfdt"])[0],c=new DataView(l.buffer,l.byteOffset,l.byteLength);return"bigint"==typeof(i=1===l[0]?Vt(l.subarray(4,12)):c.getUint32(4))?r=i/Dt.BigInt(o):"number"!=typeof i||isNaN(i)||(r=i/o),r<Number.MAX_SAFE_INTEGER&&(r=Number(r)),r<t&&(t=r),t}),1/0);return"bigint"==typeof n||isFinite(n)?n:0},Tt=function(e){var t=0===e[0]?12:20;return Ut(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},kt=function(e){var t=It(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,i,r={},a=It(e,["tkhd"])[0];a&&(i=(t=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0),r.id=0===i?t.getUint32(12):t.getUint32(20));var s=It(e,["mdia","hdlr"])[0];if(s){var o=Et(s.subarray(8,12));r.type="vide"===o?"video":"soun"===o?"audio":o}var l=It(e,["mdia","minf","stbl","stsd"])[0];if(l){var c=l.subarray(8);r.codec=Et(c.subarray(4,8));var u,h=It(c,[r.codec])[0];h&&(/^[asm]vc[1-9]$/i.test(r.codec)?(u=h.subarray(78),"avcC"===Et(u.subarray(4,8))&&u.length>11?(r.codec+=".",r.codec+=jt(u[9]),r.codec+=jt(u[10]),r.codec+=jt(u[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)?(u=h.subarray(28),"esds"===Et(u.subarray(4,8))&&u.length>20&&0!==u[19]?(r.codec+="."+jt(u[19]),r.codec+="."+jt(u[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"):r.codec=r.codec.toLowerCase())}var d=It(e,["mdia","mdhd"])[0];d&&(r.timescale=Tt(d)),n.push(r)})),n};var Ht=St,qt=kt,zt=function(e){var t=31&e[1];return(t<<=8)|e[2]},Wt=function(e){return!!(64&e[1])},Gt=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},Kt=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Yt={parseType:function(e,t){var n=zt(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=Wt(e),n=4+Gt(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=Wt(e),i=4+Gt(e);if(n&&(i+=e[i]+1),1&e[i+5]){var r;r=3+((15&e[i+1])<<8|e[i+2])-4;for(var a=12+((15&e[i+10])<<8|e[i+11]);a<r;){var s=i+a;t[(31&e[s+1])<<8|e[s+2]]=e[s],a+=5+((15&e[s+3])<<8|e[s+4])}return t}},parsePayloadUnitStartIndicator:Wt,parsePesType:function(e,t){switch(t[zt(e)]){case Ie.H264_STREAM_TYPE:return"video";case Ie.ADTS_STREAM_TYPE:return"audio";case Ie.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!Wt(e))return null;var t=4+Gt(e);if(t>=e.byteLength)return null;var n,i=null;return 192&(n=e[t+7])&&((i={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,i.pts*=4,i.pts+=(6&e[t+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,i.dts*=4,i.dts+=(6&e[t+18])>>>1)),i},videoPacketContainsKeyFrame:function(e){for(var t=4+Gt(e),n=e.subarray(t),i=0,r=0,a=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===Kt(31&n[r+3])&&(a=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Kt(31&n[r+3])&&(a=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===Kt(31&n[r+3])&&(a=!0),a}},Xt=Ne,Qt={};Qt.ts=Yt,Qt.aac=lt;var Zt=oe,Jt=188,en=71,tn=function(e,t,n){for(var i,r,a,s,o=0,l=Jt,c=!1;l<=e.byteLength;)if(e[o]!==en||e[l]!==en&&l!==e.byteLength)o++,l++;else{if(i=e.subarray(o,l),"pes"===Qt.ts.parseType(i,t.pid)&&(r=Qt.ts.parsePesType(i,t.table),a=Qt.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(s=Qt.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),c=!0)),c)break;o+=Jt,l+=Jt}for(o=(l=e.byteLength)-Jt,c=!1;o>=0;)if(e[o]!==en||e[l]!==en&&l!==e.byteLength)o--,l--;else{if(i=e.subarray(o,l),"pes"===Qt.ts.parseType(i,t.pid)&&(r=Qt.ts.parsePesType(i,t.table),a=Qt.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(s=Qt.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),c=!0)),c)break;o-=Jt,l-=Jt}},nn=function(e,t,n){for(var i,r,a,s,o,l,c,u=0,h=Jt,d=!1,f={data:[],size:0};h<e.byteLength;)if(e[u]!==en||e[h]!==en)u++,h++;else{if(i=e.subarray(u,h),"pes"===Qt.ts.parseType(i,t.pid)&&(r=Qt.ts.parsePesType(i,t.table),a=Qt.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(a&&!d&&(s=Qt.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),d=!0),!n.firstKeyFrame))){if(a&&0!==f.size){for(o=new Uint8Array(f.size),l=0;f.data.length;)c=f.data.shift(),o.set(c,l),l+=c.byteLength;if(Qt.ts.videoPacketContainsKeyFrame(o)){var p=Qt.ts.parsePesTime(o);p?(n.firstKeyFrame=p,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(i),f.size+=i.byteLength}if(d&&n.firstKeyFrame)break;u+=Jt,h+=Jt}for(u=(h=e.byteLength)-Jt,d=!1;u>=0;)if(e[u]!==en||e[h]!==en)u--,h--;else{if(i=e.subarray(u,h),"pes"===Qt.ts.parseType(i,t.pid)&&(r=Qt.ts.parsePesType(i,t.table),a=Qt.ts.parsePayloadUnitStartIndicator(i),"video"===r&&a&&(s=Qt.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),d=!0)),d)break;u-=Jt,h-=Jt}},rn=function(e,t){var n;return n=Qt.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,i=0,r=null,a=null,s=0,o=0;e.length-o>=3;){switch(Qt.aac.parseType(e,o)){case"timed-metadata":if(e.length-o<10){n=!0;break}if((s=Qt.aac.parseId3TagSize(e,o))>e.length){n=!0;break}null===a&&(t=e.subarray(o,o+s),a=Qt.aac.parseAacTimestamp(t)),o+=s;break;case"audio":if(e.length-o<7){n=!0;break}if((s=Qt.aac.parseAdtsSize(e,o))>e.length){n=!0;break}null===r&&(t=e.subarray(o,o+s),r=Qt.aac.parseSampleRate(t)),i++,o+=s;break;default:o++}if(n)return null}if(null===r||null===a)return null;var l=Zt/r;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*i*l,pts:a+1024*i*l}]}}(e):function(e){var t={pid:null,table:null},n={};for(var i in function(e,t){for(var n,i=0,r=Jt;r<e.byteLength;)if(e[i]!==en||e[r]!==en)i++,r++;else{switch(n=e.subarray(i,r),Qt.ts.parseType(n,t.pid)){case"pat":t.pid=Qt.ts.parsePat(n);break;case"pmt":var a=Qt.ts.parsePmt(n);t.table=t.table||{},Object.keys(a).forEach((function(e){t.table[e]=a[e]}))}i+=Jt,r+=Jt}}(e,t),t.table)if(t.table.hasOwnProperty(i))switch(t.table[i]){case Ie.H264_STREAM_TYPE:n.video=[],nn(e,t,n),0===n.video.length&&delete n.video;break;case Ie.ADTS_STREAM_TYPE:n.audio=[],tn(e,t,n),0===n.audio.length&&delete n.audio}return n}(e),n&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;(void 0===n||isNaN(n))&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=Xt(e.dts,n),e.pts=Xt(e.pts,n),e.dtsTime=e.dts/Zt,e.ptsTime=e.pts/Zt}))}if(e.video&&e.video.length){var i=t;if((void 0===i||isNaN(i))&&(i=e.video[0].dts),e.video.forEach((function(e){e.dts=Xt(e.dts,i),e.pts=Xt(e.pts,i),e.dtsTime=e.dts/Zt,e.ptsTime=e.pts/Zt})),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=Xt(r.dts,i),r.pts=Xt(r.pts,i),r.dtsTime=r.dts/Zt,r.ptsTime=r.pts/Zt}}}(n,t),n):null},an=function(){function e(e,t){this.options=t||{},this.self=e,this.init()}var t=e.prototype;return t.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Ct.Transmuxer(this.options),function(e,t){t.on("data",(function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var i=t.data;t.data=i.buffer,e.postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){var n={start:{decode:ce(t.start.dts),presentation:ce(t.start.pts)},end:{decode:ce(t.end.dts),presentation:ce(t.end.pts)},baseMediaDecodeTime:ce(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=ce(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),t.on("audioSegmentTimingInfo",(function(t){var n={start:{decode:ce(t.start.dts),presentation:ce(t.start.pts)},end:{decode:ce(t.end.dts),presentation:ce(t.end.pts)},baseMediaDecodeTime:ce(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=ce(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:n})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ce(t.start),end:ce(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ce(t.start),end:ce(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))}(this.self,this.transmuxer)},t.pushMp4Captions=function(e){this.captionParser||(this.captionParser=new Mt,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],logs:n&&n.logs||[],data:t.buffer},[t.buffer])},t.probeMp4StartTime=function(e){var t=e.timescales,n=e.data,i=Ht(t,n);this.self.postMessage({action:"probeMp4StartTime",startTime:i,data:n},[n.buffer])},t.probeMp4Tracks=function(e){var t=e.data,n=qt(t);this.self.postMessage({action:"probeMp4Tracks",tracks:n,data:t},[t.buffer])},t.probeTs=function(e){var t=e.data,n=e.baseStartTime,i="number"!=typeof n||isNaN(n)?void 0:n*oe,r=rn(t,i),a=null;r&&((a={hasVideo:r.video&&2===r.video.length||!1,hasAudio:r.audio&&2===r.audio.length||!1}).hasVideo&&(a.videoStart=r.video[0].ptsTime),a.hasAudio&&(a.audioStart=r.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:a,data:t},[t.buffer])},t.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},t.push=function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)},t.reset=function(){this.transmuxer.reset()},t.setTimestampOffset=function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(le(t)))},t.setAudioAppendStart=function(e){this.transmuxer.setAudioAppendStart(Math.ceil(le(e.appendStart)))},t.setRemux=function(e){this.transmuxer.setRemux(e.remux)},t.flush=function(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},t.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},t.alignGopsWith=function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new an(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new an(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}))),el=Xo(Jo),tl=function(e){var t=e.transmuxer,n=e.bytes,i=e.audioAppendStart,r=e.gopsToAlignWith,a=e.remux,s=e.onData,o=e.onTrackInfo,l=e.onAudioTimingInfo,c=e.onVideoTimingInfo,u=e.onVideoSegmentTimingInfo,h=e.onAudioSegmentTimingInfo,d=e.onId3,f=e.onCaptions,p=e.onDone,m=e.onEndedTimeline,g=e.onTransmuxerLog,y=e.isEndOfTimeline,v={buffer:[]},b=y;if(t.onmessage=function(n){t.currentTransmux===e&&("data"===n.data.action&&function(e,t,n){var i=e.data.segment,r=i.type,a=i.initSegment,s=i.captions,o=i.captionStreams,l=i.metadata,c=i.videoFrameDtsTime,u=i.videoFramePtsTime;t.buffer.push({captions:s,captionStreams:o,metadata:l});var h=e.data.segment.boxes||{data:e.data.segment.data},d={type:r,data:new Uint8Array(h.data,h.data.byteOffset,h.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};void 0!==c&&(d.videoFrameDtsTime=c),void 0!==u&&(d.videoFramePtsTime=u),n(d)}(n,v,s),"trackinfo"===n.data.action&&o(n.data.trackInfo),"gopInfo"===n.data.action&&function(e,t){t.gopInfo=e.data.gopInfo}(n,v),"audioTimingInfo"===n.data.action&&l(n.data.audioTimingInfo),"videoTimingInfo"===n.data.action&&c(n.data.videoTimingInfo),"videoSegmentTimingInfo"===n.data.action&&u(n.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===n.data.action&&h(n.data.audioSegmentTimingInfo),"id3Frame"===n.data.action&&d([n.data.id3Frame],n.data.id3Frame.dispatchType),"caption"===n.data.action&&f(n.data.caption),"endedtimeline"===n.data.action&&(b=!1,m()),"log"===n.data.action&&g(n.data.log),"transmuxed"===n.data.type&&(b||(t.onmessage=null,function(e){var t=e.transmuxedData,n=e.callback;t.buffer=[],n(t)}({transmuxedData:v,callback:p}),nl(t))))},i&&t.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==a&&t.postMessage({action:"setRemux",remux:a}),n.byteLength){var _=n instanceof ArrayBuffer?n:n.buffer,w=n instanceof ArrayBuffer?0:n.byteOffset;t.postMessage({action:"push",data:_,byteOffset:w,byteLength:n.byteLength},[_])}y&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},nl=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():tl(e.currentTransmux))},il=function(e,t){e.postMessage({action:t}),nl(e)},rl=function(e){!function(e,t){if(!t.currentTransmux)return t.currentTransmux=e,void il(t,e);t.transmuxQueue.push(il.bind(null,t,e))}("reset",e)},al=function(e){var t=e.transmuxer,n=e.endAction||e.action,i=e.callback,r=o({},e,{endAction:null,transmuxer:null,callback:null});if(t.addEventListener("message",(function r(a){a.data.action===n&&(t.removeEventListener("message",r),a.data.data&&(a.data.data=new Uint8Array(a.data.data,e.byteOffset||0,e.byteLength||a.data.data.byteLength),e.data&&(e.data=a.data.data)),i(a.data))})),e.data){var a=e.data instanceof ArrayBuffer;r.byteOffset=a?0:e.data.byteOffset,r.byteLength=e.data.byteLength;var s=[a?e.data:e.data.buffer];t.postMessage(r,s)}else t.postMessage(r)},sl=-101,ol=-102,ll=function(e){e.forEach((function(e){e.abort()}))},cl=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:sl,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:ol,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:2,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:2,xhr:t}:null},ul=function(e,t,n){return function(i,r){var a=r.response,s=cl(i,r);if(s)return n(s,e);if(16!==a.byteLength)return n({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:2,xhr:r},e);for(var o=new DataView(a),l=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),c=0;c<t.length;c++)t[c].bytes=l;return n(null,e)}},hl=function(e,t){var n=vt(e.map.bytes);if("mp4"!==n){var i=e.map.resolvedUri||e.map.uri;return t({internal:!0,message:"Found unsupported "+(n||"unknown")+" container for initialization segment at URL: "+i,code:2})}al({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(n){var i=n.tracks,r=n.data;return e.map.bytes=r,i.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),t(null)}})},dl=function(e){var t=e.segment,n=e.bytes,i=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,h=e.dataFn,d=e.doneFn,f=e.onTransmuxerLog,p=t.map&&t.map.tracks||{},m=Boolean(p.audio&&p.video),g=r.bind(null,t,"audio","start"),y=r.bind(null,t,"audio","end"),v=r.bind(null,t,"video","start"),b=r.bind(null,t,"video","end");al({action:"probeTs",transmuxer:t.transmuxer,data:n,baseStartTime:t.baseStartTime,callback:function(e){t.bytes=n=e.data;var r=e.result;r&&(i(t,{hasAudio:r.hasAudio,hasVideo:r.hasVideo,isMuxed:m}),i=null,r.hasAudio&&!m&&g(r.audioStart),r.hasVideo&&v(r.videoStart),g=null,v=null),function(e){if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void tl(e);e.transmuxer.transmuxQueue.push(e)}({bytes:n,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:m,onData:function(e){e.type="combined"===e.type?"video":e.type,h(t,e)},onTrackInfo:function(e){i&&(m&&(e.isMuxed=!0),i(t,e))},onAudioTimingInfo:function(e){g&&void 0!==e.start&&(g(e.start),g=null),y&&void 0!==e.end&&y(e.end)},onVideoTimingInfo:function(e){v&&void 0!==e.start&&(v(e.start),v=null),b&&void 0!==e.end&&b(e.end)},onVideoSegmentTimingInfo:function(e){a(e)},onAudioSegmentTimingInfo:function(e){s(e)},onId3:function(e,n){o(t,e,n)},onCaptions:function(e){l(t,[e])},isEndOfTimeline:c,onEndedTimeline:function(){u()},onTransmuxerLog:f,onDone:function(e){d&&(e.type="combined"===e.type?"video":e.type,d(null,t,e))}})}})},fl=function(e){var t=e.segment,n=e.bytes,i=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,h=e.dataFn,d=e.doneFn,f=e.onTransmuxerLog,p=new Uint8Array(n);if(function(e){return tt(e,["moof"]).length>0}(p)){t.isFmp4=!0;var m=t.map.tracks,g={isFmp4:!0,hasVideo:!!m.video,hasAudio:!!m.audio};m.audio&&m.audio.codec&&"enca"!==m.audio.codec&&(g.audioCodec=m.audio.codec),m.video&&m.video.codec&&"encv"!==m.video.codec&&(g.videoCodec=m.video.codec),m.video&&m.audio&&(g.isMuxed=!0),i(t,g);var y=function(e){h(t,{data:p,type:g.hasAudio&&!g.isMuxed?"audio":"video"}),e&&e.length&&l(t,e),d(null,t,{})};al({action:"probeMp4StartTime",timescales:t.map.timescales,data:p,transmuxer:t.transmuxer,callback:function(e){var i=e.data,a=e.startTime;n=i.buffer,t.bytes=p=i,g.hasAudio&&!g.isMuxed&&r(t,"audio","start",a),g.hasVideo&&r(t,"video","start",a),m.video&&i.byteLength&&t.transmuxer?al({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:p,timescales:t.map.timescales,trackIds:[m.video.id],callback:function(e){n=e.data.buffer,t.bytes=p=e.data,e.logs.forEach((function(e){f(Os.mergeOptions(e,{stream:"mp4CaptionParser"}))})),y(e.captions)}}):y()}})}else if(t.transmuxer){if(void 0===t.container&&(t.container=vt(p)),"ts"!==t.container&&"aac"!==t.container)return i(t,{hasAudio:!1,hasVideo:!1}),void d(null,t,{});dl({segment:t,bytes:n,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:f})}else d(null,t,{})},pl=function(e,t){var n,i=e.id,r=e.key,a=e.encryptedBytes,s=e.decryptionWorker;s.addEventListener("message",(function e(n){if(n.data.source===i){s.removeEventListener("message",e);var r=n.data.decrypted;t(new Uint8Array(r.bytes,r.byteOffset,r.byteLength))}})),n=r.bytes.slice?r.bytes.slice():new Uint32Array(Array.prototype.slice.call(r.bytes)),s.postMessage(No({source:i,encrypted:a,key:n,iv:r.iv}),[a.buffer,n.buffer])},ml=function(e){var t=e.xhr,n=e.xhrOptions,i=e.decryptionWorker,r=e.segment,a=e.abortFn,s=e.progressFn,o=e.trackInfoFn,l=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,u=e.audioSegmentTimingInfoFn,h=e.id3Fn,d=e.captionsFn,f=e.isEndOfTimeline,p=e.endedTimelineFn,m=e.dataFn,g=e.doneFn,y=e.onTransmuxerLog,v=[],b=function(e){var t=e.activeXhrs,n=e.decryptionWorker,i=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,h=e.dataFn,d=e.doneFn,f=e.onTransmuxerLog,p=0,m=!1;return function(e,g){if(!m){if(e)return m=!0,ll(t),d(e,g);if((p+=1)===t.length){var y=function(){if(g.encryptedBytes)return function(e){var t=e.decryptionWorker,n=e.segment,i=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,h=e.dataFn,d=e.doneFn,f=e.onTransmuxerLog;pl({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:t},(function(e){n.bytes=e,fl({segment:n,bytes:n.bytes,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:f})}))}({decryptionWorker:n,segment:g,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:f});fl({segment:g,bytes:g.bytes,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:f})};if(g.endOfAllRequests=Date.now(),g.map&&g.map.encryptedBytes&&!g.map.bytes)return pl({decryptionWorker:n,id:g.requestId+"-init",encryptedBytes:g.map.encryptedBytes,key:g.map.key},(function(e){g.map.bytes=e,hl(g,(function(e){if(e)return ll(t),d(e,g);y()}))}));y()}}}}({activeXhrs:v,decryptionWorker:i,trackInfoFn:o,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:u,id3Fn:h,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:p,dataFn:m,doneFn:g,onTransmuxerLog:y});if(r.key&&!r.key.bytes){var _=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&_.push(r.map.key);var w=t(Os.mergeOptions(n,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),ul(r,_,b));v.push(w)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){var S=t(Os.mergeOptions(n,{uri:r.map.key.resolvedUri,responseType:"arraybuffer"}),ul(r,[r.map.key],b));v.push(S)}var k=Os.mergeOptions(n,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Lo(r.map)}),T=function(e){var t=e.segment,n=e.finishProcessingFn;return function(e,i){var r=cl(e,i);if(r)return n(r,t);var a=new Uint8Array(i.response);if(t.map.key)return t.map.encryptedBytes=a,n(null,t);t.map.bytes=a,hl(t,(function(e){if(e)return e.xhr=i,e.status=i.status,n(e,t);n(null,t)}))}}({segment:r,finishProcessingFn:b}),C=t(k,T);v.push(C)}var x=Os.mergeOptions(n,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:Lo(r)}),E=t(x,function(e){var t=e.segment,n=e.finishProcessingFn,i=e.responseType;return function(e,r){var a=cl(e,r);if(a)return n(a,t);var s="arraybuffer"!==i&&r.responseText?function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}(r.responseText.substring(t.lastReachedChar||0)):r.response;return t.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(r),t.key?t.encryptedBytes=new Uint8Array(s):t.bytes=new Uint8Array(s),n(null,t)}}({segment:r,finishProcessingFn:b,responseType:x.responseType}));E.addEventListener("progress",function(e){var t=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(e){if(!e.target.aborted)return t.stats=Os.mergeOptions(t.stats,(r=(i=e).target,(a={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0}).bytesReceived=i.loaded,a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3),a)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),n(e,t);var i,r,a}}({segment:r,progressFn:s,trackInfoFn:o,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:u,id3Fn:h,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:p,dataFn:m})),v.push(E);var P={};return v.forEach((function(e){e.addEventListener("loadend",function(e){var t=e.loadendState,n=e.abortFn;return function(e){e.target.aborted&&n&&!t.calledAbortFn&&(n(),t.calledAbortFn=!0)}}({loadendState:P,abortFn:a}))})),function(){return ll(v)}},gl=$s("CodecUtils"),yl=function(e,t){var n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},vl=function(e){var t={};return e.forEach((function(e){var n=e.mediaType,i=e.type,r=e.details;t[n]=t[n]||[],t[n].push(V(""+i+r))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return gl("multiple "+e+" codecs found as attributes: "+t[e].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(t[e]=null);t[e]=t[e][0]})),t},bl=function(e){var t=0;return e.audio&&t++,e.video&&t++,t},_l=function(e,t){var n=t.attributes||{},i=vl(function(e){var t=e.attributes||{};if(t.CODECS)return H(t.CODECS)}(t)||[]);if(yl(e,t)&&!i.audio&&!function(e,t){if(!yl(e,t))return!0;var n=t.attributes||{},i=e.mediaGroups.AUDIO[n.AUDIO];for(var r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1}(e,t)){var r=vl(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return H(r.playlists[0].attributes.CODECS)}return null}(e,n.AUDIO)||[]);r.audio&&(i.audio=r.audio)}return i},wl=$s("PlaylistSelector"),Sl=function(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}},kl=function(e,t){if(!e)return"";var n=r().getComputedStyle(e);return n?n[t]:""},Tl=function(e,t){var n=e.slice();e.sort((function(e,i){var r=t(e,i);return 0===r?n.indexOf(e)-n.indexOf(i):r}))},Cl=function(e,t){var n,i;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||r().Number.MAX_VALUE,t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),n-(i||r().Number.MAX_VALUE)},xl=function(e,t,n,i,a,s){if(e){var o={bandwidth:t,width:n,height:i,limitRenditionByPlayerDimensions:a},l=e.playlists;ho.isAudioOnly(e)&&(l=s.getAudioTrackPlaylists_(),o.audioOnly=!0);var c=l.map((function(e){var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes&&e.attributes.BANDWIDTH||r().Number.MAX_VALUE,width:t,height:n,playlist:e}}));Tl(c,(function(e,t){return e.bandwidth-t.bandwidth}));var u=(c=c.filter((function(e){return!ho.isIncompatible(e.playlist)}))).filter((function(e){return ho.isEnabled(e.playlist)}));u.length||(u=c.filter((function(e){return!ho.isDisabled(e.playlist)})));var h=u.filter((function(e){return e.bandwidth*Ko.BANDWIDTH_VARIANCE<t})),d=h[h.length-1],f=h.filter((function(e){return e.bandwidth===d.bandwidth}))[0];if(!1===a){var p=f||u[0]||c[0];if(p&&p.playlist){var m="sortedPlaylistReps";return f&&(m="bandwidthBestRep"),u[0]&&(m="enabledPlaylistReps"),wl("choosing "+Sl(p)+" using "+m+" with options",o),p.playlist}return wl("could not choose a playlist with options",o),null}var g=h.filter((function(e){return e.width&&e.height}));Tl(g,(function(e,t){return e.width-t.width}));var y=g.filter((function(e){return e.width===n&&e.height===i}));d=y[y.length-1];var v,b,_,w,S=y.filter((function(e){return e.bandwidth===d.bandwidth}))[0];if(S||(b=(v=g.filter((function(e){return e.width>n||e.height>i}))).filter((function(e){return e.width===v[0].width&&e.height===v[0].height})),d=b[b.length-1],_=b.filter((function(e){return e.bandwidth===d.bandwidth}))[0]),s.experimentalLeastPixelDiffSelector){var k=g.map((function(e){return e.pixelDiff=Math.abs(e.width-n)+Math.abs(e.height-i),e}));Tl(k,(function(e,t){return e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff})),w=k[0]}var T=w||_||S||f||u[0]||c[0];if(T&&T.playlist){var C="sortedPlaylistReps";return w?C="leastPixelDiffRep":_?C="resolutionPlusOneRep":S?C="resolutionBestRep":f?C="bandwidthBestRep":u[0]&&(C="enabledPlaylistReps"),wl("choosing "+Sl(T)+" using "+C+" with options",o),T.playlist}return wl("could not choose a playlist with options",o),null}},El=function(){var e=this.useDevicePixelRatio&&r().devicePixelRatio||1;return xl(this.playlists.master,this.systemBandwidth,parseInt(kl(this.tech_.el(),"width"),10)*e,parseInt(kl(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Pl=function(e,t,n){var i,r;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime>=e&&r.endTime<=t&&n.removeCue(r)},Il=function(e){return"number"==typeof e&&isFinite(e)},Al=1/60,Ll=function(e){var t=e.startOfSegment,n=e.duration,i=e.segment,r=e.part,a=e.playlist,s=a.mediaSequence,o=a.id,l=a.segments,c=void 0===l?[]:l,u=e.mediaIndex,h=e.partIndex,d=e.timeline,f=c.length-1,p="mediaIndex/partIndex increment";e.getMediaInfoForTime?p="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(p="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(p+=" with independent "+e.independent);var m="number"==typeof h,g=e.segment.uri?"segment":"pre-segment",y=m?Qs({preloadSegment:i})-1:0;return g+" ["+(s+u)+"/"+(s+f)+"]"+(m?" part ["+h+"/"+y+"]":"")+" segment start/end ["+i.start+" => "+i.end+"]"+(m?" part start/end ["+r.start+" => "+r.end+"]":"")+" startOfSegment ["+t+"] duration ["+n+"] timeline ["+d+"] selected by ["+p+"] playlist ["+o+"]"},Ol=function(e){return e+"TimingInfo"},Rl=function(e){var t=e.timelineChangeController,n=e.currentTimeline,i=e.segmentTimeline,r=e.loaderType,a=e.audioDisabled;if(n===i)return!1;if("audio"===r){var s=t.lastTimelineChange({type:"main"});return!s||s.to!==i}if("main"===r&&a){var o=t.pendingTimelineChange({type:"audio"});return!o||o.to!==i}return!1},Dl=function(e){var t=e.segmentDuration,n=e.maxDuration;return!!t&&Math.round(t)>n+Bs},Nl=function(e){function t(t,n){var i;if(i=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=t.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.partIndex=null,i.hasPlayed_=t.hasPlayed,i.currentTime_=t.currentTime,i.seekable_=t.seekable,i.seeking_=t.seeking,i.duration_=t.duration,i.mediaSource_=t.mediaSource,i.vhs_=t.vhs,i.loaderType_=t.loaderType,i.currentMediaInfo_=void 0,i.startingMediaInfo_=void 0,i.segmentMetadataTrack_=t.segmentMetadataTrack,i.goalBufferLength_=t.goalBufferLength,i.sourceType_=t.sourceType,i.sourceUpdater_=t.sourceUpdater,i.inbandTextTracks_=t.inbandTextTracks,i.state_="INIT",i.timelineChangeController_=t.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!0,i.parse708captions_=t.parse708captions,i.useDtsForTimestampOffset_=t.useDtsForTimestampOffset,i.captionServices_=t.captionServices,i.experimentalExactManifestTimings=t.experimentalExactManifestTimings,i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.xhrOptions_=null,i.pendingSegments_=[],i.audioDisabled_=!1,i.isPendingTimestampOffset_=!1,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=Os.browser.IE_VERSION>=11,i.appendInitSegment_={audio:!0,video:!0},i.playlistOfLastInitSegment_={audio:null,video:null},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={id3:[],caption:[]},i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=null,i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=t.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=t.decrypter,i.syncController_=t.syncController,i.syncPoint_={segmentIndex:0,time:0},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",(function(){i.isEndOfStream_()||(i.ended_=!1)})),i.fetchAtBuffer_=!1,i.logger_=$s("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(u(i),"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),i.sourceUpdater_.on("ready",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"main"===i.loaderType_&&i.timelineChangeController_.on("pendingtimelinechange",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"audio"===i.loaderType_&&i.timelineChangeController_.on("timelinechange",(function(){i.hasEnoughInfoToLoad_()&&i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),i}d(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return function(e){var t=new el;t.currentTransmux=null,t.transmuxQueue=[];var n=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)},t.postMessage({action:"init",options:e}),t}({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&r().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,r().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},n.error=function(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&rl(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Os.createTimeRanges();if("main"===this.loaderType_){var t=e.hasAudio,n=e.hasVideo,i=e.isMuxed;if(n&&t&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=Fo(e),i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e},n.segmentKey=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=$o(e),i=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});var r={resolvedUri:(i||e).resolvedUri};return i&&(r.bytes=i.bytes),r},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(e,t){if(void 0===t&&(t={}),e){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_("playlist update ["+r+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var a=e.mediaSequence-n.mediaSequence;if(this.logger_("live window shift ["+a+"]"),null!==this.mediaIndex)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var s=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!s.parts||!s.parts.length||!s.parts[this.partIndex])){var o=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=o}}i&&(i.mediaIndex-=a,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}},n.pause=function(){this.checkBufferTimeout_&&(r().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return null===this.checkBufferTimeout_},n.resetEverything=function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&rl(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(e,t,n,i){if(void 0===n&&(n=function(){}),void 0===i&&(i=!1),t===1/0&&(t=this.duration_()),t<=e)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var r=1,a=function(){0==--r&&n()};for(var s in!i&&this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,a)),(i||"main"===this.loaderType_)&&(this.gopBuffer_=function(e,t,n,i){for(var r=Math.ceil((t-i)*bt.ONE_SECOND_IN_TS),a=Math.ceil((n-i)*bt.ONE_SECOND_IN_TS),s=e.slice(),o=e.length;o--&&!(e[o].pts<=a););if(-1===o)return s;for(var l=o+1;l--&&!(e[l].pts<=r););return l=Math.max(l,0),s.splice(l,o-l+1),s}(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,a)),this.inbandTextTracks_)Pl(e,t,this.inbandTextTracks_[s]);Pl(e,t,this.segmentMetadataTrack_),a()}else this.logger_("skipping remove because no source updater or starting media info")},n.monitorBuffer_=function(){this.checkBufferTimeout_&&r().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r().setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&r().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r().setTimeout(this.monitorBufferTick_.bind(this),500)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var e=this.chooseNextRequest_();e&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}},n.isEndOfStream_=function(e,t,n){if(void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),void 0===n&&(n=this.partIndex),!t||!this.mediaSource_)return!1;var i="number"==typeof e&&t.segments[e],r=e+1===t.segments.length,a=!i||!i.parts||n+1===i.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&r&&a},n.chooseNextRequest_=function(){var e=this.buffered_(),t=zs(e)||0,n=Ws(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,r=n>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||i||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var s={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(s.isSyncRequest)s.mediaIndex=function(e,t,n){t=t||[];for(var i=[],r=0,a=0;a<t.length;a++){var s=t[a];if(e===s.timeline&&(i.push(a),(r+=s.duration)>n))return a}return 0===i.length?0:i[i.length-1]}(this.currentTimeline_,a,t);else if(null!==this.mediaIndex){var o=a[this.mediaIndex],l="number"==typeof this.partIndex?this.partIndex:-1;s.startOfSegment=o.end?o.end:t,o.parts&&o.parts[l+1]?(s.mediaIndex=this.mediaIndex,s.partIndex=l+1):s.mediaIndex=this.mediaIndex+1}else{var c=ho.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),u=c.segmentIndex,h=c.startTime,d=c.partIndex;s.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+t:"currentTime "+this.currentTime_(),s.mediaIndex=u,s.startOfSegment=h,s.partIndex=d}var f=a[s.mediaIndex],p=f&&"number"==typeof s.partIndex&&f.parts&&f.parts[s.partIndex];if(!f||"number"==typeof s.partIndex&&!p)return null;if("number"!=typeof s.partIndex&&f.parts&&(s.partIndex=0,p=f.parts[0]),!n&&p&&!p.independent)if(0===s.partIndex){var m=a[s.mediaIndex-1],g=m.parts&&m.parts.length&&m.parts[m.parts.length-1];g&&g.independent&&(s.mediaIndex-=1,s.partIndex=m.parts.length-1,s.independent="previous segment")}else f.parts[s.partIndex-1].independent&&(s.partIndex-=1,s.independent="previous part");var y=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return s.mediaIndex>=a.length-1&&y&&!this.seeking_()?null:this.generateSegmentInfo_(s)},n.generateSegmentInfo_=function(e){var t=e.independent,n=e.playlist,i=e.mediaIndex,r=e.startOfSegment,a=e.isSyncRequest,s=e.partIndex,o=e.forceTimestampOffset,l=e.getMediaInfoForTime,c=n.segments[i],u="number"==typeof s&&c.parts[s],h={requestId:"segment-loader-"+Math.random(),uri:u&&u.resolvedUri||c.resolvedUri,mediaIndex:i,partIndex:u?s:null,isSyncRequest:a,startOfSegment:r,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:u&&u.duration||c.duration,segment:c,part:u,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},d=void 0!==o?o:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),overrideCheck:d});var f=zs(this.sourceUpdater_.audioBuffered());return"number"==typeof f&&(h.audioAppendStart=f-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=function(e,t,n){if(null==t||!e.length)return[];var i,r=Math.ceil((t-n+3)*bt.ONE_SECOND_IN_TS);for(i=0;i<e.length&&!(e[i].pts>r);i++);return e.slice(i)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h},n.timestampOffsetForSegment_=function(e){return n=(t=e).segmentTimeline,i=t.currentTimeline,r=t.startOfSegment,a=t.buffered,t.overrideCheck||n!==i?n<i?r:a.length?a.end(a.length-1):r:null;var t,n,i,r,a},n.earlyAbortWhenNeeded_=function(e){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,r=ho.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),a=function(e,t,n){return void 0===n&&(n=1),((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(!(r<=a)){var s=function(e){var t=e.currentTime,n=e.bandwidth,i=e.duration,r=e.segmentDuration,a=e.timeUntilRebuffer,s=e.currentTimeline,o=e.syncController,l=e.master.playlists.filter((function(e){return!ho.isIncompatible(e)})),c=l.filter(ho.isEnabled);c.length||(c=l.filter((function(e){return!ho.isDisabled(e)})));var u=c.filter(ho.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var l=o.getSyncPoint(e,i,s,t)?1:2;return{playlist:e,rebufferingImpact:ho.estimateSegmentRequestTime(r,n,e)*l-a}})),h=u.filter((function(e){return e.rebufferingImpact<=0}));return Tl(h,(function(e,t){return Cl(t.playlist,e.playlist)})),h.length?h[0]:(Tl(u,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),u[0]||null)}({master:this.vhs_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(s){var o=r-a-s.rebufferingImpact,l=.5;a<=Bs&&(l=1),!s.playlist||s.playlist.uri===this.playlist_.uri||o<l||(this.bandwidth=s.playlist.attributes.BANDWIDTH*Ko.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(e){this.logger_("Aborting "+Ll(e)),this.mediaRequestsAborted+=1},n.handleProgress_=function(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")},n.handleTrackInfo_=function(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var n=Object.keys(e).sort(),i=Object.keys(t).sort();if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++){var a=n[r];if(a!==i[r])return!1;if(e[a]!==t[a])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},n.handleTimingInfo_=function(e,t,n,i){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var r=this.pendingSegment_,a=Ol(t);r[a]=r[a]||{},r[a][n]=i,this.logger_("timinginfo: "+t+" - "+n+" - "+i),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(e,t){var n=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(0!==t.length)if(this.pendingSegment_.hasAppendedData_){var i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),a={};t.forEach((function(e){a[e.stream]=a[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=a[e.stream];t.startTime=Math.min(t.startTime,e.startTime+i),t.endTime=Math.max(t.endTime,e.endTime+i),t.captions.push(e)})),Object.keys(a).forEach((function(e){var t=a[e],s=t.startTime,o=t.endTime,l=t.captions,c=n.inbandTextTracks_;n.logger_("adding cues from "+s+" -> "+o+" for "+e),function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"}),t.trigger({type:"usage",name:"hls-608"});var i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);var r=t.textTracks().getTrackById(i);if(r)e[n]=r;else{var a=n,s=n,o=!1,l=(t.options_.vhs&&t.options_.vhs.captionServices||{})[i];l&&(a=l.label,s=l.language,o=l.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:i,default:o,label:a,language:s},!1).track}}}(c,n.vhs_.tech_,e),Pl(s,o,c[e]),function(e){var t=e.inbandTextTracks,n=e.captionArray,i=e.timestampOffset;if(n){var a=r().WebKitDataCue||r().VTTCue;n.forEach((function(e){var n=e.stream;t[n].addCue(new a(e.startTime+i,e.endTime+i,e.text))}))}}({captionArray:l,inbandTextTracks:c,timestampOffset:i})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));else this.logger_("SegmentLoader received no captions from a caption event")},n.handleId3_=function(e,t,n){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(this.pendingSegment_.hasAppendedData_){var i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(e,t,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)}(this.inbandTextTracks_,n,this.vhs_.tech_),function(e){var t=e.inbandTextTracks,n=e.metadataArray,i=e.timestampOffset,a=e.videoDuration;if(n){var s=r().WebKitDataCue||r().VTTCue,o=t.metadataTrack_;if(o&&(n.forEach((function(e){var t=e.cueTime+i;!("number"!=typeof t||r().isNaN(t)||t<0)&&t<1/0&&e.frames.forEach((function(e){var n=new s(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return Os.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Os.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Os.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),o.addCue(n)}))})),o.cues&&o.cues.length)){for(var l=o.cues,c=[],u=0;u<l.length;u++)l[u]&&c.push(l[u]);var h=c.reduce((function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),d=Object.keys(h).sort((function(e,t){return Number(e)-Number(t)}));d.forEach((function(e,t){var n=h[e],i=Number(d[t+1])||a;n.forEach((function(e){e.endTime=i}))}))}}}({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:i,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n))},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(e){return e()})),this.metadataQueue_.caption.forEach((function(e){return e()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach((function(e){return e()}))},n.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach((function(e){return e()}))},n.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!(!e||this.getCurrentMediaInfo_()&&Rl({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.getCurrentMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),e&&e.trackInfo||this.currentMediaInfo_},n.getMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;var n=t.hasAudio,i=t.hasVideo,r=t.isMuxed;return!(i&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!r&&!e.audioTimingInfo||Rl({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.handleData_=function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[Ol(t.type)].start;else{var i,r=this.getCurrentMediaInfo_(),a="main"===this.loaderType_&&r&&r.hasVideo;a&&(i=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:a,firstVideoFrameTimeForData:i,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});var s=this.chooseNextRequest_();if(s.mediaIndex!==n.mediaIndex||s.partIndex!==n.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},n.updateAppendInitSegmentStatus=function(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},n.getInitSegmentAndUpdateState_=function(e){var t=e.type,n=e.initSegment,i=e.map,r=e.playlist;if(i){var a=Fo(i);if(this.activeInitSegmentId_===a)return null;n=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=a}return n&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=r,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,n):null},n.handleQuotaExceededError_=function(e,t){var n=this,i=e.segmentInfo,a=e.type,s=e.bytes,o=this.sourceUpdater_.audioBuffered(),l=this.sourceUpdater_.videoBuffered();o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+qs(o).join(", ")),l.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+qs(l).join(", "));var c=o.length?o.start(0):0,u=o.length?o.end(o.length-1):0,h=l.length?l.start(0):0,d=l.length?l.end(l.length-1):0;if(u-c<=1&&d-h<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+s.byteLength+", audio buffer: "+qs(o).join(", ")+", video buffer: "+qs(l).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:i,type:a,bytes:s}));var f=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+f),this.remove(0,f,(function(){n.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=r().setTimeout((function(){n.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),n.quotaExceededErrorRetryTimeout_=null,n.processCallQueue_()}),1e3)}),!0)},n.handleAppendError_=function(e,t){var n=e.segmentInfo,i=e.type,r=e.bytes;t&&(22!==t.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error(i+" append of "+r.length+"b failed for segment #"+n.mediaIndex+" in playlist "+n.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:n,type:i,bytes:r}))},n.appendToSourceBuffer_=function(e){var t,n,i,r=e.segmentInfo,a=e.type,s=e.initSegment,o=e.data,l=e.bytes;if(!l){var c=[o],u=o.byteLength;s&&(c.unshift(s),u+=s.byteLength),i=0,(t={bytes:u,segments:c}).bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach((function(e){n.set(e,i),i+=e.byteLength}))),l=n}this.sourceUpdater_.appendBuffer({segmentInfo:r,type:a,bytes:l},this.handleAppendError_.bind(this,{segmentInfo:r,type:a,bytes:l}))},n.handleSegmentTimingInfo_=function(e,t,n){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var i=this.pendingSegment_.segment,r=e+"TimingInfo";i[r]||(i[r]={}),i[r].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[r].transmuxedPresentationStart=n.start.presentation,i[r].transmuxedDecodeStart=n.start.decode,i[r].transmuxedPresentationEnd=n.end.presentation,i[r].transmuxedDecodeEnd=n.end.decode,i[r].baseMediaDecodeTime=n.baseMediaDecodeTime}},n.appendData_=function(e,t){var n=t.type,i=t.data;if(i&&i.byteLength&&("audio"!==n||!this.audioDisabled_)){var r=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:i})}},n.loadSegment_=function(e){var t=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push((function(){var n=o({},e,{forceTimestampOffset:!0});o(e,t.generateSegmentInfo_(n)),t.isPendingTimestampOffset_=!1,t.updateTransmuxerAndRequestSegment_(e)}))},n.updateTransmuxerAndRequestSegment_=function(e){var t=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var n=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),r=null!==this.mediaIndex,a=e.timeline!==this.currentTimeline_&&e.timeline>0,s=i||r&&a;this.logger_("Requesting "+Ll(e)),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=ml({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:s,endedTimelineFn:function(){t.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(n){var i=n.message,r=n.level,a=n.stream;t.logger_(Ll(e)+" logged from transmuxer stream "+a+" as a "+r+": "+i)}})},n.trimBackBuffer_=function(e){var t=function(e,t,n){var i=t-Ko.BACK_BUFFER_LENGTH;e.length&&(i=Math.max(i,e.start(0)));var r=t-n;return Math.min(r,i)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)},n.createSimplifiedSegmentObj_=function(e){var t=e.segment,n=e.part,i={resolvedUri:n?n.resolvedUri:t.resolvedUri,byterange:n?n.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},r=e.playlist.segments[e.mediaIndex-1];if(r&&r.timeline===t.timeline&&(r.videoTimingInfo?i.baseStartTime=r.videoTimingInfo.transmuxedDecodeEnd:r.audioTimingInfo&&(i.baseStartTime=r.audioTimingInfo.transmuxedDecodeEnd)),t.key){var a=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key=this.segmentKey(t.key),i.key.iv=a}return t.map&&(i.map=this.initSegmentForMap(t.map)),i},n.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},n.saveBandwidthRelatedStats_=function(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<Al?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record 0.016666666666666666"):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},n.segmentRequestFinished_=function(e,t,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",e.code===ol)return;return this.pause(),e.code===sl?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}var i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),i.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var i=t[0].pts,r=0;r<e.length&&!(e[r].pts>=i);r++);return e.slice(0,r).concat(t)}(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}},n.setTimeMapping_=function(e){var t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)},n.updateMediaSecondsLoaded_=function(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},n.trueSegmentStart_=function(e){var t=e.currentStart,n=e.playlist,i=e.mediaIndex,r=e.firstVideoFrameTimeForData,a=e.currentVideoTimestampOffset,s=e.useVideoTimingInfo,o=e.videoTimingInfo,l=e.audioTimingInfo;if(void 0!==t)return t;if(!s)return l.start;var c=n.segments[i-1];return 0!==i&&c&&void 0!==c.start&&c.end===r+a?o.start:r},n.waitForAppendsToComplete_=function(e){var t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var n=t.hasAudio,i=t.hasVideo,r=t.isMuxed,a="main"===this.loaderType_&&i,s=!this.audioDisabled_&&n&&!r;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);a&&e.waitingOnAppends++,s&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),s&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},n.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(e){var t=function(e,t,n){return"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,blacklistDuration:1/0}),this.trigger("error"),!0)},n.updateSourceBufferTimestampOffset_=function(e){if(null!==e.timestampOffset&&"number"==typeof e.timingInfo.start&&!e.changedTimestampOffset&&"main"===this.loaderType_){var t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}},n.getSegmentStartTimeForTimestampOffsetCalculation_=function(e){var t=e.videoTimingInfo,n=e.audioTimingInfo,i=e.timingInfo;return this.useDtsForTimestampOffset_?t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:n&&"number"==typeof n.transmuxedDecodeStart?n.transmuxedDecodeStart:i.start:i.start},n.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_(),n="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end="number"==typeof n.end?n.end:n.start+e.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var t=function(e,t){if("hls"!==t)return null;var n,i,a=(n={audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo},i=0,["video","audio"].forEach((function(e){var t=n[e+"TimingInfo"];if(t){var a,s=t.start,o=t.end;"bigint"==typeof s||"bigint"==typeof o?a=r().BigInt(o)-r().BigInt(s):"number"==typeof s&&"number"==typeof o&&(a=o-s),void 0!==a&&a>i&&(i=a)}})),"bigint"==typeof i&&i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),i);if(!a)return null;var s=e.playlist.targetDuration,o=Dl({segmentDuration:a,maxDuration:2*s}),l=Dl({segmentDuration:a,maxDuration:s}),c="Segment with index "+e.mediaIndex+" from playlist "+e.playlist.id+" has a duration of "+a+" when the reported duration is "+e.duration+" and the target duration is "+s+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return o||l?{severity:o?"warn":"info",message:c}:null}(e,this.sourceType_);if(t&&("warn"===t.severity?Os.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended "+Ll(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var n=e.segment,i=e.part,a=n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration,s=i&&i.end&&this.currentTime_()-i.end>3*e.playlist.partTargetDuration;if(a||s)return this.logger_("bad "+(a?"segment":"part")+" "+Ll(e)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+Ll(e))},n.recordThroughput_=function(e){if(e.duration<Al)this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record 0.016666666666666666");else{var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}},n.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,i=t.end;if(Il(n)&&Il(i)){Pl(n,i,this.segmentMetadataTrack_);var a=r().WebKitDataCue||r().VTTCue,s={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},o=new a(n,i,JSON.stringify(s));o.value=s,this.segmentMetadataTrack_.addCue(o)}}},t}(Os.EventTarget);function Fl(){}var $l,Bl=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))},Ml=["video","audio"],Ul=function(e,t){var n=t[e+"Buffer"];return n&&n.updating||t.queuePending[e]},jl=function e(t,n){if(0!==n.queue.length){var i=0,r=n.queue[i];if("mediaSource"!==r.type){if("mediaSource"!==t&&n.ready()&&"closed"!==n.mediaSource.readyState&&!Ul(t,n)){if(r.type!==t){if(i=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if("mediaSource"===i.type)return null;if(i.type===e)return n}return null}(t,n.queue),null===i)return;r=n.queue[i]}return n.queue.splice(i,1),n.queuePending[t]=r,r.action(t,n),r.doneFn?void 0:(n.queuePending[t]=null,void e(t,n))}}else n.updating()||"closed"===n.mediaSource.readyState||(n.queue.shift(),r.action(n),r.doneFn&&r.doneFn(),e("audio",n),e("video",n))}},Vl=function(e,t){var n=t[e+"Buffer"],i=Bl(e);n&&(n.removeEventListener("updateend",t["on"+i+"UpdateEnd_"]),n.removeEventListener("error",t["on"+i+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)},Hl=function(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)},ql=function(e,t,n){return function(i,r){var a=r[i+"Buffer"];if(Hl(r.mediaSource,a)){r.logger_("Appending segment "+t.mediaIndex+"'s "+e.length+" bytes to "+i+"Buffer");try{a.appendBuffer(e)}catch(e){r.logger_("Error with code "+e.code+" "+(22===e.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+t.mediaIndex+" to "+i+"Buffer"),r.queuePending[i]=null,n(e)}}}},zl=function(e,t){return function(n,i){var r=i[n+"Buffer"];if(Hl(i.mediaSource,r)){i.logger_("Removing "+e+" to "+t+" from "+n+"Buffer");try{r.remove(e,t)}catch(r){i.logger_("Remove "+e+" to "+t+" from "+n+"Buffer failed")}}}},Wl=function(e){return function(t,n){var i=n[t+"Buffer"];Hl(n.mediaSource,i)&&(n.logger_("Setting "+t+"timestampOffset to "+e),i.timestampOffset=e)}},Gl=function(e){return function(t,n){e()}},Kl=function(e){return function(t){if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{t.mediaSource.endOfStream(e)}catch(e){Os.log.warn("Failed to call media source endOfStream",e)}}}},Yl=function(e,t){return function(n){var i=Bl(e),r=z(t);n.logger_("Adding "+e+"Buffer with codec "+t+" to mediaSource");var a=n.mediaSource.addSourceBuffer(r);a.addEventListener("updateend",n["on"+i+"UpdateEnd_"]),a.addEventListener("error",n["on"+i+"Error_"]),n.codecs[e]=t,n[e+"Buffer"]=a}},Xl=function(e){return function(t){var n=t[e+"Buffer"];if(Vl(e,t),Hl(t.mediaSource,n)){t.logger_("Removing "+e+"Buffer with codec "+t.codecs[e]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(n)}catch(t){Os.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},Ql=function(e){return function(t,n){var i=n[t+"Buffer"],r=z(e);Hl(n.mediaSource,i)&&n.codecs[t]!==e&&(n.logger_("changing "+t+"Buffer codec from "+n.codecs[t]+" to "+e),i.changeType(r),n.codecs[t]=e)}},Zl=function(e){var t=e.type,n=e.sourceUpdater,i=e.action,r=e.doneFn,a=e.name;n.queue.push({type:t,action:i,doneFn:r,name:a}),jl(t,n)},Jl=function(e,t){return function(n){if(t.queuePending[e]){var i=t.queuePending[e].doneFn;t.queuePending[e]=null,i&&i(t[e+"Error_"])}jl(e,t)}},ec=function(e){function t(t){var n;return(n=e.call(this)||this).mediaSource=t,n.sourceopenListener_=function(){return jl("mediaSource",u(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=$s("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=Jl("video",u(n)),n.onAudioUpdateEnd_=Jl("audio",u(n)),n.onVideoError_=function(e){n.videoError_=e},n.onAudioError_=function(e){n.audioError_=e},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}d(t,e);var n=t.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(e,t){Zl({type:"mediaSource",sourceUpdater:this,action:Yl(e,t),name:"addSourceBuffer"})},n.abort=function(e){Zl({type:e,sourceUpdater:this,action:function(e,t){if("open"===t.mediaSource.readyState){var n=t[e+"Buffer"];if(Hl(t.mediaSource,n)){t.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(t){Os.log.warn("Failed to abort on "+e+"Buffer",t)}}}},name:"abort"})},n.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?Zl({type:"mediaSource",sourceUpdater:this,action:Xl(e),name:"removeSourceBuffer"}):Os.log.error("removeSourceBuffer is not supported!")},n.canRemoveSourceBuffer=function(){return!Os.browser.IE_VERSION&&!Os.browser.IS_FIREFOX&&r().MediaSource&&r().MediaSource.prototype&&"function"==typeof r().MediaSource.prototype.removeSourceBuffer},t.canChangeType=function(){return r().SourceBuffer&&r().SourceBuffer.prototype&&"function"==typeof r().SourceBuffer.prototype.changeType},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(e,t){this.canChangeType()?Zl({type:e,sourceUpdater:this,action:Ql(t),name:"changeType"}):Os.log.error("changeType is not supported!")},n.addOrChangeSourceBuffers=function(e){var t=this;if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((function(n){var i=e[n];if(!t.hasCreatedSourceBuffers())return t.addSourceBuffer(n,i);t.canChangeType()&&t.changeType(n,i)}))},n.appendBuffer=function(e,t){var n=this,i=e.segmentInfo,r=e.type,a=e.bytes;if(this.processedAppend_=!0,"audio"===r&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of "+a.length+" until video append");if(Zl({type:r,sourceUpdater:this,action:ql(a,i||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===r){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var s=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+s.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,s.forEach((function(e){n.appendBuffer.apply(n,e)}))}},n.audioBuffered=function(){return Hl(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Os.createTimeRange()},n.videoBuffered=function(){return Hl(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Os.createTimeRange()},n.buffered=function(){var e=Hl(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=Hl(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){var n=null,i=null,r=0,a=[],s=[];if(!(e&&e.length&&t&&t.length))return Os.createTimeRange();for(var o=e.length;o--;)a.push({time:e.start(o),type:"start"}),a.push({time:e.end(o),type:"end"});for(o=t.length;o--;)a.push({time:t.start(o),type:"start"}),a.push({time:t.end(o),type:"end"});for(a.sort((function(e,t){return e.time-t.time})),o=0;o<a.length;o++)"start"===a[o].type?2==++r&&(n=a[o].time):"end"===a[o].type&&1==--r&&(i=a[o].time),null!==n&&null!==i&&(s.push([n,i]),n=null,i=null);return Os.createTimeRanges(s)}(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(e,t){var n;void 0===t&&(t=Fl),Zl({type:"mediaSource",sourceUpdater:this,action:(n=e,function(e){e.logger_("Setting mediaSource duration to "+n);try{e.mediaSource.duration=n}catch(e){Os.log.warn("Failed to set media source duration",e)}}),name:"duration",doneFn:t})},n.endOfStream=function(e,t){void 0===e&&(e=null),void 0===t&&(t=Fl),"string"!=typeof e&&(e=void 0),Zl({type:"mediaSource",sourceUpdater:this,action:Kl(e),name:"endOfStream",doneFn:t})},n.removeAudio=function(e,t,n){void 0===n&&(n=Fl),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Zl({type:"audio",sourceUpdater:this,action:zl(e,t),doneFn:n,name:"remove"}):n()},n.removeVideo=function(e,t,n){void 0===n&&(n=Fl),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Zl({type:"video",sourceUpdater:this,action:zl(e,t),doneFn:n,name:"remove"}):n()},n.updating=function(){return!(!Ul("audio",this)&&!Ul("video",this))},n.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Zl({type:"audio",sourceUpdater:this,action:Wl(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},n.videoTimestampOffset=function(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(Zl({type:"video",sourceUpdater:this,action:Wl(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},n.audioQueueCallback=function(e){this.audioBuffer&&Zl({type:"audio",sourceUpdater:this,action:Gl(e),name:"callback"})},n.videoQueueCallback=function(e){this.videoBuffer&&Zl({type:"video",sourceUpdater:this,action:Gl(e),name:"callback"})},n.dispose=function(){var e=this;this.trigger("dispose"),Ml.forEach((function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e[t+"QueueCallback"]((function(){return Vl(t,e)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(Os.EventTarget),tc=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},nc=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),ic=function(e){function t(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).mediaSource_=null,i.subtitlesTrack_=null,i.loaderType_="subtitle",i.featuresNativeTextTracks_=t.featuresNativeTextTracks,i.shouldSaveSegmentTimingInfo_=!1,i}d(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Os.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return Os.createTimeRanges([[t,n]])},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=Fo(e),i=this.initSegments_[n];if(t&&!i&&e.bytes){var r=nc.byteLength+e.bytes.byteLength,a=new Uint8Array(r);a.set(e.bytes),a.set(nc,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return i||e},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},n.remove=function(e,t){Pl(e,t,this.subtitlesTrack_)},n.fillBuffer_=function(){var e=this,t=this.chooseNextRequest_();if(t){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}},n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=function(){return this.skipEmptySegments_(e.prototype.chooseNextRequest_.call(this))},n.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},n.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(e,t,n){var i=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===sl&&this.handleTimeout_(),e.code===ol?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var a=this.pendingSegment_;this.saveBandwidthRelatedStats_(a.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");var s=a.segment;if(s.map&&(s.map.bytes=t.map.bytes),a.bytes=t.bytes,"function"!=typeof r().WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var o,l=function(){i.subtitlesTrack_.tech_.off("vttjsloaded",o),i.stopForError({message:"Error loading vtt.js"})};return o=function(){i.subtitlesTrack_.tech_.off("vttjserror",l),i.segmentRequestFinished_(e,t,n)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",o),void this.subtitlesTrack_.tech_.one("vttjserror",l)}s.requested=!0;try{this.parseVTTCues_(a)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(a,this.syncController_.timelines[a.timeline],this.playlist_),a.cues.length?a.timingInfo={start:a.cues[0].startTime,end:a.cues[a.cues.length-1].endTime}:a.timingInfo={start:a.startOfSegment,end:a.startOfSegment+a.duration},a.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");a.byteLength=a.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,a.cues.forEach((function(e){i.subtitlesTrack_.addCue(i.featuresNativeTextTracks_?new(r().VTTCue)(e.startTime,e.endTime,e.text):e)})),function(e){var t=e.cues;if(t)for(var n=0;n<t.length;n++){for(var i=[],r=0,a=0;a<t.length;a++)t[n].startTime===t[a].startTime&&t[n].endTime===t[a].endTime&&t[n].text===t[a].text&&++r>1&&i.push(t[a]);i.length&&i.forEach((function(t){return e.removeCue(t)}))}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(e){var t,n=!1;"function"==typeof r().TextDecoder?t=new(r().TextDecoder)("utf8"):(t=r().WebVTT.StringDecoder(),n=!0);var i=new(r().WebVTT.Parser)(r(),r().vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=function(t){e.timestampmap=t},i.onparsingerror=function(e){Os.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var a=e.segment.map.bytes;n&&(a=tc(a)),i.parse(a)}var s=e.bytes;n&&(s=tc(s)),i.parse(s),i.flush()},n.updateTimeMapping_=function(e,t,n){var i=e.segment;if(t)if(e.cues.length){var r=e.timestampmap,a=r.MPEGTS/bt.ONE_SECOND_IN_TS-r.LOCAL+t.mapping;if(e.cues.forEach((function(e){e.startTime+=a,e.endTime+=a})),!n.syncInfo){var s=e.cues[0].startTime,o=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(s,o-i.duration)}}}else i.empty=!0},t}(Nl),rc=function(e,t){for(var n=e.cues,i=0;i<n.length;i++){var r=n[i];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null},ac=[{name:"VOD",run:function(e,t,n,i,r){return n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null}},{name:"ProgramDateTime",run:function(e,t,n,i,r){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,s=null,o=Ys(t);r=r||0;for(var l=0;l<o.length;l++){var c=o[t.endList||0===r?l:o.length-(l+1)],u=c.segment,h=e.timelineToDatetimeMappings[u.timeline];if(h&&u.dateTimeObject){var d=u.dateTimeObject.getTime()/1e3+h;if(u.parts&&"number"==typeof c.partIndex)for(var f=0;f<c.partIndex;f++)d+=u.parts[f].duration;var p=Math.abs(r-d);if(null!==s&&(0===p||s<p))break;s=p,a={time:d,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}}return a}},{name:"Segment",run:function(e,t,n,i,r){var a=null,s=null;r=r||0;for(var o=Ys(t),l=0;l<o.length;l++){var c=o[t.endList||0===r?l:o.length-(l+1)],u=c.segment,h=c.part&&c.part.start||u&&u.start;if(u.timeline===i&&void 0!==h){var d=Math.abs(r-h);if(null!==s&&s<d)break;(!a||null===s||s>=d)&&(s=d,a={time:h,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return a}},{name:"Discontinuity",run:function(e,t,n,i,r){var a=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var s=null,o=0;o<t.discontinuityStarts.length;o++){var l=t.discontinuityStarts[o],c=t.discontinuitySequence+o+1,u=e.discontinuities[c];if(u){var h=Math.abs(r-u.time);if(null!==s&&s<h)break;(!a||null===s||s>=h)&&(s=h,a={time:u.time,segmentIndex:l,partIndex:null})}}return a}},{name:"Playlist",run:function(e,t,n,i,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}],sc=function(e){function t(t){var n;return(n=e.call(this)||this).timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=$s("SyncController"),n}d(t,e);var n=t.prototype;return n.getSyncPoint=function(e,t,n,i){var r=this.runStrategies_(e,t,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null},n.getExpiredTime=function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+to({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))},n.runStrategies_=function(e,t,n,i){for(var r=[],a=0;a<ac.length;a++){var s=ac[a],o=s.run(this,e,t,n,i);o&&(o.strategy=s.name,r.push({strategy:s.name,syncPoint:o}))}return r},n.selectSyncPoint_=function(e,t){for(var n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,a=1;a<e.length;a++){var s=Math.abs(e[a].syncPoint[t.key]-t.value);s<i&&(i=s,n=e[a].syncPoint,r=e[a].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+("number"==typeof n.partIndex?",partIndex:"+n.partIndex:"")+"]"),n},n.saveExpiredSegmentInfo=function(e,t){var n=t.mediaSequence-e.mediaSequence;if(n>86400)Os.log.warn("Not saving expired segment info. Media sequence gap "+n+" is too large.");else for(var i=n-1;i>=0;i--){var r=e.segments[i];if(r&&void 0!==r.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:r.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}},n.saveSegmentTimingInfo=function(e){var t=e.segmentInfo,n=e.shouldSaveTimelineMapping,i=this.calculateSegmentTimeMapping_(t,t.timingInfo,n),r=t.segment;i&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:r.start}));var a=r.dateTimeObject;r.discontinuity&&n&&a&&(this.timelineToDatetimeMappings[r.timeline]=-a.getTime()/1e3)},n.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},n.mappingForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},n.calculateSegmentTimeMapping_=function(e,t,n){var i,r,a=e.segment,s=e.part,o=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)o={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+o.time+"] [mapping: "+o.mapping+"]")),i=e.startOfSegment,r=t.end+o.mapping;else{if(!o)return!1;i=t.start+o.mapping,r=t.end+o.mapping}return s&&(s.start=i,s.end=r),(!a.start||i<a.start)&&(a.start=i),a.end=r,!0},n.saveDiscontinuitySyncInfo_=function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var i=0;i<t.discontinuityStarts.length;i++){var r=t.discontinuityStarts[i],a=t.discontinuitySequence+i+1,s=r-e.mediaIndex,o=Math.abs(s);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>o){var l;l=s<0?n.start-to({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:r}):n.end+to({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[a]={time:l,accuracy:o}}}},n.dispose=function(){this.trigger("dispose"),this.off()},t}(Os.EventTarget),oc=function(e){function t(){var t;return(t=e.call(this)||this).pendingTimelineChanges_={},t.lastTimelineChanges_={},t}d(t,e);var n=t.prototype;return n.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(e){var t=e.type,n=e.from,i=e.to;return"number"==typeof n&&"number"==typeof i&&(this.pendingTimelineChanges_[t]={type:t,from:n,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]},n.lastTimelineChange=function(e){var t=e.type,n=e.from,i=e.to;return"number"==typeof n&&"number"==typeof i&&(this.lastTimelineChanges_[t]={type:t,from:n,to:i},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(Os.EventTarget),lc=Qo(Zo((function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var i=t((function(e){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e},e.exports.default=e.exports,e.exports.__esModule=!0})),r=t((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,i)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),a=t((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0})),s=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=t.length,s=0;s<a;++s)t[s].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),o=null,l=function(){function e(e){var t,n,i;o||(o=function(){var e,t,n,i,r,a,s,o,l=[[[],[],[],[],[]],[[],[],[],[],[]]],c=l[0],u=l[1],h=c[4],d=u[4],f=[],p=[];for(e=0;e<256;e++)p[(f[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!h[t];t^=i||1,n=p[n]||1)for(a=(a=n^n<<1^n<<2^n<<3^n<<4)>>8^255&a^99,h[t]=a,d[a]=t,o=16843009*f[r=f[i=f[t]]]^65537*r^257*i^16843008*t,s=257*f[a]^16843008*a,e=0;e<4;e++)c[e][t]=s=s<<24^s>>>8,u[e][a]=o=o<<24^o>>>8;for(e=0;e<5;e++)c[e]=c[e].slice(0),u[e]=u[e].slice(0);return l}()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var r=this._tables[0][4],a=this._tables[1],s=e.length,l=1;if(4!==s&&6!==s&&8!==s)throw new Error("Invalid aes key size");var c=e.slice(0),u=[];for(this._key=[c,u],t=s;t<4*s+28;t++)i=c[t-1],(t%s==0||8===s&&t%s==4)&&(i=r[i>>>24]<<24^r[i>>16&255]<<16^r[i>>8&255]<<8^r[255&i],t%s==0&&(i=i<<8^i>>>24^l<<24,l=l<<1^283*(l>>7))),c[t]=c[t-s]^i;for(n=0;t;n++,t--)i=c[3&n?t:t-4],u[n]=t<=4||n<4?i:a[0][r[i>>>24]]^a[1][r[i>>16&255]]^a[2][r[i>>8&255]]^a[3][r[255&i]]}return e.prototype.decrypt=function(e,t,n,i,r,a){var s,o,l,c,u=this._key[1],h=e^u[0],d=i^u[1],f=n^u[2],p=t^u[3],m=u.length/4-2,g=4,y=this._tables[1],v=y[0],b=y[1],_=y[2],w=y[3],S=y[4];for(c=0;c<m;c++)s=v[h>>>24]^b[d>>16&255]^_[f>>8&255]^w[255&p]^u[g],o=v[d>>>24]^b[f>>16&255]^_[p>>8&255]^w[255&h]^u[g+1],l=v[f>>>24]^b[p>>16&255]^_[h>>8&255]^w[255&d]^u[g+2],p=v[p>>>24]^b[h>>16&255]^_[d>>8&255]^w[255&f]^u[g+3],g+=4,h=s,d=o,f=l;for(c=0;c<4;c++)r[(3&-c)+a]=S[h>>>24]<<24^S[d>>16&255]<<16^S[f>>8&255]<<8^S[255&p]^u[g++],s=h,h=d,d=f,f=p,p=s},e}(),c=function(e){function t(){var t;return(t=e.call(this,s)||this).jobs=[],t.delay=1,t.timeout_=null,t}a(t,e);var n=t.prototype;return n.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(s),u=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},h=function(){function e(t,n,i,r){var a=e.STEP,s=new Int32Array(t.buffer),o=new Uint8Array(t.byteLength),l=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(s.subarray(l,l+a),n,i,o)),l=a;l<s.length;l+=a)i=new Uint32Array([u(s[l-4]),u(s[l-3]),u(s[l-2]),u(s[l-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(l,l+a),n,i,o));this.asyncStream_.push((function(){var e;r(null,(e=o).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return e.prototype.decryptChunk_=function(e,t,n,i){return function(){var r=function(e,t,n){var i,r,a,s,o,c,h,d,f,p=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),m=new l(Array.prototype.slice.call(t)),g=new Uint8Array(e.byteLength),y=new Int32Array(g.buffer);for(i=n[0],r=n[1],a=n[2],s=n[3],f=0;f<p.length;f+=4)o=u(p[f]),c=u(p[f+1]),h=u(p[f+2]),d=u(p[f+3]),m.decrypt(o,c,h,d,y,f),y[f]=u(y[f]^i),y[f+1]=u(y[f+1]^r),y[f+2]=u(y[f+2]^a),y[f+3]=u(y[f+3]^s),i=o,r=c,a=h,s=d;return g}(e,t,n);i.set(r,e.byteOffset)}},i(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}(),d=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).BigInt||Number;d("0x1"),d("0x100"),d("0x10000"),d("0x1000000"),d("0x100000000"),d("0x10000000000"),d("0x1000000000000"),d("0x100000000000000"),d("0x10000000000000000");self.onmessage=function(e){var t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),i=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),r=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new h(n,i,r,(function(e,n){var i,r;self.postMessage((i={source:t.source,decrypted:n},r={},Object.keys(i).forEach((function(e){var t,n=i[e];t=n,("function"===ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer)?r[e]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:r[e]=n})),r),[n.buffer])}))}}))),cc=Xo(lc),uc=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},hc=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},dc=function(e,t){t.activePlaylistLoader=e,e.load()},fc={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e],r=t.blacklistCurrentPlaylist;hc(n,i);var a=i.activeTrack(),s=i.activeGroup(),o=(s.filter((function(e){return e.default}))[0]||s[0]).id,l=i.tracks[o];if(a!==l){for(var c in Os.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[c].enabled=i.tracks[c]===l;i.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e];Os.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),hc(n,i);var r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}}},pc={AUDIO:function(e,t,n){if(t){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();a.playlist(e,r),(!i.paused()||e.endList&&"none"!==i.preload())&&a.load()})),t.on("loadedplaylist",(function(){a.playlist(t.media(),r),i.paused()||a.load()})),t.on("error",fc[e](e,n))}},SUBTITLES:function(e,t,n){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[e],s=n.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();a.playlist(e,r),a.track(s.activeTrack()),(!i.paused()||e.endList&&"none"!==i.preload())&&a.load()})),t.on("loadedplaylist",(function(){a.playlist(t.media(),r),i.paused()||a.load()})),t.on("error",fc[e](e,n))}},mc={AUDIO:function(e,t){var n=t.vhs,i=t.sourceType,r=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,o=t.mediaTypes[e],l=o.groups,c=o.tracks,u=o.logger_,h=t.masterPlaylistLoader,d=uo(h.master);for(var f in s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}},d&&(s[e].main.default.playlists=h.master.playlists)),s[e])for(var p in l[f]||(l[f]=[]),s[e][f]){var m=s[e][f][p],g=void 0;if(d?(u("AUDIO group '"+f+"' label '"+p+"' is a master playlist"),m.isMasterPlaylist=!0,g=null):g="vhs-json"===i&&m.playlists?new xo(m.playlists[0],n,a):m.resolvedUri?new xo(m.resolvedUri,n,a):m.playlists&&"dash"===i?new Go(m.playlists[0],n,a,h):null,m=Os.mergeOptions({id:p,playlistLoader:g},m),pc[e](e,m.playlistLoader,t),l[f].push(m),void 0===c[p]){var y=new Os.AudioTrack({id:p,kind:uc(m),enabled:!1,language:m.language,default:m.default,label:p});c[p]=y}}r.on("error",fc[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,i=t.vhs,r=t.sourceType,a=t.segmentLoaders[e],s=t.requestOptions,o=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,u=l.tracks,h=t.masterPlaylistLoader;for(var d in o[e])for(var f in c[d]||(c[d]=[]),o[e][d])if(!o[e][d][f].forced){var p=o[e][d][f],m=void 0;if("hls"===r)m=new xo(p.resolvedUri,i,s);else if("dash"===r){if(!p.playlists.filter((function(e){return e.excludeUntil!==1/0})).length)return;m=new Go(p.playlists[0],i,s,h)}else"vhs-json"===r&&(m=new xo(p.playlists?p.playlists[0]:p.resolvedUri,i,s));if(p=Os.mergeOptions({id:f,playlistLoader:m},p),pc[e](e,p.playlistLoader,t),c[d].push(p),void 0===u[f]){var g=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;u[f]=g}}a.on("error",fc[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,i=t.master.mediaGroups,r=t.mediaTypes[e],a=r.groups,s=r.tracks;for(var o in i[e])for(var l in a[o]||(a[o]=[]),i[e][o]){var c=i[e][o][l];if(/^(?:CC|SERVICE)/.test(c.instreamId)){var u=n.options_.vhs&&n.options_.vhs.captionServices||{},h={label:l,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(u[h.instreamId]&&(h=Os.mergeOptions(h,u[h.instreamId])),void 0===h.default&&delete h.default,a[o].push(Os.mergeOptions({id:l},c)),void 0===s[l]){var d=n.addRemoteTextTrack({id:h.instreamId,kind:"captions",default:h.default,language:h.language,label:h.label},!1).track;s[l]=d}}}}},gc=function e(t,n){for(var i=0;i<t.length;i++){if(lo(n,t[i]))return!0;if(t[i].playlists&&e(t[i].playlists,n))return!0}return!1},yc={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if("showing"===n[i].mode||"hidden"===n[i].mode)return n[i];return null}}},vc=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],bc=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},_c=function(e){function t(t){var n;n=e.call(this)||this;var i=t.src,a=t.handleManifestRedirects,s=t.withCredentials,o=t.tech,l=t.bandwidth,c=t.externVhs,h=t.useCueTags,d=t.blacklistDuration,f=t.enableLowInitialPlaylist,p=t.sourceType,m=t.cacheEncryptionKeys,g=t.experimentalBufferBasedABR,y=t.experimentalLeastPixelDiffSelector,v=t.captionServices;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");var b=t.maxPlaylistRetries;null==b&&(b=1/0),$l=c,n.experimentalBufferBasedABR=Boolean(g),n.experimentalLeastPixelDiffSelector=Boolean(y),n.withCredentials=s,n.tech_=o,n.vhs_=o.vhs,n.sourceType_=p,n.useCueTags_=h,n.blacklistDuration=d,n.maxPlaylistRetries=b,n.enableLowInitialPlaylist=f,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:s,handleManifestRedirects:a,maxPlaylistRetries:b,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Fl,activeTrack:Fl,getActiveGroup:Fl,onGroupChanged:Fl,onTrackChanged:Fl,lastTrack_:null,logger_:$s("MediaGroups["+t+"]")}})),e}(),n.mediaSource=new(r().MediaSource),n.handleDurationChange_=n.handleDurationChange_.bind(u(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(u(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(u(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=Os.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new sc(t),n.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new cc,n.sourceUpdater_=new ec(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new oc;var _={vhs:n.vhs_,parse708captions:t.parse708captions,useDtsForTimestampOffset:t.useDtsForTimestampOffset,captionServices:v,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:l,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:m,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:t.experimentalExactManifestTimings};n.masterPlaylistLoader_="dash"===n.sourceType_?new Go(i,n.vhs_,n.requestOptions_):new xo(i,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Nl(Os.mergeOptions(_,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new Nl(Os.mergeOptions(_,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new ic(Os.mergeOptions(_,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),t),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",(function(){return n.startABRTimer_()})),n.tech_.on("pause",(function(){return n.stopABRTimer_()})),n.tech_.on("play",(function(){return n.startABRTimer_()}))),vc.forEach((function(e){n[e+"_"]=bc.bind(u(n),e)})),n.logger_=$s("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var w="none"===n.tech_.preload()?"play":"loadstart";return n.tech_.one(w,(function(){var e=Date.now();n.tech_.one("loadeddata",(function(){n.timeToLoadedData__=Date.now()-e,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends}))})),n}d(t,e);var n=t.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t},n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=function(){var e=this.selectPlaylist();e&&this.shouldSwitchToMedia_(e)&&this.switchMedia_(e,"abr")},n.switchMedia_=function(e,t,n){var i=this.media(),r=i&&(i.id||i.uri),a=e.id||e.uri;r&&r!==a&&(this.logger_("switch media "+r+" -> "+a+" from "+t),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+t})),this.masterPlaylistLoader_.media(e,n)},n.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=r().setInterval((function(){return e.checkABR_()}),250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(r().clearInterval(this.abrTimer_),this.abrTimer_=null)},n.getAudioTrackPlaylists_=function(){var e=this.master(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;var n,i=e.mediaGroups.AUDIO,r=Object.keys(i);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)n=this.mediaTypes_.AUDIO.activeTrack();else{var a=i.main||r.length&&i[r[0]];for(var s in a)if(a[s].default){n={label:s};break}}if(!n)return t;var o=[];for(var l in i)if(i[l][n.label]){var c=i[l][n.label];if(c.playlists&&c.playlists.length)o.push.apply(o,c.playlists);else if(c.uri)o.push(c);else if(e.playlists.length)for(var u=0;u<e.playlists.length;u++){var h=e.playlists[u];h.attributes&&h.attributes.AUDIO&&h.attributes.AUDIO===l&&o.push(h)}}return o.length?o:t},n.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;oo(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){mc[t](t,e)}));var t=e.mediaTypes,n=e.masterPlaylistLoader,i=e.tech,r=e.vhs,a=e.segmentLoaders,s=a.AUDIO,o=a.main;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=function(e,t){return function(n){var i=t.masterPlaylistLoader,r=t.mediaTypes[e].groups,a=i.media();if(!a)return null;var s=null;a.attributes[e]&&(s=r[a.attributes[e]]);var o=Object.keys(r);if(!s)if("AUDIO"===e&&o.length>1&&uo(t.master))for(var l=0;l<o.length;l++){var c=r[o[l]];if(gc(c,a)){s=c;break}}else r.main?s=r.main:1===o.length&&(s=r[o[0]]);return void 0===n?s:null!==n&&s&&s.filter((function(e){return e.id===n.id}))[0]||null}}(n,e),t[n].activeTrack=yc[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,i=n[e],r=n.main,a=t.mediaTypes[e],s=a.activeTrack(),o=a.getActiveGroup(),l=a.activePlaylistLoader,c=a.lastGroup_;o&&c&&o.id===c.id||(a.lastGroup_=o,a.lastTrack_=s,hc(i,a),o&&!o.isMasterPlaylist&&(o.playlistLoader?(i.resyncLoader(),dc(o.playlistLoader,a)):l&&r.resetEverything()))}}(n,e),t[n].onGroupChanging=function(e,t){return function(){var n=t.segmentLoaders[e];t.mediaTypes[e].lastGroup_=null,n.abort(),n.pause()}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.masterPlaylistLoader,i=t.segmentLoaders,r=i[e],a=i.main,s=t.mediaTypes[e],o=s.activeTrack(),l=s.getActiveGroup(),c=s.activePlaylistLoader,u=s.lastTrack_;if((!u||!o||u.id!==o.id)&&(s.lastGroup_=l,s.lastTrack_=o,hc(r,s),l)){if(l.isMasterPlaylist){if(!o||!u||o.id===u.id)return;var h=t.vhs.masterPlaylistController_,d=h.selectPlaylist();if(h.media()===d)return;return s.logger_("track change. Switching master audio from "+u.id+" to "+o.id),n.pause(),a.resetEverything(),void h.fastQualityChange_(d)}if("AUDIO"===e){if(!l.playlistLoader)return a.setAudio(!0),void a.resetEverything();r.setAudio(!0),a.setAudio(!1)}c!==l.playlistLoader?(r.track&&r.track(o),r.resetEverything(),dc(l.playlistLoader,s)):dc(l.playlistLoader,s)}}}(n,e),t[n].getActiveGroup=function(e,t){var n=t.mediaTypes;return function(){var t=n[e].activeTrack();return t?n[e].activeGroup(t):null}}(n,e)}));var l=t.AUDIO.activeGroup();if(l){var c=(l.filter((function(e){return e.default}))[0]||l[0]).id;t.AUDIO.tracks[c].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(o.setAudio(!1),s.setAudio(!0)):o.setAudio(!0)}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))})),n.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanging()}))}));var u=function(){t.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"}),i.trigger({type:"usage",name:"hls-audio-change"})};for(var h in i.audioTracks().addEventListener("change",u),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",(function(){i.audioTracks().removeEventListener("change",u),i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),i.clearTracks("audio"),t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[h])}({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){e.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var t=e.masterPlaylistLoader_.media();if(!t){var n;if(e.excludeUnsupportedVariants_(),e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),!n||!e.shouldSwitchToMedia_(n))return;if(e.initialMedia_=n,e.switchMedia_(e.initialMedia_,"initial"),"vhs-json"!==e.sourceType_||!e.initialMedia_.segments)return;t=e.initialMedia_}e.handleUpdatedMediaPlaylist(t)})),this.masterPlaylistLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;oo(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=e.masterPlaylistLoader_.media();"playlist-unchanged"!==t.lastExcludeReason_&&e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),e.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},n.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(e,t){var n=e.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var a in n.AUDIO)for(var s in n.AUDIO[a])n.AUDIO[a][s].uri||(i=!1);i&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),$l.Playlist.isAes(t)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(e){var t=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),r=this.bufferHighWaterLine();return function(e){var t=e.currentPlaylist,n=e.buffered,i=e.currentTime,r=e.nextPlaylist,a=e.bufferLowWaterLine,s=e.bufferHighWaterLine,o=e.duration,l=e.experimentalBufferBasedABR,c=e.log;if(!r)return Os.log.warn("We received no playlist to switch to. Please check your stream."),!1;var u="allowing switch "+(t&&t.id||"null")+" -> "+r.id;if(!t)return c(u+" as current playlist is not set"),!0;if(r.id===t.id)return!1;var h=Boolean(js(n,i).length);if(!t.endList)return h||"number"!=typeof t.partTargetDuration?(c(u+" as current playlist is live"),!0):(c("not "+u+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);var d=Ws(n,i),f=l?Ko.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Ko.MAX_BUFFER_LOW_WATER_LINE;if(o<f)return c(u+" as duration < max low water line ("+o+" < "+f+")"),!0;var p=r.attributes.BANDWIDTH,m=t.attributes.BANDWIDTH;if(p<m&&(!l||d<s)){var g=u+" as next bandwidth < current bandwidth ("+p+" < "+m+")";return l&&(g+=" and forwardBuffer < bufferHighWaterLine ("+d+" < "+s+")"),c(g),!0}if((!l||p>m)&&d>=a){var y=u+" as forwardBuffer >= bufferLowWaterLine ("+d+" >= "+a+")";return l&&(y+=" and next bandwidth > current bandwidth ("+p+" > "+m+")"),c(y),!0}return c("not "+u+" as no switching criteria met"),!1}({buffered:this.tech_.buffered(),currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:r,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var e=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",(function(){var t=e.selectPlaylist();e.shouldSwitchToMedia_(t)&&e.switchMedia_(t,"bandwidthupdate"),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")}))),this.mainSegmentLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){e.logger_("main segment loader ended"),e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(t){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}));var t=function(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var t=e.getCodecsOrExclude_();t&&e.sourceUpdater_.addOrChangeSourceBuffers(t)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()}))},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},n.fastQualityChange_=function(e){var t=this;void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything((function(){Os.browser.IE_VERSION||Os.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))):this.logger_("skipping fastQualityChange because new media is same as old")},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},n.setupFirstPlay=function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(Os.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.tech_.setCurrentTime(n.end(0)),e.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(e&&e.length){var t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var n=$l.Playlist.playlistEnd(e,t),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=Ms;var a=r.end(r.length-1);return a-i<=Ms&&n-a<=Ms},n.blacklistCurrentPlaylist=function(e,t){void 0===e&&(e={});var n=e.playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!n)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));n.playlistErrors_++;var i,r=this.masterPlaylistLoader_.master.playlists,a=r.filter(ao),s=1===a.length&&a[0]===n;if(1===r.length&&t!==1/0)return Os.log.warn("Problem encountered with playlist "+n.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(s);if(s){var o=!1;r.forEach((function(e){if(e!==n){var t=e.excludeUntil;void 0!==t&&t!==1/0&&(o=!0,delete e.excludeUntil)}})),o&&(Os.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}i=n.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*t,n.excludeUntil=i,e.reason&&(n.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var l=this.selectPlaylist();if(!l)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var c=e.internal?this.logger_:Os.log.warn,u=e.message?" "+e.message:"";c((e.internal?"Internal problem":"Problem")+" encountered with playlist "+n.id+"."+u+" Switching to playlist "+l.id+"."),l.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var h=l.targetDuration/2*1e3||5e3,d="number"==typeof l.lastRequest&&Date.now()-l.lastRequest<=h;return this.switchMedia_(l,"exclude",s||d)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(e,t){var n=this,i=[],r="all"===e;(r||"main"===e)&&i.push(this.masterPlaylistLoader_);var a=[];(r||"audio"===e)&&a.push("AUDIO"),(r||"subtitle"===e)&&(a.push("CLOSED-CAPTIONS"),a.push("SUBTITLES")),a.forEach((function(e){var t=n.mediaTypes_[e]&&n.mediaTypes_[e].activePlaylistLoader;t&&i.push(t)})),["main","audio","subtitle"].forEach((function(t){var r=n[t+"SegmentLoader_"];!r||e!==t&&"all"!==e||i.push(r)})),i.forEach((function(e){return t.forEach((function(t){"function"==typeof e[t]&&e[t]()}))}))},n.setCurrentTime=function(e){var t=js(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:$l.Playlist.duration(e):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var n=this.syncController_.getExpiredTime(t,this.duration());if(null!==n){var i=this.masterPlaylistLoader_.master,r=$l.Playlist.seekable(t,n,$l.Playlist.liveEdgeDelay(i,t));if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=$l.Playlist.seekable(t,n,$l.Playlist.liveEdgeDelay(i,t))).length)return}var a,s;this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),s=this.seekable_.start(0)),e?e.start(0)>r.end(0)||r.start(0)>e.end(0)?this.seekable_=r:this.seekable_=Os.createTimeRanges([[e.start(0)>r.start(0)?e.start(0):r.start(0),e.end(0)<r.end(0)?e.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===s||(this.logger_("seekable updated ["+Hs(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();if(!t.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))}else{var n=this.tech_.buffered(),i=$l.Playlist.duration(this.masterPlaylistLoader_.media());n.length>0&&(i=Math.max(i,n.end(n.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}},n.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((function(t){var n=e.mediaTypes_[t].groups;for(var i in n)n[i].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!n)},n.getCodecsOrExclude_=function(){var e=this,t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};t.video=t.main;var n=_l(this.master(),this.media()),i={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(i.video=n.video||t.main.videoCodec||"avc1.4d400d"),t.main.isMuxed&&(i.video+=","+(n.audio||t.main.audioCodec||K)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||r)&&(i.audio=n.audio||t.main.audioCodec||t.audio.audioCodec||K,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),i.audio||i.video){var a,s={};if(["video","audio"].forEach((function(e){if(i.hasOwnProperty(e)&&(r=t[e].isFmp4,o=i[e],!(r?W(o):G(o)))){var n=t[e].isFmp4?"browser":"muxer";s[n]=s[n]||[],s[n].push(i[e]),"audio"===e&&(a=n)}var r,o})),r&&a&&this.media().attributes.AUDIO){var o=this.media().attributes.AUDIO;this.master().playlists.forEach((function(t){(t.attributes&&t.attributes.AUDIO)===o&&t!==e.media()&&(t.excludeUntil=1/0)})),this.logger_("excluding audio group "+o+" as "+a+' does not support codec(s): "'+i.audio+'"')}if(!Object.keys(s).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var l=[];if(["video","audio"].forEach((function(t){var n=(H(e.sourceUpdater_.codecs[t]||"")[0]||{}).type,r=(H(i[t]||"")[0]||{}).type;n&&r&&n.toLowerCase()!==r.toLowerCase()&&l.push('"'+e.sourceUpdater_.codecs[t]+'" -> "'+i[t]+'"')})),l.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+l.join(", ")+".",blacklistDuration:1/0,internal:!0})}return i}var c=Object.keys(s).reduce((function(e,t){return e&&(e+=", "),e+(t+' does not support codec(s): "')+s[t].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:c,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},n.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(e){this.sourceUpdater_.createSourceBuffers(e);var t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}}},n.excludeUnsupportedVariants_=function(){var e=this,t=this.master().playlists,n=[];Object.keys(t).forEach((function(i){var r=t[i];if(-1===n.indexOf(r.id)){n.push(r.id);var a=_l(e.master,r),s=[];!a.audio||G(a.audio)||W(a.audio)||s.push("audio codec "+a.audio),!a.video||G(a.video)||W(a.video)||s.push("video codec "+a.video),a.text&&"stpp.ttml.im1t"===a.text&&s.push("text codec "+a.text),s.length&&(r.excludeUntil=1/0,e.logger_("excluding "+r.id+" for unsupported: "+s.join(", ")))}}))},n.excludeIncompatibleVariants_=function(e){var t=this,n=[],i=this.master().playlists,r=vl(H(e)),a=bl(r),s=r.video&&H(r.video)[0]||null,o=r.audio&&H(r.audio)[0]||null;Object.keys(i).forEach((function(e){var r=i[e];if(-1===n.indexOf(r.id)&&r.excludeUntil!==1/0){n.push(r.id);var l=[],c=_l(t.masterPlaylistLoader_.master,r),u=bl(c);if(c.audio||c.video){if(u!==a&&l.push('codec count "'+u+'" !== "'+a+'"'),!t.sourceUpdater_.canChangeType()){var h=c.video&&H(c.video)[0]||null,d=c.audio&&H(c.audio)[0]||null;h&&s&&h.type.toLowerCase()!==s.type.toLowerCase()&&l.push('video codec "'+h.type+'" !== "'+s.type+'"'),d&&o&&d.type.toLowerCase()!==o.type.toLowerCase()&&l.push('audio codec "'+d.type+'" !== "'+o.type+'"')}l.length&&(r.excludeUntil=1/0,t.logger_("blacklisting "+r.id+": "+l.join(" && ")))}}}))},n.updateAdCues_=function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t,n){if(void 0===n&&(n=0),e.segments)for(var i,a=n,s=0;s<e.segments.length;s++){var o=e.segments[s];if(i||(i=rc(t,a+o.duration/2)),i){if("cueIn"in o){i.endTime=a,i.adEndTime=a,a+=o.duration,i=null;continue}if(a<i.endTime){a+=o.duration;continue}i.endTime+=o.duration}else if("cueOut"in o&&((i=new(r().VTTCue)(a,a+o.duration,o.cueOut)).adStartTime=a,i.adEndTime=a+parseFloat(o.cueOut),t.addCue(i)),"cueOutCont"in o){var l=o.cueOutCont.split("/").map(parseFloat),c=l[0],u=l[1];(i=new(r().VTTCue)(a,a+o.duration,"")).adStartTime=a-c,i.adEndTime=i.adStartTime+u,t.addCue(i)}a+=o.duration}}(e,this.cueTagsTrack_,t)},n.goalBufferLength=function(){var e=this.tech_.currentTime(),t=Ko.GOAL_BUFFER_LENGTH,n=Ko.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,Ko.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)},n.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),t=Ko.BUFFER_LOW_WATER_LINE,n=Ko.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,Ko.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(t,Ko.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.experimentalBufferBasedABR?r:i)},n.bufferHighWaterLine=function(){return Ko.BUFFER_HIGH_WATER_LINE},t}(Os.EventTarget),wc=function(e,t,n){var i,r,a,s=e.masterPlaylistController_,o=s[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(s);if(t.attributes){var l=t.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=t.attributes.BANDWIDTH}this.codecs=_l(s.master(),t),this.playlist=t,this.id=n,this.enabled=(i=e.playlists,r=t.id,a=o,function(e){var t=i.master.playlists[r],n=ro(t),s=ao(t);return void 0===e?s:(e?delete t.disabled:t.disabled=!0,e===s||n||(a(),e?i.trigger("renditionenabled"):i.trigger("renditiondisabled")),e)})},Sc=["seeking","seeked","pause","playing","error"],kc=function(){function e(e){var t=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=$s("PlaybackWatcher"),this.logger_("initialize");var n=function(){return t.monitorCurrentTime_()},i=function(){return t.monitorCurrentTime_()},a=function(){return t.techWaiting_()},s=function(){return t.cancelTimer_()},o=this.masterPlaylistController_,l=["main","subtitle","audio"],c={};l.forEach((function(e){c[e]={reset:function(){return t.resetSegmentDownloads_(e)},updateend:function(){return t.checkSegmentDownloads_(e)}},o[e+"SegmentLoader_"].on("appendsdone",c[e].updateend),o[e+"SegmentLoader_"].on("playlistupdate",c[e].reset),t.tech_.on(["seeked","seeking"],c[e].reset)}));var u=function(e){["main","audio"].forEach((function(n){o[n+"SegmentLoader_"][e]("appended",t.seekingAppendCheck_)}))};this.seekingAppendCheck_=function(){t.fixesBadSeeks_()&&(t.consecutiveUpdates=0,t.lastRecordedTime=t.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=function(){return u("off")},this.watchForBadSeeking_=function(){t.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",a),this.tech_.on(Sc,s),this.tech_.on("canplay",i),this.tech_.one("play",n),this.dispose=function(){t.clearSeekingAppendCheck_(),t.logger_("dispose"),t.tech_.off("waiting",a),t.tech_.off(Sc,s),t.tech_.off("canplay",i),t.tech_.off("play",n),t.tech_.off("seeking",t.watchForBadSeeking_),t.tech_.off("seeked",t.clearSeekingAppendCheck_),l.forEach((function(e){o[e+"SegmentLoader_"].off("appendsdone",c[e].updateend),o[e+"SegmentLoader_"].off("playlistupdate",c[e].reset),t.tech_.off(["seeked","seeking"],c[e].reset)})),t.checkCurrentTimeTimeout_&&r().clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}var t=e.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&r().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=r().setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(e){var t=this.masterPlaylistController_[e+"SegmentLoader_"];this[e+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+e+" loader"),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()},t.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,n=t[e+"SegmentLoader_"],i=n.buffered_(),r=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}(this[e+"Buffered_"],i);this[e+"Buffered_"]=i,r?this.resetSegmentDownloads_(e):(this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:qs(i)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"!==e&&t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0)))},t.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+Ms>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),n=this.tech_.currentTime();if(this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1)),this.beforeSeekableWindow_(t,n)){var i=t.start(0);e=i+(i===t.end(0)?0:Ms)}if(void 0!==e)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Hs(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;for(var r=this.masterPlaylistController_.sourceUpdater_,a=this.tech_.buffered(),s=r.audioBuffer?r.audioBuffered():null,o=r.videoBuffer?r.videoBuffered():null,l=this.media(),c=l.partTargetDuration?l.partTargetDuration:2*(l.targetDuration-Bs),u=[s,o],h=0;h<u.length;h++)if(u[h]&&Ws(u[h],n)<c)return!1;var d=Vs(a,n);return 0!==d.length&&(e=d.start(0)+Ms,this.logger_("Buffered region starts ("+d.start(0)+")  just beyond seek point ("+n+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},t.waiting_=function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=js(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},t.techWaiting_=function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:t}))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var a=Vs(r,t);if(a.length>0){var s=a.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+s+", seeking to "+a.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*s,t),!0}return!1},t.afterSeekableWindow_=function(e,t,n,i){if(void 0===i&&(i=!1),!e.length)return!1;var r=e.end(e.length-1)+Ms;return!n.endList&&i&&(r=e.end(e.length-1)+3*n.targetDuration),t>r},t.beforeSeekableWindow_=function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(e){var t=e.videoBuffered,n=e.audioBuffered,i=e.currentTime;if(t){var r;if(t.length&&n.length){var a=js(t,i-3),s=js(t,i),o=js(n,i);o.length&&!s.length&&a.length&&(r={start:a.end(0),end:o.end(0)})}else Vs(t,i).length||(r=this.gapFromVideoUnderflow_(t,i));return!!r&&(this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+i),!0)}},t.skipTheGap_=function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),i=Vs(t,n);this.cancelTimer_(),0!==i.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+Bs),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(e,t){for(var n=function(e){if(e.length<2)return Os.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var i=e.end(n-1),r=e.start(n);t.push([i,r])}return Os.createTimeRanges(t)}(e),i=0;i<n.length;i++){var r=n.start(i),a=n.end(i);if(t-r<4&&t-r>2)return{start:r,end:a}}return null},e}(),Tc={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Cc=function e(t,n){var i=0,r=0,a=Os.mergeOptions(Tc,n);t.ready((function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var s=function(){r&&t.currentTime(r)},o=function(e){null!=e&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){return Date.now()-i<1e3*a.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):a.getSource&&"function"==typeof a.getSource?(i=Date.now(),a.getSource.call(t,o)):void Os.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},c=function e(){t.off("loadedmetadata",s),t.off("error",l),t.off("dispose",e)};t.on("error",l),t.on("dispose",c),t.reloadSourceOnError=function(n){c(),e(t,n)}},xc="2.14.3",Ec={PlaylistLoader:xo,Playlist:ho,utils:Mo,STANDARD_PLAYLIST_SELECTOR:El,INITIAL_PLAYLIST_SELECTOR:function(){var e=this,t=this.playlists.master.playlists.filter(ho.isEnabled);return Tl(t,(function(e,t){return Cl(e,t)})),t.filter((function(t){return!!_l(e.playlists.master,t).video}))[0]||null},lastBandwidthSelector:El,movingAverageBandwidthSelector:function(e){var t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var i=this.useDevicePixelRatio&&r().devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),xl(this.playlists.master,t,parseInt(kl(this.tech_.el(),"width"),10)*i,parseInt(kl(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:Cl,comparePlaylistResolution:function(e,t){var n,i;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||r().Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),n===(i=i||r().Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},xhr:Ao()};Object.keys(Ko).forEach((function(e){Object.defineProperty(Ec,e,{get:function(){return Os.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),Ko[e]},set:function(t){Os.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?Os.log.warn("value of Vhs."+e+" must be greater than or equal to 0"):Ko[e]=t}})}));var Pc="videojs-vhs",Ic=function(e,t){for(var n=t.media(),i=-1,r=0;r<e.length;r++)if(e[r].id===n.id){i=r;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})};Ec.canPlaySource=function(){return Os.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Ac=function(){if(!r().localStorage)return null;var e=r().localStorage.getItem(Pc);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};Ec.supportsNativeHls=function(){if(!s()||!s().createElement)return!1;var e=s().createElement("video");return!!Os.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),Ec.supportsNativeDash=!!(s()&&s().createElement&&Os.getTech("Html5").isSupported())&&/maybe|probably/i.test(s().createElement("video").canPlayType("application/dash+xml")),Ec.supportsTypeNatively=function(e){return"hls"===e?Ec.supportsNativeHls:"dash"===e&&Ec.supportsNativeDash},Ec.isSupported=function(){return Os.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Lc=function(e){function t(t,n,i){var r;if(r=e.call(this,n,Os.mergeOptions(i.hls,i.vhs))||this,i.hls&&Object.keys(i.hls).length&&Os.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),"number"==typeof i.initialBandwidth&&(r.options_.bandwidth=i.initialBandwidth),r.logger_=$s("VhsHandler"),n.options_&&n.options_.playerId){var a=Os(n.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return Os.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),u(r)},configurable:!0}),a.hasOwnProperty("vhs")||Object.defineProperty(a,"vhs",{get:function(){return Os.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),u(r)},configurable:!0}),a.hasOwnProperty("dash")||Object.defineProperty(a,"dash",{get:function(){return Os.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),u(r)},configurable:!0}),r.player_=a}if(r.tech_=n,r.source_=t,r.stats={},r.ignoreNextSeekingEvent_=!1,r.setOptions_(),r.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(s(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=s().fullscreenElement||s().webkitFullscreenElement||s().mozFullScreenElement||s().msFullscreenElement;t&&t.contains(r.tech_.el())?r.masterPlaylistController_.fastQualityChange_():r.masterPlaylistController_.checkABR_()})),r.on(r.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),r.on(r.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),r.on(r.tech_,"play",r.play),r}d(t,e);var n=t.prototype;return n.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=Ac();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Ko.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ko.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach((function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(e,t){var n=this;if(e){var i;this.setOptions_(),this.options_.src=0===(i=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(i.substring(i.indexOf(",")+1)):i,this.options_.tech=this.tech_,this.options_.externVhs=Ec,this.options_.sourceType=Q(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&Os.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new _c(this.options_);var a=Os.mergeOptions({liveRangeSafeTimeDelta:Ms},this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new kc(a),this.masterPlaylistController_.on("error",(function(){var e=Os.players[n.tech_.options_.playerId],t=n.masterPlaylistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));var s=this.options_.experimentalBufferBasedABR?Ec.movingAverageBandwidthSelector(.55):Ec.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):s.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Ec.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var e=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,t=r().navigator.connection||r().navigator.mozConnection||r().navigator.webkitConnection,n=1e7;if(this.options_.useNetworkInformationApi&&t){var i=1e3*t.downlink*1e3;e=i>=n&&e>=n?Math.max(e,i):i}return e},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){Os.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return n.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return n.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return n.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return qs(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return qs(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){n.options_.useBandwidthFromLocalStorage&&function(e){if(!r().localStorage)return!1;var t=Ac();t=t?Os.mergeOptions(t,e):e;try{r().localStorage.setItem(Pc,JSON.stringify(t))}catch(e){return!1}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e;(e=n).representations=function(){var t=e.masterPlaylistController_.master(),n=uo(t)?e.masterPlaylistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter((function(e){return!ro(e)})).map((function(t,n){return new wc(e,t,t.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){n.setupEme_()})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=r().URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.createKeySessions_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),function(e){var t=e.player,n=e.sourceKeySystems,i=e.audioMedia,r=e.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var a,s,o=(a=i?r.concat([i]):r,s=Object.keys(n),a.reduce((function(e,t){if(!t.contentProtection)return e;var n=s.reduce((function(e,n){var i=t.contentProtection[n];return i&&i.pssh&&(e[n]={pssh:i.pssh}),e}),{});return Object.keys(n).length&&e.push(n),e}),[])),l=[],c=[];return o.forEach((function(e){c.push(new Promise((function(e,n){t.tech_.one("keysessioncreated",e)}))),l.push(new Promise((function(n,i){t.eme.initializeMediaKeys({keySystems:e},(function(e){e?i(e):n()}))})))})),Promise.race([Promise.all(l),Promise.race(c)])}({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.master.playlists}).then((function(){e.logger_("created EME key session"),e.masterPlaylistController_.sourceUpdater_.initializedEme()})).catch((function(t){e.logger_("error while creating EME key session",t),e.player_.error({message:"Failed to initialize media keys for EME",code:3})}))},n.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},n.setupEme_=function(){var e,t,n,i=this,r=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,a=(e={player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:r&&r.media()},t=e.player,!(!(n=function(e,t,n){if(!e)return e;var i={};t&&t.attributes&&t.attributes.CODECS&&(i=vl(H(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);var r=z(i.video),a=z(i.audio),s={};for(var o in e)s[o]={},a&&(s[o].audioContentType=a),r&&(s[o].videoContentType=r),t.contentProtection&&t.contentProtection[o]&&t.contentProtection[o].pssh&&(s[o].pssh=t.contentProtection[o].pssh),"string"==typeof e[o]&&(s[o].url=e[o]);return Os.mergeOptions(e,s)}(e.sourceKeySystems,e.media,e.audioMedia))||(t.currentSource().keySystems=n,n&&!t.eme&&(Os.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1))));this.player_.tech_.on("keystatuschange",(function(e){if("output-restricted"===e.status){var t=i.masterPlaylistController_.master();if(t&&t.playlists){var n,r=[];t.playlists.forEach((function(e){e&&e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height>=720&&(!e.excludeUntil||e.excludeUntil<1/0)&&(e.excludeUntil=1/0,r.push(e))})),r.length&&((n=Os.log).warn.apply(n,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(r)),i.masterPlaylistController_.fastQualityChange_())}}})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==Os.browser.IE_VERSION&&a?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},n.setupQualityLevels_=function(){var e=this,t=Os.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,n;t=e.qualityLevels_,(n=e).representations().forEach((function(e){t.addQualityLevel(e)})),Ic(t,n.playlists)})),this.playlists.on("mediachange",(function(){Ic(e.qualityLevels_,e.playlists)})))},t.version=function(){return{"@videojs/http-streaming":xc,"mux.js":"6.0.1","mpd-parser":"0.21.1","m3u8-parser":"4.7.1","aes-decrypter":"3.1.3"}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return ec.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&r().URL.revokeObjectURL&&(r().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),e.prototype.dispose.call(this)},n.convertToProgramTime=function(e,t){return function(e){var t=e.playlist,n=e.time,i=void 0===n?void 0:n,r=e.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===i)return r({message:"getProgramTime: playlist and time must be provided"});var a=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n,i=0,r=0;r<t.segments.length&&!(e<=(i=(n=t.segments[r]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration));r++);var a=t.segments[t.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+.25*a.duration)return null;n=a}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(i,t);if(!a)return r({message:"valid programTime was not found"});if("estimate"===a.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var s={mediaSeconds:i},o=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,i=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*i)}(i,a.segment);return o&&(s.programDateTime=o.toISOString()),r(null,s)}({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},n.seekToProgramTime=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=2),Uo({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})},t}(Os.getComponent("Component")),Oc={name:"videojs-http-streaming",VERSION:xc,canHandleSource:function(e,t){void 0===t&&(t={});var n=Os.mergeOptions(Os.options,t);return Oc.canPlayType(e.type,n)},handleSource:function(e,t,n){void 0===n&&(n={});var i=Os.mergeOptions(Os.options,n);return t.vhs=new Lc(e,t,i),Os.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return Os.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=Ao(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){void 0===t&&(t={});var n=Os.mergeOptions(Os.options,t),i=n.vhs,r=(i=void 0===i?{}:i).overrideNative,a=void 0===r?!Os.browser.IS_ANY_SAFARI:r,s=n.hls,o=(s=void 0===s?{}:s).overrideNative,l=void 0!==o&&o,c=Q(e);return c&&(!Ec.supportsTypeNatively(c)||l||a)?"maybe":""}};W("avc1.4d400d,mp4a.40.2")&&Os.getTech("Html5").registerSourceHandler(Oc,0),Os.VhsHandler=Lc,Object.defineProperty(Os,"HlsHandler",{get:function(){return Os.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Lc},configurable:!0}),Os.VhsSourceHandler=Oc,Object.defineProperty(Os,"HlsSourceHandler",{get:function(){return Os.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Oc},configurable:!0}),Os.Vhs=Ec,Object.defineProperty(Os,"Hls",{get:function(){return Os.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Ec},configurable:!0}),Os.use||(Os.registerComponent("Hls",Ec),Os.registerComponent("Vhs",Ec)),Os.options.vhs=Os.options.vhs||{},Os.options.hls=Os.options.hls||{},Os.getPlugin&&Os.getPlugin("reloadSourceOnError")||(Os.registerPlugin||Os.plugin)("reloadSourceOnError",(function(e){Cc(this,e)}));const Rc=Os},8984:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);class i{constructor(e){let t=this;return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.frameRate=e.frameRate,t.enabled_=e.enabled,Object.defineProperty(t,"enabled",{get:()=>t.enabled_(),set(e){t.enabled_(e)}}),t}}class r extends n.default.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get:()=>e.selectedIndex_}),Object.defineProperty(e,"length",{get:()=>e.levels_.length}),e}addQualityLevel(e){let t=this.getQualityLevelById(e.id);if(t)return t;const n=this.levels_.length;return t=new i(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}removeQualityLevel(e){let t=null;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){t=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}getQualityLevelById(e){for(let t=0,n=this.length;t<n;t++){const n=this[t];if(n.id===e)return n}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}r.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const e in r.prototype.allowedEvents_)r.prototype["on"+e]=null;var a="3.0.0";const s=n.default.registerPlugin||n.default.plugin,o=function(e){return function(e,t){const n=e.qualityLevels,i=new r,s=function(){i.dispose(),e.qualityLevels=n,e.off("dispose",s)};return e.on("dispose",s),e.qualityLevels=()=>i,e.qualityLevels.VERSION=a,i}(this,n.default.mergeOptions({},e))};return s("qualityLevels",o),o.VERSION=a,o}(n(3649))},8390:function(e,t,n){e.exports=function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=n(e),r=n(t);function a(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var s=a((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,i)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),o=a((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0})),l=i.default.getComponent("Component"),c=i.default.dom||i.default,u=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).seekSeconds=n.seekSeconds,i.tapTimeout=n.tapTimeout,i.addChild("playToggle",{}),t.on(["playing","userinactive"],(function(e){i.removeClass("show-play-toggle")})),0===i.player_.options_.inactivityTimeout&&(i.player_.options_.inactivityTimeout=5e3),i.enable(),i}o(t,e);var n=t.prototype;return n.createEl=function(){return c.createEl("div",{className:"vjs-touch-overlay",tabIndex:-1})},n.handleTap=function(e){var t=this;e.target===this.el_&&(e.preventDefault(),this.firstTapCaptured?(this.firstTapCaptured=!1,this.timeout&&r.default.clearTimeout(this.timeout),this.handleDoubleTap(e)):(this.firstTapCaptured=!0,this.timeout=r.default.setTimeout((function(){t.firstTapCaptured=!1,t.handleSingleTap(e)}),this.tapTimeout)))},n.handleSingleTap=function(e){this.removeClass("skip"),this.toggleClass("show-play-toggle")},n.handleDoubleTap=function(e){var t=this,n=this.el_.getBoundingClientRect(),i=e.changedTouches[0].clientX-n.left;if(i<.4*n.width)this.player_.currentTime(Math.max(0,this.player_.currentTime()-this.seekSeconds)),this.addClass("reverse");else{if(!(i>n.width-.4*n.width))return;this.player_.currentTime(Math.min(this.player_.duration(),this.player_.currentTime()+this.seekSeconds)),this.removeClass("reverse")}this.removeClass("show-play-toggle"),this.removeClass("skip"),r.default.requestAnimationFrame((function(){t.addClass("skip")}))},n.enable=function(){this.firstTapCaptured=!1,this.on("touchend",this.handleTap)},n.disable=function(){this.off("touchend",this.handleTap)},t}(l);l.registerComponent("TouchOverlay",u);var h={fullscreen:{enterOnRotate:!0,exitOnRotate:!0,lockOnRotate:!0,lockToLandscapeOnEnter:!1,iOS:!1,disabled:!1},touchControls:{seekSeconds:10,tapTimeout:300,disableOnEnd:!1,disabled:!1}},d=r.default.screen,f=function(){if(d){var e=((d.orientation||{}).type||d.mozOrientation||d.msOrientation||"").split("-")[0];if("landscape"===e||"portrait"===e)return e}return"number"==typeof r.default.orientation?0===r.default.orientation||180===r.default.orientation?"portrait":"landscape":"portrait"},p=i.default.registerPlugin||i.default.plugin,m=function(e){var t=this;void 0===e&&(e={}),(e.forceForTesting||i.default.browser.IS_ANDROID||i.default.browser.IS_IOS)&&this.ready((function(){!function(e,t){if(e.addClass("vjs-mobile-ui"),t.fullscreen.iOS&&(i.default.log.warn("videojs-mobile-ui: `fullscreen.iOS` is deprecated. Use Video.js option `preferFullWindow` instead."),i.default.browser.IS_IOS&&i.default.browser.IOS_VERSION>9&&!e.el_.ownerDocument.querySelector(".bc-iframe")&&(e.tech_.el_.setAttribute("playsinline","playsinline"),e.tech_.supportsFullScreen=function(){return!1})),!t.touchControls.disabled){var n;(t.touchControls.disableOnEnd||"function"==typeof e.endscreen)&&e.addClass("vjs-mobile-ui-disable-end");var a=i.default.VERSION.split("."),s=parseInt(a[0],10),o=parseInt(a[1],10);n=s<7||7===s&&o<7?Array.prototype.indexOf.call(e.el_.children,e.getChild("ControlBar").el_):e.children_.indexOf(e.getChild("ControlBar")),e.touchOverlay=e.addChild("TouchOverlay",t.touchControls,n)}if(!t.fullscreen.disabled){var l=!1,c=function(){var n=f();"landscape"===n&&t.fullscreen.enterOnRotate?!1===e.paused()&&(e.requestFullscreen(),(t.fullscreen.lockOnRotate||t.fullscreen.lockToLandscapeOnEnter)&&d.orientation&&d.orientation.lock&&d.orientation.lock("landscape").then((function(){l=!0})).catch((function(e){i.default.log("Browser refused orientation lock:",e)}))):"portrait"===n&&t.fullscreen.exitOnRotate&&!l&&e.isFullscreen()&&e.exitFullscreen()};(t.fullscreen.enterOnRotate||t.fullscreen.exitOnRotate)&&(i.default.browser.IS_IOS?(r.default.addEventListener("orientationchange",c),e.on("dispose",(function(){r.default.removeEventListener("orientationchange",c)}))):d.orientation&&(d.orientation.onchange=c,e.on("dispose",(function(){d.orientation.onchange=null})))),e.on("fullscreenchange",(function(n){e.isFullscreen()&&t.fullscreen.lockToLandscapeOnEnter&&"portrait"===f()?d.orientation.lock("landscape").then((function(){l=!0})).catch((function(e){i.default.log("Browser refused orientation lock:",e)})):!e.isFullscreen()&&l&&(d.orientation.unlock(),l=!1)})),e.on("ended",(function(e){!0===l&&(d.orientation.unlock(),l=!1)}))}}(t,i.default.mergeOptions(h,e))}))};return p("mobileUi",m),m.VERSION="0.8.0",m}(n(3649),n(8908))},3352:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);const i={align:"top-left",class:"",content:"This overlay will show up while the video is playing",debug:!1,showBackground:!0,attachToControlBar:!1,overlays:[{start:"playing",end:"paused"}]},r=n.default.getComponent("Component"),a=n.default.dom||n.default,s=n.default.registerPlugin||n.default.plugin,o=e=>"number"==typeof e&&e==e,l=e=>"string"==typeof e&&/^\S+$/.test(e);class c extends r{constructor(e,t){super(e,t),["start","end"].forEach((e=>{const t=this.options_[e];if(o(t))this[e+"Event_"]="timeupdate";else if(l(t))this[e+"Event_"]=t;else if("start"===e)throw new Error('invalid "start" option; expected number or string')})),["endListener_","rewindListener_","startListener_"].forEach((e=>{this[e]=t=>c.prototype[e].call(this,t)})),"timeupdate"===this.startEvent_&&this.on(e,"timeupdate",this.rewindListener_),this.debug(`created, listening to "${this.startEvent_}" for "start" and "${this.endEvent_||"nothing"}" for "end"`),this.hide()}createEl(){const e=this.options_,t=e.content,n=e.showBackground?"vjs-overlay-background":"vjs-overlay-no-background",i=a.createEl("div",{className:`\n        vjs-overlay\n        vjs-overlay-${e.align}\n        ${e.class}\n        ${n}\n        vjs-hidden\n      `});return"string"==typeof t?i.innerHTML=t:t instanceof window.DocumentFragment?i.appendChild(t):a.appendContent(i,t),i}debug(...e){if(!this.options_.debug)return;const t=n.default.log;let i=t;t.hasOwnProperty(e[0])&&"function"==typeof t[e[0]]&&(i=t[e.shift()]),i(`overlay#${this.id()}: `,...e)}hide(){return super.hide(),this.debug("hidden"),this.debug(`bound \`startListener_\` to "${this.startEvent_}"`),this.endEvent_&&(this.debug(`unbound \`endListener_\` from "${this.endEvent_}"`),this.off(this.player(),this.endEvent_,this.endListener_)),this.on(this.player(),this.startEvent_,this.startListener_),this}shouldHide_(e,t){const n=this.options_.end;return o(n)?e>=n:n===t}show(){return super.show(),this.off(this.player(),this.startEvent_,this.startListener_),this.debug("shown"),this.debug(`unbound \`startListener_\` from "${this.startEvent_}"`),this.endEvent_&&(this.debug(`bound \`endListener_\` to "${this.endEvent_}"`),this.on(this.player(),this.endEvent_,this.endListener_)),this}shouldShow_(e,t){const n=this.options_.start,i=this.options_.end;return o(n)?o(i)?e>=n&&e<i:this.hasShownSinceSeek_?Math.floor(e)===n:(this.hasShownSinceSeek_=!0,e>=n):n===t}startListener_(e){const t=this.player().currentTime();this.shouldShow_(t,e.type)&&this.show()}endListener_(e){const t=this.player().currentTime();this.shouldHide_(t,e.type)&&this.hide()}rewindListener_(e){const t=this.player().currentTime(),n=this.previousTime_,i=this.options_.start,r=this.options_.end;t<n&&(this.debug("rewind detected"),o(r)&&!this.shouldShow_(t)?(this.debug(`hiding; ${r} is an integer and overlay should not show at this time`),this.hasShownSinceSeek_=!1,this.hide()):l(r)&&t<i&&(this.debug(`hiding; show point (${i}) is before now (${t}) and end point (${r}) is an event`),this.hasShownSinceSeek_=!1,this.hide())),this.previousTime_=t}}n.default.registerComponent("Overlay",c);const u=function(e){const t=n.default.mergeOptions(i,e);Array.isArray(this.overlays_)&&this.overlays_.forEach((e=>{this.removeChild(e),this.controlBar&&this.controlBar.removeChild(e),e.dispose()}));const r=t.overlays;delete t.overlays,this.overlays_=r.map((e=>{const i=n.default.mergeOptions(t,e),r="string"==typeof i.attachToControlBar||!0===i.attachToControlBar;if(!this.controls()||!this.controlBar)return this.addChild("overlay",i);if(r&&-1!==i.align.indexOf("bottom")){let e=this.controlBar.children()[0];if(void 0!==this.controlBar.getChild(i.attachToControlBar)&&(e=this.controlBar.getChild(i.attachToControlBar)),e){const t=this.controlBar.children().indexOf(e);return this.controlBar.addChild("overlay",i,t)}}const a=this.addChild("overlay",i);return this.el().insertBefore(a.el(),this.controlBar.el()),a}))};return u.VERSION="3.0.0",s("overlay",u),u}(n(3649))},3407:(e,t,n)=>{var i=n(8908),r=e.exports={WebVTT:n(3706),VTTCue:n(2230),VTTRegion:n(3710)};i.vttjs=r,i.WebVTT=r.WebVTT;var a=r.VTTCue,s=r.VTTRegion,o=i.VTTCue,l=i.VTTRegion;r.shim=function(){i.VTTCue=a,i.VTTRegion=s},r.restore=function(){i.VTTCue=o,i.VTTRegion=l},i.VTTCue||r.shim()},3706:(e,t,n)=>{var i=n(9144),r=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function a(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function s(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function o(){this.values=r(null)}function l(e,t,n,i){var r=i?e.split(i):[e];for(var a in r)if("string"==typeof r[a]){var s=r[a].split(n);2===s.length&&t(s[0].trim(),s[1].trim())}}function c(e,t,n){var i=e;function r(){var t=s(e);if(null===t)throw new a(a.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=r(),c(),"--\x3e"!==e.substr(0,3))throw new a(a.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),c(),t.endTime=r(),c(),function(e,t){var i=new o;l(e,(function(e,t){switch(e){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===t){i.set(e,n[r].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),s=a[0];i.integer(e,s),i.percent(e,s)&&i.set("snapToLines",!1),i.alt(e,s,["auto"]),2===a.length&&i.alt("lineAlign",a[1],["start","center","end"]);break;case"position":a=t.split(","),i.percent(e,a[0]),2===a.length&&i.alt("positionAlign",a[1],["start","center","end"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");try{t.line=i.get("line","auto")}catch(e){}t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100);try{t.align=i.get("align","center")}catch(e){t.align=i.get("align","middle")}try{t.position=i.get("position","auto")}catch(e){t.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}a.prototype=r(Error.prototype),a.prototype.constructor=a,a.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var u=i.createElement&&i.createElement("textarea"),h={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},f={v:"title",lang:"lang"},p={rt:"ruby"};function m(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function i(e,t){return!p[t.localName]||p[t.localName]===e.localName}function r(t,n){var i=h[t];if(!i)return null;var r=e.document.createElement(i),a=f[t];return a&&n&&(r[a]=n.trim()),r}for(var a,o,l=e.document.createElement("div"),c=l,m=[];null!==(a=n());)if("<"!==a[0])c.appendChild(e.document.createTextNode((o=a,u.innerHTML=o,o=u.textContent,u.textContent="",o)));else{if("/"===a[1]){m.length&&m[m.length-1]===a.substr(2).replace(">","")&&(m.pop(),c=c.parentNode);continue}var g,y=s(a.substr(1,a.length-2));if(y){g=e.document.createProcessingInstruction("timestamp",y),c.appendChild(g);continue}var v=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v)continue;if(!(g=r(v[1],v[3])))continue;if(!i(c,g))continue;if(v[2]){var b=v[2].split(".");b.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(d.hasOwnProperty(n)){var i=t?"background-color":"color",r=d[n];g.style[i]=r}})),g.className=b.join(" ")}m.push(v[1]),c.appendChild(g),c=g}return l}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function y(e){for(var t=0;t<g.length;t++){var n=g[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function v(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function r(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var a=n.match(/^.*(\n|\r)/);return a?(e.length=0,a[0]):n}return"ruby"===t.tagName?r(e):t.childNodes?(i(e,t),r(e)):void 0}for(i(t,e);n=r(t);)for(var a=0;a<n.length;a++)if(y(n.charCodeAt(a)))return"rtl";return"ltr"}function b(){}function _(e,t,n){b.call(this),this.cue=t,this.cueDiv=m(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:v(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function w(e){var t,n,i,r;if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||n,this.bottom=e.bottom||r+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight}function S(e,t,n,i){var r=new w(t),a=t.cue,s=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}(a),o=[];if(a.snapToLines){var l;switch(a.vertical){case"":o=["+y","-y"],l="height";break;case"rl":o=["+x","-x"],l="width";break;case"lr":o=["-x","+x"],l="width"}var c=r.lineHeight,u=c*Math.round(s),h=n[l]+c,d=o[0];Math.abs(u)>h&&(u=u<0?-1:1,u*=Math.ceil(h/c)*c),s<0&&(u+=""===a.vertical?n.height:n.width,o=o.reverse()),r.move(d,u)}else{var f=r.lineHeight/n.height*100;switch(a.lineAlign){case"center":s-=f/2;break;case"end":s-=f}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}o=["+y","-x","+x","-y"],r=new w(t)}var p=function(e,t){for(var r,a=new w(e),s=1,o=0;o<t.length;o++){for(;e.overlapsOppositeAxis(n,t[o])||e.within(n)&&e.overlapsAny(i);)e.move(t[o]);if(e.within(n))return e;var l=e.intersectPercentage(n);s>l&&(r=new w(e),s=l),e=new w(a)}return r||a}(r,o);t.move(p.toCSSCompatValues(n))}function k(){}b.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},b.prototype.formatStyle=function(e,t){return 0===e?0:e+t},_.prototype=r(b.prototype),_.prototype.constructor=_,w.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},w.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},w.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},w.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},w.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},w.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},w.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},w.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},k.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},k.convertCueToDOMTree=function(e,t){return e&&t?m(e,t):null},k.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],a=w.getSimpleBoxPosition(i),s={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var n,o,l=0;l<t.length;l++)o=t[l],n=new _(e,o,s),i.appendChild(n.div),S(0,n,a,r),o.displayState=n.div,r.push(w.getSimpleBoxPosition(n))}()}else for(var o=0;o<t.length;o++)i.appendChild(t[o].displayState)},k.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},k.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof a))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,n=this;function i(){for(var e=n.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),i}e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var u=(r=i()).match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new a(a.Errors.BadSignature);n.state="HEADER"}for(var h=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(h?h=!1:r=i(),n.state){case"HEADER":/:/.test(r)?(t=r).match(/X-TIMESTAMP-MAP/)?l(t,(function(e,t){"X-TIMESTAMP-MAP"===e&&function(e){var t=new o;l(e,(function(e,n){switch(e){case"MPEGT":t.integer(e+"S",n);break;case"LOCA":t.set(e+"L",s(n))}}),/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}(t)}),/=/):l(t,(function(e,t){"Region"===e&&function(e){var t=new o;if(l(e,(function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var r=new o;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;t.set(e+"X",r.get("x")),t.set(e+"Y",r.get("y"));break;case"scroll":t.alt(e,n,["up"])}}),/=/,/\s/),t.has("id")){var i=new(n.vttjs.VTTRegion||n.window.VTTRegion);i.width=t.get("width",100),i.lines=t.get("lines",3),i.regionAnchorX=t.get("regionanchorX",0),i.regionAnchorY=t.get("regionanchorY",100),i.viewportAnchorX=t.get("viewportanchorX",0),i.viewportAnchorY=t.get("viewportanchorY",100),i.scroll=t.get("scroll",""),n.onregion&&n.onregion(i),n.regionList.push({id:t.get("id"),region:i})}}(t)}),/:/):r||(n.state="ID");continue;case"NOTE":r||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){n.state="NOTE";break}if(!r)continue;n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,"");try{n.cue.align="center"}catch(e){n.cue.align="middle"}if(n.state="CUE",-1===r.indexOf("--\x3e")){n.cue.id=r;continue}case"CUE":try{c(r,n.cue,n.regionList)}catch(e){n.reportOrThrowError(e),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var d=-1!==r.indexOf("--\x3e");if(!r||d&&(h=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(n.state="ID");continue}}}catch(e){n.reportOrThrowError(e),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new a(a.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=k},2230:e=>{var t={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function i(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}function r(e,n,r){this.hasBeenReset=!1;var a="",s=!1,o=e,l=n,c=r,u=null,h="",d=!0,f="auto",p="start",m="auto",g="auto",y=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return a},set:function(e){a=""+e}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(e){s=!!e}},startTime:{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");o=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(e){u=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return h},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===n)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");h=n,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(e){d=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return p},set:function(e){var t=i(e);t?(p=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=i(e);t?(g=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(e){var t=i(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=t,this.hasBeenReset=!0}}}),this.displayState=void 0}r.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=r},3710:e=>{var t={"":!0,up:!0};function n(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,i=3,r=0,a=100,s=0,o=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!n(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");i=e}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!n(e))throw new Error("RegionAnchorX must be between 0 and 100.");a=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!n(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!n(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!n(e))throw new Error("ViewportAnchorX must be between 0 and 100.");s=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);!1===n?console.warn("Scroll: an invalid or illegal string was specified."):l=n}}})}},7529:e=>{e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)t.call(i,r)&&(e[r]=i[r])}return e};var t=Object.prototype.hasOwnProperty},4835:(e,t,n)=>{const i=n(4580);e.exports=class{static async getChannelVideosNewest(e,t,n=null){const r=i.create(n),a=await r.decideUrlRequestType(e,"videos?flow=grid&view=0&pbj=1",t);return await r.parseChannelVideoResponse(a.response,e,a.channelIdType)}static async getChannelVideosOldest(e,t,n=null){const r=i.create(n),a=await r.decideUrlRequestType(e,"videos?view=0&sort=da&flow=grid&pbj=1",t);return await r.parseChannelVideoResponse(a.response,e,a.channelIdType)}static async getChannelVideosPopular(e,t,n=null){const r=i.create(n),a=await r.decideUrlRequestType(e,"videos?view=0&sort=p&flow=grid&pbj=1",t);return await r.parseChannelVideoResponse(a.response,e,a.channelIdType)}}},1047:(e,t,n)=>{const i=n(4580),r=n(4580);e.exports=class{static async getChannelPlaylistLast(e,t,n=null){const i=r.create(n),a=await i.decideUrlRequestType(e,"playlists?flow=grid&sort=lad&view=1&pbj=1",t);return await this.parseChannelPlaylistResponse(a.response,a.channelIdType)}static async getChannelPlaylistNewest(e,t,n=null){const i=r.create(n),a=await i.decideUrlRequestType(e,"playlists?view=1&sort=dd&flow=grid&pbj=1",t);return await this.parseChannelPlaylistResponse(a.response,a.channelIdType)}static async parseChannelPlaylistResponse(e,t,n=null){let a,s,o,l=e.data.response;if(void 0===l&&(l=e.data[1].response),void 0!==l.alerts)return{alertMessage:l.alerts[0].alertRenderer.text.simpleText};"metadata"in l&&(s=l.metadata.channelMetadataRenderer,a=s.title,o=s.externalId);const c=r.create(n),u={channelId:o,channelName:a,channelUrl:`https://www.youtube.com/channel/${o}`};let h;const d=i.findTab(l.contents.twoColumnBrowseResultsRenderer.tabs);if(d&&"sectionListRenderer"in d.tabRenderer.content&&(h=d.tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0].gridRenderer),void 0===h)return{continuation:null,items:[]};const f=h.items.filter((e=>void 0===e.gridShowRenderer&&void 0===e.continuationItemRenderer)).map((e=>{const t=c.parsePlaylist(e,u);if(null!==t)return t}));let p=null;const m=h.items.filter((e=>void 0!==e.continuationItemRenderer));return void 0!==m&&m.length>0&&(p=m[0].continuationItemRenderer.continuationEndpoint.continuationCommand.token),{continuation:p,items:f,channelIdType:t}}}},4580:(e,t,n)=>{const i=n(5700);class r{constructor(e){this.session=i.create({timeout:1e4,headers:{"X-YouTube-Client-Name":"1","X-YouTube-Client-Version":"2.20201021.03.00","accept-language":"en-US,en;q=0.9"},httpsAgent:e})}async makeChannelRequest(e){try{return await this.session.get(e)}catch(e){return{error:!0,message:e}}}async makeChannelPost(e,t){try{return await this.session({url:e,method:"post",data:t})}catch(e){return{error:!0,message:e}}}async parseChannelVideoResponse(e,t,n){let i,a,s=e.data.response;if(void 0===s&&(s=e.data[1].response),void 0!==s.alerts)return{alertMessage:s.alerts[0].alertRenderer.text.simpleText};"metadata"in s&&(i=s.metadata.channelMetadataRenderer,a=i.title);const o=r.findTab(s.contents.twoColumnBrowseResultsRenderer.tabs);let l;if(o&&"richGridRenderer"in o.tabRenderer.content)l={items:o.tabRenderer.content.richGridRenderer.contents};else if(o&&"sectionListRenderer"in o.tabRenderer.content){const e=o.tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0];"reelShelfRenderer"in e&&(l=e.reelShelfRenderer)}if(void 0===l)return{items:[],continuation:null};let c=null;const u=l.items.filter((e=>void 0!==e.continuationItemRenderer));u.length>0&&(c=u[0].continuationItemRenderer.continuationEndpoint.continuationCommand.token);const h={channelId:t,channelName:a};return{items:l.items.filter((e=>void 0===e.continuationItemRenderer)).map((e=>this.parseVideo(e,h))),continuation:c,channelIdType:n}}parseFeaturedChannel(e){let t;t=void 0!==e.title.runs?e.title.runs[0].text:e.title.simpleText;const n=e.channelId,i=e.navigationEndpoint.browseEndpoint.canonicalBaseUrl,r=e.thumbnail.thumbnails;let a,s=0;"videoCountText"in e&&(s=e.videoCountText.runs[0].text),a=e.subscriberCountText?void 0!==e.subscriberCountText.runs?e.subscriberCountText.runs[0].text:e.subscriberCountText.simpleText:"0 subscribers";const o=a.split(" "),l=o[0].substring(o[0].length-1).toLowerCase();let c;c=void 0===parseFloat(l)?parseFloat(a.substring(0,o[0].length-1)):parseFloat(o[0]);let u=c,h=!1,d=!1;return"ownerBadges"in e&&(h=e.ownerBadges.some((e=>"BADGE_STYLE_TYPE_VERIFIED"===e.metadataBadgeRenderer.style)),d=e.ownerBadges.some((e=>"BADGE_STYLE_TYPE_VERIFIED_ARTIST"===e.metadataBadgeRenderer.style))),"k"===l?u*=1e3:"m"===l&&(u*=1e6),{channelName:t,channelId:n,channelUrl:i,thumbnail:r,videoCount:s,subscriberText:a,subscriberCount:u,verified:h,officialArtist:d}}parseVideo(e,t){let n,i,r,a,s=!1,o=!1,l=!1,c=0,u="";void 0!==e.richItemRenderer?(n=e.richItemRenderer.content.videoRenderer,n.lengthSeconds=n.lengthText.simpleText.split(":").reduce(((e,t)=>60*e+ +t)),n.title.simpleText=n.title.runs.at(0).text):void 0!==e.reelItemRenderer?(n=e.reelItemRenderer,n.title=n.headline,n.publishedTimeText={simpleText:""}):n=void 0===e.gridVideoRenderer&&void 0!==e.videoRenderer?e.videoRenderer:void 0!==e.gridVideoRenderer?e.gridVideoRenderer:e.channelVideoPlayerRenderer;let h,d=n.title.simpleText;if("channelVideoPlayerRenderer"in e||"reelItemRenderer"in e||(h=n.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer),void 0===d&&(d=n.title.runs[0].text),void 0!==n.shortViewCountText&&void 0===n.shortViewCountText.simpleText)s=!0,u="Live",i=parseInt(n.viewCountText.runs[0].text.split(",").join("")),r=n.shortViewCountText.runs[0].text+n.shortViewCountText.runs[1].text;else if(void 0!==h&&void 0!==h.text&&void 0!==h.text.runs)o=!0,a="PREMIERE",i=0,r="0 views",u=new Date(parseInt(1e3*n.upcomingEventData.startTime)).toLocaleString();else if(void 0===n.viewCountText){if(l=!0,void 0===n.publishedTimeText){const e=new RegExp("^.*"+t.channelName+" (.*?) ago.*","g");u=n.title.accessibility.accessibilityData.label.replace(e,"$1")}else u=n.publishedTimeText.simpleText;a="PREMIERE",i=0,r="0 views"}else if(i=parseInt(n.viewCountText.simpleText.split(" ")[0].split(",").join("")),r=n.viewCountText.simpleText,u=n.publishedTimeText.simpleText,"channelVideoPlayerRenderer"in e||"reelItemRenderer"in e||void 0===n.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer)c=0;else{a=n.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer.text.simpleText;const e=a.split(":");if(3===e.length)c=3600*parseInt(e[0])+60*parseInt(e[1])+parseInt(e[2]);else if(2===e.length)c=60*parseInt(e[0])+parseInt(e[1]);else if("SHORTS"===e[0]){const e=/[^0-9\s]/g,t=n.title.accessibility.accessibilityData.label.replace(e,"").trim().split(" ").filter((e=>""!==e));c=parseInt(t[t.length-2]),1===c?(c*=60,a="1:00"):a="0:"+c.toString().padStart(2,"0")}}let f=[];return"channelVideoPlayerRenderer"in e?u=n.publishedTimeText.runs[0].text:f=n.thumbnail.thumbnails,{type:"video",title:d,videoId:n.videoId,author:t.channelName,authorId:t.channelId,videoThumbnails:f,viewCountText:r,viewCount:i,publishedText:u,durationText:a,lengthSeconds:c,liveNow:s,premiere:o,premium:l}}parseCommunityPage(e,t){let n=e.data.match(/ytInitialData.+?(?=;<\/script>)/)[0],i=e.data.match(/innertubeApiKey.+?(?=innertubeApiVersion)/)[0];i=i.substring(18,i.length-3),n=n.substring(16,n.length);let a=JSON.parse(n);if(void 0!==a.alerts)return{alertMessage:a.alerts[0].alertRenderer.text.simpleText};const s=r.findTab(a.contents.twoColumnBrowseResultsRenderer.tabs);if(s){if(a=s.tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer,"continuationItemRenderer"in a.contents[a.contents.length-1])return{items:this.createCommunityPostArray(a.contents),continuation:a.contents[a.contents.length-1].continuationItemRenderer.continuationEndpoint.continuationCommand.token,innerTubeApi:i,channelIdType:t}}else a={contents:[]};return{items:this.createCommunityPostArray(a.contents),continuation:null,innerTubeApi:null,channelIdType:t}}createCommunityPostArray(e){const t=[];return e.forEach((e=>{if("continuationItemRenderer"in e)return;if("sharedPostRenderer"in e.backstagePostThreadRenderer.post){const n=this.parseSharedPost(e);return void t.push(n)}const n={postText:"",postId:e.backstagePostThreadRenderer.post.backstagePostRenderer.postId,author:e.backstagePostThreadRenderer.post.backstagePostRenderer.authorText.runs[0].text,authorId:this.extractChannelId(e.backstagePostThreadRenderer.post.backstagePostRenderer.authorEndpoint),authorThumbnails:e.backstagePostThreadRenderer.post.backstagePostRenderer.authorThumbnail.thumbnails,publishedText:e.backstagePostThreadRenderer.post.backstagePostRenderer.publishedTimeText.runs[0].text,voteCount:e.backstagePostThreadRenderer.post.backstagePostRenderer.voteCount.simpleText,postContent:null,commentCount:"text"in e.backstagePostThreadRenderer.post.backstagePostRenderer.actionButtons.commentActionButtonsRenderer.replyButton.buttonRenderer?e.backstagePostThreadRenderer.post.backstagePostRenderer.actionButtons.commentActionButtonsRenderer.replyButton.buttonRenderer.text.simpleText:"0"};if("runs"in e.backstagePostThreadRenderer.post.backstagePostRenderer.contentText&&e.backstagePostThreadRenderer.post.backstagePostRenderer.contentText.runs.forEach(((e,t)=>{n.postText+="navigationEndpoint"in e?this.extractLinks(e)+" ":e.text+" "})),"backstageAttachment"in e.backstagePostThreadRenderer.post.backstagePostRenderer)if("backstageImageRenderer"in e.backstagePostThreadRenderer.post.backstagePostRenderer.backstageAttachment)n.postContent={type:"image",content:e.backstagePostThreadRenderer.post.backstagePostRenderer.backstageAttachment.backstageImageRenderer.image.thumbnails};else if("pollRenderer"in e.backstagePostThreadRenderer.post.backstagePostRenderer.backstageAttachment){const t=e.backstagePostThreadRenderer.post.backstagePostRenderer.backstageAttachment.pollRenderer;n.postContent={type:"poll",content:{choices:t.choices.map((e=>e.text.runs[0].text)),totalVotes:t.totalVotes.simpleText}}}else if("videoRenderer"in e.backstagePostThreadRenderer.post.backstagePostRenderer.backstageAttachment){const t=e.backstagePostThreadRenderer.post.backstagePostRenderer.backstageAttachment.videoRenderer;n.postContent={type:"video",content:{videoId:t.videoId,title:t.title.runs[0].text,description:"",publishedText:t.publishedTimeText.simpleText,lengthText:t.lengthText.simpleText,viewCountText:t.viewCountText.simpleText,badges:{verified:!1,officialArtist:!1},author:t.ownerText.runs[0].text,authorId:this.extractChannelId(t.ownerText.runs[0].navigationEndpoint),thumbnails:t.thumbnail.thumbnails}},"descriptionSnippet"in t&&(n.postContent.content.description=t.descriptionSnippet.runs[0].text),"ownerBadges"in t&&t.ownerBadges.forEach((e=>{n.postContent.content.badges.officialArtist="Official Artist Channel"===e.metadataBadgeRenderer.tooltip||n.postContent.content.badges.officialArtist,n.postContent.content.badges.verified="Verified"===e.metadataBadgeRenderer.tooltip||n.postContent.content.badges.verified}))}else if("playlistRenderer"in e.backstagePostThreadRenderer.post.backstagePostRenderer.backstageAttachment){const t=e.backstagePostThreadRenderer.post.backstagePostRenderer.backstageAttachment.playlistRenderer;n.postContent={type:"playlist",content:{playlistId:t.playlistId,title:t.title.simpleText,playlistVideoRenderer:[],videoCountText:t.videoCountText.runs[0],ownerBadges:t.ownerBadges,author:t.longBylineText.runs[0].text,authorId:this.extractChannelId(t.longBylineText.runs[0].navigationEndpoint),thumbnails:t.thumbnails}},t.videos.forEach((e=>{n.postContent.content.playlistVideoRenderer.push({title:e.childVideoRenderer.title.simpleText,videoId:e.childVideoRenderer.videoId,lengthText:e.childVideoRenderer.lengthText.simpleText})}))}else"postMultiImageRenderer"in e.backstagePostThreadRenderer.post.backstagePostRenderer.backstageAttachment?n.postContent={type:"multiImage",content:e.backstagePostThreadRenderer.post.backstagePostRenderer.backstageAttachment.postMultiImageRenderer.images.map((e=>e.backstageImageRenderer.image.thumbnails))}:(console.error("New type of post detected. Please report this to the repository with the log and channel that was scraped"),console.log(e.backstagePostThreadRenderer.post.backstagePostRenderer.backstageAttachment.keys()));t.push(n)})),t}extractChannelId(e){const t=e.commandMetadata.webCommandMetadata.url.split("/");return t[t.length-1]}extractLinks(e){if("urlEndpoint"in e.navigationEndpoint){const t=e.navigationEndpoint.urlEndpoint.url,n=t.match(/&q=(.)+/);return null!==n?decodeURIComponent(n[0].substring(3)):t}return e.text}parseSharedPost(e){const t={postText:"",postId:e.backstagePostThreadRenderer.post.sharedPostRenderer.postId,author:e.backstagePostThreadRenderer.post.sharedPostRenderer.displayName.runs[0].text,authorThumbnails:e.backstagePostThreadRenderer.post.sharedPostRenderer.thumbnail.thumbnails,publishedText:e.backstagePostThreadRenderer.post.sharedPostRenderer.publishedTimeText.runs[0].text,voteCount:e.backstagePostThreadRenderer.post.sharedPostRenderer.originalPost.backstagePostRenderer.voteCount.simpleText,postContent:null,commentCount:"text"in e.backstagePostThreadRenderer.post.sharedPostRenderer.originalPost.backstagePostRenderer.actionButtons.commentActionButtonsRenderer.replyButton.buttonRenderer?e.backstagePostThreadRenderer.post.sharedPostRenderer.originalPost.backstagePostRenderer.actionButtons.commentActionButtonsRenderer.replyButton.buttonRenderer.text.simpleText:"0"};return e.backstagePostThreadRenderer.post.sharedPostRenderer.content.runs.forEach(((e,n)=>{t.postText+=0!==n?" "+e.text:e.text})),t}parseMix(e,t){const n=e.compactStationRenderer;return{playlistId:n.navigationEndpoint.watchEndpoint.playlistId,title:n.title.simpleText,description:n.description.simpleText,videoCount:parseInt(n.videoCountText.runs[0].text),url:n.navigationEndpoint.commandMetadata.url,thumbnails:n.thumbnail.thumbnails}}parsePlaylist(e,t){if(void 0!==e.gridShowRenderer)return;let n,i,r,a;if(void 0===e.gridPlaylistRenderer&&void 0!==e.playlistRenderer){if(n=e.playlistRenderer,void 0===n)return null;i=n.thumbnails[0].thumbnails,r=n.title.simpleText,a=parseInt(n.videoCount)}else{if(n=e.gridPlaylistRenderer,void 0===n)return null;i=n.thumbnail.thumbnails,r="simpleText"in n.title?n.title.simpleText:n.title.runs[0].text,a=parseInt(n.videoCountShortText.simpleText)}return{title:r,type:"playlist",playlistThumbnail:i[i.length-1].url,author:t.channelName,authorUrl:t.channelUrl,authorId:t.channelId,playlistId:n.playlistId,playlistUrl:`https://www.youtube.com/playlist?list=${n.playlistId}`,videoCount:a}}parseHomeItem(e,t){let n="",i=null,r=[],a="video";if("richSectionRenderer"in e){const i=e.richSectionRenderer.content.richShelfRenderer;n=i.title.simpleText,a="verticalVideoList",r=i.contents.map((e=>this.parseVideo(e.richItemRenderer.content,t)))}else if("richItemRenderer"in e)r=[this.parseVideo(e.richItemRenderer.content,t)];else if("itemSectionRenderer"in e){const s=e.itemSectionRenderer.contents[0].shelfRenderer;if("runs"in s.title){const e=s.title.runs[0];"navigationEndpoint"in e&&(i=e.navigationEndpoint.commandMetadata.webCommandMetadata.url),n=e.text}else n=s.title.simpleText,i=s.endpoint.commandMetadata.webCommandMetadata.url;if(null===i){let e;"expandedShelfContentsRenderer"in s.content?(a="verticalVideoList",e=s.content.expandedShelfContentsRenderer,r=e.items.map((e=>this.parseVideo(e,t)))):(a="playlist",e=s.content.horizontalListRenderer,r=e.items.map((e=>this.parsePlaylist(e,t))))}else/\?list=/.test(i)?(a="playlist",r="horizontalListRenderer"in s.content?s.content.horizontalListRenderer.items.map((e=>this.parseVideo(e,t))):s.content.expandedShelfContentsRenderer.items.map((e=>this.parseVideo(e,t)))):/\/channels/.test(i)?(a="channels",r=s.content.horizontalListRenderer.items.map((e=>this.parseFeaturedChannel(e.gridChannelRenderer)))):/\/videos/.test(i)?(a="videos",r=s.content.horizontalListRenderer.items.map((e=>this.parseVideo(e,t)))):/\/playlists/.test(i)&&(null!=s.content.horizontalListRenderer.items[0].compactStationRenderer?(a="mix",r=s.content.horizontalListRenderer.items.map((e=>this.parseMix(e,t)))):(a="playlists",r=s.content.horizontalListRenderer.items.map((e=>this.parsePlaylist(e,t)))))}return{shelfName:n,type:a,shelfUrl:i,items:r}}async decideUrlRequestType(e,t,n){switch(n){case 0:default:return this.performChannelPageRequestWithFallbacks(e,t);case 1:return this.performChannelUrlRequest(e,t);case 2:return this.performUserUrlRequest(e,t);case 3:return this.performCUrlRequest(e,t)}}async performChannelPageRequestWithFallbacks(e,t){const n=`https://www.youtube.com/channel/${e}/${t}`;let i=1,r=await this.makeChannelRequest(n);if(r.error){const n=`https://www.youtube.com/user/${e}/${t}`;if(r=await this.makeChannelRequest(n),i=2,r.error){const n=`https://www.youtube.com/c/${e}/${t}`;if(r=await this.makeChannelRequest(n),i=3,r.error)return Promise.reject(r.message)}}return{response:r,channelIdType:i}}async performChannelUrlRequest(e,t){const n=`https://www.youtube.com/channel/${e}/${t}`,i=await this.makeChannelRequest(n);return i.error?Promise.reject(i.message):{response:i,channelIdType:1}}async performUserUrlRequest(e,t){const n=`https://www.youtube.com/user/${e}/${t}`,i=await this.makeChannelRequest(n);return i.error?Promise.reject(i.message):{response:i,channelIdType:2}}async performCUrlRequest(e,t){const n=`https://www.youtube.com/c/${e}/${t}`,i=await this.makeChannelRequest(n);return i.error?Promise.reject(i.message):{response:i,channelIdType:3}}static findTab(e){return e.find((e=>!0===e?.tabRenderer?.selected))}static create(e){return new r(e)}}e.exports=r},627:(e,t,n)=>{const i=n(4580),r=n(4835),a=n(1047);e.exports=class{static async getChannelInfo({channelId:e,channelIdType:t=0,httpAgent:n=null}){const r=i.create(n),a=await r.decideUrlRequestType(e,"channels?flow=grid&view=0&pbj=1",t),s=a.response;let o,l=s.data.response;void 0===s.data.response&&(l=s.data[1].response),"c4TabbedHeaderRenderer"in l.header&&(o=l.header.c4TabbedHeaderRenderer.headerLinks);const c={primaryLinks:[],secondaryLinks:[]};if(void 0!==o){const e=o.channelHeaderLinksRenderer;c.primaryLinks=e.primaryLinks.map((e=>{const t=e.navigationEndpoint.urlEndpoint.url,n=t.match("&q=(.*)");return{url:null===n?t:decodeURIComponent(n[1]),icon:e.icon.thumbnails[0].url,title:e.title.simpleText}})),void 0!==e.secondaryLinks&&(c.secondaryLinks=e.secondaryLinks.map((e=>{const t=e.navigationEndpoint.urlEndpoint.url,n=t.match("&q=(.*)");return{url:null===n?t:decodeURIComponent(n[1]),icon:e.icon.thumbnails[0].url,title:e.title.simpleText}})))}if(void 0!==l.alerts)return{alertMessage:l.alerts[0].alertRenderer.text.simpleText};const u=l?.metadata?.channelMetadataRenderer;let h=l.header.c4TabbedHeaderRenderer;h||(h=l.header.carouselHeaderRenderer.contents[1].topicChannelDetailsRenderer);const d=l.contents.twoColumnBrowseResultsRenderer.tabs,f=d.filter((e=>void 0!==e.tabRenderer&&null!==e.tabRenderer)).map((e=>e.tabRenderer.title)),p=i.findTab(d);let m={};p&&"sectionListRenderer"in p.tabRenderer.content&&(m=p.tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0]);let g,y=[],v=null;if(void 0!==m.gridRenderer){y=m.gridRenderer.items.filter((e=>void 0!==e.gridChannelRenderer)).map((e=>r.parseFeaturedChannel(e.gridChannelRenderer)));const e=m.gridRenderer.items.filter((e=>void 0!==e.continuationItemRenderer));void 0!==e&&void 0!==e[0]&&(v=e[0].continuationItemRenderer.continuationEndpoint.continuationCommand.token)}g=h.subscriberCountText?void 0!==h.subscriberCountText.runs?h.subscriberCountText.runs[0].text:h.subscriberCountText.simpleText:"0 subscribers";let b=null;void 0!==h.banner&&(b=h.banner.thumbnails);const _=g.split(" "),w=_[0].substring(_[0].length-1).toLowerCase();let S;S=void 0===parseFloat(w)?parseFloat(g.substring(0,_[0].length-1)):parseFloat(_[0]);let k=S;"k"===w?k*=1e3:"m"===w&&(k*=1e6);let T=!1,C=!1;h.badges&&(T=h.badges.some((e=>"BADGE_STYLE_TYPE_VERIFIED"===e.metadataBadgeRenderer.style)),C=h.badges.some((e=>"BADGE_STYLE_TYPE_VERIFIED_ARTIST"===e.metadataBadgeRenderer.style)));const x=l?.microformat?.microformatDataRenderer?.tags||null;return{author:u?.title??h.title.simpleText,authorId:u?.externalId??h.navigationEndpoint.browseEndpoint.browseId,authorUrl:u?.vanityChannelUrl??h.navigationEndpoint.commandMetadata.webCommandMetadata.url,authorBanners:b,authorThumbnails:h.avatar.thumbnails,subscriberText:g,subscriberCount:k,description:u?.description??"",isFamilyFriendly:u?.isFamilySafe??!1,relatedChannels:{items:y,continuation:v},allowedRegions:u?.availableCountryCodes??[],isVerified:T,isOfficialArtist:C,tags:x,channelLinks:c,channelTabs:f,channelIdType:a.channelIdType}}static async getRelatedChannelsMore({continuation:e,httpAgent:t=null}){const n=i.create(t),r=this.GetContinuationUrlParams(e),a=await n.makeChannelPost("https://www.youtube.com/youtubei/v1/browse?key=AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",r);if(a.error)return Promise.reject(a.message);let s=null;const o=a.data.onResponseReceivedActions[0].appendContinuationItemsAction.continuationItems,l=o.filter((e=>void 0!==e.continuationItemRenderer));void 0!==l&&void 0!==l[0]&&(s=l[0].continuationItemRenderer.continuationEndpoint.continuationCommand.token);let c=[];return c=o.filter((e=>void 0!==e.gridChannelRenderer)).map((e=>{const t=e.gridChannelRenderer;let n;return n=void 0!==t.title.runs?t.title.runs[0].text:t.title.simpleText,{author:n,authorId:t.channelId,authorUrl:t.navigationEndpoint.browseEndpoint.canonicalBaseUrl,authorThumbnails:t.thumbnail.thumbnails}})),{items:c,continuation:s}}static async getChannelVideos({channelId:e,sortBy:t="newest",channelIdType:n=0,httpAgent:i=null}){return"popular"===t?await r.getChannelVideosPopular(e,n,i):"oldest"===t?await r.getChannelVideosOldest(e,n,i):await r.getChannelVideosNewest(e,n,i)}static async getChannelVideosMore({continuation:e,httpAgent:t=null}){const n=i.create(t),r=this.GetContinuationUrlParams(e),a=await n.makeChannelPost("https://www.youtube.com/youtubei/v1/browse?key=AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",r);if(a.error)return Promise.reject(a.message);let s=null;const o=a.data.onResponseReceivedActions[0].appendContinuationItemsAction.continuationItems,l=o.filter((e=>void 0!==e.continuationItemRenderer));void 0!==l&&void 0!==l[0]&&(s=l[0].continuationItemRenderer.continuationEndpoint.continuationCommand.token);const c=a.data?.metadata?.channelMetadataRenderer;let u={};if(c){const e=c.title,t=c.externalId;u={channelId:t,channelName:e}}else{const e=o[0].richItemRenderer.content.videoRenderer.title,t=o[0].richItemRenderer.content.videoRenderer.publishedTimeText;u={channelId:a.data.responseContext.serviceTrackingParams.find((e=>"GOOGLE_HELP"===e.service)).params[0].value,channelName:new RegExp(`${e.runs[0].text} by (.*?) ${t.simpleText}`,"g").exec(e.accessibility.accessibilityData.label)[1]}}return{items:o.filter((e=>void 0===e.continuationItemRenderer)).map((e=>n.parseVideo(e,u))),continuation:s}}static async getChannelPlaylistInfo({channelId:e,sortBy:t="last",channelIdType:n=0,httpAgent:i=null}){return"newest"===t?await a.getChannelPlaylistNewest(e,n,i):await a.getChannelPlaylistLast(e,n,i)}static async getChannelPlaylistsMore({continuation:e,httpAgent:t=null}){const n=i.create(t),r=this.GetContinuationUrlParams(e),a=await n.makeChannelPost("https://www.youtube.com/youtubei/v1/browse?key=AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",r);if(a.error)return Promise.reject(a.message);let s=null;const o=a.data.onResponseReceivedActions[0].appendContinuationItemsAction.continuationItems,l=o.filter((e=>void 0!==e.continuationItemRenderer));void 0!==l&&void 0!==l[0]&&(s=l[0].continuationItemRenderer.continuationEndpoint.continuationCommand.token);const c=a.data.metadata.channelMetadataRenderer,u=c.title,h=c.externalId,d={channelId:h,channelName:u,channelUrl:`https://www.youtube.com/channel/${h}`};return{items:o.filter((e=>void 0===e.gridShowRenderer&&void 0===e.continuationItemRenderer)).map((e=>n.parsePlaylist(e,d))),continuation:s}}static async searchChannel({channelId:e,query:t="",channelIdType:n=0,httpAgent:r=null}){const a=i.create(r),s=new URLSearchParams({query:t,flow:"grid",view:0,pbj:1}),o=(await a.decideUrlRequestType(e,`search?${s}`,n)).response;let l=o.data.response;if(void 0===l&&(l=o.data[1].response),void 0!==l.alerts)return{alertMessage:l.alerts[0].alertRenderer.text.simpleText};const c={channelId:e,channelName:l.metadata.channelMetadataRenderer.title,channelUrl:`https://www.youtube.com/channel/${e}`},u=l.contents.twoColumnBrowseResultsRenderer.tabs.findIndex((e=>void 0!==e.expandableTabRenderer));let h=null;const d=l.contents.twoColumnBrowseResultsRenderer.tabs[u].expandableTabRenderer.content.sectionListRenderer.contents,f=d.filter((e=>void 0!==e.continuationItemRenderer));return void 0!==f&&void 0!==f[0]&&(h=f[0].continuationItemRenderer.continuationEndpoint.continuationCommand.token),void 0!==d[0].itemSectionRenderer.contents[0].messageRenderer?{continuation:null,items:[]}:{continuation:h,items:d.filter((e=>void 0===e.continuationItemRenderer)).map((e=>{const t=e.itemSectionRenderer.contents[0];return void 0!==t.playlistRenderer?a.parsePlaylist(t,c):a.parseVideo(t,c)}))}}static async searchChannelMore({continuation:e,httpAgent:t=null}){const n=i.create(t),r=this.GetContinuationUrlParams(e),a=await n.makeChannelPost("https://www.youtube.com/youtubei/v1/browse?key=AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",r);if(a.error)return Promise.reject(a.message);let s=null;const o=a.data.onResponseReceivedActions[0].appendContinuationItemsAction.continuationItems,l=o.filter((e=>void 0!==e.continuationItemRenderer));void 0!==l&&void 0!==l[0]&&(s=l[0].continuationItemRenderer.continuationEndpoint.continuationCommand.token);const c=a.data.metadata.channelMetadataRenderer,u=c.title,h={channelId:c.externalId,channelName:u};return{items:o.filter((e=>void 0===e.continuationItemRenderer)).map((e=>{const t=e.itemSectionRenderer.contents[0];return n.parseVideo(t,h)})),continuation:s}}static async getChannelCommunityPosts({channelId:e,channelIdType:t=0,httpAgent:n=null}){const r=i.create(n),a=await r.decideUrlRequestType(e,"community",t);return r.parseCommunityPage(a.response,a.channelIdType)}static async getChannelCommunityPostsMore({continuation:e,innerTubeApi:t,httpAgent:n=null}){const r=i.create(n),a=await r.makeChannelPost(`https://www.youtube.com/youtubei/v1/browse?key=${t}`,this.GetContinuationUrlParams(e));if(a.error)return Promise.reject(a.message);const s=a.data.onResponseReceivedEndpoints[0].appendContinuationItemsAction.continuationItems,o="continuationItemRenderer"in s[s.length-1]?s[s.length-1].continuationItemRenderer.continuationEndpoint.continuationCommand.token:null;return{items:r.createCommunityPostArray(s),continuation:o,innerTubeApi:t}}static async getChannelStats({channelId:e,channelIdType:t=0,httpAgent:n=null}){const r=i.create(n),a=(await r.decideUrlRequestType(e,"about?flow=grid&view=0&pbj=1",t)).response.data[1].response;if(void 0!==a.alerts)return{alertMessage:a.alerts[0].alertRenderer.text.simpleText};const s=a.contents.twoColumnBrowseResultsRenderer.tabs,o=i.findTab(s);let l="0",c="unknown",u=null;if(void 0!==o){const e=o.tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0];u=Date.parse(e.channelAboutFullMetadataRenderer.joinedDateText.runs[1].text),"viewCountText"in e.channelAboutFullMetadataRenderer&&(l=e.channelAboutFullMetadataRenderer.viewCountText.simpleText.replace(/\D/g,"")),"country"in e.channelAboutFullMetadataRenderer&&(c=e.channelAboutFullMetadataRenderer.country.simpleText)}return{joinedDate:u,viewCount:parseInt(l),location:c}}static async getChannelHome({channelId:e,channelIdType:t=0,httpAgent:n=null}){const r=i.create(n),a=(await r.decideUrlRequestType(e,"home?flow=grid&view=0&pbj=1",t)).response;let s=a.data.response;if(void 0===s&&(s=a.data[1].response),void 0!==s.alerts)return{alertMessage:s.alerts[0].alertRenderer.text.simpleText};const o=s.contents.twoColumnBrowseResultsRenderer.tabs;let l,c;if("metadata"in s)l=s.metadata.channelMetadataRenderer.title,c=s.metadata.channelMetadataRenderer.vanityChannelUrl;else{const e=a.data[1].response.header.carouselHeaderRenderer.contents[1].topicChannelDetailsRenderer;l=e.title,c=e.navigationEndpoint.browseEndpoint.canonicalBaseUrl}const u={channelId:e,channelName:l,channelUrl:c},h=i.findTab(o);let d=null,f=[];return"sectionListRenderer"in h.tabRenderer.content?f=h.tabRenderer.content.sectionListRenderer.contents.filter((e=>"shelfRenderer"in e.itemSectionRenderer.contents[0]||("channelVideoPlayerRenderer"in e.itemSectionRenderer.contents[0]&&(d=r.parseVideo(e.itemSectionRenderer.contents[0],u)),!1))):"richGridRenderer"in o[0].tabRenderer.content?f=o[0].tabRenderer.content.richGridRenderer.contents:"sectionListRenderer"in o[0].tabRenderer.content&&(f=o[0].tabRenderer.content.sectionListRenderer.contents),f=f.map((e=>r.parseHomeItem(e,u))),{featuredVideo:d,items:f}}static GetContinuationUrlParams(e){return{context:{client:{clientName:"WEB",clientVersion:"2.20201021.03.00"}},continuation:e}}}},7721:(e,t,n)=>{e.exports=n(627)},1657:(e,t,n)=>{var i;e.exports=function(){if(!i){try{i=n(1227)("follow-redirects")}catch(e){}"function"!=typeof i&&(i=function(){})}i.apply(null,arguments)}},6453:(e,t,n)=>{var i=n(8575),r=i.URL,a=n(8501),s=n(9267),o=n(2830).Writable,l=n(8583),c=n(1657),u=["abort","aborted","connect","error","socket","timeout"],h=Object.create(null);u.forEach((function(e){h[e]=function(t,n,i){this._redirectable.emit(e,t,n,i)}}));var d=S("ERR_INVALID_URL","Invalid URL",TypeError),f=S("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),p=S("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),m=S("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),g=S("ERR_STREAM_WRITE_AFTER_END","write after end");function y(e,t){o.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(e){n._processResponse(e)},this._performRequest()}function v(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach((function(a){var s=a+":",o=n[s]=e[a],u=t[a]=Object.create(o);Object.defineProperties(u,{request:{value:function(e,a,o){if(T(e)){var u;try{u=_(new r(e))}catch(t){u=i.parse(e)}if(!T(u.protocol))throw new d({input:e});e=u}else r&&e instanceof r?e=_(e):(o=a,a=e,e={protocol:s});return C(a)&&(o=a,a=null),(a=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,a)).nativeProtocols=n,T(a.host)||T(a.hostname)||(a.hostname="::1"),l.equal(a.protocol,s,"protocol mismatch"),c("options",a),new y(a,o)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,n){var i=u.request(e,t,n);return i.end(),i},configurable:!0,enumerable:!0,writable:!0}})})),t}function b(){}function _(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function w(e,t){var n;for(var i in t)e.test(i)&&(n=t[i],delete t[i]);return null==n?void 0:String(n).trim()}function S(e,t,n){function i(n){Error.captureStackTrace(this,this.constructor),Object.assign(this,n||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return i.prototype=new(n||Error),i.prototype.constructor=i,i.prototype.name="Error ["+e+"]",i}function k(e){for(var t of u)e.removeListener(t,h[t]);e.on("error",b),e.abort()}function T(e){return"string"==typeof e||e instanceof String}function C(e){return"function"==typeof e}y.prototype=Object.create(o.prototype),y.prototype.abort=function(){k(this._currentRequest),this.emit("abort")},y.prototype.write=function(e,t,n){if(this._ending)throw new g;if(!(T(e)||"object"==typeof(i=e)&&"length"in i))throw new TypeError("data should be a string, Buffer or Uint8Array");var i;C(t)&&(n=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new m),this.abort()):n&&n()},y.prototype.end=function(e,t,n){if(C(e)?(n=e,e=t=null):C(t)&&(n=t,t=null),e){var i=this,r=this._currentRequest;this.write(e,t,(function(){i._ended=!0,r.end(null,null,n)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,n)},y.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},y.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},y.prototype.setTimeout=function(e,t){var n=this;function i(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function r(t){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout((function(){n.emit("timeout"),a()}),e),i(t)}function a(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",a),n.removeListener("error",a),n.removeListener("response",a),t&&n.removeListener("timeout",t),n.socket||n._currentRequest.removeListener("socket",r)}return t&&this.on("timeout",t),this.socket?r(this.socket):this._currentRequest.once("socket",r),this.on("socket",i),this.on("abort",a),this.on("error",a),this.on("response",a),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){y.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(y.prototype,e,{get:function(){return this._currentRequest[e]}})})),y.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},y.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var n=e.slice(0,-1);this._options.agent=this._options.agents[n]}var r=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var a of(r._redirectable=this,u))r.on(a,h[a]);if(this._currentUrl=/^\//.test(this._options.path)?i.format(this._options):this._options.path,this._isRedirect){var s=0,o=this,l=this._requestBodyBuffers;!function e(t){if(r===o._currentRequest)if(t)o.emit("error",t);else if(s<l.length){var n=l[s++];r.finished||r.write(n.data,n.encoding,e)}else o._ended&&r.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},y.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n=e.headers.location;if(!n||!1===this._options.followRedirects||t<300||t>=400)return e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),void(this._requestBodyBuffers=[]);if(k(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)this.emit("error",new p);else{var r,a=this._options.beforeRedirect;a&&(r=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var s=this._options.method;((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],w(/^content-/i,this._options.headers));var o,u=w(/^host$/i,this._options.headers),h=i.parse(this._currentUrl),d=u||h.host,m=/^\w+:/.test(n)?this._currentUrl:i.format(Object.assign(h,{host:d}));try{o=i.resolve(m,n)}catch(e){return void this.emit("error",new f({cause:e}))}c("redirecting to",o),this._isRedirect=!0;var g=i.parse(o);if(Object.assign(this._options,g),(g.protocol!==h.protocol&&"https:"!==g.protocol||g.host!==d&&!function(e,t){l(T(e)&&T(t));var n=e.length-t.length-1;return n>0&&"."===e[n]&&e.endsWith(t)}(g.host,d))&&w(/^(?:authorization|cookie)$/i,this._options.headers),C(a)){var y={headers:e.headers,statusCode:t},v={url:m,method:s,headers:r};try{a(this._options,y,v)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){this.emit("error",new f({cause:e}))}}},e.exports=v({http:a,https:s}),e.exports.wrap=v},2741:(e,t,n)=>{"use strict";e.exports=n.p+"imgs/logoColor.png"},5275:(e,t,n)=>{"use strict";e.exports=n.p+"imgs/yt_logo_mono_dark.png"},651:e=>{"use strict";e.exports={}},5893:()=>{},9862:()=>{},964:()=>{},1408:()=>{},3646:()=>{},3083:(e,t,n)=>{"use strict";var i=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],r="undefined"==typeof globalThis?n.g:globalThis;e.exports=function(){for(var e=[],t=0;t<i.length;t++)"function"==typeof r[i[t]]&&(e[e.length]=i[t]);return e}},6419:function(e,t,n){e.exports=function(){var e="1.13.1",t="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||Function("return this")()||{},i=Array.prototype,r=Object.prototype,a="undefined"!=typeof Symbol?Symbol.prototype:null,s=i.push,o=i.slice,l=r.toString,c=r.hasOwnProperty,u="undefined"!=typeof ArrayBuffer,h="undefined"!=typeof DataView,d=Array.isArray,f=Object.keys,p=Object.create,m=u&&ArrayBuffer.isView,g=isNaN,y=isFinite,v=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_=Math.pow(2,53)-1;function w(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var a=Array(t+1);for(r=0;r<t;r++)a[r]=arguments[r];return a[t]=i,e.apply(this,a)}}function S(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function k(e){return void 0===e}function T(e){return!0===e||!1===e||"[object Boolean]"===l.call(e)}function C(e){var t="[object "+e+"]";return function(e){return l.call(e)===t}}var x=C("String"),E=C("Number"),P=C("Date"),I=C("RegExp"),A=C("Error"),L=C("Symbol"),O=C("ArrayBuffer"),R=C("Function"),D=t.document&&t.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof D&&(R=function(e){return"function"==typeof e||!1});var N=R,F=C("Object"),$=h&&F(new DataView(new ArrayBuffer(8))),B="undefined"!=typeof Map&&F(new Map),M=C("DataView"),U=$?function(e){return null!=e&&N(e.getInt8)&&O(e.buffer)}:M,j=d||C("Array");function V(e,t){return null!=e&&c.call(e,t)}var H=C("Arguments");!function(){H(arguments)||(H=function(e){return V(e,"callee")})}();var q=H;function z(e){return E(e)&&g(e)}function W(e){return function(){return e}}function G(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=_}}function K(e){return function(t){return null==t?void 0:t[e]}}var Y=K("byteLength"),X=G(Y),Q=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Z=u?function(e){return m?m(e)&&!U(e):X(e)&&Q.test(l.call(e))}:W(!1),J=K("length");function ee(e,t){t=function(e){for(var t={},n=e.length,i=0;i<n;++i)t[e[i]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=b.length,i=e.constructor,a=N(i)&&i.prototype||r,s="constructor";for(V(e,s)&&!t.contains(s)&&t.push(s);n--;)(s=b[n])in e&&e[s]!==a[s]&&!t.contains(s)&&t.push(s)}function te(e){if(!S(e))return[];if(f)return f(e);var t=[];for(var n in e)V(e,n)&&t.push(n);return v&&ee(e,t),t}function ne(e,t){var n=te(t),i=n.length;if(null==e)return!i;for(var r=Object(e),a=0;a<i;a++){var s=n[a];if(t[s]!==r[s]||!(s in r))return!1}return!0}function ie(e){return e instanceof ie?e:this instanceof ie?void(this._wrapped=e):new ie(e)}function re(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Y(e))}ie.VERSION=e,ie.prototype.value=function(){return this._wrapped},ie.prototype.valueOf=ie.prototype.toJSON=ie.prototype.value,ie.prototype.toString=function(){return String(this._wrapped)};var ae="[object DataView]";function se(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var r=typeof e;return("function"===r||"object"===r||"object"==typeof t)&&function e(t,n,i,r){t instanceof ie&&(t=t._wrapped),n instanceof ie&&(n=n._wrapped);var s=l.call(t);if(s!==l.call(n))return!1;if($&&"[object Object]"==s&&U(t)){if(!U(n))return!1;s=ae}switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return a.valueOf.call(t)===a.valueOf.call(n);case"[object ArrayBuffer]":case ae:return e(re(t),re(n),i,r)}var o="[object Array]"===s;if(!o&&Z(t)){if(Y(t)!==Y(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof n)return!1;var c=t.constructor,u=n.constructor;if(c!==u&&!(N(c)&&c instanceof c&&N(u)&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}r=r||[];for(var h=(i=i||[]).length;h--;)if(i[h]===t)return r[h]===n;if(i.push(t),r.push(n),o){if((h=t.length)!==n.length)return!1;for(;h--;)if(!se(t[h],n[h],i,r))return!1}else{var d,f=te(t);if(h=f.length,te(n).length!==h)return!1;for(;h--;)if(!V(n,d=f[h])||!se(t[d],n[d],i,r))return!1}return i.pop(),r.pop(),!0}(e,t,n,i)}function oe(e){if(!S(e))return[];var t=[];for(var n in e)t.push(n);return v&&ee(e,t),t}function le(e){var t=J(e);return function(n){if(null==n)return!1;var i=oe(n);if(J(i))return!1;for(var r=0;r<t;r++)if(!N(n[e[r]]))return!1;return e!==fe||!N(n[ce])}}var ce="forEach",ue=["clear","delete"],he=["get","has","set"],de=ue.concat(ce,he),fe=ue.concat(he),pe=["add"].concat(ue,ce,"has"),me=B?le(de):C("Map"),ge=B?le(fe):C("WeakMap"),ye=B?le(pe):C("Set"),ve=C("WeakSet");function be(e){for(var t=te(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i}function _e(e){for(var t={},n=te(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t}function we(e){var t=[];for(var n in e)N(e[n])&&t.push(n);return t.sort()}function Se(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var a=arguments[r],s=e(a),o=s.length,l=0;l<o;l++){var c=s[l];t&&void 0!==n[c]||(n[c]=a[c])}return n}}var ke=Se(oe),Te=Se(te),Ce=Se(oe,!0);function xe(e){if(!S(e))return{};if(p)return p(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Ee(e){return S(e)?j(e)?e.slice():ke({},e):e}function Pe(e){return j(e)?e:[e]}function Ie(e){return ie.toPath(e)}function Ae(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0}function Le(e,t,n){var i=Ae(e,Ie(t));return k(i)?n:i}function Oe(e){return e}function Re(e){return e=Te({},e),function(t){return ne(t,e)}}function De(e){return e=Ie(e),function(t){return Ae(t,e)}}function Ne(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,a){return e.call(t,n,i,r,a)}}return function(){return e.apply(t,arguments)}}function Fe(e,t,n){return null==e?Oe:N(e)?Ne(e,t,n):S(e)&&!j(e)?Re(e):De(e)}function $e(e,t){return Fe(e,t,1/0)}function Be(e,t,n){return ie.iteratee!==$e?ie.iteratee(e,t):Fe(e,t,n)}function Me(){}function Ue(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ie.toPath=Pe,ie.iteratee=$e;var je=Date.now||function(){return(new Date).getTime()};function Ve(e){var t=function(t){return e[t]},n="(?:"+te(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}}var He={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},qe=Ve(He),ze=Ve(_e(He)),We=ie.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ge=/(.)^/,Ke={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ye=/\\|'|\r|\n|\u2028|\u2029/g;function Xe(e){return"\\"+Ke[e]}var Qe=/^\s*(\w|\$)+\s*$/,Ze=0;function Je(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var a=xe(e.prototype),s=e.apply(a,r);return S(s)?s:a}var et=w((function(e,t){var n=et.placeholder,i=function(){for(var r=0,a=t.length,s=Array(a),o=0;o<a;o++)s[o]=t[o]===n?arguments[r++]:t[o];for(;r<arguments.length;)s.push(arguments[r++]);return Je(e,i,this,this,s)};return i}));et.placeholder=ie;var tt=w((function(e,t,n){if(!N(e))throw new TypeError("Bind must be called on a function");var i=w((function(r){return Je(e,i,t,this,n.concat(r))}));return i})),nt=G(J);function it(e,t,n,i){if(i=i||[],t||0===t){if(t<=0)return i.concat(e)}else t=1/0;for(var r=i.length,a=0,s=J(e);a<s;a++){var o=e[a];if(nt(o)&&(j(o)||q(o)))if(t>1)it(o,t-1,n,i),r=i.length;else for(var l=0,c=o.length;l<c;)i[r++]=o[l++];else n||(i[r++]=o)}return i}var rt=w((function(e,t){var n=(t=it(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=tt(e[i],e)}return e})),at=w((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),st=et(at,ie,1);function ot(e){return function(){return!e.apply(this,arguments)}}function lt(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var ct=et(lt,2);function ut(e,t,n){t=Be(t,n);for(var i,r=te(e),a=0,s=r.length;a<s;a++)if(t(e[i=r[a]],i,e))return i}function ht(e){return function(t,n,i){n=Be(n,i);for(var r=J(t),a=e>0?0:r-1;a>=0&&a<r;a+=e)if(n(t[a],a,t))return a;return-1}}var dt=ht(1),ft=ht(-1);function pt(e,t,n,i){for(var r=(n=Be(n,i,1))(t),a=0,s=J(e);a<s;){var o=Math.floor((a+s)/2);n(e[o])<r?a=o+1:s=o}return a}function mt(e,t,n){return function(i,r,a){var s=0,l=J(i);if("number"==typeof a)e>0?s=a>=0?a:Math.max(a+l,s):l=a>=0?Math.min(a+1,l):a+l+1;else if(n&&a&&l)return i[a=n(i,r)]===r?a:-1;if(r!=r)return(a=t(o.call(i,s,l),z))>=0?a+s:-1;for(a=e>0?s:l-1;a>=0&&a<l;a+=e)if(i[a]===r)return a;return-1}}var gt=mt(1,dt,pt),yt=mt(-1,ft);function vt(e,t,n){var i=(nt(e)?dt:ut)(e,t,n);if(void 0!==i&&-1!==i)return e[i]}function bt(e,t,n){var i,r;if(t=Ne(t,n),nt(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var a=te(e);for(i=0,r=a.length;i<r;i++)t(e[a[i]],a[i],e)}return e}function _t(e,t,n){t=Be(t,n);for(var i=!nt(e)&&te(e),r=(i||e).length,a=Array(r),s=0;s<r;s++){var o=i?i[s]:s;a[s]=t(e[o],o,e)}return a}function wt(e){var t=function(t,n,i,r){var a=!nt(t)&&te(t),s=(a||t).length,o=e>0?0:s-1;for(r||(i=t[a?a[o]:o],o+=e);o>=0&&o<s;o+=e){var l=a?a[o]:o;i=n(i,t[l],l,t)}return i};return function(e,n,i,r){var a=arguments.length>=3;return t(e,Ne(n,r,4),i,a)}}var St=wt(1),kt=wt(-1);function Tt(e,t,n){var i=[];return t=Be(t,n),bt(e,(function(e,n,r){t(e,n,r)&&i.push(e)})),i}function Ct(e,t,n){t=Be(t,n);for(var i=!nt(e)&&te(e),r=(i||e).length,a=0;a<r;a++){var s=i?i[a]:a;if(!t(e[s],s,e))return!1}return!0}function xt(e,t,n){t=Be(t,n);for(var i=!nt(e)&&te(e),r=(i||e).length,a=0;a<r;a++){var s=i?i[a]:a;if(t(e[s],s,e))return!0}return!1}function Et(e,t,n,i){return nt(e)||(e=be(e)),("number"!=typeof n||i)&&(n=0),gt(e,t,n)>=0}var Pt=w((function(e,t,n){var i,r;return N(t)?r=t:(t=Ie(t),i=t.slice(0,-1),t=t[t.length-1]),_t(e,(function(e){var a=r;if(!a){if(i&&i.length&&(e=Ae(e,i)),null==e)return;a=e[t]}return null==a?a:a.apply(e,n)}))}));function It(e,t){return _t(e,De(t))}function At(e,t,n){var i,r,a=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,l=(e=nt(e)?e:be(e)).length;o<l;o++)null!=(i=e[o])&&i>a&&(a=i);else t=Be(t,n),bt(e,(function(e,n,i){((r=t(e,n,i))>s||r===-1/0&&a===-1/0)&&(a=e,s=r)}));return a}function Lt(e,t,n){if(null==t||n)return nt(e)||(e=be(e)),e[Ue(e.length-1)];var i=nt(e)?Ee(e):be(e),r=J(i);t=Math.max(Math.min(t,r),0);for(var a=r-1,s=0;s<t;s++){var o=Ue(s,a),l=i[s];i[s]=i[o],i[o]=l}return i.slice(0,t)}function Ot(e,t){return function(n,i,r){var a=t?[[],[]]:{};return i=Be(i,r),bt(n,(function(t,r){var s=i(t,r,n);e(a,t,s)})),a}}var Rt=Ot((function(e,t,n){V(e,n)?e[n].push(t):e[n]=[t]})),Dt=Ot((function(e,t,n){e[n]=t})),Nt=Ot((function(e,t,n){V(e,n)?e[n]++:e[n]=1})),Ft=Ot((function(e,t,n){e[n?0:1].push(t)}),!0),$t=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Bt(e,t,n){return t in n}var Mt=w((function(e,t){var n={},i=t[0];if(null==e)return n;N(i)?(t.length>1&&(i=Ne(i,t[1])),t=oe(e)):(i=Bt,t=it(t,!1,!1),e=Object(e));for(var r=0,a=t.length;r<a;r++){var s=t[r],o=e[s];i(o,s,e)&&(n[s]=o)}return n})),Ut=w((function(e,t){var n,i=t[0];return N(i)?(i=ot(i),t.length>1&&(n=t[1])):(t=_t(it(t,!1,!1),String),i=function(e,n){return!Et(t,n)}),Mt(e,i,n)}));function jt(e,t,n){return o.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Vt(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:jt(e,e.length-t)}function Ht(e,t,n){return o.call(e,null==t||n?1:t)}var qt=w((function(e,t){return t=it(t,!0,!0),Tt(e,(function(e){return!Et(t,e)}))})),zt=w((function(e,t){return qt(e,t)}));function Wt(e,t,n,i){T(t)||(i=n,n=t,t=!1),null!=n&&(n=Be(n,i));for(var r=[],a=[],s=0,o=J(e);s<o;s++){var l=e[s],c=n?n(l,s,e):l;t&&!n?(s&&a===c||r.push(l),a=c):n?Et(a,c)||(a.push(c),r.push(l)):Et(r,l)||r.push(l)}return r}var Gt=w((function(e){return Wt(it(e,!0,!0))}));function Kt(e){for(var t=e&&At(e,J).length||0,n=Array(t),i=0;i<t;i++)n[i]=It(e,i);return n}var Yt=w(Kt);function Xt(e,t){return e._chain?ie(t).chain():t}function Qt(e){return bt(we(e),(function(t){var n=ie[t]=e[t];ie.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),Xt(this,n.apply(ie,e))}})),ie}bt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=i[e];ie.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Xt(this,n)}})),bt(["concat","join","slice"],(function(e){var t=i[e];ie.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Xt(this,e)}}));var Zt=Qt({__proto__:null,VERSION:e,restArguments:w,isObject:S,isNull:function(e){return null===e},isUndefined:k,isBoolean:T,isElement:function(e){return!(!e||1!==e.nodeType)},isString:x,isNumber:E,isDate:P,isRegExp:I,isError:A,isSymbol:L,isArrayBuffer:O,isDataView:U,isArray:j,isFunction:N,isArguments:q,isFinite:function(e){return!L(e)&&y(e)&&!isNaN(parseFloat(e))},isNaN:z,isTypedArray:Z,isEmpty:function(e){if(null==e)return!0;var t=J(e);return"number"==typeof t&&(j(e)||x(e)||q(e))?0===t:0===J(te(e))},isMatch:ne,isEqual:function(e,t){return se(e,t)},isMap:me,isWeakMap:ge,isSet:ye,isWeakSet:ve,keys:te,allKeys:oe,values:be,pairs:function(e){for(var t=te(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},invert:_e,functions:we,methods:we,extend:ke,extendOwn:Te,assign:Te,defaults:Ce,create:function(e,t){var n=xe(e);return t&&Te(n,t),n},clone:Ee,tap:function(e,t){return t(e),e},get:Le,has:function(e,t){for(var n=(t=Ie(t)).length,i=0;i<n;i++){var r=t[i];if(!V(e,r))return!1;e=e[r]}return!!n},mapObject:function(e,t,n){t=Be(t,n);for(var i=te(e),r=i.length,a={},s=0;s<r;s++){var o=i[s];a[o]=t(e[o],o,e)}return a},identity:Oe,constant:W,noop:Me,toPath:Pe,property:De,propertyOf:function(e){return null==e?Me:function(t){return Le(e,t)}},matcher:Re,matches:Re,times:function(e,t,n){var i=Array(Math.max(0,e));t=Ne(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},random:Ue,now:je,escape:qe,unescape:ze,templateSettings:We,template:function(e,t,n){!t&&n&&(t=n),t=Ce({},t,ie.templateSettings);var i=RegExp([(t.escape||Ge).source,(t.interpolate||Ge).source,(t.evaluate||Ge).source].join("|")+"|$","g"),r=0,a="__p+='";e.replace(i,(function(t,n,i,s,o){return a+=e.slice(r,o).replace(Ye,Xe),r=o+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(a+="';\n"+s+"\n__p+='"),t})),a+="';\n";var s,o=t.variable;if(o){if(!Qe.test(o))throw new Error("variable is not a bare identifier: "+o)}else a="with(obj||{}){\n"+a+"}\n",o="obj";a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{s=new Function(o,"_",a)}catch(e){throw e.source=a,e}var l=function(e){return s.call(this,e,ie)};return l.source="function("+o+"){\n"+a+"}",l},result:function(e,t,n){var i=(t=Ie(t)).length;if(!i)return N(n)?n.call(e):n;for(var r=0;r<i;r++){var a=null==e?void 0:e[t[r]];void 0===a&&(a=n,r=i),e=N(a)?a.call(e):a}return e},uniqueId:function(e){var t=++Ze+"";return e?e+t:t},chain:function(e){var t=ie(e);return t._chain=!0,t},iteratee:$e,partial:et,bind:tt,bindAll:rt,memoize:function(e,t){var n=function(i){var r=n.cache,a=""+(t?t.apply(this,arguments):i);return V(r,a)||(r[a]=e.apply(this,arguments)),r[a]};return n.cache={},n},delay:at,defer:st,throttle:function(e,t,n){var i,r,a,s,o=0;n||(n={});var l=function(){o=!1===n.leading?0:je(),i=null,s=e.apply(r,a),i||(r=a=null)},c=function(){var c=je();o||!1!==n.leading||(o=c);var u=t-(c-o);return r=this,a=arguments,u<=0||u>t?(i&&(clearTimeout(i),i=null),o=c,s=e.apply(r,a),i||(r=a=null)):i||!1===n.trailing||(i=setTimeout(l,u)),s};return c.cancel=function(){clearTimeout(i),o=0,i=r=a=null},c},debounce:function(e,t,n){var i,r,a,s,o,l=function(){var c=je()-r;t>c?i=setTimeout(l,t-c):(i=null,n||(s=e.apply(o,a)),i||(a=o=null))},c=w((function(c){return o=this,a=c,r=je(),i||(i=setTimeout(l,t),n&&(s=e.apply(o,a))),s}));return c.cancel=function(){clearTimeout(i),i=a=o=null},c},wrap:function(e,t){return et(t,e)},negate:ot,compose:function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},before:lt,once:ct,findKey:ut,findIndex:dt,findLastIndex:ft,sortedIndex:pt,indexOf:gt,lastIndexOf:yt,find:vt,detect:vt,findWhere:function(e,t){return vt(e,Re(t))},each:bt,forEach:bt,map:_t,collect:_t,reduce:St,foldl:St,inject:St,reduceRight:kt,foldr:kt,filter:Tt,select:Tt,reject:function(e,t,n){return Tt(e,ot(Be(t)),n)},every:Ct,all:Ct,some:xt,any:xt,contains:Et,includes:Et,include:Et,invoke:Pt,pluck:It,where:function(e,t){return Tt(e,Re(t))},max:At,min:function(e,t,n){var i,r,a=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,l=(e=nt(e)?e:be(e)).length;o<l;o++)null!=(i=e[o])&&i<a&&(a=i);else t=Be(t,n),bt(e,(function(e,n,i){((r=t(e,n,i))<s||r===1/0&&a===1/0)&&(a=e,s=r)}));return a},shuffle:function(e){return Lt(e,1/0)},sample:Lt,sortBy:function(e,t,n){var i=0;return t=Be(t,n),It(_t(e,(function(e,n,r){return{value:e,index:i++,criteria:t(e,n,r)}})).sort((function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index})),"value")},groupBy:Rt,indexBy:Dt,countBy:Nt,partition:Ft,toArray:function(e){return e?j(e)?o.call(e):x(e)?e.match($t):nt(e)?_t(e,Oe):be(e):[]},size:function(e){return null==e?0:nt(e)?e.length:te(e).length},pick:Mt,omit:Ut,first:Vt,head:Vt,take:Vt,initial:jt,last:function(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:Ht(e,Math.max(0,e.length-t))},rest:Ht,tail:Ht,drop:Ht,compact:function(e){return Tt(e,Boolean)},flatten:function(e,t){return it(e,t,!1)},without:zt,uniq:Wt,unique:Wt,union:Gt,intersection:function(e){for(var t=[],n=arguments.length,i=0,r=J(e);i<r;i++){var a=e[i];if(!Et(t,a)){var s;for(s=1;s<n&&Et(arguments[s],a);s++);s===n&&t.push(a)}}return t},difference:qt,unzip:Kt,transpose:Kt,zip:Yt,object:function(e,t){for(var n={},i=0,r=J(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},range:function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),a=0;a<i;a++,e+=n)r[a]=e;return r},chunk:function(e,t){if(null==t||t<1)return[];for(var n=[],i=0,r=e.length;i<r;)n.push(o.call(e,i,i+=t));return n},mixin:Qt,default:ie});return Zt._=Zt,Zt}()},1407:(e,t,n)=>{"use strict";var i=n(210)("%Object.getOwnPropertyDescriptor%",!0);if(i)try{i([],"length")}catch(e){i=null}e.exports=i},5700:(e,t,n)=>{"use strict";var i=n(8764).Buffer,r=n(4155);const a=n(6230),s=n(8575),o=n(1394),l=n(8501),c=n(9267),u=n(6453),h=n(2635),d=n(2830),f=n(7187);function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}const m=p(a),g=p(s),y=p(l),v=p(c),b=p(u),_=p(h),w=p(d),S=p(f);function k(e,t){return function(){return e.apply(t,arguments)}}const{toString:T}=Object.prototype,{getPrototypeOf:C}=Object,x=(E=Object.create(null),e=>{const t=T.call(e);return E[t]||(E[t]=t.slice(8,-1).toLowerCase())});var E;const P=e=>(e=e.toLowerCase(),t=>x(t)===e),I=e=>t=>typeof t===e,{isArray:A}=Array,L=I("undefined"),O=P("ArrayBuffer"),R=I("string"),D=I("function"),N=I("number"),F=e=>null!==e&&"object"==typeof e,$=e=>{if("object"!==x(e))return!1;const t=C(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},B=P("Date"),M=P("File"),U=P("Blob"),j=P("FileList"),V=P("URLSearchParams");function H(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let i,r;if("object"!=typeof e&&(e=[e]),A(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let s;for(i=0;i<a;i++)s=r[i],t.call(null,e[s],s,e)}}const q=(z="undefined"!=typeof Uint8Array&&C(Uint8Array),e=>z&&e instanceof z);var z;const W=P("HTMLFormElement"),G=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),K=P("RegExp"),Y=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};H(n,((n,r)=>{!1!==t(n,r,e)&&(i[r]=n)})),Object.defineProperties(e,i)},X={isArray:A,isArrayBuffer:O,isBuffer:function(e){return null!==e&&!L(e)&&null!==e.constructor&&!L(e.constructor)&&D(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{const t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||T.call(e)===t||D(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&O(e.buffer),t},isString:R,isNumber:N,isBoolean:e=>!0===e||!1===e,isObject:F,isPlainObject:$,isUndefined:L,isDate:B,isFile:M,isBlob:U,isRegExp:K,isFunction:D,isStream:e=>F(e)&&D(e.pipe),isURLSearchParams:V,isTypedArray:q,isFileList:j,forEach:H,merge:function e(){const t={},n=(n,i)=>{$(t[i])&&$(n)?t[i]=e(t[i],n):$(n)?t[i]=e({},n):A(n)?t[i]=n.slice():t[i]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&H(arguments[e],n);return t},extend:(e,t,n,{allOwnKeys:i}={})=>(H(t,((t,i)=>{n&&D(t)?e[i]=k(t,n):e[i]=t}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,a,s;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)s=r[a],i&&!i(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&C(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:x,kindOfTest:P,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(A(e))return e;let t=e.length;if(!N(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:W,hasOwnProperty:G,hasOwnProp:G,reduceDescriptors:Y,freezeMethods:e=>{Y(e,((t,n)=>{const i=e[n];D(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach((e=>{n[e]=!0}))};return A(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t)};function Q(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}X.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Z=Q.prototype,J={};function ee(e){return X.isPlainObject(e)||X.isArray(e)}function te(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function ne(e,t,n){return e?e.concat(t).map((function(e,t){return e=te(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{J[e]={value:e}})),Object.defineProperties(Q,J),Object.defineProperty(Z,"isAxiosError",{value:!0}),Q.from=(e,t,n,i,r,a)=>{const s=Object.create(Z);return X.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Q.call(s,e.message,t,n,i,r),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const ie=X.toFlatObject(X,{},null,(function(e){return/^is[A-Z]/.test(e)}));function re(e,t,n){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new(m.default||FormData);const r=(n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!X.isUndefined(t[e])}))).metaTokens,a=n.visitor||h,s=n.dots,o=n.indexes,l=(n.Blob||"undefined"!=typeof Blob&&Blob)&&(c=t)&&X.isFunction(c.append)&&"FormData"===c[Symbol.toStringTag]&&c[Symbol.iterator];var c;if(!X.isFunction(a))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(X.isDate(e))return e.toISOString();if(!l&&X.isBlob(e))throw new Q("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(e)||X.isTypedArray(e)?l&&"function"==typeof Blob?new Blob([e]):i.from(e):e}function h(e,n,i){let a=e;if(e&&!i&&"object"==typeof e)if(X.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(X.isArray(e)&&function(e){return X.isArray(e)&&!e.some(ee)}(e)||X.isFileList(e)||X.endsWith(n,"[]")&&(a=X.toArray(e)))return n=te(n),a.forEach((function(e,i){!X.isUndefined(e)&&null!==e&&t.append(!0===o?ne([n],i,s):null===o?n:n+"[]",u(e))})),!1;return!!ee(e)||(t.append(ne(i,n,s),u(e)),!1)}const d=[],f=Object.assign(ie,{defaultVisitor:h,convertValue:u,isVisitable:ee});if(!X.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!X.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+i.join("."));d.push(n),X.forEach(n,(function(n,r){!0===(!(X.isUndefined(n)||null===n)&&a.call(t,n,X.isString(r)?r.trim():r,i,f))&&e(n,i?i.concat(r):[r])})),d.pop()}}(e),t}function ae(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function se(e,t){this._pairs=[],e&&re(e,this,t)}const oe=se.prototype;function le(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ce(e,t,n){if(!t)return e;const i=n&&n.encode||le,r=n&&n.serialize;let a;if(a=r?r(t,n):X.isURLSearchParams(t)?t.toString():new se(t,n).toString(i),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}oe.append=function(e,t){this._pairs.push([e,t])},oe.toString=function(e){const t=e?function(t){return e.call(this,t,ae)}:ae;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class ue{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const he={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},de={isNode:!0,classes:{URLSearchParams:g.default.URLSearchParams,FormData:m.default,Blob:"undefined"!=typeof Blob&&Blob||null},protocols:["http","https","file","data"]};function fe(e){function t(e,n,i,r){let a=e[r++];const s=Number.isFinite(+a),o=r>=e.length;return a=!a&&X.isArray(i)?i.length:a,o?(X.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!s):(i[a]&&X.isObject(i[a])||(i[a]=[]),t(e,n,i[a],r)&&X.isArray(i[a])&&(i[a]=function(e){const t={},n=Object.keys(e);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],t[a]=e[a];return t}(i[a])),!s)}if(X.isFormData(e)&&X.isFunction(e.entries)){const n={};return X.forEachEntry(e,((e,i)=>{t(function(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,n,0)})),n}return null}function pe(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new Q("Request failed with status code "+n.status,[Q.ERR_BAD_REQUEST,Q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}function me(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}function ge(e,t,n){Q.call(this,null==e?"canceled":e,Q.ERR_CANCELED,t,n),this.name="CanceledError"}function ye(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}X.inherits(ge,Q,{__CANCEL__:!0});const ve=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/,be=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_e=Symbol("internals"),we=Symbol("defaults");function Se(e){return e&&String(e).trim().toLowerCase()}function ke(e){return!1===e||null==e?e:X.isArray(e)?e.map(ke):String(e)}function Te(e,t,n,i){return X.isFunction(i)?i.call(this,t,n):X.isString(t)?X.isString(i)?-1!==t.indexOf(i):X.isRegExp(i)?i.test(t):void 0:void 0}function Ce(e,t){t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}function xe(e,t){e&&this.set(e),this[we]=t||null}function Ee(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=i[s];r||(r=l),n[a]=o,i[a]=l;let u=s,h=0;for(;u!==a;)h+=n[u++],u%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-r<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}}Object.assign(xe.prototype,{set:function(e,t,n){const i=this;function r(e,t,n){const r=Se(t);if(!r)throw new Error("header name must be a non-empty string");const a=Ce(i,r);(!a||!0===n||!1!==i[a]&&!1!==n)&&(i[a||t]=ke(e))}return X.isPlainObject(e)?X.forEach(e,((e,n)=>{r(e,n,t)})):r(t,e,n),this},get:function(e,t){if(!(e=Se(e)))return;const n=Ce(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(X.isFunction(t))return t.call(this,e,n);if(X.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}},has:function(e,t){if(e=Se(e)){const n=Ce(this,e);return!(!n||t&&!Te(0,this[n],n,t))}return!1},delete:function(e,t){const n=this;let i=!1;function r(e){if(e=Se(e)){const r=Ce(n,e);!r||t&&!Te(0,n[r],r,t)||(delete n[r],i=!0)}}return X.isArray(e)?e.forEach(r):r(e),i},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){const t=this,n={};return X.forEach(this,((i,r)=>{const a=Ce(n,r);if(a)return t[a]=ke(i),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();s!==r&&delete t[r],t[s]=ke(i),n[s]=!0})),this},toJSON:function(e){const t=Object.create(null);return X.forEach(Object.assign({},this[we]||null,this),((n,i)=>{null!=n&&!1!==n&&(t[i]=e&&X.isArray(n)?n.join(", "):n)})),t}}),Object.assign(xe,{from:function(e){return X.isString(e)?new this((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&be[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t})(e)):e instanceof this?e:new this(e)},accessor:function(e){const t=(this[_e]=this[_e]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=Se(e);t[i]||(function(e,t){const n=X.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[i]=!0)}return X.isArray(e)?e.forEach(i):i(e),this}}),xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),X.freezeMethods(xe.prototype),X.freezeMethods(xe);const Pe=Symbol("internals");class Ie extends w.default.Transform{constructor(e){super({readableHighWaterMark:(e=X.toFlatObject(e,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,((e,t)=>!X.isUndefined(t[e])))).chunkSize});const t=this,n=this[Pe]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},i=Ee(n.ticksRate*e.samplesCount,n.timeWindow);this.on("newListener",(e=>{"progress"===e&&(n.isCaptured||(n.isCaptured=!0))}));let a=0;n.updateProgress=function(e,t){let n=0;const i=1e3/t;let r=null;return function(t,a){const s=Date.now();if(t||s-n>i)return r&&(clearTimeout(r),r=null),n=s,e.apply(null,a);r||(r=setTimeout((()=>(r=null,n=Date.now(),e.apply(null,a))),i-(s-n)))}}((function(){const e=n.length,s=n.bytesSeen,o=s-a;if(!o||t.destroyed)return;const l=i(o);a=s,r.nextTick((()=>{t.emit("progress",{loaded:s,total:e,progress:e?s/e:void 0,bytes:o,rate:l||void 0,estimated:l&&e&&s<=e?(e-s)/l:void 0})}))}),n.ticksRate);const s=()=>{n.updateProgress(!0)};this.once("end",s),this.once("error",s)}_read(e){const t=this[Pe];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,n){const a=this,s=this[Pe],o=s.maxRate,l=this.readableHighWaterMark,c=s.timeWindow,u=o/(1e3/c),h=!1!==s.minChunkSize?Math.max(s.minChunkSize,.01*u):0,d=(e,t)=>{const n=i.byteLength(e);let d,f=null,p=l,m=0;if(o){const e=Date.now();(!s.ts||(m=e-s.ts)>=c)&&(s.ts=e,d=u-s.bytes,s.bytes=d<0?-d:0,m=0),d=u-s.bytes}if(o){if(d<=0)return setTimeout((()=>{t(null,e)}),c-m);d<p&&(p=d)}p&&n>p&&n-p>h&&(f=e.subarray(p),e=e.subarray(0,p)),function(e,t){const n=i.byteLength(e);s.bytesSeen+=n,s.bytes+=n,s.isCaptured&&s.updateProgress(),a.push(e)?r.nextTick(t):s.onReadCallback=()=>{s.onReadCallback=null,r.nextTick(t)}}(e,f?()=>{r.nextTick(t,null,f)}:t)};d(e,(function e(t,i){if(t)return n(t);i?d(i,e):n(null)}))}setLength(e){return this[Pe].length=+e,this}}const Ae=X.isFunction(_.default.createBrotliDecompress),{http:Le,https:Oe}=b.default,Re=/https:?/,De=de.protocols.map((e=>e+":"));function Ne(e){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e)}function Fe(e,t,n){let r=t;if(!r&&!1!==r){const e=o.getProxyForUrl(n);e&&(r=new URL(e))}if(r){if(r.username&&(r.auth=(r.username||"")+":"+(r.password||"")),r.auth){(r.auth.username||r.auth.password)&&(r.auth=(r.auth.username||"")+":"+(r.auth.password||""));const t=i.from(r.auth,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+t}e.headers.host=e.hostname+(e.port?":"+e.port:"");const t=r.hostname||r.host;e.hostname=t,e.host=t,e.port=r.port,e.path=n,r.protocol&&(e.protocol=r.protocol.includes(":")?r.protocol:`${r.protocol}:`)}e.beforeRedirects.proxy=function(e){Fe(e,t,e.href)}}const $e=de.isStandardBrowserEnv?{write:function(e,t,n,i,r,a){const s=[];s.push(e+"="+encodeURIComponent(t)),X.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),X.isString(i)&&s.push("path="+i),X.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Be=de.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function i(n){let i=n;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=i(window.location.href),function(e){const t=X.isString(e)?i(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function Me(e,t){let n=0;const i=Ee(50,250);return r=>{const a=r.loaded,s=r.lengthComputable?r.total:void 0,o=a-n,l=i(o);n=a;const c={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0};c[t?"download":"upload"]=!0,e(c)}}const Ue={http:function(e){return new Promise((function(t,n){let r=e.data;const a=e.responseType,s=e.responseEncoding,o=e.method.toUpperCase();let l,c,u,h=!1;const d=new S.default;function f(){l||(l=!0,e.cancelToken&&e.cancelToken.unsubscribe(b),e.signal&&e.signal.removeEventListener("abort",b),d.removeAllListeners())}function p(e,i){c||(c=!0,i&&(h=!0,f()),i?n(e):t(e))}const m=function(e){p(e)},g=function(e){p(e,!0)};function b(t){d.emit("abort",!t||t.type?new ge(null,e,u):t)}d.once("abort",g),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(b),e.signal&&(e.signal.aborted?b():e.signal.addEventListener("abort",b)));const k=me(e.baseURL,e.url),T=new URL(k),C=T.protocol||De[0];if("data:"===C){let t;if("GET"!==o)return pe(m,g,{status:405,statusText:"method not allowed",headers:{},config:e});try{t=function(e,t,n){const r=n&&n.Blob||de.classes.Blob,a=ye(e);if(void 0===t&&r&&(t=!0),"data"===a){e=a.length?e.slice(a.length+1):e;const n=ve.exec(e);if(!n)throw new Q("Invalid URL",Q.ERR_INVALID_URL);const s=n[1],o=n[2],l=n[3],c=i.from(decodeURIComponent(l),o?"base64":"utf8");if(t){if(!r)throw new Q("Blob is not supported",Q.ERR_NOT_SUPPORT);return new r([c],{type:s})}return c}throw new Q("Unsupported protocol "+a,Q.ERR_NOT_SUPPORT)}(e.url,"blob"===a,{Blob:e.env&&e.env.Blob})}catch(t){throw Q.from(t,Q.ERR_BAD_REQUEST,e)}return"text"===a?(t=t.toString(s),s&&"utf8"!==s||(r=X.stripBOM(t))):"stream"===a&&(t=w.default.Readable.from(t)),pe(m,g,{data:t,status:200,statusText:"OK",headers:{},config:e})}if(-1===De.indexOf(C))return g(new Q("Unsupported protocol "+C,Q.ERR_BAD_REQUEST,e));const x=xe.from(e.headers).normalize();x.set("User-Agent","axios/1.1.3",!1);const E=e.onDownloadProgress,P=e.onUploadProgress,I=e.maxRate;let A,L;if(X.isFormData(r)&&X.isFunction(r.getHeaders))x.set(r.getHeaders());else if(r&&!X.isStream(r)){if(i.isBuffer(r));else if(X.isArrayBuffer(r))r=i.from(new Uint8Array(r));else{if(!X.isString(r))return g(new Q("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",Q.ERR_BAD_REQUEST,e));r=i.from(r,"utf-8")}if(x.set("Content-Length",r.length,!1),e.maxBodyLength>-1&&r.length>e.maxBodyLength)return g(new Q("Request body larger than maxBodyLength limit",Q.ERR_BAD_REQUEST,e))}const O=+x.getContentLength();let R,D;X.isArray(I)?(A=I[0],L=I[1]):A=L=I,r&&(P||A)&&(X.isStream(r)||(r=w.default.Readable.from(r,{objectMode:!1})),r=w.default.pipeline([r,new Ie({length:X.toFiniteNumber(O),maxRate:X.toFiniteNumber(A)})],X.noop),P&&r.on("progress",(e=>{P(Object.assign(e,{upload:!0}))}))),e.auth&&(R=(e.auth.username||"")+":"+(e.auth.password||"")),!R&&T.username&&(R=T.username+":"+T.password),R&&x.delete("authorization");try{D=ce(T.pathname+T.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(t){const n=new Error(t.message);return n.config=e,n.url=e.url,n.exists=!0,g(n)}x.set("Accept-Encoding","gzip, deflate, br",!1);const N={path:D,method:o,headers:x.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:R,protocol:C,beforeRedirect:Ne,beforeRedirects:{}};let F;e.socketPath?N.socketPath=e.socketPath:(N.hostname=T.hostname,N.port=T.port,Fe(N,e.proxy,C+"//"+T.hostname+(T.port?":"+T.port:"")+N.path));const $=Re.test(N.protocol);if(N.agent=$?e.httpsAgent:e.httpAgent,e.transport?F=e.transport:0===e.maxRedirects?F=$?v.default:y.default:(e.maxRedirects&&(N.maxRedirects=e.maxRedirects),e.beforeRedirect&&(N.beforeRedirects.config=e.beforeRedirect),F=$?Oe:Le),e.maxBodyLength>-1?N.maxBodyLength=e.maxBodyLength:N.maxBodyLength=1/0,e.insecureHTTPParser&&(N.insecureHTTPParser=e.insecureHTTPParser),u=F.request(N,(function(t){if(u.destroyed)return;const n=[t];let o=t;const l=t.req||u;if(!1!==e.decompress)switch(r&&0===r.length&&t.headers["content-encoding"]&&delete t.headers["content-encoding"],t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":n.push(_.default.createUnzip()),delete t.headers["content-encoding"];break;case"br":Ae&&(n.push(_.default.createBrotliDecompress()),delete t.headers["content-encoding"])}if(E){const e=+t.headers["content-length"],i=new Ie({length:X.toFiniteNumber(e),maxRate:X.toFiniteNumber(L)});E&&i.on("progress",(e=>{E(Object.assign(e,{download:!0}))})),n.push(i)}o=n.length>1?w.default.pipeline(n,X.noop):n[0];const c=w.default.finished(o,(()=>{c(),f()})),p={status:t.statusCode,statusText:t.statusMessage,headers:new xe(t.headers),config:e,request:l};if("stream"===a)p.data=o,pe(m,g,p);else{const t=[];let n=0;o.on("data",(function(i){t.push(i),n+=i.length,e.maxContentLength>-1&&n>e.maxContentLength&&(h=!0,o.destroy(),g(new Q("maxContentLength size of "+e.maxContentLength+" exceeded",Q.ERR_BAD_RESPONSE,e,l)))})),o.on("aborted",(function(){if(h)return;const t=new Q("maxContentLength size of "+e.maxContentLength+" exceeded",Q.ERR_BAD_RESPONSE,e,l);o.destroy(t),g(t)})),o.on("error",(function(t){u.destroyed||g(Q.from(t,null,e,l))})),o.on("end",(function(){try{let e=1===t.length?t[0]:i.concat(t);"arraybuffer"!==a&&(e=e.toString(s),s&&"utf8"!==s||(e=X.stripBOM(e))),p.data=e}catch(t){g(Q.from(t,null,e,p.request,p))}pe(m,g,p)}))}d.once("abort",(e=>{o.destroyed||(o.emit("error",e),o.destroy())}))})),d.once("abort",(e=>{g(e),u.destroy(e)})),u.on("error",(function(t){g(Q.from(t,null,e,u))})),u.on("socket",(function(e){e.setKeepAlive(!0,6e4)})),e.timeout){const t=parseInt(e.timeout,10);if(isNaN(t))return void g(new Q("error trying to parse `config.timeout` to int",Q.ERR_BAD_OPTION_VALUE,e,u));u.setTimeout(t,(function(){if(c)return;let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||he;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),g(new Q(t,n.clarifyTimeoutError?Q.ETIMEDOUT:Q.ECONNABORTED,e,u)),b()}))}if(X.isStream(r)){let t=!1,n=!1;r.on("end",(()=>{t=!0})),r.once("error",(e=>{n=!0,u.destroy(e)})),r.on("close",(()=>{t||n||b(new ge("Request stream has been aborted",e,u))})),r.pipe(u)}else u.end(r)}))},xhr:function(e){return new Promise((function(t,n){let i=e.data;const r=xe.from(e.headers).normalize(),a=e.responseType;let s;function o(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}X.isFormData(i)&&de.isStandardBrowserEnv&&r.setContentType(!1);let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(t+":"+n))}const c=me(e.baseURL,e.url);function u(){if(!l)return;const i=xe.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());pe((function(e){t(e),o()}),(function(e){n(e),o()}),{data:a&&"text"!==a&&"json"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:i,config:e,request:l}),l=null}if(l.open(e.method.toUpperCase(),ce(c,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new Q("Request aborted",Q.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new Q("Network Error",Q.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const i=e.transitional||he;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Q(t,i.clarifyTimeoutError?Q.ETIMEDOUT:Q.ECONNABORTED,e,l)),l=null},de.isStandardBrowserEnv){const t=(e.withCredentials||Be(c))&&e.xsrfCookieName&&$e.read(e.xsrfCookieName);t&&r.set(e.xsrfHeaderName,t)}void 0===i&&r.setContentType(null),"setRequestHeader"in l&&X.forEach(r.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),X.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",Me(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Me(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{l&&(n(!t||t.type?new ge(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const h=ye(c);h&&-1===de.protocols.indexOf(h)?n(new Q("Unsupported protocol "+h+":",Q.ERR_BAD_REQUEST,e)):l.send(i||null)}))}},je=e=>{if(X.isString(e)){const t=Ue[e];if(!e)throw Error(X.hasOwnProp(e)?`Adapter '${e}' is not available in the build`:`Can not resolve adapter '${e}'`);return t}if(!X.isFunction(e))throw new TypeError("adapter is not a function");return e},Ve={"Content-Type":"application/x-www-form-urlencoded"},He={transitional:he,adapter:function(){let e;return"undefined"!=typeof XMLHttpRequest?e=je("xhr"):void 0!==r&&"process"===X.kindOf(r)&&(e=je("http")),e}(),transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=X.isObject(e);if(r&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return i&&i?JSON.stringify(fe(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return re(e,new de.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return X.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=X.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return re(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(X.isString(e))try{return(0,JSON.parse)(e),X.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||He.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(e&&X.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw Q.from(e,Q.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:de.classes.FormData,Blob:de.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};function qe(e,t){const n=this||He,i=t||n,r=xe.from(i.headers);let a=i.data;return X.forEach(e,(function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)})),r.normalize(),a}function ze(e){return!(!e||!e.__CANCEL__)}function We(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ge}function Ge(e){return We(e),e.headers=xe.from(e.headers),e.data=qe.call(e,e.transformRequest),(e.adapter||He.adapter)(e).then((function(t){return We(e),t.data=qe.call(e,e.transformResponse,t),t.headers=xe.from(t.headers),t}),(function(t){return ze(t)||(We(e),t&&t.response&&(t.response.data=qe.call(e,e.transformResponse,t.response),t.response.headers=xe.from(t.response.headers))),Promise.reject(t)}))}function Ke(e,t){t=t||{};const n={};function i(e,t){return X.isPlainObject(e)&&X.isPlainObject(t)?X.merge(e,t):X.isPlainObject(t)?X.merge({},t):X.isArray(t)?t.slice():t}function r(n){return X.isUndefined(t[n])?X.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!X.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return X.isUndefined(t[n])?X.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function o(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o};return X.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){const t=l[e]||r,i=t(e);X.isUndefined(i)&&t!==o||(n[e]=i)})),n}X.forEach(["delete","get","head"],(function(e){He.headers[e]={}})),X.forEach(["post","put","patch"],(function(e){He.headers[e]=X.merge(Ve)}));const Ye={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ye[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Xe={};Ye.transitional=function(e,t,n){function i(e,t){return"[Axios v1.1.3] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,a)=>{if(!1===e)throw new Q(i(r," has been removed"+(t?" in "+t:"")),Q.ERR_DEPRECATED);return t&&!Xe[r]&&(Xe[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}};const Qe={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Q("options must be an object",Q.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const a=i[r],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new Q("option "+a+" must be "+n,Q.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Q("Unknown option "+a,Q.ERR_BAD_OPTION)}},validators:Ye},Ze=Qe.validators;class Je{constructor(e){this.defaults=e,this.interceptors={request:new ue,response:new ue}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Ke(this.defaults,t);const{transitional:n,paramsSerializer:i}=t;void 0!==n&&Qe.assertOptions(n,{silentJSONParsing:Ze.transitional(Ze.boolean),forcedJSONParsing:Ze.transitional(Ze.boolean),clarifyTimeoutError:Ze.transitional(Ze.boolean)},!1),void 0!==i&&Qe.assertOptions(i,{encode:Ze.function,serialize:Ze.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();const r=t.headers&&X.merge(t.headers.common,t.headers[t.method]);r&&X.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),t.headers=new xe(t.headers,r);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const o=[];let l;this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)}));let c,u=0;if(!s){const e=[Ge.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,o),c=e.length,l=Promise.resolve(t);u<c;)l=l.then(e[u++],e[u++]);return l}c=a.length;let h=t;for(u=0;u<c;){const e=a[u++],t=a[u++];try{h=e(h)}catch(e){t.call(this,e);break}}try{l=Ge.call(this,h)}catch(e){return Promise.reject(e)}for(u=0,c=o.length;u<c;)l=l.then(o[u++],o[u++]);return l}getUri(e){return ce(me((e=Ke(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}X.forEach(["delete","get","head","options"],(function(e){Je.prototype[e]=function(t,n){return this.request(Ke(n||{},{method:e,url:t,data:(n||{}).data}))}})),X.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(Ke(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Je.prototype[e]=t(),Je.prototype[e+"Form"]=t(!0)}));class et{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e,i,r){n.reason||(n.reason=new ge(e,i,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new et((function(t){e=t})),cancel:e}}}const tt=function e(t){const n=new Je(t),i=k(Je.prototype.request,n);return X.extend(i,Je.prototype,n,{allOwnKeys:!0}),X.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(Ke(t,n))},i}(He);tt.Axios=Je,tt.CanceledError=ge,tt.CancelToken=et,tt.isCancel=ze,tt.VERSION="1.1.3",tt.toFormData=re,tt.AxiosError=Q,tt.Cancel=tt.CanceledError,tt.all=function(e){return Promise.all(e)},tt.spread=function(e){return function(t){return e.apply(null,t)}},tt.isAxiosError=function(e){return X.isObject(e)&&!0===e.isAxiosError},tt.formToJSON=e=>fe(X.isHTMLForm(e)?new FormData(e):e),e.exports=tt}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="",(()=>{"use strict";var e=Object.freeze({}),t=Array.isArray;function i(e){return null==e}function r(e){return null!=e}function a(e){return!0===e}function s(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function o(e){return"function"==typeof e}function l(e){return null!==e&&"object"==typeof e}var c=Object.prototype.toString;function u(e){return"[object Object]"===c.call(e)}function h(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function d(e){return r(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function f(e){return null==e?"":Array.isArray(e)||u(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function p(e){var t=parseFloat(e);return isNaN(t)?e:t}function m(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var g=m("slot,component",!0),y=m("key,ref,slot,slot-scope,is");function v(e,t){var n=e.length;if(n){if(t===e[n-1])return void(e.length=n-1);var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var b=Object.prototype.hasOwnProperty;function _(e,t){return b.call(e,t)}function w(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var S=/-(\w)/g,k=w((function(e){return e.replace(S,(function(e,t){return t?t.toUpperCase():""}))})),T=w((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),C=/\B([A-Z])/g,x=w((function(e){return e.replace(C,"-$1").toLowerCase()})),E=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function P(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function I(e,t){for(var n in t)e[n]=t[n];return e}function A(e){for(var t={},n=0;n<e.length;n++)e[n]&&I(t,e[n]);return t}function L(e,t,n){}var O=function(e,t,n){return!1},R=function(e){return e};function D(e,t){if(e===t)return!0;var n=l(e),i=l(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Array.isArray(e),a=Array.isArray(t);if(r&&a)return e.length===t.length&&e.every((function(e,n){return D(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||a)return!1;var s=Object.keys(e),o=Object.keys(t);return s.length===o.length&&s.every((function(n){return D(e[n],t[n])}))}catch(e){return!1}}function N(e,t){for(var n=0;n<e.length;n++)if(D(e[n],t))return n;return-1}function F(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function $(e,t){return e===t?0===e&&1/e!=1/t:e==e||t==t}var B="data-server-rendered",M=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],j={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:O,isReservedAttr:O,isUnknownElement:O,getTagNamespace:L,parsePlatformTagName:R,mustUseProp:O,async:!0,_lifecycleHooks:U},V=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function q(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var z=new RegExp("[^".concat(V.source,".$_\\d]")),W="__proto__"in{},G="undefined"!=typeof window,K=G&&window.navigator.userAgent.toLowerCase(),Y=K&&/msie|trident/.test(K),X=K&&K.indexOf("msie 9.0")>0,Q=K&&K.indexOf("edge/")>0;K&&K.indexOf("android");var Z=K&&/iphone|ipad|ipod|ios/.test(K);K&&/chrome\/\d+/.test(K),K&&/phantomjs/.test(K);var J,ee=K&&K.match(/firefox\/(\d+)/),te={}.watch,ne=!1;if(G)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){ne=!0}}),window.addEventListener("test-passive",null,ie)}catch(e){}var re=function(){return void 0===J&&(J=!G&&void 0!==n.g&&n.g.process&&"server"===n.g.process.env.VUE_ENV),J},ae=G&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function se(e){return"function"==typeof e&&/native code/.test(e.toString())}var oe,le="undefined"!=typeof Symbol&&se(Symbol)&&"undefined"!=typeof Reflect&&se(Reflect.ownKeys);oe="undefined"!=typeof Set&&se(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ce=null;function ue(e){void 0===e&&(e=null),e||ce&&ce._scope.off(),ce=e,e&&e._scope.on()}var he=function(){function e(e,t,n,i,r,a,s,o){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),de=function(e){void 0===e&&(e="");var t=new he;return t.text=e,t.isComment=!0,t};function fe(e){return new he(void 0,void 0,void 0,String(e))}function pe(e){var t=new he(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var me=0,ge=[],ye=function(){function e(){this._pending=!1,this.id=me++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,ge.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){for(var t=this.subs.filter((function(e){return e})),n=0,i=t.length;n<i;n++)t[n].update()},e}();ye.target=null;var ve=[];function be(e){ve.push(e),ye.target=e}function _e(){ve.pop(),ye.target=ve[ve.length-1]}var we=Array.prototype,Se=Object.create(we);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=we[e];q(Se,e,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r,a=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&s.observeArray(r),s.dep.notify(),a}))}));var ke=Object.getOwnPropertyNames(Se),Te={},Ce=!0;function xe(e){Ce=e}var Ee={notify:L,depend:L,addSub:L,removeSub:L},Pe=function(){function e(e,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),this.value=e,this.shallow=n,this.mock=i,this.dep=i?Ee:new ye,this.vmCount=0,q(e,"__ob__",this),t(e)){if(!i)if(W)e.__proto__=Se;else for(var r=0,a=ke.length;r<a;r++)q(e,o=ke[r],Se[o]);n||this.observeArray(e)}else{var s=Object.keys(e);for(r=0;r<s.length;r++){var o;Ae(e,o=s[r],Te,void 0,n,i)}}}return e.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Ie(e[t],!1,this.mock)},e}();function Ie(e,n,i){return e&&_(e,"__ob__")&&e.__ob__ instanceof Pe?e.__ob__:!Ce||!i&&re()||!t(e)&&!u(e)||!Object.isExtensible(e)||e.__v_skip||Fe(e)||e instanceof he?void 0:new Pe(e,n,i)}function Ae(e,n,i,r,a,s){var o=new ye,l=Object.getOwnPropertyDescriptor(e,n);if(!l||!1!==l.configurable){var c=l&&l.get,u=l&&l.set;c&&!u||i!==Te&&2!==arguments.length||(i=e[n]);var h=!a&&Ie(i,!1,s);return Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var n=c?c.call(e):i;return ye.target&&(o.depend(),h&&(h.dep.depend(),t(n)&&Re(n))),Fe(n)&&!a?n.value:n},set:function(t){var n=c?c.call(e):i;if($(n,t)){if(u)u.call(e,t);else{if(c)return;if(!a&&Fe(n)&&!Fe(t))return void(n.value=t);i=t}h=!a&&Ie(t,!1,s),o.notify()}}}),o}}function Le(e,n,i){if(!Ne(e)){var r=e.__ob__;return t(e)&&h(n)?(e.length=Math.max(e.length,n),e.splice(n,1,i),r&&!r.shallow&&r.mock&&Ie(i,!1,!0),i):n in e&&!(n in Object.prototype)?(e[n]=i,i):e._isVue||r&&r.vmCount?i:r?(Ae(r.value,n,i,void 0,r.shallow,r.mock),r.dep.notify(),i):(e[n]=i,i)}}function Oe(e,n){if(t(e)&&h(n))e.splice(n,1);else{var i=e.__ob__;e._isVue||i&&i.vmCount||Ne(e)||_(e,n)&&(delete e[n],i&&i.dep.notify())}}function Re(e){for(var n=void 0,i=0,r=e.length;i<r;i++)(n=e[i])&&n.__ob__&&n.__ob__.dep.depend(),t(n)&&Re(n)}function De(e){return function(e,t){Ne(e)||Ie(e,t,re())}(e,!0),q(e,"__v_isShallow",!0),e}function Ne(e){return!(!e||!e.__v_isReadonly)}function Fe(e){return!(!e||!0!==e.__v_isRef)}function $e(e,t,n){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];if(Fe(e))return e.value;var i=e&&e.__ob__;return i&&i.dep.depend(),e},set:function(e){var i=t[n];Fe(i)&&!Fe(e)?i.value=e:t[n]=e}})}var Be=w((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),i="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=i?e.slice(1):e,once:n,capture:i,passive:t}}));function Me(e,n){function i(){var e=i.fns;if(!t(e))return Gt(e,null,arguments,n,"v-on handler");for(var r=e.slice(),a=0;a<r.length;a++)Gt(r[a],null,arguments,n,"v-on handler")}return i.fns=e,i}function Ue(e,t,n,r,s,o){var l,c,u,h;for(l in e)c=e[l],u=t[l],h=Be(l),i(c)||(i(u)?(i(c.fns)&&(c=e[l]=Me(c,o)),a(h.once)&&(c=e[l]=s(h.name,c,h.capture)),n(h.name,c,h.capture,h.passive,h.params)):c!==u&&(u.fns=c,e[l]=u));for(l in t)i(e[l])&&r((h=Be(l)).name,t[l],h.capture)}function je(e,t,n){var s;e instanceof he&&(e=e.data.hook||(e.data.hook={}));var o=e[t];function l(){n.apply(this,arguments),v(s.fns,l)}i(o)?s=Me([l]):r(o.fns)&&a(o.merged)?(s=o).fns.push(l):s=Me([o,l]),s.merged=!0,e[t]=s}function Ve(e,t,n,i,a){if(r(t)){if(_(t,n))return e[n]=t[n],a||delete t[n],!0;if(_(t,i))return e[n]=t[i],a||delete t[i],!0}return!1}function He(e){return s(e)?[fe(e)]:t(e)?ze(e):void 0}function qe(e){return r(e)&&r(e.text)&&!1===e.isComment}function ze(e,n){var o,l,c,u,h=[];for(o=0;o<e.length;o++)i(l=e[o])||"boolean"==typeof l||(u=h[c=h.length-1],t(l)?l.length>0&&(qe((l=ze(l,"".concat(n||"","_").concat(o)))[0])&&qe(u)&&(h[c]=fe(u.text+l[0].text),l.shift()),h.push.apply(h,l)):s(l)?qe(u)?h[c]=fe(u.text+l):""!==l&&h.push(fe(l)):qe(l)&&qe(u)?h[c]=fe(u.text+l.text):(a(e._isVList)&&r(l.tag)&&i(l.key)&&r(n)&&(l.key="__vlist".concat(n,"_").concat(o,"__")),h.push(l)));return h}function We(e,n,i,c,u,h){return(t(i)||s(i))&&(u=c,c=i,i=void 0),a(h)&&(u=2),function(e,n,i,a,s){if(r(i)&&r(i.__ob__))return de();if(r(i)&&r(i.is)&&(n=i.is),!n)return de();var c,u;if(t(a)&&o(a[0])&&((i=i||{}).scopedSlots={default:a[0]},a.length=0),2===s?a=He(a):1===s&&(a=function(e){for(var n=0;n<e.length;n++)if(t(e[n]))return Array.prototype.concat.apply([],e);return e}(a)),"string"==typeof n){var h=void 0;u=e.$vnode&&e.$vnode.ns||j.getTagNamespace(n),c=j.isReservedTag(n)?new he(j.parsePlatformTagName(n),i,a,void 0,void 0,e):i&&i.pre||!r(h=Un(e.$options,"components",n))?new he(n,i,a,void 0,void 0,e):An(h,i,e,a,n)}else c=An(n,i,e,a);return t(c)?c:r(c)?(r(u)&&Ge(c,u),r(i)&&function(e){l(e.style)&&cn(e.style),l(e.class)&&cn(e.class)}(i),c):de()}(e,n,i,c,u)}function Ge(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),r(e.children))for(var s=0,o=e.children.length;s<o;s++){var l=e.children[s];r(l.tag)&&(i(l.ns)||a(n)&&"svg"!==l.tag)&&Ge(l,t,n)}}function Ke(e,n){var i,a,s,o,c=null;if(t(e)||"string"==typeof e)for(c=new Array(e.length),i=0,a=e.length;i<a;i++)c[i]=n(e[i],i);else if("number"==typeof e)for(c=new Array(e),i=0;i<e;i++)c[i]=n(i+1,i);else if(l(e))if(le&&e[Symbol.iterator]){c=[];for(var u=e[Symbol.iterator](),h=u.next();!h.done;)c.push(n(h.value,c.length)),h=u.next()}else for(s=Object.keys(e),c=new Array(s.length),i=0,a=s.length;i<a;i++)o=s[i],c[i]=n(e[o],o,i);return r(c)||(c=[]),c._isVList=!0,c}function Ye(e,t,n,i){var r,a=this.$scopedSlots[e];a?(n=n||{},i&&(n=I(I({},i),n)),r=a(n)||(o(t)?t():t)):r=this.$slots[e]||(o(t)?t():t);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},r):r}function Xe(e){return Un(this.$options,"filters",e)||R}function Qe(e,n){return t(e)?-1===e.indexOf(n):e!==n}function Ze(e,t,n,i,r){var a=j.keyCodes[t]||n;return r&&i&&!j.keyCodes[t]?Qe(r,i):a?Qe(a,e):i?x(i)!==t:void 0===e}function Je(e,n,i,r,a){if(i&&l(i)){t(i)&&(i=A(i));var s=void 0,o=function(t){if("class"===t||"style"===t||y(t))s=e;else{var o=e.attrs&&e.attrs.type;s=r||j.mustUseProp(n,o,t)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=k(t),c=x(t);l in s||c in s||(s[t]=i[t],a&&((e.on||(e.on={}))["update:".concat(t)]=function(e){i[t]=e}))};for(var c in i)o(c)}return e}function et(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t||nt(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),"__static__".concat(e),!1),i}function tt(e,t,n){return nt(e,"__once__".concat(t).concat(n?"_".concat(n):""),!0),e}function nt(e,n,i){if(t(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&it(e[r],"".concat(n,"_").concat(r),i);else it(e,n,i)}function it(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function rt(e,t){if(t&&u(t)){var n=e.on=e.on?I({},e.on):{};for(var i in t){var r=n[i],a=t[i];n[i]=r?[].concat(r,a):a}}return e}function at(e,n,i,r){n=n||{$stable:!i};for(var a=0;a<e.length;a++){var s=e[a];t(s)?at(s,n,i):s&&(s.proxy&&(s.fn.proxy=!0),n[s.key]=s.fn)}return r&&(n.$key=r),n}function st(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"==typeof i&&i&&(e[t[n]]=t[n+1])}return e}function ot(e,t){return"string"==typeof e?t+e:e}function lt(e){e._o=tt,e._n=p,e._s=f,e._l=Ke,e._t=Ye,e._q=D,e._i=N,e._m=et,e._f=Xe,e._k=Ze,e._b=Je,e._v=fe,e._e=de,e._u=at,e._g=rt,e._d=st,e._p=ot}function ct(e,t){if(!e||!e.length)return{};for(var n={},i=0,r=e.length;i<r;i++){var a=e[i],s=a.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,a.context!==t&&a.fnContext!==t||!s||null==s.slot)(n.default||(n.default=[])).push(a);else{var o=s.slot,l=n[o]||(n[o]=[]);"template"===a.tag?l.push.apply(l,a.children||[]):l.push(a)}}for(var c in n)n[c].every(ut)&&delete n[c];return n}function ut(e){return e.isComment&&!e.asyncFactory||" "===e.text}function ht(e){return e.isComment&&e.asyncFactory}function dt(t,n,i,r){var a,s=Object.keys(i).length>0,o=n?!!n.$stable:!s,l=n&&n.$key;if(n){if(n._normalized)return n._normalized;if(o&&r&&r!==e&&l===r.$key&&!s&&!r.$hasNormal)return r;for(var c in a={},n)n[c]&&"$"!==c[0]&&(a[c]=ft(t,i,c,n[c]))}else a={};for(var u in i)u in a||(a[u]=pt(i,u));return n&&Object.isExtensible(n)&&(n._normalized=a),q(a,"$stable",o),q(a,"$key",l),q(a,"$hasNormal",s),a}function ft(e,n,i,r){var a=function(){var n=ce;ue(e);var i=arguments.length?r.apply(null,arguments):r({}),a=(i=i&&"object"==typeof i&&!t(i)?[i]:He(i))&&i[0];return ue(n),i&&(!a||1===i.length&&a.isComment&&!ht(a))?void 0:i};return r.proxy&&Object.defineProperty(n,i,{get:a,enumerable:!0,configurable:!0}),a}function pt(e,t){return function(){return e[t]}}function mt(e,t,n,i,r){var a=!1;for(var s in t)s in e?t[s]!==n[s]&&(a=!0):(a=!0,gt(e,s,i,r));for(var s in e)s in t||(a=!0,delete e[s]);return a}function gt(e,t,n,i){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return n[i][t]}})}function yt(e,t){for(var n in t)e[n]=t[n];for(var n in e)n in t||delete e[n]}var vt,bt=null;function _t(e,t){return(e.__esModule||le&&"Module"===e[Symbol.toStringTag])&&(e=e.default),l(e)?t.extend(e):e}function wt(e){if(t(e))for(var n=0;n<e.length;n++){var i=e[n];if(r(i)&&(r(i.componentOptions)||ht(i)))return i}}function St(e,t){vt.$on(e,t)}function kt(e,t){vt.$off(e,t)}function Tt(e,t){var n=vt;return function i(){var r=t.apply(null,arguments);null!==r&&n.$off(e,i)}}function Ct(e,t,n){vt=e,Ue(t,n||{},St,kt,Tt,e),vt=void 0}var xt=null;function Et(e){var t=xt;return xt=e,function(){xt=t}}function Pt(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function It(e,t){if(t){if(e._directInactive=!1,Pt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)It(e.$children[n]);Lt(e,"activated")}}function At(e,t){if(!(t&&(e._directInactive=!0,Pt(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)At(e.$children[n]);Lt(e,"deactivated")}}function Lt(e,t,n,i){void 0===i&&(i=!0),be();var r=ce;i&&ue(e);var a=e.$options[t],s="".concat(t," hook");if(a)for(var o=0,l=a.length;o<l;o++)Gt(a[o],e,n||null,e,s);e._hasHookEvent&&e.$emit("hook:"+t),i&&ue(r),_e()}var Ot=[],Rt=[],Dt={},Nt=!1,Ft=!1,$t=0,Bt=0,Mt=Date.now;if(G&&!Y){var Ut=window.performance;Ut&&"function"==typeof Ut.now&&Mt()>document.createEvent("Event").timeStamp&&(Mt=function(){return Ut.now()})}var jt=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function Vt(){var e,t;for(Bt=Mt(),Ft=!0,Ot.sort(jt),$t=0;$t<Ot.length;$t++)(e=Ot[$t]).before&&e.before(),t=e.id,Dt[t]=null,e.run();var n=Rt.slice(),i=Ot.slice();$t=Ot.length=Rt.length=0,Dt={},Nt=Ft=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,It(e[t],!0)}(n),function(e){for(var t=e.length;t--;){var n=e[t],i=n.vm;i&&i._watcher===n&&i._isMounted&&!i._isDestroyed&&Lt(i,"updated")}}(i),function(){for(var e=0;e<ge.length;e++){var t=ge[e];t.subs=t.subs.filter((function(e){return e})),t._pending=!1}ge.length=0}(),ae&&j.devtools&&ae.emit("flush")}var Ht,qt="watcher";"".concat(qt," callback"),"".concat(qt," getter"),"".concat(qt," cleanup");var zt=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ht,!e&&Ht&&(this.index=(Ht.scopes||(Ht.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=Ht;try{return Ht=this,e()}finally{Ht=t}}},e.prototype.on=function(){Ht=this},e.prototype.off=function(){Ht=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,n=void 0;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].teardown();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}},e}();function Wt(e,t,n){be();try{if(t)for(var i=t;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{if(!1===r[a].call(i,e,t,n))return}catch(e){Kt(e,i,"errorCaptured hook")}}Kt(e,t,n)}finally{_e()}}function Gt(e,t,n,i,r){var a;try{(a=n?e.apply(t,n):e.call(t))&&!a._isVue&&d(a)&&!a._handled&&(a.catch((function(e){return Wt(e,i,r+" (Promise/async)")})),a._handled=!0)}catch(e){Wt(e,i,r)}return a}function Kt(e,t,n){if(j.errorHandler)try{return j.errorHandler.call(null,e,t,n)}catch(t){t!==e&&Yt(t)}Yt(e)}function Yt(e,t,n){if(!G||"undefined"==typeof console)throw e;console.error(e)}var Xt,Qt=!1,Zt=[],Jt=!1;function en(){Jt=!1;var e=Zt.slice(0);Zt.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&se(Promise)){var tn=Promise.resolve();Xt=function(){tn.then(en),Z&&setTimeout(L)},Qt=!0}else if(Y||"undefined"==typeof MutationObserver||!se(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Xt="undefined"!=typeof setImmediate&&se(setImmediate)?function(){setImmediate(en)}:function(){setTimeout(en,0)};else{var nn=1,rn=new MutationObserver(en),an=document.createTextNode(String(nn));rn.observe(an,{characterData:!0}),Xt=function(){nn=(nn+1)%2,an.data=String(nn)},Qt=!0}function sn(e,t){var n;if(Zt.push((function(){if(e)try{e.call(t)}catch(e){Wt(e,t,"nextTick")}else n&&n(t)})),Jt||(Jt=!0,Xt()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}function on(e){return function(t,n){if(void 0===n&&(n=ce),n)return function(e,t,n){var i=e.$options;i[t]=Fn(i[t],n)}(n,e,t)}}on("beforeMount"),on("mounted"),on("beforeUpdate"),on("updated"),on("beforeDestroy"),on("destroyed"),on("activated"),on("deactivated"),on("serverPrefetch"),on("renderTracked"),on("renderTriggered"),on("errorCaptured");var ln=new oe;function cn(e){return un(e,ln),ln.clear(),e}function un(e,n){var i,r,a=t(e);if(!(!a&&!l(e)||e.__v_skip||Object.isFrozen(e)||e instanceof he)){if(e.__ob__){var s=e.__ob__.dep.id;if(n.has(s))return;n.add(s)}if(a)for(i=e.length;i--;)un(e[i],n);else if(Fe(e))un(e.value,n);else for(i=(r=Object.keys(e)).length;i--;)un(e[r[i]],n)}}var hn=0,dn=function(){function e(e,t,n,i,r){var a;void 0===(a=Ht&&!Ht._vm?Ht:e?e._scope:void 0)&&(a=Ht),a&&a.active&&a.effects.push(this),(this.vm=e)&&r&&(e._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++hn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new oe,this.newDepIds=new oe,this.expression="",o(t)?this.getter=t:(this.getter=function(e){if(!z.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=L)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){var e;be(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;Wt(e,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&cn(e),_e(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==Dt[t]&&(e!==ye.target||!e.noRecurse)){if(Dt[t]=!0,Ft){for(var n=Ot.length-1;n>$t&&Ot[n].id>e.id;)n--;Ot.splice(n+1,0,e)}else Ot.push(e);Nt||(Nt=!0,sn(Vt))}}(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||l(e)||this.deep){var t=this.value;if(this.value=e,this.user){var n='callback for watcher "'.concat(this.expression,'"');Gt(this.cb,this.vm,[e,t],this.vm,n)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&v(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}(),fn={enumerable:!0,configurable:!0,get:L,set:L};function pn(e,t,n){fn.get=function(){return this[t][n]},fn.set=function(e){this[t][n]=e},Object.defineProperty(e,n,fn)}function mn(n){var i=n.$options;if(i.props&&function(e,t){var n=e.$options.propsData||{},i=e._props=De({}),r=e.$options._propKeys=[];e.$parent&&xe(!1);var a=function(a){r.push(a);var s=jn(a,t,n,e);Ae(i,a,s),a in e||pn(e,"_props",a)};for(var s in t)a(s);xe(!0)}(n,i.props),function(t){var n=t.$options,i=n.setup;if(i){var r=t._setupContext=function(t){return{get attrs(){if(!t._attrsProxy){var n=t._attrsProxy={};q(n,"_v_attr_proxy",!0),mt(n,t.$attrs,e,t,"$attrs")}return t._attrsProxy},get listeners(){return t._listenersProxy||mt(t._listenersProxy={},t.$listeners,e,t,"$listeners"),t._listenersProxy},get slots(){return function(e){return e._slotsProxy||yt(e._slotsProxy={},e.$scopedSlots),e._slotsProxy}(t)},emit:E(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return $e(t,e,n)}))}}}(t);ue(t),be();var a=Gt(i,null,[t._props||De({}),r],t,"setup");if(_e(),ue(),o(a))n.render=a;else if(l(a))if(t._setupState=a,a.__sfc){var s=t._setupProxy={};for(var c in a)"__sfc"!==c&&$e(s,a,c)}else for(var c in a)H(c)||$e(t,a,c)}}(n),i.methods&&function(e,t){for(var n in e.$options.props,t)e[n]="function"!=typeof t[n]?L:E(t[n],e)}(n,i.methods),i.data)!function(e){var t=e.$options.data;u(t=e._data=o(t)?function(e,t){be();try{return e.call(t,t)}catch(e){return Wt(e,t,"data()"),{}}finally{_e()}}(t,e):t||{})||(t={});for(var n=Object.keys(t),i=e.$options.props,r=(e.$options.methods,n.length);r--;){var a=n[r];i&&_(i,a)||H(a)||pn(e,"_data",a)}var s=Ie(t);s&&s.vmCount++}(n);else{var r=Ie(n._data={});r&&r.vmCount++}i.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),i=re();for(var r in t){var a=t[r],s=o(a)?a:a.get;i||(n[r]=new dn(e,s||L,L,gn)),r in e||yn(e,r,a)}}(n,i.computed),i.watch&&i.watch!==te&&function(e,n){for(var i in n){var r=n[i];if(t(r))for(var a=0;a<r.length;a++)_n(e,i,r[a]);else _n(e,i,r)}}(n,i.watch)}var gn={lazy:!0};function yn(e,t,n){var i=!re();o(n)?(fn.get=i?vn(t):bn(n),fn.set=L):(fn.get=n.get?i&&!1!==n.cache?vn(t):bn(n.get):L,fn.set=n.set||L),Object.defineProperty(e,t,fn)}function vn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),ye.target&&t.depend(),t.value}}function bn(e){return function(){return e.call(this,this)}}function _n(e,t,n,i){return u(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}function wn(e,t){if(e){for(var n=Object.create(null),i=le?Reflect.ownKeys(e):Object.keys(e),r=0;r<i.length;r++){var a=i[r];if("__ob__"!==a){var s=e[a].from;if(s in t._provided)n[a]=t._provided[s];else if("default"in e[a]){var l=e[a].default;n[a]=o(l)?l.call(t):l}}}return n}}var Sn=0;function kn(e){var t=e.options;if(e.super){var n=kn(e.super);if(n!==e.superOptions){e.superOptions=n;var i=function(e){var t,n=e.options,i=e.sealedOptions;for(var r in n)n[r]!==i[r]&&(t||(t={}),t[r]=n[r]);return t}(e);i&&I(e.extendOptions,i),(t=e.options=Mn(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function Tn(n,i,r,s,o){var l,c=this,u=o.options;_(s,"_uid")?(l=Object.create(s))._original=s:(l=s,s=s._original);var h=a(u._compiled),d=!h;this.data=n,this.props=i,this.children=r,this.parent=s,this.listeners=n.on||e,this.injections=wn(u.inject,s),this.slots=function(){return c.$slots||dt(s,n.scopedSlots,c.$slots=ct(r,s)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return dt(s,n.scopedSlots,this.slots())}}),h&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=dt(s,n.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,n,i,r){var a=We(l,e,n,i,r,d);return a&&!t(a)&&(a.fnScopeId=u._scopeId,a.fnContext=s),a}:this._c=function(e,t,n,i){return We(l,e,t,n,i,d)}}function Cn(e,t,n,i,r){var a=pe(e);return a.fnContext=n,a.fnOptions=i,t.slot&&((a.data||(a.data={})).slot=t.slot),a}function xn(e,t){for(var n in t)e[k(n)]=t[n]}function En(e){return e.name||e.__name||e._componentTag}lt(Tn.prototype);var Pn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;Pn.prepatch(n,n)}else{(e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},i=e.data.inlineTemplate;return r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new e.componentOptions.Ctor(n)}(e,xt)).$mount(t?e.elm:void 0,t)}},prepatch:function(t,n){var i=n.componentOptions;!function(t,n,i,r,a){var s=r.data.scopedSlots,o=t.$scopedSlots,l=!!(s&&!s.$stable||o!==e&&!o.$stable||s&&t.$scopedSlots.$key!==s.$key||!s&&t.$scopedSlots.$key),c=!!(a||t.$options._renderChildren||l),u=t.$vnode;t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=a;var h=r.data.attrs||e;t._attrsProxy&&mt(t._attrsProxy,h,u.data&&u.data.attrs||e,t,"$attrs")&&(c=!0),t.$attrs=h,i=i||e;var d=t.$options._parentListeners;if(t._listenersProxy&&mt(t._listenersProxy,i,d||e,t,"$listeners"),t.$listeners=t.$options._parentListeners=i,Ct(t,i,d),n&&t.$options.props){xe(!1);for(var f=t._props,p=t.$options._propKeys||[],m=0;m<p.length;m++){var g=p[m],y=t.$options.props;f[g]=jn(g,y,n,t)}xe(!0),t.$options.propsData=n}c&&(t.$slots=ct(a,r.context),t.$forceUpdate())}(n.componentInstance=t.componentInstance,i.propsData,i.listeners,n,i.children)},insert:function(e){var t,n=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,Lt(i,"mounted")),e.data.keepAlive&&(n._isMounted?((t=i)._inactive=!1,Rt.push(t)):It(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?At(t,!0):t.$destroy())}},In=Object.keys(Pn);function An(n,s,o,c,u){if(!i(n)){var h=o.$options._base;if(l(n)&&(n=h.extend(n)),"function"==typeof n){var f;if(i(n.cid)&&(n=function(e,t){if(a(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var n=bt;if(n&&r(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),a(e.loading)&&r(e.loadingComp))return e.loadingComp;if(n&&!r(e.owners)){var s=e.owners=[n],o=!0,c=null,u=null;n.$on("hook:destroyed",(function(){return v(s,n)}));var h=function(e){for(var t=0,n=s.length;t<n;t++)s[t].$forceUpdate();e&&(s.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},f=F((function(n){e.resolved=_t(n,t),o?s.length=0:h(!0)})),p=F((function(t){r(e.errorComp)&&(e.error=!0,h(!0))})),m=e(f,p);return l(m)&&(d(m)?i(e.resolved)&&m.then(f,p):d(m.component)&&(m.component.then(f,p),r(m.error)&&(e.errorComp=_t(m.error,t)),r(m.loading)&&(e.loadingComp=_t(m.loading,t),0===m.delay?e.loading=!0:c=setTimeout((function(){c=null,i(e.resolved)&&i(e.error)&&(e.loading=!0,h(!1))}),m.delay||200)),r(m.timeout)&&(u=setTimeout((function(){u=null,i(e.resolved)&&p(null)}),m.timeout)))),o=!1,e.loading?e.loadingComp:e.resolved}}(f=n,h),void 0===n))return function(e,t,n,i,r){var a=de();return a.asyncFactory=e,a.asyncMeta={data:t,context:n,children:i,tag:r},a}(f,s,o,c,u);s=s||{},kn(n),r(s.model)&&function(e,n){var i=e.model&&e.model.prop||"value",a=e.model&&e.model.event||"input";(n.attrs||(n.attrs={}))[i]=n.model.value;var s=n.on||(n.on={}),o=s[a],l=n.model.callback;r(o)?(t(o)?-1===o.indexOf(l):o!==l)&&(s[a]=[l].concat(o)):s[a]=l}(n.options,s);var p=function(e,t,n){var a=t.options.props;if(!i(a)){var s={},o=e.attrs,l=e.props;if(r(o)||r(l))for(var c in a){var u=x(c);Ve(s,l,c,u,!0)||Ve(s,o,c,u,!1)}return s}}(s,n);if(a(n.options.functional))return function(n,i,a,s,o){var l=n.options,c={},u=l.props;if(r(u))for(var h in u)c[h]=jn(h,u,i||e);else r(a.attrs)&&xn(c,a.attrs),r(a.props)&&xn(c,a.props);var d=new Tn(a,c,o,s,n),f=l.render.call(null,d._c,d);if(f instanceof he)return Cn(f,a,d.parent,l);if(t(f)){for(var p=He(f)||[],m=new Array(p.length),g=0;g<p.length;g++)m[g]=Cn(p[g],a,d.parent,l);return m}}(n,p,s,o,c);var m=s.on;if(s.on=s.nativeOn,a(n.options.abstract)){var g=s.slot;s={},g&&(s.slot=g)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<In.length;n++){var i=In[n],r=t[i],a=Pn[i];r===a||r&&r._merged||(t[i]=r?Ln(a,r):a)}}(s);var y=En(n.options)||u;return new he("vue-component-".concat(n.cid).concat(y?"-".concat(y):""),s,void 0,void 0,void 0,o,{Ctor:n,propsData:p,listeners:m,tag:u,children:c},f)}}}function Ln(e,t){var n=function(n,i){e(n,i),t(n,i)};return n._merged=!0,n}var On=L,Rn=j.optionMergeStrategies;function Dn(e,t,n){if(void 0===n&&(n=!0),!t)return e;for(var i,r,a,s=le?Reflect.ownKeys(t):Object.keys(t),o=0;o<s.length;o++)"__ob__"!==(i=s[o])&&(r=e[i],a=t[i],n&&_(e,i)?r!==a&&u(r)&&u(a)&&Dn(r,a):Le(e,i,a));return e}function Nn(e,t,n){return n?function(){var i=o(t)?t.call(n,n):t,r=o(e)?e.call(n,n):e;return i?Dn(i,r):r}:t?e?function(){return Dn(o(t)?t.call(this,this):t,o(e)?e.call(this,this):e)}:t:e}function Fn(e,n){var i=n?e?e.concat(n):t(n)?n:[n]:e;return i?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(i):i}function $n(e,t,n,i){var r=Object.create(e||null);return t?I(r,t):r}Rn.data=function(e,t,n){return n?Nn(e,t,n):t&&"function"!=typeof t?e:Nn(e,t)},U.forEach((function(e){Rn[e]=Fn})),M.forEach((function(e){Rn[e+"s"]=$n})),Rn.watch=function(e,n,i,r){if(e===te&&(e=void 0),n===te&&(n=void 0),!n)return Object.create(e||null);if(!e)return n;var a={};for(var s in I(a,e),n){var o=a[s],l=n[s];o&&!t(o)&&(o=[o]),a[s]=o?o.concat(l):t(l)?l:[l]}return a},Rn.props=Rn.methods=Rn.inject=Rn.computed=function(e,t,n,i){if(!e)return t;var r=Object.create(null);return I(r,e),t&&I(r,t),r},Rn.provide=function(e,t){return e?function(){var n=Object.create(null);return Dn(n,o(e)?e.call(this):e),t&&Dn(n,o(t)?t.call(this):t,!1),n}:t};var Bn=function(e,t){return void 0===t?e:t};function Mn(e,n,i){if(o(n)&&(n=n.options),function(e,n){var i=e.props;if(i){var r,a,s={};if(t(i))for(r=i.length;r--;)"string"==typeof(a=i[r])&&(s[k(a)]={type:null});else if(u(i))for(var o in i)a=i[o],s[k(o)]=u(a)?a:{type:a};e.props=s}}(n),function(e,n){var i=e.inject;if(i){var r=e.inject={};if(t(i))for(var a=0;a<i.length;a++)r[i[a]]={from:i[a]};else if(u(i))for(var s in i){var o=i[s];r[s]=u(o)?I({from:s},o):{from:o}}}}(n),function(e){var t=e.directives;if(t)for(var n in t){var i=t[n];o(i)&&(t[n]={bind:i,update:i})}}(n),!n._base&&(n.extends&&(e=Mn(e,n.extends,i)),n.mixins))for(var r=0,a=n.mixins.length;r<a;r++)e=Mn(e,n.mixins[r],i);var s,l={};for(s in e)c(s);for(s in n)_(e,s)||c(s);function c(t){var r=Rn[t]||Bn;l[t]=r(e[t],n[t],i,t)}return l}function Un(e,t,n,i){if("string"==typeof n){var r=e[t];if(_(r,n))return r[n];var a=k(n);if(_(r,a))return r[a];var s=T(a);return _(r,s)?r[s]:r[n]||r[a]||r[s]}}function jn(e,t,n,i){var r=t[e],a=!_(n,e),s=n[e],l=zn(Boolean,r.type);if(l>-1)if(a&&!_(r,"default"))s=!1;else if(""===s||s===x(e)){var c=zn(String,r.type);(c<0||l<c)&&(s=!0)}if(void 0===s){s=function(e,t,n){if(_(t,"default")){var i=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:o(i)&&"Function"!==Hn(t.type)?i.call(e):i}}(i,r,e);var u=Ce;xe(!0),Ie(s),xe(u)}return s}var Vn=/^\s*function (\w+)/;function Hn(e){var t=e&&e.toString().match(Vn);return t?t[1]:""}function qn(e,t){return Hn(e)===Hn(t)}function zn(e,n){if(!t(n))return qn(n,e)?0:-1;for(var i=0,r=n.length;i<r;i++)if(qn(n[i],e))return i;return-1}function Wn(e){this._init(e)}function Gn(e){return e&&(En(e.Ctor.options)||e.tag)}function Kn(e,n){return t(e)?e.indexOf(n)>-1:"string"==typeof e?e.split(",").indexOf(n)>-1:(i=e,!("[object RegExp]"!==c.call(i))&&e.test(n));var i}function Yn(e,t){var n=e.cache,i=e.keys,r=e._vnode;for(var a in n){var s=n[a];if(s){var o=s.name;o&&!t(o)&&Xn(n,a,i,r)}}}function Xn(e,t,n,i){var r=e[t];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),e[t]=null,v(n,t)}!function(t){t.prototype._init=function(t){var n=this;n._uid=Sn++,n._isVue=!0,n.__v_skip=!0,n._scope=new zt(!0),n._scope._vm=!0,t&&t._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(n,t):n.$options=Mn(kn(n.constructor),t||{},n),n._renderProxy=n,n._self=n,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._provided=n?n._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(n),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Ct(e,t)}(n),function(t){t._vnode=null,t._staticTrees=null;var n=t.$options,i=t.$vnode=n._parentVnode,r=i&&i.context;t.$slots=ct(n._renderChildren,r),t.$scopedSlots=i?dt(t.$parent,i.data.scopedSlots,t.$slots):e,t._c=function(e,n,i,r){return We(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return We(t,e,n,i,r,!0)};var a=i&&i.data;Ae(t,"$attrs",a&&a.attrs||e,null,!0),Ae(t,"$listeners",n._parentListeners||e,null,!0)}(n),Lt(n,"beforeCreate",void 0,!1),function(e){var t=wn(e.$options.inject,e);t&&(xe(!1),Object.keys(t).forEach((function(n){Ae(e,n,t[n])})),xe(!0))}(n),mn(n),function(e){var t=e.$options.provide;if(t){var n=o(t)?t.call(e):t;if(!l(n))return;for(var i=function(e){var t=e._provided,n=e.$parent&&e.$parent._provided;return n===t?e._provided=Object.create(n):t}(e),r=le?Reflect.ownKeys(n):Object.keys(n),a=0;a<r.length;a++){var s=r[a];Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))}}}(n),Lt(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}(Wn),function(e){Object.defineProperty(e.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(e.prototype,"$props",{get:function(){return this._props}}),e.prototype.$set=Le,e.prototype.$delete=Oe,e.prototype.$watch=function(e,t,n){var i=this;if(u(t))return _n(i,e,t,n);(n=n||{}).user=!0;var r=new dn(i,e,t,n);if(n.immediate){var a='callback for immediate watcher "'.concat(r.expression,'"');be(),Gt(t,i,[r.value],i,a),_e()}return function(){r.teardown()}}}(Wn),function(e){var n=/^hook:/;e.prototype.$on=function(e,i){var r=this;if(t(e))for(var a=0,s=e.length;a<s;a++)r.$on(e[a],i);else(r._events[e]||(r._events[e]=[])).push(i),n.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function i(){n.$off(e,i),t.apply(n,arguments)}return i.fn=t,n.$on(e,i),n},e.prototype.$off=function(e,n){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(t(e)){for(var r=0,a=e.length;r<a;r++)i.$off(e[r],n);return i}var s,o=i._events[e];if(!o)return i;if(!n)return i._events[e]=null,i;for(var l=o.length;l--;)if((s=o[l])===n||s.fn===n){o.splice(l,1);break}return i},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?P(n):n;for(var i=P(arguments,1),r='event handler for "'.concat(e,'"'),a=0,s=n.length;a<s;a++)Gt(n[a],t,i,t,r)}return t}}(Wn),function(e){e.prototype._update=function(e,t){var n=this,i=n.$el,r=n._vnode,a=Et(n);n._vnode=e,n.$el=r?n.__patch__(r,e):n.__patch__(n.$el,e,t,!1),a(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n);for(var s=n;s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode;)s.$parent.$el=s.$el,s=s.$parent},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Lt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||v(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Lt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Wn),function(e){lt(e.prototype),e.prototype.$nextTick=function(e){return sn(e,this)},e.prototype._render=function(){var e,n=this,i=n.$options,r=i.render,a=i._parentVnode;a&&n._isMounted&&(n.$scopedSlots=dt(n.$parent,a.data.scopedSlots,n.$slots,n.$scopedSlots),n._slotsProxy&&yt(n._slotsProxy,n.$scopedSlots)),n.$vnode=a;try{ue(n),bt=n,e=r.call(n._renderProxy,n.$createElement)}catch(t){Wt(t,n,"render"),e=n._vnode}finally{bt=null,ue()}return t(e)&&1===e.length&&(e=e[0]),e instanceof he||(e=de()),e.parent=a,e}}(Wn);var Qn=[String,RegExp,Array],Zn={name:"keep-alive",abstract:!0,props:{include:Qn,exclude:Qn,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,n=e.keys,i=e.vnodeToCache,r=e.keyToCache;if(i){var a=i.tag,s=i.componentInstance,o=i.componentOptions;t[r]={name:Gn(o),tag:a,componentInstance:s},n.push(r),this.max&&n.length>parseInt(this.max)&&Xn(t,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Xn(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){Yn(e,(function(e){return Kn(t,e)}))})),this.$watch("exclude",(function(t){Yn(e,(function(e){return!Kn(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=wt(e),n=t&&t.componentOptions;if(n){var i=Gn(n),r=this.include,a=this.exclude;if(r&&(!i||!Kn(r,i))||a&&i&&Kn(a,i))return t;var s=this.cache,o=this.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):t.key;s[l]?(t.componentInstance=s[l].componentInstance,v(o,l),o.push(l)):(this.vnodeToCache=t,this.keyToCache=l),t.data.keepAlive=!0}return t||e&&e[0]}},Jn={KeepAlive:Zn};!function(e){var t={get:function(){return j}};Object.defineProperty(e,"config",t),e.util={warn:On,extend:I,mergeOptions:Mn,defineReactive:Ae},e.set=Le,e.delete=Oe,e.nextTick=sn,e.observable=function(e){return Ie(e),e},e.options=Object.create(null),M.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,I(e.options.components,Jn),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=P(arguments,1);return n.unshift(this),o(e.install)?e.install.apply(e,n):o(e)&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Mn(this.options,e),this}}(e),function(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var a=En(e)||En(n.options),s=function(e){this._init(e)};return(s.prototype=Object.create(n.prototype)).constructor=s,s.cid=t++,s.options=Mn(n.options,e),s.super=n,s.options.props&&function(e){var t=e.options.props;for(var n in t)pn(e.prototype,"_props",n)}(s),s.options.computed&&function(e){var t=e.options.computed;for(var n in t)yn(e.prototype,n,t[n])}(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,M.forEach((function(e){s[e]=n[e]})),a&&(s.options.components[a]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=I({},s.options),r[i]=s,s}}(e),function(e){M.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&u(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&o(n)&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}(e)}(Wn),Object.defineProperty(Wn.prototype,"$isServer",{get:re}),Object.defineProperty(Wn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Wn,"FunctionalRenderContext",{value:Tn}),Wn.version="2.7.14";var ei=m("style,class"),ti=m("input,textarea,option,select,progress"),ni=function(e,t,n){return"value"===n&&ti(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},ii=m("contenteditable,draggable,spellcheck"),ri=m("events,caret,typing,plaintext-only"),ai=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),si="http://www.w3.org/1999/xlink",oi=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},li=function(e){return oi(e)?e.slice(6,e.length):""},ci=function(e){return null==e||!1===e};function ui(e,t){return{staticClass:hi(e.staticClass,t.staticClass),class:r(e.class)?[e.class,t.class]:t.class}}function hi(e,t){return e?t?e+" "+t:e:t||""}function di(e){return Array.isArray(e)?function(e){for(var t,n="",i=0,a=e.length;i<a;i++)r(t=di(e[i]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):l(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var fi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},pi=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),mi=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),gi=function(e){return pi(e)||mi(e)};function yi(e){return mi(e)?"svg":"math"===e?"math":void 0}var vi=Object.create(null),bi=m("text,number,password,search,email,tel,url");function _i(e){return"string"==typeof e?document.querySelector(e)||document.createElement("div"):e}var wi=Object.freeze({__proto__:null,createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(fi[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),Si={create:function(e,t){ki(t)},update:function(e,t){e.data.ref!==t.data.ref&&(ki(e,!0),ki(t))},destroy:function(e){ki(e,!0)}};function ki(e,n){var i=e.data.ref;if(r(i)){var a=e.context,s=e.componentInstance||e.elm,l=n?null:s,c=n?void 0:s;if(o(i))Gt(i,a,[l],a,"template ref function");else{var u=e.data.refInFor,h="string"==typeof i||"number"==typeof i,d=Fe(i),f=a.$refs;if(h||d)if(u){var p=h?f[i]:i.value;n?t(p)&&v(p,s):t(p)?p.includes(s)||p.push(s):h?(f[i]=[s],Ti(a,i,f[i])):i.value=[s]}else if(h){if(n&&f[i]!==s)return;f[i]=c,Ti(a,i,l)}else if(d){if(n&&i.value!==s)return;i.value=l}}}}function Ti(e,t,n){var i=e._setupState;i&&_(i,t)&&(Fe(i[t])?i[t].value=n:i[t]=n)}var Ci=new he("",{},[]),xi=["create","activate","update","remove","destroy"];function Ei(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,i=r(n=e.data)&&r(n=n.attrs)&&n.type,a=r(n=t.data)&&r(n=n.attrs)&&n.type;return i===a||bi(i)&&bi(a)}(e,t)||a(e.isAsyncPlaceholder)&&i(t.asyncFactory.error))}function Pi(e,t,n){var i,a,s={};for(i=t;i<=n;++i)r(a=e[i].key)&&(s[a]=i);return s}var Ii={create:Ai,update:Ai,destroy:function(e){Ai(e,Ci)}};function Ai(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,i,r,a=e===Ci,s=t===Ci,o=Oi(e.data.directives,e.context),l=Oi(t.data.directives,t.context),c=[],u=[];for(n in l)i=o[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,Di(r,"update",t,e),r.def&&r.def.componentUpdated&&u.push(r)):(Di(r,"bind",t,e),r.def&&r.def.inserted&&c.push(r));if(c.length){var h=function(){for(var n=0;n<c.length;n++)Di(c[n],"inserted",t,e)};a?je(t,"insert",h):h()}if(u.length&&je(t,"postpatch",(function(){for(var n=0;n<u.length;n++)Di(u[n],"componentUpdated",t,e)})),!a)for(n in o)l[n]||Di(o[n],"unbind",e,e,s)}(e,t)}var Li=Object.create(null);function Oi(e,t){var n,i,r=Object.create(null);if(!e)return r;for(n=0;n<e.length;n++){if((i=e[n]).modifiers||(i.modifiers=Li),r[Ri(i)]=i,t._setupState&&t._setupState.__sfc){var a=i.def||Un(t,"_setupState","v-"+i.name);i.def="function"==typeof a?{bind:a,update:a}:a}i.def=i.def||Un(t.$options,"directives",i.name)}return r}function Ri(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function Di(e,t,n,i,r){var a=e.def&&e.def[t];if(a)try{a(n.elm,e,n,i,r)}catch(i){Wt(i,n.context,"directive ".concat(e.name," ").concat(t," hook"))}}var Ni=[Si,Ii];function Fi(e,t){var n=t.componentOptions;if(!(r(n)&&!1===n.Ctor.options.inheritAttrs||i(e.data.attrs)&&i(t.data.attrs))){var s,o,l=t.elm,c=e.data.attrs||{},u=t.data.attrs||{};for(s in(r(u.__ob__)||a(u._v_attr_proxy))&&(u=t.data.attrs=I({},u)),u)o=u[s],c[s]!==o&&$i(l,s,o,t.data.pre);for(s in(Y||Q)&&u.value!==c.value&&$i(l,"value",u.value),c)i(u[s])&&(oi(s)?l.removeAttributeNS(si,li(s)):ii(s)||l.removeAttribute(s))}}function $i(e,t,n,i){i||e.tagName.indexOf("-")>-1?Bi(e,t,n):ai(t)?ci(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):ii(t)?e.setAttribute(t,function(e,t){return ci(t)||"false"===t?"false":"contenteditable"===e&&ri(t)?t:"true"}(t,n)):oi(t)?ci(n)?e.removeAttributeNS(si,li(t)):e.setAttributeNS(si,t,n):Bi(e,t,n)}function Bi(e,t,n){if(ci(n))e.removeAttribute(t);else{if(Y&&!X&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}var Mi={create:Fi,update:Fi};function Ui(e,t){var n=t.elm,a=t.data,s=e.data;if(!(i(a.staticClass)&&i(a.class)&&(i(s)||i(s.staticClass)&&i(s.class)))){var o=function(e){for(var t=e.data,n=e,i=e;r(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(t=ui(i.data,t));for(;r(n=n.parent);)n&&n.data&&(t=ui(t,n.data));return a=t.staticClass,s=t.class,r(a)||r(s)?hi(a,di(s)):"";var a,s}(t),l=n._transitionClasses;r(l)&&(o=hi(o,di(l))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var ji,Vi,Hi,qi,zi,Wi,Gi={create:Ui,update:Ui},Ki=/[\w).+\-_$\]]/;function Yi(e){var t,n,i,r,a,s=!1,o=!1,l=!1,c=!1,u=0,h=0,d=0,f=0;for(i=0;i<e.length;i++)if(n=t,t=e.charCodeAt(i),s)39===t&&92!==n&&(s=!1);else if(o)34===t&&92!==n&&(o=!1);else if(l)96===t&&92!==n&&(l=!1);else if(c)47===t&&92!==n&&(c=!1);else if(124!==t||124===e.charCodeAt(i+1)||124===e.charCodeAt(i-1)||u||h||d){switch(t){case 34:o=!0;break;case 39:s=!0;break;case 96:l=!0;break;case 40:d++;break;case 41:d--;break;case 91:h++;break;case 93:h--;break;case 123:u++;break;case 125:u--}if(47===t){for(var p=i-1,m=void 0;p>=0&&" "===(m=e.charAt(p));p--);m&&Ki.test(m)||(c=!0)}}else void 0===r?(f=i+1,r=e.slice(0,i).trim()):g();function g(){(a||(a=[])).push(e.slice(f,i).trim()),f=i+1}if(void 0===r?r=e.slice(0,i).trim():0!==f&&g(),a)for(i=0;i<a.length;i++)r=Xi(r,a[i]);return r}function Xi(e,t){var n=t.indexOf("(");if(n<0)return'_f("'.concat(t,'")(').concat(e,")");var i=t.slice(0,n),r=t.slice(n+1);return'_f("'.concat(i,'")(').concat(e).concat(")"!==r?","+r:r)}function Qi(e,t){console.error("[Vue compiler]: ".concat(e))}function Zi(e,t){return e?e.map((function(e){return e[t]})).filter((function(e){return e})):[]}function Ji(e,t,n,i,r){(e.props||(e.props=[])).push(lr({name:t,value:n,dynamic:r},i)),e.plain=!1}function er(e,t,n,i,r){(r?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(lr({name:t,value:n,dynamic:r},i)),e.plain=!1}function tr(e,t,n,i){e.attrsMap[t]=n,e.attrsList.push(lr({name:t,value:n},i))}function nr(e,t,n,i,r,a,s,o){(e.directives||(e.directives=[])).push(lr({name:t,rawName:n,value:i,arg:r,isDynamicArg:a,modifiers:s},o)),e.plain=!1}function ir(e,t,n){return n?"_p(".concat(t,',"').concat(e,'")'):e+t}function rr(t,n,i,r,a,s,o,l){var c;(r=r||e).right?l?n="(".concat(n,")==='click'?'contextmenu':(").concat(n,")"):"click"===n&&(n="contextmenu",delete r.right):r.middle&&(l?n="(".concat(n,")==='click'?'mouseup':(").concat(n,")"):"click"===n&&(n="mouseup")),r.capture&&(delete r.capture,n=ir("!",n,l)),r.once&&(delete r.once,n=ir("~",n,l)),r.passive&&(delete r.passive,n=ir("&",n,l)),r.native?(delete r.native,c=t.nativeEvents||(t.nativeEvents={})):c=t.events||(t.events={});var u=lr({value:i.trim(),dynamic:l},o);r!==e&&(u.modifiers=r);var h=c[n];Array.isArray(h)?a?h.unshift(u):h.push(u):c[n]=h?a?[u,h]:[h,u]:u,t.plain=!1}function ar(e,t,n){var i=sr(e,":"+t)||sr(e,"v-bind:"+t);if(null!=i)return Yi(i);if(!1!==n){var r=sr(e,t);if(null!=r)return JSON.stringify(r)}}function sr(e,t,n){var i;if(null!=(i=e.attrsMap[t]))for(var r=e.attrsList,a=0,s=r.length;a<s;a++)if(r[a].name===t){r.splice(a,1);break}return n&&delete e.attrsMap[t],i}function or(e,t){for(var n=e.attrsList,i=0,r=n.length;i<r;i++){var a=n[i];if(t.test(a.name))return n.splice(i,1),a}}function lr(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function cr(e,t,n){var i=n||{},r=i.number,a="$$v",s=a;i.trim&&(s="(typeof ".concat(a," === 'string'")+"? ".concat(a,".trim()")+": ".concat(a,")")),r&&(s="_n(".concat(s,")"));var o=ur(t,s);e.model={value:"(".concat(t,")"),expression:JSON.stringify(t),callback:"function (".concat(a,") {").concat(o,"}")}}function ur(e,t){var n=function(e){if(e=e.trim(),ji=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<ji-1)return(qi=e.lastIndexOf("."))>-1?{exp:e.slice(0,qi),key:'"'+e.slice(qi+1)+'"'}:{exp:e,key:null};for(Vi=e,qi=zi=Wi=0;!dr();)fr(Hi=hr())?mr(Hi):91===Hi&&pr(Hi);return{exp:e.slice(0,zi),key:e.slice(zi+1,Wi)}}(e);return null===n.key?"".concat(e,"=").concat(t):"$set(".concat(n.exp,", ").concat(n.key,", ").concat(t,")")}function hr(){return Vi.charCodeAt(++qi)}function dr(){return qi>=ji}function fr(e){return 34===e||39===e}function pr(e){var t=1;for(zi=qi;!dr();)if(fr(e=hr()))mr(e);else if(91===e&&t++,93===e&&t--,0===t){Wi=qi;break}}function mr(e){for(var t=e;!dr()&&(e=hr())!==t;);}var gr;function yr(e,t,n){var i=gr;return function r(){var a=t.apply(null,arguments);null!==a&&_r(e,r,n,i)}}var vr=Qt&&!(ee&&Number(ee[1])<=53);function br(e,t,n,i){if(vr){var r=Bt,a=t;t=a._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return a.apply(this,arguments)}}gr.addEventListener(e,t,ne?{capture:n,passive:i}:n)}function _r(e,t,n,i){(i||gr).removeEventListener(e,t._wrapper||t,n)}function wr(e,t){if(!i(e.data.on)||!i(t.data.on)){var n=t.data.on||{},a=e.data.on||{};gr=t.elm||e.elm,function(e){if(r(e.__r)){var t=Y?"change":"input";e[t]=[].concat(e.__r,e[t]||[]),delete e.__r}r(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c)}(n),Ue(n,a,br,_r,yr,t.context),gr=void 0}}var Sr,kr={create:wr,update:wr,destroy:function(e){return wr(e,Ci)}};function Tr(e,t){if(!i(e.data.domProps)||!i(t.data.domProps)){var n,s,o=t.elm,l=e.data.domProps||{},c=t.data.domProps||{};for(n in(r(c.__ob__)||a(c._v_attr_proxy))&&(c=t.data.domProps=I({},c)),l)n in c||(o[n]="");for(n in c){if(s=c[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),s===l[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=s;var u=i(s)?"":String(s);Cr(o,u)&&(o.value=u)}else if("innerHTML"===n&&mi(o.tagName)&&i(o.innerHTML)){(Sr=Sr||document.createElement("div")).innerHTML="<svg>".concat(s,"</svg>");for(var h=Sr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;h.firstChild;)o.appendChild(h.firstChild)}else if(s!==l[n])try{o[n]=s}catch(e){}}}}function Cr(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,i=e._vModifiers;if(r(i)){if(i.number)return p(n)!==p(t);if(i.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}var xr={create:Tr,update:Tr},Er=w((function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function Pr(e){var t=Ir(e.style);return e.staticStyle?I(e.staticStyle,t):t}function Ir(e){return Array.isArray(e)?A(e):"string"==typeof e?Er(e):e}var Ar,Lr=/^--/,Or=/\s*!important$/,Rr=function(e,t,n){if(Lr.test(t))e.style.setProperty(t,n);else if(Or.test(n))e.style.setProperty(x(t),n.replace(Or,""),"important");else{var i=Nr(t);if(Array.isArray(n))for(var r=0,a=n.length;r<a;r++)e.style[i]=n[r];else e.style[i]=n}},Dr=["Webkit","Moz","ms"],Nr=w((function(e){if(Ar=Ar||document.createElement("div").style,"filter"!==(e=k(e))&&e in Ar)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Dr.length;n++){var i=Dr[n]+t;if(i in Ar)return i}}));function Fr(e,t){var n=t.data,a=e.data;if(!(i(n.staticStyle)&&i(n.style)&&i(a.staticStyle)&&i(a.style))){var s,o,l=t.elm,c=a.staticStyle,u=a.normalizedStyle||a.style||{},h=c||u,d=Ir(t.data.style)||{};t.data.normalizedStyle=r(d.__ob__)?I({},d):d;var f=function(e,t){for(var n,i={},r=e;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=Pr(r.data))&&I(i,n);(n=Pr(e.data))&&I(i,n);for(var a=e;a=a.parent;)a.data&&(n=Pr(a.data))&&I(i,n);return i}(t);for(o in h)i(f[o])&&Rr(l,o,"");for(o in f)(s=f[o])!==h[o]&&Rr(l,o,null==s?"":s)}}var $r={create:Fr,update:Fr},Br=/\s+/;function Mr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Br).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" ".concat(e.getAttribute("class")||""," ");n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Ur(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Br).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" ".concat(e.getAttribute("class")||""," "),i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function jr(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&I(t,Vr(e.name||"v")),I(t,e),t}return"string"==typeof e?Vr(e):void 0}}var Vr=w((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),Hr=G&&!X,qr="transition",zr="animation",Wr="transition",Gr="transitionend",Kr="animation",Yr="animationend";Hr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Wr="WebkitTransition",Gr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Kr="WebkitAnimation",Yr="webkitAnimationEnd"));var Xr=G?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Qr(e){Xr((function(){Xr(e)}))}function Zr(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Mr(e,t))}function Jr(e,t){e._transitionClasses&&v(e._transitionClasses,t),Ur(e,t)}function ea(e,t,n){var i=na(e,t),r=i.type,a=i.timeout,s=i.propCount;if(!r)return n();var o=r===qr?Gr:Yr,l=0,c=function(){e.removeEventListener(o,u),n()},u=function(t){t.target===e&&++l>=s&&c()};setTimeout((function(){l<s&&c()}),a+1),e.addEventListener(o,u)}var ta=/\b(transform|all)(,|$)/;function na(e,t){var n,i=window.getComputedStyle(e),r=(i[Wr+"Delay"]||"").split(", "),a=(i[Wr+"Duration"]||"").split(", "),s=ia(r,a),o=(i[Kr+"Delay"]||"").split(", "),l=(i[Kr+"Duration"]||"").split(", "),c=ia(o,l),u=0,h=0;return t===qr?s>0&&(n=qr,u=s,h=a.length):t===zr?c>0&&(n=zr,u=c,h=l.length):h=(n=(u=Math.max(s,c))>0?s>c?qr:zr:null)?n===qr?a.length:l.length:0,{type:n,timeout:u,propCount:h,hasTransform:n===qr&&ta.test(i[Wr+"Property"])}}function ia(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return ra(t)+ra(e[n])})))}function ra(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function aa(e,t){var n=e.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var a=jr(e.data.transition);if(!i(a)&&!r(n._enterCb)&&1===n.nodeType){for(var s=a.css,c=a.type,u=a.enterClass,h=a.enterToClass,d=a.enterActiveClass,f=a.appearClass,m=a.appearToClass,g=a.appearActiveClass,y=a.beforeEnter,v=a.enter,b=a.afterEnter,_=a.enterCancelled,w=a.beforeAppear,S=a.appear,k=a.afterAppear,T=a.appearCancelled,C=a.duration,x=xt,E=xt.$vnode;E&&E.parent;)x=E.context,E=E.parent;var P=!x._isMounted||!e.isRootInsert;if(!P||S||""===S){var I=P&&f?f:u,A=P&&g?g:d,L=P&&m?m:h,O=P&&w||y,R=P&&o(S)?S:v,D=P&&k||b,N=P&&T||_,$=p(l(C)?C.enter:C),B=!1!==s&&!X,M=la(R),U=n._enterCb=F((function(){B&&(Jr(n,L),Jr(n,A)),U.cancelled?(B&&Jr(n,I),N&&N(n)):D&&D(n),n._enterCb=null}));e.data.show||je(e,"insert",(function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),R&&R(n,U)})),O&&O(n),B&&(Zr(n,I),Zr(n,A),Qr((function(){Jr(n,I),U.cancelled||(Zr(n,L),M||(oa($)?setTimeout(U,$):ea(n,c,U)))}))),e.data.show&&(t&&t(),R&&R(n,U)),B||M||U()}}}function sa(e,t){var n=e.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var a=jr(e.data.transition);if(i(a)||1!==n.nodeType)return t();if(!r(n._leaveCb)){var s=a.css,o=a.type,c=a.leaveClass,u=a.leaveToClass,h=a.leaveActiveClass,d=a.beforeLeave,f=a.leave,m=a.afterLeave,g=a.leaveCancelled,y=a.delayLeave,v=a.duration,b=!1!==s&&!X,_=la(f),w=p(l(v)?v.leave:v),S=n._leaveCb=F((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),b&&(Jr(n,u),Jr(n,h)),S.cancelled?(b&&Jr(n,c),g&&g(n)):(t(),m&&m(n)),n._leaveCb=null}));y?y(k):k()}function k(){S.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),d&&d(n),b&&(Zr(n,c),Zr(n,h),Qr((function(){Jr(n,c),S.cancelled||(Zr(n,u),_||(oa(w)?setTimeout(S,w):ea(n,o,S)))}))),f&&f(n,S),b||_||S())}}function oa(e){return"number"==typeof e&&!isNaN(e)}function la(e){if(i(e))return!1;var t=e.fns;return r(t)?la(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function ca(e,t){!0!==t.data.show&&aa(t)}var ua=function(e){var n,o,l={},c=e.modules,u=e.nodeOps;for(n=0;n<xi.length;++n)for(l[xi[n]]=[],o=0;o<c.length;++o)r(c[o][xi[n]])&&l[xi[n]].push(c[o][xi[n]]);function h(e){var t=u.parentNode(e);r(t)&&u.removeChild(t,e)}function d(e,t,n,i,s,o,c){if(r(e.elm)&&r(o)&&(e=o[c]=pe(e)),e.isRootInsert=!s,!function(e,t,n,i){var s=e.data;if(r(s)){var o=r(e.componentInstance)&&s.keepAlive;if(r(s=s.hook)&&r(s=s.init)&&s(e,!1),r(e.componentInstance))return f(e,t),p(n,e.elm,i),a(o)&&function(e,t,n,i){for(var a,s=e;s.componentInstance;)if(r(a=(s=s.componentInstance._vnode).data)&&r(a=a.transition)){for(a=0;a<l.activate.length;++a)l.activate[a](Ci,s);t.push(s);break}p(n,e.elm,i)}(e,t,n,i),!0}}(e,t,n,i)){var h=e.data,d=e.children,m=e.tag;r(m)?(e.elm=e.ns?u.createElementNS(e.ns,m):u.createElement(m,e),b(e),g(e,d,t),r(h)&&v(e,t),p(n,e.elm,i)):a(e.isComment)?(e.elm=u.createComment(e.text),p(n,e.elm,i)):(e.elm=u.createTextNode(e.text),p(n,e.elm,i))}}function f(e,t){r(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,y(e)?(v(e,t),b(e)):(ki(e),t.push(e))}function p(e,t,n){r(e)&&(r(n)?u.parentNode(n)===e&&u.insertBefore(e,t,n):u.appendChild(e,t))}function g(e,n,i){if(t(n))for(var r=0;r<n.length;++r)d(n[r],i,e.elm,null,!0,n,r);else s(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function y(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return r(e.tag)}function v(e,t){for(var i=0;i<l.create.length;++i)l.create[i](Ci,e);r(n=e.data.hook)&&(r(n.create)&&n.create(Ci,e),r(n.insert)&&t.push(e))}function b(e){var t;if(r(t=e.fnScopeId))u.setStyleScope(e.elm,t);else for(var n=e;n;)r(t=n.context)&&r(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),n=n.parent;r(t=xt)&&t!==e.context&&t!==e.fnContext&&r(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function _(e,t,n,i,r,a){for(;i<=r;++i)d(n[i],a,e,t,!1,n,i)}function w(e){var t,n,i=e.data;if(r(i))for(r(t=i.hook)&&r(t=t.destroy)&&t(e),t=0;t<l.destroy.length;++t)l.destroy[t](e);if(r(t=e.children))for(n=0;n<e.children.length;++n)w(e.children[n])}function S(e,t,n){for(;t<=n;++t){var i=e[t];r(i)&&(r(i.tag)?(k(i),w(i)):h(i.elm))}}function k(e,t){if(r(t)||r(e.data)){var n,i=l.remove.length+1;for(r(t)?t.listeners+=i:t=function(e,t){function n(){0==--n.listeners&&h(e)}return n.listeners=t,n}(e.elm,i),r(n=e.componentInstance)&&r(n=n._vnode)&&r(n.data)&&k(n,t),n=0;n<l.remove.length;++n)l.remove[n](e,t);r(n=e.data.hook)&&r(n=n.remove)?n(e,t):t()}else h(e.elm)}function T(e,t,n,i){for(var a=n;a<i;a++){var s=t[a];if(r(s)&&Ei(e,s))return a}}function C(e,t,n,s,o,c){if(e!==t){r(t.elm)&&r(s)&&(t=s[o]=pe(t));var h=t.elm=e.elm;if(a(e.isAsyncPlaceholder))r(t.asyncFactory.resolved)?P(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(a(t.isStatic)&&a(e.isStatic)&&t.key===e.key&&(a(t.isCloned)||a(t.isOnce)))t.componentInstance=e.componentInstance;else{var f,p=t.data;r(p)&&r(f=p.hook)&&r(f=f.prepatch)&&f(e,t);var m=e.children,g=t.children;if(r(p)&&y(t)){for(f=0;f<l.update.length;++f)l.update[f](e,t);r(f=p.hook)&&r(f=f.update)&&f(e,t)}i(t.text)?r(m)&&r(g)?m!==g&&function(e,t,n,a,s){for(var o,l,c,h=0,f=0,p=t.length-1,m=t[0],g=t[p],y=n.length-1,v=n[0],b=n[y],w=!s;h<=p&&f<=y;)i(m)?m=t[++h]:i(g)?g=t[--p]:Ei(m,v)?(C(m,v,a,n,f),m=t[++h],v=n[++f]):Ei(g,b)?(C(g,b,a,n,y),g=t[--p],b=n[--y]):Ei(m,b)?(C(m,b,a,n,y),w&&u.insertBefore(e,m.elm,u.nextSibling(g.elm)),m=t[++h],b=n[--y]):Ei(g,v)?(C(g,v,a,n,f),w&&u.insertBefore(e,g.elm,m.elm),g=t[--p],v=n[++f]):(i(o)&&(o=Pi(t,h,p)),i(l=r(v.key)?o[v.key]:T(v,t,h,p))?d(v,a,e,m.elm,!1,n,f):Ei(c=t[l],v)?(C(c,v,a,n,f),t[l]=void 0,w&&u.insertBefore(e,c.elm,m.elm)):d(v,a,e,m.elm,!1,n,f),v=n[++f]);h>p?_(e,i(n[y+1])?null:n[y+1].elm,n,f,y,a):f>y&&S(t,h,p)}(h,m,g,n,c):r(g)?(r(e.text)&&u.setTextContent(h,""),_(h,null,g,0,g.length-1,n)):r(m)?S(m,0,m.length-1):r(e.text)&&u.setTextContent(h,""):e.text!==t.text&&u.setTextContent(h,t.text),r(p)&&r(f=p.hook)&&r(f=f.postpatch)&&f(e,t)}}}function x(e,t,n){if(a(n)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}var E=m("attrs,class,staticClass,staticStyle,key");function P(e,t,n,i){var s,o=t.tag,l=t.data,c=t.children;if(i=i||l&&l.pre,t.elm=e,a(t.isComment)&&r(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(r(l)&&(r(s=l.hook)&&r(s=s.init)&&s(t,!0),r(s=t.componentInstance)))return f(t,n),!0;if(r(o)){if(r(c))if(e.hasChildNodes())if(r(s=l)&&r(s=s.domProps)&&r(s=s.innerHTML)){if(s!==e.innerHTML)return!1}else{for(var u=!0,h=e.firstChild,d=0;d<c.length;d++){if(!h||!P(h,c[d],n,i)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else g(t,c,n);if(r(l)){var p=!1;for(var m in l)if(!E(m)){p=!0,v(t,n);break}!p&&l.class&&cn(l.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,s){if(!i(t)){var o,c=!1,h=[];if(i(e))c=!0,d(t,h);else{var f=r(e.nodeType);if(!f&&Ei(e,t))C(e,t,h,null,null,s);else{if(f){if(1===e.nodeType&&e.hasAttribute(B)&&(e.removeAttribute(B),n=!0),a(n)&&P(e,t,h))return x(t,h,!0),e;o=e,e=new he(u.tagName(o).toLowerCase(),{},[],void 0,o)}var p=e.elm,m=u.parentNode(p);if(d(t,h,p._leaveCb?null:m,u.nextSibling(p)),r(t.parent))for(var g=t.parent,v=y(t);g;){for(var b=0;b<l.destroy.length;++b)l.destroy[b](g);if(g.elm=t.elm,v){for(var _=0;_<l.create.length;++_)l.create[_](Ci,g);var k=g.data.hook.insert;if(k.merged)for(var T=1;T<k.fns.length;T++)k.fns[T]()}else ki(g);g=g.parent}r(m)?S([e],0,0):r(e.tag)&&w(e)}}return x(t,h,c),t.elm}r(e)&&w(e)}}({nodeOps:wi,modules:[Mi,Gi,kr,xr,$r,G?{create:ca,activate:ca,remove:function(e,t){!0!==e.data.show?sa(e,t):t()}}:{}].concat(Ni)});X&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&va(e,"input")}));var ha={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?je(n,"postpatch",(function(){ha.componentUpdated(e,t,n)})):da(e,t,n.context),e._vOptions=[].map.call(e.options,ma)):("textarea"===n.tag||bi(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",ga),e.addEventListener("compositionend",ya),e.addEventListener("change",ya),X&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){da(e,t,n.context);var i=e._vOptions,r=e._vOptions=[].map.call(e.options,ma);r.some((function(e,t){return!D(e,i[t])}))&&(e.multiple?t.value.some((function(e){return pa(e,r)})):t.value!==t.oldValue&&pa(t.value,r))&&va(e,"change")}}};function da(e,t,n){fa(e,t),(Y||Q)&&setTimeout((function(){fa(e,t)}),0)}function fa(e,t,n){var i=t.value,r=e.multiple;if(!r||Array.isArray(i)){for(var a,s,o=0,l=e.options.length;o<l;o++)if(s=e.options[o],r)a=N(i,ma(s))>-1,s.selected!==a&&(s.selected=a);else if(D(ma(s),i))return void(e.selectedIndex!==o&&(e.selectedIndex=o));r||(e.selectedIndex=-1)}}function pa(e,t){return t.every((function(t){return!D(t,e)}))}function ma(e){return"_value"in e?e._value:e.value}function ga(e){e.target.composing=!0}function ya(e){e.target.composing&&(e.target.composing=!1,va(e.target,"input"))}function va(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function ba(e){return!e.componentInstance||e.data&&e.data.transition?e:ba(e.componentInstance._vnode)}var _a={model:ha,show:{bind:function(e,t,n){var i=t.value,r=(n=ba(n)).data&&n.data.transition,a=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r?(n.data.show=!0,aa(n,(function(){e.style.display=a}))):e.style.display=i?a:"none"},update:function(e,t,n){var i=t.value;!i!=!t.oldValue&&((n=ba(n)).data&&n.data.transition?(n.data.show=!0,i?aa(n,(function(){e.style.display=e.__vOriginalDisplay})):sa(n,(function(){e.style.display="none"}))):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}}},wa={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Sa(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Sa(wt(t.children)):e}function ka(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var i in r)t[k(i)]=r[i];return t}function Ta(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var Ca=function(e){return e.tag||ht(e)},xa=function(e){return"show"===e.name},Ea={name:"transition",props:wa,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(Ca)).length){var i=this.mode,r=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return r;var a=Sa(r);if(!a)return r;if(this._leaving)return Ta(e,r);var o="__transition-".concat(this._uid,"-");a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var l=(a.data||(a.data={})).transition=ka(this),c=this._vnode,u=Sa(c);if(a.data.directives&&a.data.directives.some(xa)&&(a.data.show=!0),u&&u.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(a,u)&&!ht(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=I({},l);if("out-in"===i)return this._leaving=!0,je(h,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),Ta(e,r);if("in-out"===i){if(ht(a))return c;var d,f=function(){d()};je(l,"afterEnter",f),je(l,"enterCancelled",f),je(h,"delayLeave",(function(e){d=e}))}}return r}}},Pa=I({tag:String,moveClass:String},wa);delete Pa.mode;var Ia={props:Pa,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var r=Et(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],s=ka(this),o=0;o<r.length;o++)(u=r[o]).tag&&null!=u.key&&0!==String(u.key).indexOf("__vlist")&&(a.push(u),n[u.key]=u,(u.data||(u.data={})).transition=s);if(i){var l=[],c=[];for(o=0;o<i.length;o++){var u;(u=i[o]).data.transition=s,u.data.pos=u.elm.getBoundingClientRect(),n[u.key]?l.push(u):c.push(u)}this.kept=e(t,null,l),this.removed=c}return e(t,null,a)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Aa),e.forEach(La),e.forEach(Oa),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,i=n.style;Zr(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Gr,n._moveCb=function e(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Gr,e),n._moveCb=null,Jr(n,t))})}})))},methods:{hasMove:function(e,t){if(!Hr)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Ur(n,e)})),Mr(n,t),n.style.display="none",this.$el.appendChild(n);var i=na(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function Aa(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function La(e){e.data.newPos=e.elm.getBoundingClientRect()}function Oa(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var a=e.elm.style;a.transform=a.WebkitTransform="translate(".concat(i,"px,").concat(r,"px)"),a.transitionDuration="0s"}}var Ra={Transition:Ea,TransitionGroup:Ia};Wn.config.mustUseProp=ni,Wn.config.isReservedTag=gi,Wn.config.isReservedAttr=ei,Wn.config.getTagNamespace=yi,Wn.config.isUnknownElement=function(e){if(!G)return!0;if(gi(e))return!1;if(e=e.toLowerCase(),null!=vi[e])return vi[e];var t=document.createElement(e);return e.indexOf("-")>-1?vi[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:vi[e]=/HTMLUnknownElement/.test(t.toString())},I(Wn.options.directives,_a),I(Wn.options.components,Ra),Wn.prototype.__patch__=G?ua:L,Wn.prototype.$mount=function(e,t){return function(e,t,n){var i;e.$el=t,e.$options.render||(e.$options.render=de),Lt(e,"beforeMount"),i=function(){e._update(e._render(),n)},new dn(e,i,L,{before:function(){e._isMounted&&!e._isDestroyed&&Lt(e,"beforeUpdate")}},!0),n=!1;var r=e._preWatchers;if(r)for(var a=0;a<r.length;a++)r[a].run();return null==e.$vnode&&(e._isMounted=!0,Lt(e,"mounted")),e}(this,e=e&&G?_i(e):void 0,t)},G&&setTimeout((function(){j.devtools&&ae&&ae.emit("init",Wn)}),0);var Da,Na=/\{\{((?:.|\r?\n)+?)\}\}/g,Fa=/[-.*+?^${}()|[\]\/\\]/g,$a=w((function(e){var t=e[0].replace(Fa,"\\$&"),n=e[1].replace(Fa,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")})),Ba={staticKeys:["staticClass"],transformNode:function(e,t){t.warn;var n=sr(e,"class");n&&(e.staticClass=JSON.stringify(n.replace(/\s+/g," ").trim()));var i=ar(e,"class",!1);i&&(e.classBinding=i)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:".concat(e.staticClass,",")),e.classBinding&&(t+="class:".concat(e.classBinding,",")),t}},Ma={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn;var n=sr(e,"style");n&&(e.staticStyle=JSON.stringify(Er(n)));var i=ar(e,"style",!1);i&&(e.styleBinding=i)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:".concat(e.staticStyle,",")),e.styleBinding&&(t+="style:(".concat(e.styleBinding,"),")),t}},Ua=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),ja=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Va=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Ha=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,qa=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,za="[a-zA-Z_][\\-\\.0-9_a-zA-Z".concat(V.source,"]*"),Wa="((?:".concat(za,"\\:)?").concat(za,")"),Ga=new RegExp("^<".concat(Wa)),Ka=/^\s*(\/?)>/,Ya=new RegExp("^<\\/".concat(Wa,"[^>]*>")),Xa=/^<!DOCTYPE [^>]+>/i,Qa=/^<!\--/,Za=/^<!\[/,Ja=m("script,style,textarea",!0),es={},ts={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},ns=/&(?:lt|gt|quot|amp|#39);/g,is=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,rs=m("pre,textarea",!0),as=function(e,t){return e&&rs(e)&&"\n"===t[0]};function ss(e,t){var n=t?is:ns;return e.replace(n,(function(e){return ts[e]}))}var os,ls,cs,us,hs,ds,fs,ps,ms=/^@|^v-on:/,gs=/^v-|^@|^:|^#/,ys=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,vs=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,bs=/^\(|\)$/g,_s=/^\[.*\]$/,ws=/:(.*)$/,Ss=/^:|^\.|^v-bind:/,ks=/\.[^.\]]+(?=[^\]]*$)/g,Ts=/^v-slot(:|$)|^#/,Cs=/[\r\n]/,xs=/[ \f\t\r\n]+/g,Es=w((function(e){return(Da=Da||document.createElement("div")).innerHTML=e,Da.textContent})),Ps="_empty_";function Is(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:Fs(t),rawAttrsMap:{},parent:n,children:[]}}function As(e,t){os=t.warn||Qi,ds=t.isPreTag||O,fs=t.mustUseProp||O,ps=t.getTagNamespace||O;t.isReservedTag;cs=Zi(t.modules,"transformNode"),us=Zi(t.modules,"preTransformNode"),hs=Zi(t.modules,"postTransformNode"),ls=t.delimiters;var n,i,r=[],a=!1!==t.preserveWhitespace,s=t.whitespace,o=!1,l=!1;function c(e){if(u(e),o||e.processed||(e=Ls(e,t)),r.length||e===n||n.if&&(e.elseif||e.else)&&Rs(n,{exp:e.elseif,block:e}),i&&!e.forbidden)if(e.elseif||e.else)s=e,c=function(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];e.pop()}}(i.children),c&&c.if&&Rs(c,{exp:s.elseif,block:s});else{if(e.slotScope){var a=e.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[a]=e}i.children.push(e),e.parent=i}var s,c;e.children=e.children.filter((function(e){return!e.slotScope})),u(e),e.pre&&(o=!1),ds(e.tag)&&(l=!1);for(var h=0;h<hs.length;h++)hs[h](e,t)}function u(e){if(!l)for(var t=void 0;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}return function(e,t){for(var n,i,r=[],a=t.expectHTML,s=t.isUnaryTag||O,o=t.canBeLeftOpenTag||O,l=0,c=function(){if(n=e,i&&Ja(i)){var c=0,d=i.toLowerCase(),f=es[d]||(es[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i"));S=e.replace(f,(function(e,n,i){return c=i.length,Ja(d)||"noscript"===d||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),as(d,n)&&(n=n.slice(1)),t.chars&&t.chars(n),""})),l+=e.length-S.length,e=S,h(d,l-c,l)}else{var p=e.indexOf("<");if(0===p){if(Qa.test(e)){var m=e.indexOf("--\x3e");if(m>=0)return t.shouldKeepComment&&t.comment&&t.comment(e.substring(4,m),l,l+m+3),u(m+3),"continue"}if(Za.test(e)){var g=e.indexOf("]>");if(g>=0)return u(g+2),"continue"}var y=e.match(Xa);if(y)return u(y[0].length),"continue";var v=e.match(Ya);if(v){var b=l;return u(v[0].length),h(v[1],b,l),"continue"}var _=function(){var t=e.match(Ga);if(t){var n={tagName:t[1],attrs:[],start:l};u(t[0].length);for(var i=void 0,r=void 0;!(i=e.match(Ka))&&(r=e.match(qa)||e.match(Ha));)r.start=l,u(r[0].length),r.end=l,n.attrs.push(r);if(i)return n.unarySlash=i[1],u(i[0].length),n.end=l,n}}();if(_)return function(e){var n=e.tagName,l=e.unarySlash;a&&("p"===i&&Va(n)&&h(i),o(n)&&i===n&&h(n));for(var c=s(n)||!!l,u=e.attrs.length,d=new Array(u),f=0;f<u;f++){var p=e.attrs[f],m=p[3]||p[4]||p[5]||"",g="a"===n&&"href"===p[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;d[f]={name:p[1],value:ss(m,g)}}c||(r.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:d,start:e.start,end:e.end}),i=n),t.start&&t.start(n,d,c,e.start,e.end)}(_),as(_.tagName,e)&&u(1),"continue"}var w=void 0,S=void 0,k=void 0;if(p>=0){for(S=e.slice(p);!(Ya.test(S)||Ga.test(S)||Qa.test(S)||Za.test(S)||(k=S.indexOf("<",1))<0);)p+=k,S=e.slice(p);w=e.substring(0,p)}p<0&&(w=e),w&&u(w.length),t.chars&&w&&t.chars(w,l-w.length,l)}if(e===n)return t.chars&&t.chars(e),"break"};e&&"break"!==c(););function u(t){l+=t,e=e.substring(t)}function h(e,n,a){var s,o;if(null==n&&(n=l),null==a&&(a=l),e)for(o=e.toLowerCase(),s=r.length-1;s>=0&&r[s].lowerCasedTag!==o;s--);else s=0;if(s>=0){for(var c=r.length-1;c>=s;c--)t.end&&t.end(r[c].tag,n,a);r.length=s,i=s&&r[s-1].tag}else"br"===o?t.start&&t.start(e,[],!0,n,a):"p"===o&&(t.start&&t.start(e,[],!1,n,a),t.end&&t.end(e,n,a))}h()}(e,{warn:os,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function(e,a,s,u,h){var d=i&&i.ns||ps(e);Y&&"svg"===d&&(a=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];$s.test(i.name)||(i.name=i.name.replace(Bs,""),t.push(i))}return t}(a));var f,p=Is(e,a,i);d&&(p.ns=d),"style"!==(f=p).tag&&("script"!==f.tag||f.attrsMap.type&&"text/javascript"!==f.attrsMap.type)||re()||(p.forbidden=!0);for(var m=0;m<us.length;m++)p=us[m](p,t)||p;o||(function(e){null!=sr(e,"v-pre")&&(e.pre=!0)}(p),p.pre&&(o=!0)),ds(p.tag)&&(l=!0),o?function(e){var t=e.attrsList,n=t.length;if(n)for(var i=e.attrs=new Array(n),r=0;r<n;r++)i[r]={name:t[r].name,value:JSON.stringify(t[r].value)},null!=t[r].start&&(i[r].start=t[r].start,i[r].end=t[r].end);else e.pre||(e.plain=!0)}(p):p.processed||(Os(p),function(e){var t=sr(e,"v-if");if(t)e.if=t,Rs(e,{exp:t,block:e});else{null!=sr(e,"v-else")&&(e.else=!0);var n=sr(e,"v-else-if");n&&(e.elseif=n)}}(p),function(e){null!=sr(e,"v-once")&&(e.once=!0)}(p)),n||(n=p),s?c(p):(i=p,r.push(p))},end:function(e,t,n){var a=r[r.length-1];r.length-=1,i=r[r.length-1],c(a)},chars:function(e,t,n){if(i&&(!Y||"textarea"!==i.tag||i.attrsMap.placeholder!==e)){var r,c=i.children;if(e=l||e.trim()?"script"===(r=i).tag||"style"===r.tag?e:Es(e):c.length?s?"condense"===s&&Cs.test(e)?"":" ":a?" ":"":""){l||"condense"!==s||(e=e.replace(xs," "));var u=void 0,h=void 0;!o&&" "!==e&&(u=function(e,t){var n=t?$a(t):Na;if(n.test(e)){for(var i,r,a,s=[],o=[],l=n.lastIndex=0;i=n.exec(e);){(r=i.index)>l&&(o.push(a=e.slice(l,r)),s.push(JSON.stringify(a)));var c=Yi(i[1].trim());s.push("_s(".concat(c,")")),o.push({"@binding":c}),l=r+i[0].length}return l<e.length&&(o.push(a=e.slice(l)),s.push(JSON.stringify(a))),{expression:s.join("+"),tokens:o}}}(e,ls))?h={type:2,expression:u.expression,tokens:u.tokens,text:e}:" "===e&&c.length&&" "===c[c.length-1].text||(h={type:3,text:e}),h&&c.push(h)}}},comment:function(e,t,n){if(i){var r={type:3,text:e,isComment:!0};i.children.push(r)}}}),n}function Ls(e,t){var n;!function(e){var t=ar(e,"key");t&&(e.key=t)}(e),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,function(e){var t=ar(e,"ref");t&&(e.ref=t,e.refInFor=function(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(e))}(e),function(e){var t;"template"===e.tag?(t=sr(e,"scope"),e.slotScope=t||sr(e,"slot-scope")):(t=sr(e,"slot-scope"))&&(e.slotScope=t);var n,i=ar(e,"slot");if(i&&(e.slotTarget='""'===i?'"default"':i,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||er(e,"slot",i,function(e,t){return e.rawAttrsMap[":slot"]||e.rawAttrsMap["v-bind:slot"]||e.rawAttrsMap.slot}(e))),"template"===e.tag){if(n=or(e,Ts)){var r=Ds(n),a=r.name,s=r.dynamic;e.slotTarget=a,e.slotTargetDynamic=s,e.slotScope=n.value||Ps}}else if(n=or(e,Ts)){var o=e.scopedSlots||(e.scopedSlots={}),l=Ds(n),c=l.name,u=(s=l.dynamic,o[c]=Is("template",[],e));u.slotTarget=c,u.slotTargetDynamic=s,u.children=e.children.filter((function(e){if(!e.slotScope)return e.parent=u,!0})),u.slotScope=n.value||Ps,e.children=[],e.plain=!1}}(e),"slot"===(n=e).tag&&(n.slotName=ar(n,"name")),function(e){var t;(t=ar(e,"is"))&&(e.component=t),null!=sr(e,"inline-template")&&(e.inlineTemplate=!0)}(e);for(var i=0;i<cs.length;i++)e=cs[i](e,t)||e;return function(e){var t,n,i,r,a,s,o,l,c=e.attrsList;for(t=0,n=c.length;t<n;t++)if(i=r=c[t].name,a=c[t].value,gs.test(i))if(e.hasBindings=!0,(s=Ns(i.replace(gs,"")))&&(i=i.replace(ks,"")),Ss.test(i))i=i.replace(Ss,""),a=Yi(a),(l=_s.test(i))&&(i=i.slice(1,-1)),s&&(s.prop&&!l&&"innerHtml"===(i=k(i))&&(i="innerHTML"),s.camel&&!l&&(i=k(i)),s.sync&&(o=ur(a,"$event"),l?rr(e,'"update:"+('.concat(i,")"),o,null,!1,0,c[t],!0):(rr(e,"update:".concat(k(i)),o,null,!1,0,c[t]),x(i)!==k(i)&&rr(e,"update:".concat(x(i)),o,null,!1,0,c[t])))),s&&s.prop||!e.component&&fs(e.tag,e.attrsMap.type,i)?Ji(e,i,a,c[t],l):er(e,i,a,c[t],l);else if(ms.test(i))i=i.replace(ms,""),(l=_s.test(i))&&(i=i.slice(1,-1)),rr(e,i,a,s,!1,0,c[t],l);else{var u=(i=i.replace(gs,"")).match(ws),h=u&&u[1];l=!1,h&&(i=i.slice(0,-(h.length+1)),_s.test(h)&&(h=h.slice(1,-1),l=!0)),nr(e,i,r,a,h,l,s,c[t])}else er(e,i,JSON.stringify(a),c[t]),!e.component&&"muted"===i&&fs(e.tag,e.attrsMap.type,i)&&Ji(e,i,"true",c[t])}(e),e}function Os(e){var t;if(t=sr(e,"v-for")){var n=function(e){var t=e.match(ys);if(t){var n={};n.for=t[2].trim();var i=t[1].trim().replace(bs,""),r=i.match(vs);return r?(n.alias=i.replace(vs,"").trim(),n.iterator1=r[1].trim(),r[2]&&(n.iterator2=r[2].trim())):n.alias=i,n}}(t);n&&I(e,n)}}function Rs(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function Ds(e){var t=e.name.replace(Ts,"");return t||"#"!==e.name[0]&&(t="default"),_s.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'.concat(t,'"'),dynamic:!1}}function Ns(e){var t=e.match(ks);if(t){var n={};return t.forEach((function(e){n[e.slice(1)]=!0})),n}}function Fs(e){for(var t={},n=0,i=e.length;n<i;n++)t[e[n].name]=e[n].value;return t}var $s=/^xmlns:NS\d+/,Bs=/^NS\d+:/;function Ms(e){return Is(e.tag,e.attrsList.slice(),e.parent)}var Us,js,Vs=[Ba,Ma,{preTransformNode:function(e,t){if("input"===e.tag){var n=e.attrsMap;if(!n["v-model"])return;var i=void 0;if((n[":type"]||n["v-bind:type"])&&(i=ar(e,"type")),n.type||i||!n["v-bind"]||(i="(".concat(n["v-bind"],").type")),i){var r=sr(e,"v-if",!0),a=r?"&&(".concat(r,")"):"",s=null!=sr(e,"v-else",!0),o=sr(e,"v-else-if",!0),l=Ms(e);Os(l),tr(l,"type","checkbox"),Ls(l,t),l.processed=!0,l.if="(".concat(i,")==='checkbox'")+a,Rs(l,{exp:l.if,block:l});var c=Ms(e);sr(c,"v-for",!0),tr(c,"type","radio"),Ls(c,t),Rs(l,{exp:"(".concat(i,")==='radio'")+a,block:c});var u=Ms(e);return sr(u,"v-for",!0),tr(u,":type",i),Ls(u,t),Rs(l,{exp:r,block:u}),s?l.else=!0:o&&(l.elseif=o),l}}}}],Hs={expectHTML:!0,modules:Vs,directives:{model:function(e,t,n){var i=t.value,r=t.modifiers,a=e.tag,s=e.attrsMap.type;if(e.component)return cr(e,i,r),!1;if("select"===a)!function(e,t,n){var i=n&&n.number,r='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;'+"return ".concat(i?"_n(val)":"val","})"),a="var $$selectedVal = ".concat(r,";");rr(e,"change",a="".concat(a," ").concat(ur(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]")),null,!0)}(e,i,r);else if("input"===a&&"checkbox"===s)!function(e,t,n){var i=n&&n.number,r=ar(e,"value")||"null",a=ar(e,"true-value")||"true",s=ar(e,"false-value")||"false";Ji(e,"checked","Array.isArray(".concat(t,")")+"?_i(".concat(t,",").concat(r,")>-1")+("true"===a?":(".concat(t,")"):":_q(".concat(t,",").concat(a,")"))),rr(e,"change","var $$a=".concat(t,",")+"$$el=$event.target,"+"$$c=$$el.checked?(".concat(a,"):(").concat(s,");")+"if(Array.isArray($$a)){"+"var $$v=".concat(i?"_n("+r+")":r,",")+"$$i=_i($$a,$$v);"+"if($$el.checked){$$i<0&&(".concat(ur(t,"$$a.concat([$$v])"),")}")+"else{$$i>-1&&(".concat(ur(t,"$$a.slice(0,$$i).concat($$a.slice($$i+1))"),")}")+"}else{".concat(ur(t,"$$c"),"}"),null,!0)}(e,i,r);else if("input"===a&&"radio"===s)!function(e,t,n){var i=n&&n.number,r=ar(e,"value")||"null";r=i?"_n(".concat(r,")"):r,Ji(e,"checked","_q(".concat(t,",").concat(r,")")),rr(e,"change",ur(t,r),null,!0)}(e,i,r);else if("input"===a||"textarea"===a)!function(e,t,n){var i=e.attrsMap.type,r=n||{},a=r.lazy,s=r.number,o=r.trim,l=!a&&"range"!==i,c=a?"change":"range"===i?"__r":"input",u="$event.target.value";o&&(u="$event.target.value.trim()"),s&&(u="_n(".concat(u,")"));var h=ur(t,u);l&&(h="if($event.target.composing)return;".concat(h)),Ji(e,"value","(".concat(t,")")),rr(e,c,h,null,!0),(o||s)&&rr(e,"blur","$forceUpdate()")}(e,i,r);else if(!j.isReservedTag(a))return cr(e,i,r),!1;return!0},text:function(e,t){t.value&&Ji(e,"textContent","_s(".concat(t.value,")"),t)},html:function(e,t){t.value&&Ji(e,"innerHTML","_s(".concat(t.value,")"),t)}},isPreTag:function(e){return"pre"===e},isUnaryTag:Ua,mustUseProp:ni,canBeLeftOpenTag:ja,isReservedTag:gi,getTagNamespace:yi,staticKeys:function(e){return e.reduce((function(e,t){return e.concat(t.staticKeys||[])}),[]).join(",")}(Vs)},qs=w((function(e){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))}));function zs(e,t){e&&(Us=qs(t.staticKeys||""),js=t.isReservedTag||O,Ws(e),Gs(e,!1))}function Ws(e){if(e.static=function(e){return 2!==e.type&&(3===e.type||!(!e.pre&&(e.hasBindings||e.if||e.for||g(e.tag)||!js(e.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every(Us))))}(e),1===e.type){if(!js(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var t=0,n=e.children.length;t<n;t++){var i=e.children[t];Ws(i),i.static||(e.static=!1)}if(e.ifConditions)for(t=1,n=e.ifConditions.length;t<n;t++){var r=e.ifConditions[t].block;Ws(r),r.static||(e.static=!1)}}}function Gs(e,t){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=t),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var n=0,i=e.children.length;n<i;n++)Gs(e.children[n],t||!!e.for);if(e.ifConditions)for(n=1,i=e.ifConditions.length;n<i;n++)Gs(e.ifConditions[n].block,t)}}var Ks=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Ys=/\([^)]*?\);*$/,Xs=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Qs={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Zs={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Js=function(e){return"if(".concat(e,")return null;")},eo={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Js("$event.target !== $event.currentTarget"),ctrl:Js("!$event.ctrlKey"),shift:Js("!$event.shiftKey"),alt:Js("!$event.altKey"),meta:Js("!$event.metaKey"),left:Js("'button' in $event && $event.button !== 0"),middle:Js("'button' in $event && $event.button !== 1"),right:Js("'button' in $event && $event.button !== 2")};function to(e,t){var n=t?"nativeOn:":"on:",i="",r="";for(var a in e){var s=no(e[a]);e[a]&&e[a].dynamic?r+="".concat(a,",").concat(s,","):i+='"'.concat(a,'":').concat(s,",")}return i="{".concat(i.slice(0,-1),"}"),r?n+"_d(".concat(i,",[").concat(r.slice(0,-1),"])"):n+i}function no(e){if(!e)return"function(){}";if(Array.isArray(e))return"[".concat(e.map((function(e){return no(e)})).join(","),"]");var t=Xs.test(e.value),n=Ks.test(e.value),i=Xs.test(e.value.replace(Ys,""));if(e.modifiers){var r="",a="",s=[],o=function(t){if(eo[t])a+=eo[t],Qs[t]&&s.push(t);else if("exact"===t){var n=e.modifiers;a+=Js(["ctrl","shift","alt","meta"].filter((function(e){return!n[e]})).map((function(e){return"$event.".concat(e,"Key")})).join("||"))}else s.push(t)};for(var l in e.modifiers)o(l);s.length&&(r+=function(e){return"if(!$event.type.indexOf('key')&&"+"".concat(e.map(io).join("&&"),")return null;")}(s)),a&&(r+=a);var c=t?"return ".concat(e.value,".apply(null, arguments)"):n?"return (".concat(e.value,").apply(null, arguments)"):i?"return ".concat(e.value):e.value;return"function($event){".concat(r).concat(c,"}")}return t||n?e.value:"function($event){".concat(i?"return ".concat(e.value):e.value,"}")}function io(e){var t=parseInt(e,10);if(t)return"$event.keyCode!==".concat(t);var n=Qs[e],i=Zs[e];return"_k($event.keyCode,"+"".concat(JSON.stringify(e),",")+"".concat(JSON.stringify(n),",")+"$event.key,"+"".concat(JSON.stringify(i))+")"}var ro={on:function(e,t){e.wrapListeners=function(e){return"_g(".concat(e,",").concat(t.value,")")}},bind:function(e,t){e.wrapData=function(n){return"_b(".concat(n,",'").concat(e.tag,"',").concat(t.value,",").concat(t.modifiers&&t.modifiers.prop?"true":"false").concat(t.modifiers&&t.modifiers.sync?",true":"",")")}},cloak:L},ao=function(e){this.options=e,this.warn=e.warn||Qi,this.transforms=Zi(e.modules,"transformCode"),this.dataGenFns=Zi(e.modules,"genData"),this.directives=I(I({},ro),e.directives);var t=e.isReservedTag||O;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function so(e,t){var n=new ao(t),i=e?"script"===e.tag?"null":oo(e,n):'_c("div")';return{render:"with(this){return ".concat(i,"}"),staticRenderFns:n.staticRenderFns}}function oo(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return lo(e,t);if(e.once&&!e.onceProcessed)return co(e,t);if(e.for&&!e.forProcessed)return fo(e,t);if(e.if&&!e.ifProcessed)return uo(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return function(e,t){var n=e.slotName||'"default"',i=yo(e,t),r="_t(".concat(n).concat(i?",function(){return ".concat(i,"}"):""),a=e.attrs||e.dynamicAttrs?_o((e.attrs||[]).concat(e.dynamicAttrs||[]).map((function(e){return{name:k(e.name),value:e.value,dynamic:e.dynamic}}))):null,s=e.attrsMap["v-bind"];return!a&&!s||i||(r+=",null"),a&&(r+=",".concat(a)),s&&(r+="".concat(a?"":",null",",").concat(s)),r+")"}(e,t);var n=void 0;if(e.component)n=function(e,t,n){var i=t.inlineTemplate?null:yo(t,n,!0);return"_c(".concat(e,",").concat(po(t,n)).concat(i?",".concat(i):"",")")}(e.component,e,t);else{var i=void 0,r=t.maybeComponent(e);(!e.plain||e.pre&&r)&&(i=po(e,t));var a=void 0,s=t.options.bindings;r&&s&&!1!==s.__isScriptSetup&&(a=function(e,t){var n=k(t),i=T(n),r=function(r){return e[t]===r?t:e[n]===r?n:e[i]===r?i:void 0},a=r("setup-const")||r("setup-reactive-const");if(a)return a;var s=r("setup-let")||r("setup-ref")||r("setup-maybe-ref");return s||void 0}(s,e.tag)),a||(a="'".concat(e.tag,"'"));var o=e.inlineTemplate?null:yo(e,t,!0);n="_c(".concat(a).concat(i?",".concat(i):"").concat(o?",".concat(o):"",")")}for(var l=0;l<t.transforms.length;l++)n=t.transforms[l](e,n);return n}return yo(e,t)||"void 0"}function lo(e,t){e.staticProcessed=!0;var n=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return ".concat(oo(e,t),"}")),t.pre=n,"_m(".concat(t.staticRenderFns.length-1).concat(e.staticInFor?",true":"",")")}function co(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return uo(e,t);if(e.staticInFor){for(var n="",i=e.parent;i;){if(i.for){n=i.key;break}i=i.parent}return n?"_o(".concat(oo(e,t),",").concat(t.onceId++,",").concat(n,")"):oo(e,t)}return lo(e,t)}function uo(e,t,n,i){return e.ifProcessed=!0,ho(e.ifConditions.slice(),t,n,i)}function ho(e,t,n,i){if(!e.length)return i||"_e()";var r=e.shift();return r.exp?"(".concat(r.exp,")?").concat(a(r.block),":").concat(ho(e,t,n,i)):"".concat(a(r.block));function a(e){return n?n(e,t):e.once?co(e,t):oo(e,t)}}function fo(e,t,n,i){var r=e.for,a=e.alias,s=e.iterator1?",".concat(e.iterator1):"",o=e.iterator2?",".concat(e.iterator2):"";return e.forProcessed=!0,"".concat(i||"_l","((").concat(r,"),")+"function(".concat(a).concat(s).concat(o,"){")+"return ".concat((n||oo)(e,t))+"})"}function po(e,t){var n="{",i=function(e,t){var n=e.directives;if(n){var i,r,a,s,o="directives:[",l=!1;for(i=0,r=n.length;i<r;i++){a=n[i],s=!0;var c=t.directives[a.name];c&&(s=!!c(e,a,t.warn)),s&&(l=!0,o+='{name:"'.concat(a.name,'",rawName:"').concat(a.rawName,'"').concat(a.value?",value:(".concat(a.value,"),expression:").concat(JSON.stringify(a.value)):"").concat(a.arg?",arg:".concat(a.isDynamicArg?a.arg:'"'.concat(a.arg,'"')):"").concat(a.modifiers?",modifiers:".concat(JSON.stringify(a.modifiers)):"","},"))}return l?o.slice(0,-1)+"]":void 0}}(e,t);i&&(n+=i+","),e.key&&(n+="key:".concat(e.key,",")),e.ref&&(n+="ref:".concat(e.ref,",")),e.refInFor&&(n+="refInFor:true,"),e.pre&&(n+="pre:true,"),e.component&&(n+='tag:"'.concat(e.tag,'",'));for(var r=0;r<t.dataGenFns.length;r++)n+=t.dataGenFns[r](e);if(e.attrs&&(n+="attrs:".concat(_o(e.attrs),",")),e.props&&(n+="domProps:".concat(_o(e.props),",")),e.events&&(n+="".concat(to(e.events,!1),",")),e.nativeEvents&&(n+="".concat(to(e.nativeEvents,!0),",")),e.slotTarget&&!e.slotScope&&(n+="slot:".concat(e.slotTarget,",")),e.scopedSlots&&(n+="".concat(function(e,t,n){var i=e.for||Object.keys(t).some((function(e){var n=t[e];return n.slotTargetDynamic||n.if||n.for||mo(n)})),r=!!e.if;if(!i)for(var a=e.parent;a;){if(a.slotScope&&a.slotScope!==Ps||a.for){i=!0;break}a.if&&(r=!0),a=a.parent}var s=Object.keys(t).map((function(e){return go(t[e],n)})).join(",");return"scopedSlots:_u([".concat(s,"]").concat(i?",null,true":"").concat(!i&&r?",null,false,".concat(function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}(s)):"",")")}(e,e.scopedSlots,t),",")),e.model&&(n+="model:{value:".concat(e.model.value,",callback:").concat(e.model.callback,",expression:").concat(e.model.expression,"},")),e.inlineTemplate){var a=function(e,t){var n=e.children[0];if(n&&1===n.type){var i=so(n,t.options);return"inlineTemplate:{render:function(){".concat(i.render,"},staticRenderFns:[").concat(i.staticRenderFns.map((function(e){return"function(){".concat(e,"}")})).join(","),"]}")}}(e,t);a&&(n+="".concat(a,","))}return n=n.replace(/,$/,"")+"}",e.dynamicAttrs&&(n="_b(".concat(n,',"').concat(e.tag,'",').concat(_o(e.dynamicAttrs),")")),e.wrapData&&(n=e.wrapData(n)),e.wrapListeners&&(n=e.wrapListeners(n)),n}function mo(e){return 1===e.type&&("slot"===e.tag||e.children.some(mo))}function go(e,t){var n=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!n)return uo(e,t,go,"null");if(e.for&&!e.forProcessed)return fo(e,t,go);var i=e.slotScope===Ps?"":String(e.slotScope),r="function(".concat(i,"){")+"return ".concat("template"===e.tag?e.if&&n?"(".concat(e.if,")?").concat(yo(e,t)||"undefined",":undefined"):yo(e,t)||"undefined":oo(e,t),"}"),a=i?"":",proxy:true";return"{key:".concat(e.slotTarget||'"default"',",fn:").concat(r).concat(a,"}")}function yo(e,t,n,i,r){var a=e.children;if(a.length){var s=a[0];if(1===a.length&&s.for&&"template"!==s.tag&&"slot"!==s.tag){var o=n?t.maybeComponent(s)?",1":",0":"";return"".concat((i||oo)(s,t)).concat(o)}var l=n?function(e,t){for(var n=0,i=0;i<e.length;i++){var r=e[i];if(1===r.type){if(vo(r)||r.ifConditions&&r.ifConditions.some((function(e){return vo(e.block)}))){n=2;break}(t(r)||r.ifConditions&&r.ifConditions.some((function(e){return t(e.block)})))&&(n=1)}}return n}(a,t.maybeComponent):0,c=r||bo;return"[".concat(a.map((function(e){return c(e,t)})).join(","),"]").concat(l?",".concat(l):"")}}function vo(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function bo(e,t){return 1===e.type?oo(e,t):3===e.type&&e.isComment?function(e){return"_e(".concat(JSON.stringify(e.text),")")}(e):"_v(".concat(2===(n=e).type?n.expression:wo(JSON.stringify(n.text)),")");var n}function _o(e){for(var t="",n="",i=0;i<e.length;i++){var r=e[i],a=wo(r.value);r.dynamic?n+="".concat(r.name,",").concat(a,","):t+='"'.concat(r.name,'":').concat(a,",")}return t="{".concat(t.slice(0,-1),"}"),n?"_d(".concat(t,",[").concat(n.slice(0,-1),"])"):t}function wo(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function So(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),L}}function ko(e){var t=Object.create(null);return function(n,i,r){(i=I({},i)).warn,delete i.warn;var a=i.delimiters?String(i.delimiters)+n:n;if(t[a])return t[a];var s=e(n,i),o={},l=[];return o.render=So(s.render,l),o.staticRenderFns=s.staticRenderFns.map((function(e){return So(e,l)})),t[a]=o}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");var To,Co,xo=(To=function(e,t){var n=As(e.trim(),t);!1!==t.optimize&&zs(n,t);var i=so(n,t);return{ast:n,render:i.render,staticRenderFns:i.staticRenderFns}},function(e){function t(t,n){var i=Object.create(e),r=[],a=[];if(n)for(var s in n.modules&&(i.modules=(e.modules||[]).concat(n.modules)),n.directives&&(i.directives=I(Object.create(e.directives||null),n.directives)),n)"modules"!==s&&"directives"!==s&&(i[s]=n[s]);i.warn=function(e,t,n){(n?a:r).push(e)};var o=To(t.trim(),i);return o.errors=r,o.tips=a,o}return{compile:t,compileToFunctions:ko(t)}}),Eo=xo(Hs).compileToFunctions;function Po(e){return(Co=Co||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',Co.innerHTML.indexOf("&#10;")>0}var Io=!!G&&Po(!1),Ao=!!G&&Po(!0),Lo=w((function(e){var t=_i(e);return t&&t.innerHTML})),Oo=Wn.prototype.$mount;Wn.prototype.$mount=function(e,t){if((e=e&&_i(e))===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var i=n.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&(i=Lo(i));else{if(!i.nodeType)return this;i=i.innerHTML}else e&&(i=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));if(i){var r=Eo(i,{outputSourceRange:!1,shouldDecodeNewlines:Io,shouldDecodeNewlinesForHref:Ao,delimiters:n.delimiters,comments:n.comments},this),a=r.render,s=r.staticRenderFns;n.render=a,n.staticRenderFns=s}}return Oo.call(this,e,t)},Wn.compile=Eo;var Ro=("undefined"!=typeof window?window:void 0!==n.g?n.g:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function Do(e,t){if(void 0===t&&(t=[]),null===e||"object"!=typeof e)return e;var n,i=(n=function(t){return t.original===e},t.filter(n)[0]);if(i)return i.copy;var r=Array.isArray(e)?[]:{};return t.push({original:e,copy:r}),Object.keys(e).forEach((function(n){r[n]=Do(e[n],t)})),r}function No(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function Fo(e){return null!==e&&"object"==typeof e}var $o=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},Bo={namespaced:{configurable:!0}};Bo.namespaced.get=function(){return!!this._rawModule.namespaced},$o.prototype.addChild=function(e,t){this._children[e]=t},$o.prototype.removeChild=function(e){delete this._children[e]},$o.prototype.getChild=function(e){return this._children[e]},$o.prototype.hasChild=function(e){return e in this._children},$o.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},$o.prototype.forEachChild=function(e){No(this._children,e)},$o.prototype.forEachGetter=function(e){this._rawModule.getters&&No(this._rawModule.getters,e)},$o.prototype.forEachAction=function(e){this._rawModule.actions&&No(this._rawModule.actions,e)},$o.prototype.forEachMutation=function(e){this._rawModule.mutations&&No(this._rawModule.mutations,e)},Object.defineProperties($o.prototype,Bo);var Mo,Uo=function(e){this.register([],e,!1)};function jo(e,t,n){if(t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return;jo(e.concat(i),t.getChild(i),n.modules[i])}}Uo.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},Uo.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},Uo.prototype.update=function(e){jo([],this.root,e)},Uo.prototype.register=function(e,t,n){var i=this;void 0===n&&(n=!0);var r=new $o(t,n);0===e.length?this.root=r:this.get(e.slice(0,-1)).addChild(e[e.length-1],r),t.modules&&No(t.modules,(function(t,r){i.register(e.concat(r),t,n)}))},Uo.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],i=t.getChild(n);i&&i.runtime&&t.removeChild(n)},Uo.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var Vo=function(e){var t=this;void 0===e&&(e={}),!Mo&&"undefined"!=typeof window&&window.Vue&&Xo(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var i=e.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Uo(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new Mo,this._makeLocalGettersCache=Object.create(null);var r=this,a=this.dispatch,s=this.commit;this.dispatch=function(e,t){return a.call(r,e,t)},this.commit=function(e,t,n){return s.call(r,e,t,n)},this.strict=i;var o=this._modules.root.state;Go(this,o,[],this._modules.root),Wo(this,o),n.forEach((function(e){return e(t)})),(void 0!==e.devtools?e.devtools:Mo.config.devtools)&&function(e){Ro&&(e._devtoolHook=Ro,Ro.emit("vuex:init",e),Ro.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){Ro.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){Ro.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},Ho={state:{configurable:!0}};function qo(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function zo(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Go(e,n,[],e._modules.root,!0),Wo(e,n,t)}function Wo(e,t,n){var i=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,a={};No(r,(function(t,n){a[n]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})}));var s=Mo.config.silent;Mo.config.silent=!0,e._vm=new Mo({data:{$$state:t},computed:a}),Mo.config.silent=s,e.strict&&function(e){e._vm.$watch((function(){return this._data.$$state}),(function(){}),{deep:!0,sync:!0})}(e),i&&(n&&e._withCommit((function(){i._data.$$state=null})),Mo.nextTick((function(){return i.$destroy()})))}function Go(e,t,n,i,r){var a=!n.length,s=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=i),!a&&!r){var o=Ko(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){Mo.set(o,l,i.state)}))}var c=i.context=function(e,t,n){var i=""===t,r={dispatch:i?e.dispatch:function(n,i,r){var a=Yo(n,i,r),s=a.payload,o=a.options,l=a.type;return o&&o.root||(l=t+l),e.dispatch(l,s)},commit:i?e.commit:function(n,i,r){var a=Yo(n,i,r),s=a.payload,o=a.options,l=a.type;o&&o.root||(l=t+l),e.commit(l,s,o)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach((function(r){if(r.slice(0,i)===t){var a=r.slice(i);Object.defineProperty(n,a,{get:function(){return e.getters[r]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return Ko(e.state,n)}}}),r}(e,s,n);i.forEachMutation((function(t,n){!function(e,t,n,i){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,i.state,t)}))}(e,s+n,t,c)})),i.forEachAction((function(t,n){var i=t.root?n:s+n,r=t.handler||t;!function(e,t,n,i){(e._actions[t]||(e._actions[t]=[])).push((function(t){var r,a=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},t);return(r=a)&&"function"==typeof r.then||(a=Promise.resolve(a)),e._devtoolHook?a.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):a}))}(e,i,r,c)})),i.forEachGetter((function(t,n){!function(e,t,n,i){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(i.state,i.getters,e.state,e.getters)})}(e,s+n,t,c)})),i.forEachChild((function(i,a){Go(e,t,n.concat(a),i,r)}))}function Ko(e,t){return t.reduce((function(e,t){return e[t]}),e)}function Yo(e,t,n){return Fo(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function Xo(e){Mo&&e===Mo||function(e){if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:n});else{var t=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[n].concat(e.init):n,t.call(this,e)}}function n(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(Mo=e)}Ho.state.get=function(){return this._vm._data.$$state},Ho.state.set=function(e){},Vo.prototype.commit=function(e,t,n){var i=this,r=Yo(e,t,n),a=r.type,s=r.payload,o=(r.options,{type:a,payload:s}),l=this._mutations[a];l&&(this._withCommit((function(){l.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(o,i.state)})))},Vo.prototype.dispatch=function(e,t){var n=this,i=Yo(e,t),r=i.type,a=i.payload,s={type:r,payload:a},o=this._actions[r];if(o){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(e){}var l=o.length>1?Promise.all(o.map((function(e){return e(a)}))):o[0](a);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(e){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(e){}t(e)}))}))}},Vo.prototype.subscribe=function(e,t){return qo(e,this._subscribers,t)},Vo.prototype.subscribeAction=function(e,t){return qo("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},Vo.prototype.watch=function(e,t,n){var i=this;return this._watcherVM.$watch((function(){return e(i.state,i.getters)}),t,n)},Vo.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},Vo.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),Go(this,this.state,e,this._modules.get(e),n.preserveState),Wo(this,this.state)},Vo.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=Ko(t.state,e.slice(0,-1));Mo.delete(n,e[e.length-1])})),zo(this)},Vo.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},Vo.prototype.hotUpdate=function(e){this._modules.update(e),zo(this,!0)},Vo.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Vo.prototype,Ho);var Qo=nl((function(e,t){var n={};return tl(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var i=il(this.$store,0,e);if(!i)return;t=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,t,n):t[r]},n[i].vuex=!0})),n})),Zo=nl((function(e,t){var n={};return tl(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.commit;if(e){var a=il(this.$store,0,e);if(!a)return;i=a.context.commit}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}})),n})),Jo=nl((function(e,t){var n={};return tl(t).forEach((function(t){var i=t.key,r=t.val;r=e+r,n[i]=function(){if(!e||il(this.$store,0,e))return this.$store.getters[r]},n[i].vuex=!0})),n})),el=nl((function(e,t){var n={};return tl(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.dispatch;if(e){var a=il(this.$store,0,e);if(!a)return;i=a.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}})),n}));function tl(e){return function(e){return Array.isArray(e)||Fo(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function nl(e){return function(t,n){return"string"!=typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function il(e,t,n){return e._modulesNamespaceMap[n]}function rl(e,t,n){var i=n?e.groupCollapsed:e.group;try{i.call(e,t)}catch(n){e.log(t)}}function al(e){try{e.groupEnd()}catch(t){e.log(" log end ")}}function sl(){var e=new Date;return" @ "+ol(e.getHours(),2)+":"+ol(e.getMinutes(),2)+":"+ol(e.getSeconds(),2)+"."+ol(e.getMilliseconds(),3)}function ol(e,t){return n=t-e.toString().length,new Array(n+1).join("0")+e;var n}var ll={Store:Vo,install:Xo,version:"3.6.2",mapState:Qo,mapMutations:Zo,mapGetters:Jo,mapActions:el,createNamespacedHelpers:function(e){return{mapState:Qo.bind(null,e),mapGetters:Jo.bind(null,e),mapMutations:Zo.bind(null,e),mapActions:el.bind(null,e)}},createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var n=e.filter;void 0===n&&(n=function(e,t,n){return!0});var i=e.transformer;void 0===i&&(i=function(e){return e});var r=e.mutationTransformer;void 0===r&&(r=function(e){return e});var a=e.actionFilter;void 0===a&&(a=function(e,t){return!0});var s=e.actionTransformer;void 0===s&&(s=function(e){return e});var o=e.logMutations;void 0===o&&(o=!0);var l=e.logActions;void 0===l&&(l=!0);var c=e.logger;return void 0===c&&(c=console),function(e){var u=Do(e.state);void 0!==c&&(o&&e.subscribe((function(e,a){var s=Do(a);if(n(e,u,s)){var o=sl(),l=r(e),h="mutation "+e.type+o;rl(c,h,t),c.log("%c prev state","color: #9E9E9E; font-weight: bold",i(u)),c.log("%c mutation","color: #03A9F4; font-weight: bold",l),c.log("%c next state","color: #4CAF50; font-weight: bold",i(s)),al(c)}u=s})),l&&e.subscribeAction((function(e,n){if(a(e,n)){var i=sl(),r=s(e),o="action "+e.type+i;rl(c,o,t),c.log("%c action","color: #03A9F4; font-weight: bold",r),al(c)}})))}}};const cl=ll;function ul(e){return ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(e)}function hl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function dl(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fl(e,t){if(e===t)return!0;if("object"===ul(e)){for(var n in e)if(!fl(e[n],t[n]))return!1;return!0}return!1}var pl=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(n,i)}var t,n;return t=e,n=[{key:"createObserver",value:function(e,t){var n=this;if(this.observer&&this.destroyObserver(),!this.frozen){var i;if(this.options="function"==typeof(i=e)?{callback:i}:i,this.callback=function(e,t){n.options.callback(e,t),e&&n.options.once&&(n.frozen=!0,n.destroyObserver())},this.callback&&this.options.throttle){var r=(this.options.throttleOptions||{}).leading;this.callback=function(e,t){var n,i,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=function(s){for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];if(r=l,!n||s!==i){var u=a.leading;"function"==typeof u&&(u=u(s,i)),n&&s===i||!u||e.apply(void 0,[s].concat(dl(r))),i=s,clearTimeout(n),n=setTimeout((function(){e.apply(void 0,[s].concat(dl(r))),n=0}),t)}};return s._clear=function(){clearTimeout(n),n=null},s}(this.callback,this.options.throttle,{leading:function(e){return"both"===r||"visible"===r&&e||"hidden"===r&&!e}})}this.oldResult=void 0,this.observer=new IntersectionObserver((function(e){var t=e[0];if(e.length>1){var i=e.find((function(e){return e.isIntersecting}));i&&(t=i)}if(n.callback){var r=t.isIntersecting&&t.intersectionRatio>=n.threshold;if(r===n.oldResult)return;n.oldResult=r,n.callback(r,t)}}),this.options.intersection),t.context.$nextTick((function(){n.observer&&n.observer.observe(n.el)}))}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&"number"==typeof this.options.intersection.threshold?this.options.intersection.threshold:0}}],n&&hl(t.prototype,n),e}();function ml(e,t,n){var i=t.value;if(i)if("undefined"==typeof IntersectionObserver)console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var r=new pl(e,i,n);e._vue_visibilityState=r}}function gl(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var yl={bind:ml,update:function(e,t,n){var i=t.value;if(!fl(i,t.oldValue)){var r=e._vue_visibilityState;i?r?r.createObserver(i,n):ml(e,{value:i},n):gl(e)}},unbind:gl},vl={version:"1.0.0",install:function(e){e.directive("observe-visibility",yl)}},bl=null;function _l(e,t,n,i,r,a,s,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:c}}"undefined"!=typeof window?bl=window.Vue:void 0!==n.g&&(bl=n.g.Vue),bl&&bl.use(vl);const wl=_l({name:"FtFlexBox"},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"ft-flex-box"},[e._t("default")],2)}),[],!1,null,"85d0cc7a",null).exports;let Sl=0;const kl=_l({name:"FtTooltip",props:{position:{type:String,default:"bottom",validator:e=>"bottom"===e||"left"===e||"right"===e||"top"===e||"bottom-left"===e},tooltip:{type:String,required:!0}},data:()=>({id:"ft-tooltip-"+ ++Sl})},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"tooltip"},[t("button",{staticClass:"button",attrs:{"aria-labelledby":e.id,type:"button"}},[t("font-awesome-icon",{attrs:{icon:["fas","question-circle"]}})],1),e._v(" "),t("p",{staticClass:"text",class:e.position,attrs:{id:e.id,role:"tooltip"}},[e._v("\n    "+e._s(e.tooltip)+"\n  ")])])}),[],!1,null,"61c68e44",null).exports,Tl={name:"FtInput",components:{"ft-tooltip":kl},props:{inputType:{type:String,required:!1,default:"text"},placeholder:{type:String,required:!0},label:{type:String,default:null},value:{type:String,default:""},showActionButton:{type:Boolean,default:!0},forceActionButtonIconName:{type:Array,default:null},showClearTextButton:{type:Boolean,default:!1},showLabel:{type:Boolean,default:!1},isSearch:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!0},dataList:{type:Array,default:()=>[]},tooltip:{type:String,default:""}},data:function(){let e=["fas","search"];return null!==this.forceActionButtonIconName&&(e=this.forceActionButtonIconName),{id:"",inputData:"",searchState:{showOptions:!1,selectedOption:-1,isPointerInList:!1},visibleDataList:this.dataList,clearTextButtonExisting:!1,clearTextButtonVisible:!1,actionButtonIconName:e}},computed:{barColor:function(){return this.$store.getters.getBarColor},forceTextColor:function(){return this.isSearch&&this.barColor},idDataList:function(){return`${this.id}_datalist`},inputDataPresent:function(){return this.inputData.length>0}},watch:{dataList(e,t){e!==t&&this.updateVisibleDataList()},inputData(e,t){e!==t&&this.updateVisibleDataList()},value(e,t){e!==t&&(this.inputData=e)}},mounted:function(){this.id=this._uid,this.inputData=this.value,this.updateVisibleDataList()},methods:{handleClick:function(e){this.inputDataPresent&&(this.searchState.showOptions=!1,this.$emit("input",this.inputData),this.$emit("click",this.inputData,{event:e}))},handleInput:function(e){this.isSearch&&-1!==this.searchState.selectedOption&&this.inputData===this.visibleDataList[this.searchState.selectedOption]||(this.handleActionIconChange(),this.$emit("input",e))},handleClearTextClick:function(){this.inputDataPresent&&(this.inputData="",this.handleActionIconChange(),this.updateVisibleDataList(),this.$refs.input.value="",this.$refs.input.focus(),this.$emit("clear"))},handleActionIconChange:function(){if(this.showActionButton)if(this.inputDataPresent||null!==this.forceActionButtonIconName)try{this.getYoutubeUrlInfo(this.inputData).then((e=>{let t=!1;switch(e.urlType){case"video":case"playlist":case"search":case"channel":t=!0}null===this.forceActionButtonIconName&&(this.actionButtonIconName=t?["fas","arrow-right"]:["fas","search"])}))}catch(e){throw null===this.forceActionButtonIconName&&(this.actionButtonIconName=["fas","search"]),e}else this.actionButtonIconName=["fas","search"]},handleOptionClick:function(e){this.searchState.showOptions=!1,this.inputData=this.visibleDataList[e],this.$emit("input",this.inputData),this.handleClick()},handleKeyDown:function(e){if("Enter"===e.key)return-1!==this.searchState.selectedOption&&(this.searchState.showOptions=!1,e.preventDefault(),this.inputData=this.visibleDataList[this.searchState.selectedOption]),void this.handleClick();0!==this.visibleDataList.length&&(this.searchState.showOptions=!0,"ArrowDown"===e.key||"ArrowUp"===e.key?("ArrowDown"===e.key?this.searchState.selectedOption=(this.searchState.selectedOption+1)%this.visibleDataList.length:"ArrowUp"===e.key&&(this.searchState.selectedOption<1?this.searchState.selectedOption=this.visibleDataList.length-1:this.searchState.selectedOption--),this.searchState.selectedOption<0?this.searchState.selectedOption=this.visibleDataList.length:this.searchState.selectedOption>this.visibleDataList.length-1&&(this.searchState.selectedOption=0)):this.searchState.selectedOption=-1)},handleInputBlur:function(){this.searchState.isPointerInList||(this.searchState.showOptions=!1)},handleFocus:function(e){this.searchState.showOptions=!0},updateVisibleDataList:function(){if(0===this.dataList.length)return;if(""===this.inputData)return void(this.visibleDataList=this.dataList);const e=this.dataList.filter((e=>-1!==e.toLowerCase().indexOf(this.inputData.toLowerCase())));this.visibleDataList=e},updateInputData:function(e){this.inputData=e},focus(){this.$refs.input.focus()},...el(["getYoutubeUrlInfo"])}};var Cl=_l(Tl,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"ft-input-component",class:{search:e.isSearch,forceTextColor:e.forceTextColor,showActionButton:e.showActionButton,showClearTextButton:e.showClearTextButton,clearTextButtonVisible:e.inputDataPresent,disabled:e.disabled}},[e.showLabel?t("label",{staticClass:"selectLabel",attrs:{for:e.id}},[e._v("\n    "+e._s(e.label||e.placeholder)+"\n    "),""!==e.tooltip?t("ft-tooltip",{staticClass:"selectTooltip",attrs:{position:"bottom",tooltip:e.tooltip}}):e._e()],1):e._e(),e._v(" "),e.showClearTextButton?t("font-awesome-icon",{staticClass:"clearInputTextButton",class:{visible:e.inputDataPresent},attrs:{icon:["fas","times-circle"],tabindex:"0",role:"button",title:e.$t("Search Bar.Clear Input")},on:{click:e.handleClearTextClick,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.handleClearTextClick.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.handleClearTextClick.apply(null,arguments))}]}}):e._e(),e._v(" "),t("span",{staticClass:"inputWrapper"},["checkbox"===e.inputType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputData,expression:"inputData"}],ref:"input",staticClass:"ft-input",attrs:{id:e.id,list:e.idDataList,placeholder:e.placeholder,disabled:e.disabled,spellcheck:e.spellcheck,type:"checkbox"},domProps:{checked:Array.isArray(e.inputData)?e._i(e.inputData,null)>-1:e.inputData},on:{input:t=>e.handleInput(t.target.value),focus:e.handleFocus,blur:e.handleInputBlur,keydown:e.handleKeyDown,change:function(t){var n=e.inputData,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&(e.inputData=n.concat([null])):a>-1&&(e.inputData=n.slice(0,a).concat(n.slice(a+1)))}else e.inputData=r}}}):"radio"===e.inputType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputData,expression:"inputData"}],ref:"input",staticClass:"ft-input",attrs:{id:e.id,list:e.idDataList,placeholder:e.placeholder,disabled:e.disabled,spellcheck:e.spellcheck,type:"radio"},domProps:{checked:e._q(e.inputData,null)},on:{input:t=>e.handleInput(t.target.value),focus:e.handleFocus,blur:e.handleInputBlur,keydown:e.handleKeyDown,change:function(t){e.inputData=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputData,expression:"inputData"}],ref:"input",staticClass:"ft-input",attrs:{id:e.id,list:e.idDataList,placeholder:e.placeholder,disabled:e.disabled,spellcheck:e.spellcheck,type:e.inputType},domProps:{value:e.inputData},on:{input:[function(t){t.target.composing||(e.inputData=t.target.value)},t=>e.handleInput(t.target.value)],focus:e.handleFocus,blur:e.handleInputBlur,keydown:e.handleKeyDown}}),e._v(" "),e.showActionButton?t("font-awesome-icon",{staticClass:"inputAction",class:{enabled:e.inputDataPresent,withLabel:e.showLabel},attrs:{icon:e.actionButtonIconName},on:{click:e.handleClick}}):e._e()],1),e._v(" "),t("div",{staticClass:"options"},[""!==e.inputData&&e.visibleDataList.length>0&&e.searchState.showOptions?t("ul",{staticClass:"list",attrs:{id:e.idDataList},on:{mouseenter:function(t){e.searchState.isPointerInList=!0},mouseleave:function(t){e.searchState.isPointerInList=!1}}},e._l(e.visibleDataList,(function(n,i){return t("li",{key:i,class:e.searchState.selectedOption==i?"hover":"",on:{click:function(t){return e.handleOptionClick(i)},mouseenter:function(t){e.searchState.selectedOption=i}}},[e._v("\n        "+e._s(n)+"\n      ")])})),0):e._e()])],1)}),[],!1,null,"7031dc8a",null);const xl=Cl.exports;var El=_l({name:"FtElementList",props:{title:{type:String,required:!0},labels:{type:Array,required:!0},values:{type:Array,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{id:"",selectedValue:""}},computed:{inputName:function(){return this.title.replace(" ","").toLowerCase()+this.id}},mounted:function(){this.id=this._uid,this.selectedValue=this.values[0]},methods:{updateSelectedValue:function(e){this.selectedValue=e}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"pure-radiobutton filter"},[t("h3",{staticClass:"radioTitle"},[e._v("\n    "+e._s(e.title)+"\n  ")]),e._v(" "),e._l(e.labels,(function(n,i){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],key:i,staticClass:"radio",attrs:{id:e.values[i]+e.id,name:e.inputName,disabled:e.disabled,type:"radio"},domProps:{value:e.values[i],checked:0===i,checked:e._q(e.selectedValue,e.values[i])},on:{change:[function(t){e.selectedValue=e.values[i]},function(t){return e.$emit("change",e.values[i])}]}}),e._v(" "),t("label",{key:n,attrs:{for:e.values[i]+e.id}},[e._v("\n      "+e._s(n)+"\n    ")])]}))],2)}),[],!1,null,"66f038a1",null);const Pl=_l({name:"FtSearchFilters",components:{"ft-flex-box":wl,"ft-radio-button":El.exports},data:function(){return{sortByValues:["relevance","rating","upload_date","view_count"],timeValues:["","hour","today","week","month","year"],typeValues:["all","video","channel","playlist"],durationValues:["","short","long"]}},computed:{searchSettings:function(){return this.$store.getters.getSearchSettings},filterValueChanged:function(){return[this.$refs.sortByRadio.selectedValue!==this.sortByValues[0],this.$refs.timeRadio.selectedValue!==this.timeValues[0],this.$refs.typeRadio.selectedValue!==this.typeValues[0],this.$refs.durationRadio.selectedValue!==this.durationValues[0]].some((e=>!0===e))},sortByLabels:function(){return[this.$t("Search Filters.Sort By.Most Relevant"),this.$t("Search Filters.Sort By.Rating"),this.$t("Search Filters.Sort By.Upload Date"),this.$t("Search Filters.Sort By.View Count")]},timeLabels:function(){return[this.$t("Search Filters.Time.Any Time"),this.$t("Search Filters.Time.Last Hour"),this.$t("Search Filters.Time.Today"),this.$t("Search Filters.Time.This Week"),this.$t("Search Filters.Time.This Month"),this.$t("Search Filters.Time.This Year")]},typeLabels:function(){return[this.$t("Search Filters.Type.All Types"),this.$t("Search Filters.Type.Videos"),this.$t("Search Filters.Type.Channels"),this.$t("Playlists")]},durationLabels:function(){return[this.$t("Search Filters.Duration.All Durations"),this.$t("Search Filters.Duration.Short (< 4 minutes)"),this.$t("Search Filters.Duration.Long (> 20 minutes)")]}},methods:{updateSortBy:function(e){this.$store.commit("setSearchSortBy",e),this.$emit("filterValueUpdated",this.filterValueChanged)},updateTime:function(e){"video"!==this.searchSettings.type&&(this.$refs.typeRadio.updateSelectedValue("all"),this.$store.commit("setSearchType","all")),this.$store.commit("setSearchTime",e),this.$emit("filterValueUpdated",this.filterValueChanged)},updateType:function(e){if("channel"===e||"playlist"===e){const e=this.$refs.timeRadio,t=this.$refs.durationRadio;e.updateSelectedValue(""),t.updateSelectedValue(""),this.$store.commit("setSearchTime",""),this.$store.commit("setSearchDuration","")}this.$store.commit("setSearchType",e),this.$emit("filterValueUpdated",this.filterValueChanged)},updateDuration:function(e){""!==e&&"video"!==this.searchSettings.type&&(this.$refs.typeRadio.updateSelectedValue("all"),this.updateType("all")),this.$store.commit("setSearchDuration",e),this.$emit("filterValueUpdated",this.filterValueChanged)}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t("div",{staticClass:"searchFilterInner"},[t("h2",{staticClass:"center"},[e._v("\n      "+e._s(e.$t("Search Filters.Search Filters"))+"\n    ")]),e._v(" "),t("ft-flex-box",{staticClass:"radioFlexBox"},[t("ft-radio-button",{ref:"sortByRadio",staticClass:"searchRadio",attrs:{title:e.$t("Search Filters.Sort By.Sort By"),labels:e.sortByLabels,values:e.sortByValues},on:{change:e.updateSortBy}}),e._v(" "),t("ft-radio-button",{ref:"timeRadio",staticClass:"searchRadio",attrs:{title:e.$t("Search Filters.Time.Time"),labels:e.timeLabels,values:e.timeValues},on:{change:e.updateTime}}),e._v(" "),t("ft-radio-button",{ref:"typeRadio",staticClass:"searchRadio",attrs:{title:e.$t("Search Filters.Type.Type"),labels:e.typeLabels,values:e.typeValues},on:{change:e.updateType}}),e._v(" "),t("ft-radio-button",{ref:"durationRadio",staticClass:"searchRadio",attrs:{title:e.$t("Search Filters.Duration.Duration"),labels:e.durationLabels,values:e.durationValues},on:{change:e.updateDuration}})],1)],1)])}),[],!1,null,"498bc9a2",null).exports,Il=_l({name:"FtCard"},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"ft-card",on:{focusout:function(t){return e.$emit("focusout")}}},[e._t("default")],2)}),[],!1,null,"468747c3",null).exports;function Al(e){return e.replaceAll(/\s+/g,"")}const Ll={name:"FtIconButton",props:{title:{type:String,default:""},icon:{type:Array,default:()=>["fas","ellipsis-v"]},theme:{type:String,default:"base"},useShadow:{type:Boolean,default:!0},padding:{type:Number,default:10},size:{type:Number,default:20},forceDropdown:{type:Boolean,default:!1},returnIndex:{type:Boolean,default:!1},dropdownPositionX:{type:String,default:"center"},dropdownPositionY:{type:String,default:"bottom"},dropdownOptions:{type:Array,default:()=>[]}},data:function(){return{dropdownShown:!1,mouseDownOnIcon:!1}},methods:{sanitizeForHtmlId:Al,hideDropdown:function(){this.dropdownShown=!1},handleIconClick:function(){this.forceDropdown||this.dropdownOptions.length>0?(this.dropdownShown=!this.dropdownShown,this.dropdownShown&&setTimeout((()=>{this.$refs.dropdown.focus()}),0)):this.$emit("click")},handleIconMouseDown:function(){this.dropdownShown&&(this.mouseDownOnIcon=!0)},handleDropdownFocusOut:function(){this.mouseDownOnIcon?this.mouseDownOnIcon=!1:this.$refs.dropdown.matches(":focus-within")||(this.dropdownShown=!1)},handleDropdownClick:function({url:e,index:t}){this.returnIndex?this.$emit("click",t):this.$emit("click",e),this.dropdownShown=!1}}};var Ol=_l(Ll,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"ftIconButton"},[t("font-awesome-icon",{staticClass:"iconButton",class:{[e.theme]:!0,shadow:e.useShadow},style:{padding:e.padding+"px",fontSize:e.size+"px"},attrs:{title:e.title,icon:e.icon,tabindex:"0",role:"button"},on:{click:e.handleIconClick,mousedown:e.handleIconMouseDown,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.handleIconClick.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.handleIconClick.apply(null,arguments))}]}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.dropdownShown,expression:"dropdownShown"}],ref:"dropdown",staticClass:"iconDropdown",class:{left:"left"===e.dropdownPositionX,right:"right"===e.dropdownPositionX,center:"center"===e.dropdownPositionX,bottom:"bottom"===e.dropdownPositionY,top:"top"===e.dropdownPositionY},attrs:{tabindex:"-1"},on:{focusout:e.handleDropdownFocusOut}},[e._t("default",(function(){return[e.dropdownOptions.length>0?t("ul",{staticClass:"list",attrs:{role:"listbox","aria-expanded":e.dropdownShown}},e._l(e.dropdownOptions,(function(n,i){return t("li",{key:i,class:"divider"===n.type?"listItemDivider":"listItem",attrs:{id:e.sanitizeForHtmlId(e.title+"-"+i),role:"option","aria-selected":"false",tabindex:"-1"},on:{click:function(t){return e.handleDropdownClick({url:n.value,index:i},t)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleDropdownClick({url:n.value,index:i},t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.handleDropdownClick({url:n.value,index:i},t)}]}},[e._v("\n          "+e._s("divider"===n.type?"":n.label)+"\n        ")])})),0):e._e()]}))],2)],1)}),[],!1,null,"22f65a2d",null);const Rl=Ol.exports,Dl="show-open-dialog",Nl="sync-create",Fl="sync-upsert",$l="sync-delete",Bl="sync-delete-all",Ml="sync-history-update-watch-progress",Ul="sync-playlists-upsert-video",jl="sync-playlists-delete-video",Vl="allChannels",Hl=new Wn;var ql=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],zl=["dateStyle","timeStyle","calendar","localeMatcher","hour12","hourCycle","timeZone","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Wl(e,t){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+e),t&&console.warn(t.stack))}var Gl=Array.isArray;function Kl(e){return null!==e&&"object"==typeof e}function Yl(e){return"string"==typeof e}var Xl=Object.prototype.toString;function Ql(e){return"[object Object]"===Xl.call(e)}function Zl(e){return null==e}function Jl(e){return"function"==typeof e}function ec(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=null,i=null;return 1===e.length?Kl(e[0])||Gl(e[0])?i=e[0]:"string"==typeof e[0]&&(n=e[0]):2===e.length&&("string"==typeof e[0]&&(n=e[0]),(Kl(e[1])||Gl(e[1]))&&(i=e[1])),{locale:n,params:i}}function tc(e){return JSON.parse(JSON.stringify(e))}function nc(e,t){return!!~e.indexOf(t)}var ic=Object.prototype.hasOwnProperty;function rc(e,t){return ic.call(e,t)}function ac(e){for(var t=arguments,n=Object(e),i=1;i<arguments.length;i++){var r=t[i];if(null!=r){var a=void 0;for(a in r)rc(r,a)&&(Kl(r[a])?n[a]=ac(n[a],r[a]):n[a]=r[a])}}return n}function sc(e,t){if(e===t)return!0;var n=Kl(e),i=Kl(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Gl(e),a=Gl(t);if(r&&a)return e.length===t.length&&e.every((function(e,n){return sc(e,t[n])}));if(r||a)return!1;var s=Object.keys(e),o=Object.keys(t);return s.length===o.length&&s.every((function(n){return sc(e[n],t[n])}))}catch(e){return!1}}function oc(e){return null!=e&&Object.keys(e).forEach((function(t){"string"==typeof e[t]&&(e[t]=e[t].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))})),e}var lc={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(e,t){var n=t.data,i=t.parent,r=t.props,a=t.slots,s=i.$i18n;if(s){var o=r.path,l=r.locale,c=r.places,u=a(),h=s.i(o,l,function(e){var t;for(t in e)if("default"!==t)return!1;return Boolean(t)}(u)||c?function(e,t){var n=t?function(e){return Array.isArray(e)?e.reduce(uc,{}):Object.assign({},e)}(t):{};if(!e)return n;var i=(e=e.filter((function(e){return e.tag||""!==e.text.trim()}))).every(hc);return e.reduce(i?cc:uc,n)}(u.default,c):u),d=r.tag&&!0!==r.tag||!1===r.tag?r.tag:"span";return d?e(d,n,h):h}}};function cc(e,t){return t.data&&t.data.attrs&&t.data.attrs.place&&(e[t.data.attrs.place]=t),e}function uc(e,t,n){return e[n]=t,e}function hc(e){return Boolean(e.data&&e.data.attrs&&e.data.attrs.place)}var dc,fc={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(e,t){var n=t.props,i=t.parent,r=t.data,a=i.$i18n;if(!a)return null;var s=null,o=null;Yl(n.format)?s=n.format:Kl(n.format)&&(n.format.key&&(s=n.format.key),o=Object.keys(n.format).reduce((function(e,t){var i;return nc(ql,t)?Object.assign({},e,((i={})[t]=n.format[t],i)):e}),null));var l=n.locale||a.locale,c=a._ntp(n.value,l,s,o),u=c.map((function(e,t){var n,i=r.scopedSlots&&r.scopedSlots[e.type];return i?i(((n={})[e.type]=e.value,n.index=t,n.parts=c,n)):e.value})),h=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return h?e(h,{attrs:r.attrs,class:r.class,staticClass:r.staticClass},u):u}};function pc(e,t,n){yc(0,n)&&vc(e,t,n)}function mc(e,t,n,i){if(yc(0,n)){var r=n.context.$i18n;(function(e,t){var n=t.context;return e._locale===n.$i18n.locale})(e,n)&&sc(t.value,t.oldValue)&&sc(e._localeMessage,r.getLocaleMessage(r.locale))||vc(e,t,n)}}function gc(e,t,n,i){if(n.context){var r=n.context.$i18n||{};t.modifiers.preserve||r.preserveDirectiveContent||(e.textContent=""),e._vt=void 0,delete e._vt,e._locale=void 0,delete e._locale,e._localeMessage=void 0,delete e._localeMessage}else Wl("Vue instance does not exists in VNode context")}function yc(e,t){var n=t.context;return n?!!n.$i18n||(Wl("VueI18n instance does not exists in Vue instance"),!1):(Wl("Vue instance does not exists in VNode context"),!1)}function vc(e,t,n){var i,r,a=function(e){var t,n,i,r;return Yl(e)?t=e:Ql(e)&&(t=e.path,n=e.locale,i=e.args,r=e.choice),{path:t,locale:n,args:i,choice:r}}(t.value),s=a.path,o=a.locale,l=a.args,c=a.choice;if(s||o||l)if(s){var u=n.context;e._vt=e.textContent=null!=c?(i=u.$i18n).tc.apply(i,[s,c].concat(bc(o,l))):(r=u.$i18n).t.apply(r,[s].concat(bc(o,l))),e._locale=u.$i18n.locale,e._localeMessage=u.$i18n.getLocaleMessage(u.$i18n.locale)}else Wl("`path` is required in v-t directive");else Wl("value type not supported")}function bc(e,t){var n=[];return e&&n.push(e),t&&(Array.isArray(t)||Ql(t))&&n.push(t),n}function _c(e,t){void 0===t&&(t={bridge:!1}),_c.installed=!0,(dc=e).version&&Number(dc.version.split(".")[0]),function(e){e.prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var i=this.$i18n;return i._t.apply(i,[e,i.locale,i._getMessages(),this].concat(t))},e.prototype.$tc=function(e,t){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];var r=this.$i18n;return r._tc.apply(r,[e,r.locale,r._getMessages(),this,t].concat(n))},e.prototype.$te=function(e,t){var n=this.$i18n;return n._te(e,n.locale,n._getMessages(),t)},e.prototype.$d=function(e){for(var t,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];return(t=this.$i18n).d.apply(t,[e].concat(n))},e.prototype.$n=function(e){for(var t,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];return(t=this.$i18n).n.apply(t,[e].concat(n))}}(dc),dc.mixin(function(e){function t(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===e&&(e=!1),e?{mounted:t}:{beforeCreate:function(){var e=this.$options;if(e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n){if(e.i18n instanceof Nc){if(e.__i18nBridge||e.__i18n)try{var t=e.i18n&&e.i18n.messages?e.i18n.messages:{};(e.__i18nBridge||e.__i18n).forEach((function(e){t=ac(t,JSON.parse(e))})),Object.keys(t).forEach((function(n){e.i18n.mergeLocaleMessage(n,t[n])}))}catch(e){}this._i18n=e.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(Ql(e.i18n)){var n=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Nc?this.$root.$i18n:null;if(n&&(e.i18n.root=this.$root,e.i18n.formatter=n.formatter,e.i18n.fallbackLocale=n.fallbackLocale,e.i18n.formatFallbackMessages=n.formatFallbackMessages,e.i18n.silentTranslationWarn=n.silentTranslationWarn,e.i18n.silentFallbackWarn=n.silentFallbackWarn,e.i18n.pluralizationRules=n.pluralizationRules,e.i18n.preserveDirectiveContent=n.preserveDirectiveContent),e.__i18nBridge||e.__i18n)try{var i=e.i18n&&e.i18n.messages?e.i18n.messages:{};(e.__i18nBridge||e.__i18n).forEach((function(e){i=ac(i,JSON.parse(e))})),e.i18n.messages=i}catch(e){}var r=e.i18n.sharedMessages;r&&Ql(r)&&(e.i18n.messages=ac(e.i18n.messages,r)),this._i18n=new Nc(e.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===e.i18n.sync||e.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),n&&n.onComponentInstanceCreated(this._i18n)}}else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Nc?this._i18n=this.$root.$i18n:e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof Nc&&(this._i18n=e.parent.$i18n)},beforeMount:function(){var e=this.$options;e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n?(e.i18n instanceof Nc||Ql(e.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Nc||e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof Nc)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:t,beforeDestroy:function(){if(this._i18n){var e=this;this.$nextTick((function(){e._subscribing&&(e._i18n.unsubscribeDataChanging(e),delete e._subscribing),e._i18nWatcher&&(e._i18nWatcher(),e._i18n.destroyVM(),delete e._i18nWatcher),e._localeWatcher&&(e._localeWatcher(),delete e._localeWatcher)}))}}}}(t.bridge)),dc.directive("t",{bind:pc,update:mc,unbind:gc}),dc.component(lc.name,lc),dc.component(fc.name,fc),dc.config.optionMergeStrategies.i18n=function(e,t){return void 0===t?e:t}}var wc=function(){this._caches=Object.create(null)};wc.prototype.interpolate=function(e,t){if(!t)return[e];var n=this._caches[e];return n||(n=function(e){for(var t=[],n=0,i="";n<e.length;){var r=e[n++];if("{"===r){i&&t.push({type:"text",value:i}),i="";var a="";for(r=e[n++];void 0!==r&&"}"!==r;)a+=r,r=e[n++];var s="}"===r,o=Sc.test(a)?"list":s&&kc.test(a)?"named":"unknown";t.push({value:a,type:o})}else"%"===r?"{"!==e[n]&&(i+=r):i+=r}return i&&t.push({type:"text",value:i}),t}(e),this._caches[e]=n),function(e,t){var n=[],i=0,r=Array.isArray(t)?"list":Kl(t)?"named":"unknown";if("unknown"===r)return n;for(;i<e.length;){var a=e[i];switch(a.type){case"text":n.push(a.value);break;case"list":n.push(t[parseInt(a.value,10)]);break;case"named":"named"===r&&n.push(t[a.value])}i++}return n}(n,t)};var Sc=/^(?:\d)+/,kc=/^(?:\w)+/,Tc=[];Tc[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},Tc[1]={ws:[1],".":[2],"[":[4],eof:[7]},Tc[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},Tc[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},Tc[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},Tc[5]={"'":[4,0],eof:8,else:[5,0]},Tc[6]={'"':[4,0],eof:8,else:[6,0]};var Cc=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function xc(e){if(null==e)return"eof";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}var Ec=function(){this._cache=Object.create(null)};Ec.prototype.parsePath=function(e){var t=this._cache[e];return t||(t=function(e){var t,n,i,r,a,s,o,l=[],c=-1,u=0,h=0,d=[];function f(){var t=e[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,i="\\"+t,d[0](),!0}for(d[1]=function(){void 0!==n&&(l.push(n),n=void 0)},d[0]=function(){void 0===n?n=i:n+=i},d[2]=function(){d[0](),h++},d[3]=function(){if(h>0)h--,u=4,d[0]();else{if(h=0,void 0===n)return!1;if(!1===(n=function(e){var t,n=e.trim();return("0"!==e.charAt(0)||!isNaN(e))&&(t=n,Cc.test(t)?function(e){var t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(n):"*"+n)}(n)))return!1;d[1]()}};null!==u;)if(c++,"\\"!==(t=e[c])||!f()){if(r=xc(t),8===(a=(o=Tc[u])[r]||o.else||8))return;if(u=a[0],(s=d[a[1]])&&(i=void 0===(i=a[2])?t:i,!1===s()))return;if(7===u)return l}}(e),t&&(this._cache[e]=t)),t||[]},Ec.prototype.getPathValue=function(e,t){if(!Kl(e))return null;var n=this.parsePath(t);if(0===n.length)return null;for(var i=n.length,r=e,a=0;a<i;){var s=r[n[a]];if(null==s)return null;r=s,a++}return r};var Pc,Ic=/<\/?[\w\s="/.':;#-\/]+>/,Ac=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,Lc=/^@(?:\.([a-zA-Z]+))?:/,Oc=/[()]/g,Rc={upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()},capitalize:function(e){return""+e.charAt(0).toLocaleUpperCase()+e.substr(1)}},Dc=new wc,Nc=function(e){var t=this;void 0===e&&(e={}),!dc&&"undefined"!=typeof window&&window.Vue&&_c(window.Vue);var n=e.locale||"en-US",i=!1!==e.fallbackLocale&&(e.fallbackLocale||"en-US"),r=e.messages||{},a=e.dateTimeFormats||e.datetimeFormats||{},s=e.numberFormats||{};this._vm=null,this._formatter=e.formatter||Dc,this._modifiers=e.modifiers||{},this._missing=e.missing||null,this._root=e.root||null,this._sync=void 0===e.sync||!!e.sync,this._fallbackRoot=void 0===e.fallbackRoot||!!e.fallbackRoot,this._fallbackRootWithEmptyString=void 0===e.fallbackRootWithEmptyString||!!e.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==e.formatFallbackMessages&&!!e.formatFallbackMessages,this._silentTranslationWarn=void 0!==e.silentTranslationWarn&&e.silentTranslationWarn,this._silentFallbackWarn=void 0!==e.silentFallbackWarn&&!!e.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new Ec,this._dataListeners=new Set,this._componentInstanceCreatedListener=e.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==e.preserveDirectiveContent&&!!e.preserveDirectiveContent,this.pluralizationRules=e.pluralizationRules||{},this._warnHtmlInMessage=e.warnHtmlInMessage||"off",this._postTranslation=e.postTranslation||null,this._escapeParameterHtml=e.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in e&&(this.__VUE_I18N_BRIDGE__=e.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(e,n){var i,r,a=Object.getPrototypeOf(t);return a&&a.getChoiceIndex?a.getChoiceIndex.call(t,e,n):t.locale in t.pluralizationRules?t.pluralizationRules[t.locale].apply(t,[e,n]):(i=e,r=n,i=Math.abs(i),2===r?i?i>1?1:0:1:i?Math.min(i,2):0)},this._exist=function(e,n){return!(!e||!n||Zl(t._path.getPathValue(e,n))&&!e[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(r).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,r[e])})),this._initVM({locale:n,fallbackLocale:i,messages:r,dateTimeFormats:a,numberFormats:s})},Fc={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};Nc.prototype._checkLocaleMessage=function(e,t,n){var i=function(e,t,n,r){if(Ql(n))Object.keys(n).forEach((function(a){var s=n[a];Ql(s)?(r.push(a),r.push("."),i(e,t,s,r),r.pop(),r.pop()):(r.push(a),i(e,t,s,r),r.pop())}));else if(Gl(n))n.forEach((function(n,a){Ql(n)?(r.push("["+a+"]"),r.push("."),i(e,t,n,r),r.pop(),r.pop()):(r.push("["+a+"]"),i(e,t,n,r),r.pop())}));else if(Yl(n)&&Ic.test(n)){var a="Detected HTML in message '"+n+"' of keypath '"+r.join("")+"' at '"+t+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===e?Wl(a):"error"===e&&function(e,t){"undefined"!=typeof console&&console.error("[vue-i18n] "+e)}(a)}};i(t,e,n,[])},Nc.prototype._initVM=function(e){var t=dc.config.silent;dc.config.silent=!0,this._vm=new dc({data:e,__VUE18N__INSTANCE__:!0}),dc.config.silent=t},Nc.prototype.destroyVM=function(){this._vm.$destroy()},Nc.prototype.subscribeDataChanging=function(e){this._dataListeners.add(e)},Nc.prototype.unsubscribeDataChanging=function(e){var t,n;t=this._dataListeners,n=e,t.delete(n)},Nc.prototype.watchI18nData=function(){var e=this;return this._vm.$watch("$data",(function(){for(var t,n,i=(t=e._dataListeners,n=[],t.forEach((function(e){return n.push(e)})),n),r=i.length;r--;)dc.nextTick((function(){i[r]&&i[r].$forceUpdate()}))}),{deep:!0})},Nc.prototype.watchLocale=function(e){if(e){if(!this.__VUE_I18N_BRIDGE__)return null;var t=this,n=this._vm;return this.vm.$watch("locale",(function(i){n.$set(n,"locale",i),t.__VUE_I18N_BRIDGE__&&e&&(e.locale.value=i),n.$forceUpdate()}),{immediate:!0})}if(!this._sync||!this._root)return null;var i=this._vm;return this._root.$i18n.vm.$watch("locale",(function(e){i.$set(i,"locale",e),i.$forceUpdate()}),{immediate:!0})},Nc.prototype.onComponentInstanceCreated=function(e){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(e,this)},Fc.vm.get=function(){return this._vm},Fc.messages.get=function(){return tc(this._getMessages())},Fc.dateTimeFormats.get=function(){return tc(this._getDateTimeFormats())},Fc.numberFormats.get=function(){return tc(this._getNumberFormats())},Fc.availableLocales.get=function(){return Object.keys(this.messages).sort()},Fc.locale.get=function(){return this._vm.locale},Fc.locale.set=function(e){this._vm.$set(this._vm,"locale",e)},Fc.fallbackLocale.get=function(){return this._vm.fallbackLocale},Fc.fallbackLocale.set=function(e){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",e)},Fc.formatFallbackMessages.get=function(){return this._formatFallbackMessages},Fc.formatFallbackMessages.set=function(e){this._formatFallbackMessages=e},Fc.missing.get=function(){return this._missing},Fc.missing.set=function(e){this._missing=e},Fc.formatter.get=function(){return this._formatter},Fc.formatter.set=function(e){this._formatter=e},Fc.silentTranslationWarn.get=function(){return this._silentTranslationWarn},Fc.silentTranslationWarn.set=function(e){this._silentTranslationWarn=e},Fc.silentFallbackWarn.get=function(){return this._silentFallbackWarn},Fc.silentFallbackWarn.set=function(e){this._silentFallbackWarn=e},Fc.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},Fc.preserveDirectiveContent.set=function(e){this._preserveDirectiveContent=e},Fc.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},Fc.warnHtmlInMessage.set=function(e){var t=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=e,n!==e&&("warn"===e||"error"===e)){var i=this._getMessages();Object.keys(i).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,i[e])}))}},Fc.postTranslation.get=function(){return this._postTranslation},Fc.postTranslation.set=function(e){this._postTranslation=e},Fc.sync.get=function(){return this._sync},Fc.sync.set=function(e){this._sync=e},Nc.prototype._getMessages=function(){return this._vm.messages},Nc.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},Nc.prototype._getNumberFormats=function(){return this._vm.numberFormats},Nc.prototype._warnDefault=function(e,t,n,i,r,a){if(!Zl(n))return n;if(this._missing){var s=this._missing.apply(null,[e,t,i,r]);if(Yl(s))return s}if(this._formatFallbackMessages){var o=ec.apply(void 0,r);return this._render(t,a,o.params,t)}return t},Nc.prototype._isFallbackRoot=function(e){return(this._fallbackRootWithEmptyString?!e:Zl(e))&&!Zl(this._root)&&this._fallbackRoot},Nc.prototype._isSilentFallbackWarn=function(e){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(e):this._silentFallbackWarn},Nc.prototype._isSilentFallback=function(e,t){return this._isSilentFallbackWarn(t)&&(this._isFallbackRoot()||e!==this.fallbackLocale)},Nc.prototype._isSilentTranslationWarn=function(e){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(e):this._silentTranslationWarn},Nc.prototype._interpolate=function(e,t,n,i,r,a,s){if(!t)return null;var o,l=this._path.getPathValue(t,n);if(Gl(l)||Ql(l))return l;if(Zl(l)){if(!Ql(t))return null;if(!Yl(o=t[n])&&!Jl(o))return null}else{if(!Yl(l)&&!Jl(l))return null;o=l}return Yl(o)&&(o.indexOf("@:")>=0||o.indexOf("@.")>=0)&&(o=this._link(e,t,o,i,"raw",a,s)),this._render(o,r,a,n)},Nc.prototype._link=function(e,t,n,i,r,a,s){var o=n,l=o.match(Ac);for(var c in l)if(l.hasOwnProperty(c)){var u=l[c],h=u.match(Lc),d=h[0],f=h[1],p=u.replace(d,"").replace(Oc,"");if(nc(s,p))return o;s.push(p);var m=this._interpolate(e,t,p,i,"raw"===r?"string":r,"raw"===r?void 0:a,s);if(this._isFallbackRoot(m)){if(!this._root)throw Error("unexpected error");var g=this._root.$i18n;m=g._translate(g._getMessages(),g.locale,g.fallbackLocale,p,i,r,a)}m=this._warnDefault(e,p,m,i,Gl(a)?a:[a],r),this._modifiers.hasOwnProperty(f)?m=this._modifiers[f](m):Rc.hasOwnProperty(f)&&(m=Rc[f](m)),s.pop(),o=m?o.replace(u,m):o}return o},Nc.prototype._createMessageContext=function(e,t,n,i){var r=this,a=Gl(e)?e:[],s=Kl(e)?e:{},o=this._getMessages(),l=this.locale;return{list:function(e){return a[e]},named:function(e){return s[e]},values:e,formatter:t,path:n,messages:o,locale:l,linked:function(e){return r._interpolate(l,o[l]||{},e,null,i,void 0,[e])}}},Nc.prototype._render=function(e,t,n,i){if(Jl(e))return e(this._createMessageContext(n,this._formatter||Dc,i,t));var r=this._formatter.interpolate(e,n,i);return r||(r=Dc.interpolate(e,n,i)),"string"!==t||Yl(r)?r:r.join("")},Nc.prototype._appendItemToChain=function(e,t,n){var i=!1;return nc(e,t)||(i=!0,t&&(i="!"!==t[t.length-1],t=t.replace(/!/g,""),e.push(t),n&&n[t]&&(i=n[t]))),i},Nc.prototype._appendLocaleToChain=function(e,t,n){var i,r=t.split("-");do{var a=r.join("-");i=this._appendItemToChain(e,a,n),r.splice(-1,1)}while(r.length&&!0===i);return i},Nc.prototype._appendBlockToChain=function(e,t,n){for(var i=!0,r=0;r<t.length&&"boolean"==typeof i;r++){var a=t[r];Yl(a)&&(i=this._appendLocaleToChain(e,a,n))}return i},Nc.prototype._getLocaleChain=function(e,t){if(""===e)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[e];if(!n){t||(t=this.fallbackLocale),n=[];for(var i,r=[e];Gl(r);)r=this._appendBlockToChain(n,r,t);(r=Yl(i=Gl(t)?t:Kl(t)?t.default?t.default:null:t)?[i]:i)&&this._appendBlockToChain(n,r,null),this._localeChainCache[e]=n}return n},Nc.prototype._translate=function(e,t,n,i,r,a,s){for(var o,l=this._getLocaleChain(t,n),c=0;c<l.length;c++){var u=l[c];if(!Zl(o=this._interpolate(u,e[u],i,r,a,s,[i])))return o}return null},Nc.prototype._t=function(e,t,n,i){for(var r,a=[],s=arguments.length-4;s-- >0;)a[s]=arguments[s+4];if(!e)return"";var o=ec.apply(void 0,a);this._escapeParameterHtml&&(o.params=oc(o.params));var l=o.locale||t,c=this._translate(n,l,this.fallbackLocale,e,i,"string",o.params);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return(r=this._root).$t.apply(r,[e].concat(a))}return c=this._warnDefault(l,e,c,i,a,"string"),this._postTranslation&&null!=c&&(c=this._postTranslation(c,e)),c},Nc.prototype.t=function(e){for(var t,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];return(t=this)._t.apply(t,[e,this.locale,this._getMessages(),null].concat(n))},Nc.prototype._i=function(e,t,n,i,r){var a=this._translate(n,t,this.fallbackLocale,e,i,"raw",r);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(e,t,r)}return this._warnDefault(t,e,a,i,[r],"raw")},Nc.prototype.i=function(e,t,n){return e?(Yl(t)||(t=this.locale),this._i(e,t,this._getMessages(),null,n)):""},Nc.prototype._tc=function(e,t,n,i,r){for(var a,s=[],o=arguments.length-5;o-- >0;)s[o]=arguments[o+5];if(!e)return"";void 0===r&&(r=1);var l={count:r,n:r},c=ec.apply(void 0,s);return c.params=Object.assign(l,c.params),s=null===c.locale?[c.params]:[c.locale,c.params],this.fetchChoice((a=this)._t.apply(a,[e,t,n,i].concat(s)),r)},Nc.prototype.fetchChoice=function(e,t){if(!e||!Yl(e))return null;var n=e.split("|");return n[t=this.getChoiceIndex(t,n.length)]?n[t].trim():e},Nc.prototype.tc=function(e,t){for(var n,i=[],r=arguments.length-2;r-- >0;)i[r]=arguments[r+2];return(n=this)._tc.apply(n,[e,this.locale,this._getMessages(),null,t].concat(i))},Nc.prototype._te=function(e,t,n){for(var i=[],r=arguments.length-3;r-- >0;)i[r]=arguments[r+3];var a=ec.apply(void 0,i).locale||t;return this._exist(n[a],e)},Nc.prototype.te=function(e,t){return this._te(e,this.locale,this._getMessages(),t)},Nc.prototype.getLocaleMessage=function(e){return tc(this._vm.messages[e]||{})},Nc.prototype.setLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,t)},Nc.prototype.mergeLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,ac(void 0!==this._vm.messages[e]&&Object.keys(this._vm.messages[e]).length?Object.assign({},this._vm.messages[e]):{},t))},Nc.prototype.getDateTimeFormat=function(e){return tc(this._vm.dateTimeFormats[e]||{})},Nc.prototype.setDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,t),this._clearDateTimeFormat(e,t)},Nc.prototype.mergeDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,ac(this._vm.dateTimeFormats[e]||{},t)),this._clearDateTimeFormat(e,t)},Nc.prototype._clearDateTimeFormat=function(e,t){for(var n in t){var i=e+"__"+n;this._dateTimeFormatters.hasOwnProperty(i)&&delete this._dateTimeFormatters[i]}},Nc.prototype._localizeDateTime=function(e,t,n,i,r,a){for(var s=t,o=i[s],l=this._getLocaleChain(t,n),c=0;c<l.length;c++){var u=l[c];if(s=u,!Zl(o=i[u])&&!Zl(o[r]))break}if(Zl(o)||Zl(o[r]))return null;var h,d=o[r];if(a)h=new Intl.DateTimeFormat(s,Object.assign({},d,a));else{var f=s+"__"+r;(h=this._dateTimeFormatters[f])||(h=this._dateTimeFormatters[f]=new Intl.DateTimeFormat(s,d))}return h.format(e)},Nc.prototype._d=function(e,t,n,i){if(!n)return(i?new Intl.DateTimeFormat(t,i):new Intl.DateTimeFormat(t)).format(e);var r=this._localizeDateTime(e,t,this.fallbackLocale,this._getDateTimeFormats(),n,i);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(e,n,t)}return r||""},Nc.prototype.d=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var i=this.locale,r=null,a=null;return 1===t.length?(Yl(t[0])?r=t[0]:Kl(t[0])&&(t[0].locale&&(i=t[0].locale),t[0].key&&(r=t[0].key)),a=Object.keys(t[0]).reduce((function(e,n){var i;return nc(zl,n)?Object.assign({},e,((i={})[n]=t[0][n],i)):e}),null)):2===t.length&&(Yl(t[0])&&(r=t[0]),Yl(t[1])&&(i=t[1])),this._d(e,i,r,a)},Nc.prototype.getNumberFormat=function(e){return tc(this._vm.numberFormats[e]||{})},Nc.prototype.setNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,t),this._clearNumberFormat(e,t)},Nc.prototype.mergeNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,ac(this._vm.numberFormats[e]||{},t)),this._clearNumberFormat(e,t)},Nc.prototype._clearNumberFormat=function(e,t){for(var n in t){var i=e+"__"+n;this._numberFormatters.hasOwnProperty(i)&&delete this._numberFormatters[i]}},Nc.prototype._getNumberFormatter=function(e,t,n,i,r,a){for(var s=t,o=i[s],l=this._getLocaleChain(t,n),c=0;c<l.length;c++){var u=l[c];if(s=u,!Zl(o=i[u])&&!Zl(o[r]))break}if(Zl(o)||Zl(o[r]))return null;var h,d=o[r];if(a)h=new Intl.NumberFormat(s,Object.assign({},d,a));else{var f=s+"__"+r;(h=this._numberFormatters[f])||(h=this._numberFormatters[f]=new Intl.NumberFormat(s,d))}return h},Nc.prototype._n=function(e,t,n,i){if(!Nc.availabilities.numberFormat)return"";if(!n)return(i?new Intl.NumberFormat(t,i):new Intl.NumberFormat(t)).format(e);var r=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,i),a=r&&r.format(e);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(e,Object.assign({},{key:n,locale:t},i))}return a||""},Nc.prototype.n=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var i=this.locale,r=null,a=null;return 1===t.length?Yl(t[0])?r=t[0]:Kl(t[0])&&(t[0].locale&&(i=t[0].locale),t[0].key&&(r=t[0].key),a=Object.keys(t[0]).reduce((function(e,n){var i;return nc(ql,n)?Object.assign({},e,((i={})[n]=t[0][n],i)):e}),null)):2===t.length&&(Yl(t[0])&&(r=t[0]),Yl(t[1])&&(i=t[1])),this._n(e,i,r,a)},Nc.prototype._ntp=function(e,t,n,i){if(!Nc.availabilities.numberFormat)return[];if(!n)return(i?new Intl.NumberFormat(t,i):new Intl.NumberFormat(t)).formatToParts(e);var r=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,i),a=r&&r.formatToParts(e);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(e,t,n,i)}return a||[]},Object.defineProperties(Nc.prototype,Fc),Object.defineProperty(Nc,"availabilities",{get:function(){if(!Pc){var e="undefined"!=typeof Intl;Pc={dateTimeFormat:e&&void 0!==Intl.DateTimeFormat,numberFormat:e&&void 0!==Intl.NumberFormat}}return Pc}}),Nc.install=_c,Nc.version="8.28.2";const $c=Nc,Bc=JSON.parse('["en-US","en_GB","ar","bg","ca","cs","da","de-DE","el","es","es_AR","es-MX","et","eu","fi","fr-FR","gl","he","hu","hr","id","is","it","ja","ko","lt","nb_NO","nl","nn","pl","pt","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","tr","uk","vi","zh-CN","zh-TW"]');class Mc extends $c{constructor(e){super(e),this.allLocales=Bc}async loadLocale(e){if(!this.availableLocales.includes(e)){this.allLocales.includes(e)||console.error(`Unable to load unknown locale: "${e}"`);{const t=zg(`/static/locales/${e}.json`),n=await fetch(t),i=await n.json();this.setLocaleMessage(e,i)}}}}Wn.use(Mc);const Uc=new Mc({locale:"en-US",fallbackLocale:{default:"en-US"}});Uc.loadLocale("en-US");const jc=Uc;function Vc(e,t){for(var n in t)e[n]=t[n];return e}var Hc=/[!'()*]/g,qc=function(e){return"%"+e.charCodeAt(0).toString(16)},zc=/%2C/g,Wc=function(e){return encodeURIComponent(e).replace(Hc,qc).replace(zc,",")};function Gc(e){try{return decodeURIComponent(e)}catch(e){}return e}var Kc=function(e){return null==e||"object"==typeof e?e:String(e)};function Yc(e){var t={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var n=e.replace(/\+/g," ").split("="),i=Gc(n.shift()),r=n.length>0?Gc(n.join("=")):null;void 0===t[i]?t[i]=r:Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]})),t):t}function Xc(e){var t=e?Object.keys(e).map((function(t){var n=e[t];if(void 0===n)return"";if(null===n)return Wc(t);if(Array.isArray(n)){var i=[];return n.forEach((function(e){void 0!==e&&(null===e?i.push(Wc(t)):i.push(Wc(t)+"="+Wc(e)))})),i.join("&")}return Wc(t)+"="+Wc(n)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var Qc=/\/?$/;function Zc(e,t,n,i){var r=i&&i.options.stringifyQuery,a=t.query||{};try{a=Jc(a)}catch(e){}var s={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:a,params:t.params||{},fullPath:nu(t,r),matched:e?tu(e):[]};return n&&(s.redirectedFrom=nu(n,r)),Object.freeze(s)}function Jc(e){if(Array.isArray(e))return e.map(Jc);if(e&&"object"==typeof e){var t={};for(var n in e)t[n]=Jc(e[n]);return t}return e}var eu=Zc(null,{path:"/"});function tu(e){for(var t=[];e;)t.unshift(e),e=e.parent;return t}function nu(e,t){var n=e.path,i=e.query;void 0===i&&(i={});var r=e.hash;return void 0===r&&(r=""),(n||"/")+(t||Xc)(i)+r}function iu(e,t,n){return t===eu?e===t:!!t&&(e.path&&t.path?e.path.replace(Qc,"")===t.path.replace(Qc,"")&&(n||e.hash===t.hash&&ru(e.query,t.query)):!(!e.name||!t.name)&&e.name===t.name&&(n||e.hash===t.hash&&ru(e.query,t.query)&&ru(e.params,t.params)))}function ru(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var n=Object.keys(e).sort(),i=Object.keys(t).sort();return n.length===i.length&&n.every((function(n,r){var a=e[n];if(i[r]!==n)return!1;var s=t[n];return null==a||null==s?a===s:"object"==typeof a&&"object"==typeof s?ru(a,s):String(a)===String(s)}))}function au(e){for(var t=0;t<e.matched.length;t++){var n=e.matched[t];for(var i in n.instances){var r=n.instances[i],a=n.enteredCbs[i];if(r&&a){delete n.enteredCbs[i];for(var s=0;s<a.length;s++)r._isBeingDestroyed||a[s](r)}}}}var su={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var n=t.props,i=t.children,r=t.parent,a=t.data;a.routerView=!0;for(var s=r.$createElement,o=n.name,l=r.$route,c=r._routerViewCache||(r._routerViewCache={}),u=0,h=!1;r&&r._routerRoot!==r;){var d=r.$vnode?r.$vnode.data:{};d.routerView&&u++,d.keepAlive&&r._directInactive&&r._inactive&&(h=!0),r=r.$parent}if(a.routerViewDepth=u,h){var f=c[o],p=f&&f.component;return p?(f.configProps&&ou(p,a,f.route,f.configProps),s(p,a,i)):s()}var m=l.matched[u],g=m&&m.components[o];if(!m||!g)return c[o]=null,s();c[o]={component:g},a.registerRouteInstance=function(e,t){var n=m.instances[o];(t&&n!==e||!t&&n===e)&&(m.instances[o]=t)},(a.hook||(a.hook={})).prepatch=function(e,t){m.instances[o]=t.componentInstance},a.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==m.instances[o]&&(m.instances[o]=e.componentInstance),au(l)};var y=m.props&&m.props[o];return y&&(Vc(c[o],{route:l,configProps:y}),ou(g,a,l,y)),s(g,a,i)}};function ou(e,t,n,i){var r=t.props=function(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0}}(n,i);if(r){r=t.props=Vc({},r);var a=t.attrs=t.attrs||{};for(var s in r)e.props&&s in e.props||(a[s]=r[s],delete r[s])}}function lu(e,t,n){var i=e.charAt(0);if("/"===i)return e;if("?"===i||"#"===i)return t+e;var r=t.split("/");n&&r[r.length-1]||r.pop();for(var a=e.replace(/^\//,"").split("/"),s=0;s<a.length;s++){var o=a[s];".."===o?r.pop():"."!==o&&r.push(o)}return""!==r[0]&&r.unshift(""),r.join("/")}function cu(e){return e.replace(/\/(?:\s*\/)+/g,"/")}var uu=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},hu=function e(t,n,i){return uu(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Su(e,t)}(t,n):uu(t)?function(t,n,i){for(var r=[],a=0;a<t.length;a++)r.push(e(t[a],n,i).source);return Su(new RegExp("(?:"+r.join("|")+")",ku(i)),n)}(t,n,i):function(e,t,n){return Tu(gu(e,n),t,n)}(t,n,i)},du=gu,fu=bu,pu=Tu,mu=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function gu(e,t){for(var n,i=[],r=0,a=0,s="",o=t&&t.delimiter||"/";null!=(n=mu.exec(e));){var l=n[0],c=n[1],u=n.index;if(s+=e.slice(a,u),a=u+l.length,c)s+=c[1];else{var h=e[a],d=n[2],f=n[3],p=n[4],m=n[5],g=n[6],y=n[7];s&&(i.push(s),s="");var v=null!=d&&null!=h&&h!==d,b="+"===g||"*"===g,_="?"===g||"*"===g,w=n[2]||o,S=p||m;i.push({name:f||r++,prefix:d||"",delimiter:w,optional:_,repeat:b,partial:v,asterisk:!!y,pattern:S?wu(S):y?".*":"[^"+_u(w)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&i.push(s),i}function yu(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function vu(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function bu(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",ku(t)));return function(t,i){for(var r="",a=t||{},s=(i||{}).pretty?yu:encodeURIComponent,o=0;o<e.length;o++){var l=e[o];if("string"!=typeof l){var c,u=a[l.name];if(null==u){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(uu(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<u.length;h++){if(c=s(u[h]),!n[o].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===h?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?vu(u):s(u),!n[o].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');r+=l.prefix+c}}else r+=l}return r}}function _u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function wu(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function Su(e,t){return e.keys=t,e}function ku(e){return e&&e.sensitive?"":"i"}function Tu(e,t,n){uu(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,r=!1!==n.end,a="",s=0;s<e.length;s++){var o=e[s];if("string"==typeof o)a+=_u(o);else{var l=_u(o.prefix),c="(?:"+o.pattern+")";t.push(o),o.repeat&&(c+="(?:"+l+c+")*"),a+=c=o.optional?o.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=_u(n.delimiter||"/"),h=a.slice(-u.length)===u;return i||(a=(h?a.slice(0,-u.length):a)+"(?:"+u+"(?=$))?"),a+=r?"$":i&&h?"":"(?="+u+"|$)",Su(new RegExp("^"+a,ku(n)),t)}hu.parse=du,hu.compile=function(e,t){return bu(gu(e,t),t)},hu.tokensToFunction=fu,hu.tokensToRegExp=pu;var Cu=Object.create(null);function xu(e,t,n){t=t||{};try{var i=Cu[e]||(Cu[e]=hu.compile(e));return"string"==typeof t.pathMatch&&(t[0]=t.pathMatch),i(t,{pretty:!0})}catch(e){return""}finally{delete t[0]}}function Eu(e,t,n,i){var r="string"==typeof e?{path:e}:e;if(r._normalized)return r;if(r.name){var a=(r=Vc({},e)).params;return a&&"object"==typeof a&&(r.params=Vc({},a)),r}if(!r.path&&r.params&&t){(r=Vc({},r))._normalized=!0;var s=Vc(Vc({},t.params),r.params);if(t.name)r.name=t.name,r.params=s;else if(t.matched.length){var o=t.matched[t.matched.length-1].path;r.path=xu(o,s,t.path)}return r}var l=function(e){var t="",n="",i=e.indexOf("#");i>=0&&(t=e.slice(i),e=e.slice(0,i));var r=e.indexOf("?");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{path:e,query:n,hash:t}}(r.path||""),c=t&&t.path||"/",u=l.path?lu(l.path,c,n||r.append):c,h=function(e,t,n){void 0===t&&(t={});var i,r=n||Yc;try{i=r(e||"")}catch(e){i={}}for(var a in t){var s=t[a];i[a]=Array.isArray(s)?s.map(Kc):Kc(s)}return i}(l.query,r.query,i&&i.options.parseQuery),d=r.hash||l.hash;return d&&"#"!==d.charAt(0)&&(d="#"+d),{_normalized:!0,path:u,query:h,hash:d}}var Pu,Iu=function(){},Au={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(e){var t=this,n=this.$router,i=this.$route,r=n.resolve(this.to,i,this.append),a=r.location,s=r.route,o=r.href,l={},c=n.options.linkActiveClass,u=n.options.linkExactActiveClass,h=null==c?"router-link-active":c,d=null==u?"router-link-exact-active":u,f=null==this.activeClass?h:this.activeClass,p=null==this.exactActiveClass?d:this.exactActiveClass,m=s.redirectedFrom?Zc(null,Eu(s.redirectedFrom),null,n):s;l[p]=iu(i,m,this.exactPath),l[f]=this.exact||this.exactPath?l[p]:function(e,t){return 0===e.path.replace(Qc,"/").indexOf(t.path.replace(Qc,"/"))&&(!t.hash||e.hash===t.hash)&&function(e,t){for(var n in t)if(!(n in e))return!1;return!0}(e.query,t.query)}(i,m);var g=l[p]?this.ariaCurrentValue:null,y=function(e){Lu(e)&&(t.replace?n.replace(a,Iu):n.push(a,Iu))},v={click:Lu};Array.isArray(this.event)?this.event.forEach((function(e){v[e]=y})):v[this.event]=y;var b={class:l},_=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:o,route:s,navigate:y,isActive:l[f],isExactActive:l[p]});if(_){if(1===_.length)return _[0];if(_.length>1||!_.length)return 0===_.length?e():e("span",{},_)}if("a"===this.tag)b.on=v,b.attrs={href:o,"aria-current":g};else{var w=Ou(this.$slots.default);if(w){w.isStatic=!1;var S=w.data=Vc({},w.data);for(var k in S.on=S.on||{},S.on){var T=S.on[k];k in v&&(S.on[k]=Array.isArray(T)?T:[T])}for(var C in v)C in S.on?S.on[C].push(v[C]):S.on[C]=y;var x=w.data.attrs=Vc({},w.data.attrs);x.href=o,x["aria-current"]=g}else b.on=v}return e(this.tag,b,this.$slots.default)}};function Lu(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ou(e){if(e)for(var t,n=0;n<e.length;n++){if("a"===(t=e[n]).tag)return t;if(t.children&&(t=Ou(t.children)))return t}}var Ru="undefined"!=typeof window;function Du(e,t,n,i,r){var a=t||[],s=n||Object.create(null),o=i||Object.create(null);e.forEach((function(e){Nu(a,s,o,e,r)}));for(var l=0,c=a.length;l<c;l++)"*"===a[l]&&(a.push(a.splice(l,1)[0]),c--,l--);return{pathList:a,pathMap:s,nameMap:o}}function Nu(e,t,n,i,r,a){var s=i.path,o=i.name,l=i.pathToRegexpOptions||{},c=function(e,t,n){return n||(e=e.replace(/\/$/,"")),"/"===e[0]||null==t?e:cu(t.path+"/"+e)}(s,r,l.strict);"boolean"==typeof i.caseSensitive&&(l.sensitive=i.caseSensitive);var u={path:c,regex:Fu(c,l),components:i.components||{default:i.component},alias:i.alias?"string"==typeof i.alias?[i.alias]:i.alias:[],instances:{},enteredCbs:{},name:o,parent:r,matchAs:a,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};if(i.children&&i.children.forEach((function(i){var r=a?cu(a+"/"+i.path):void 0;Nu(e,t,n,i,u,r)})),t[u.path]||(e.push(u.path),t[u.path]=u),void 0!==i.alias)for(var h=Array.isArray(i.alias)?i.alias:[i.alias],d=0;d<h.length;++d){var f={path:h[d],children:i.children};Nu(e,t,n,f,r,u.path||"/")}o&&(n[o]||(n[o]=u))}function Fu(e,t){return hu(e,[],t)}function $u(e,t){var n=Du(e),i=n.pathList,r=n.pathMap,a=n.nameMap;function s(e,n,s){var l=Eu(e,n,!1,t),c=l.name;if(c){var u=a[c];if(!u)return o(null,l);var h=u.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!=typeof l.params&&(l.params={}),n&&"object"==typeof n.params)for(var d in n.params)!(d in l.params)&&h.indexOf(d)>-1&&(l.params[d]=n.params[d]);return l.path=xu(u.path,l.params),o(u,l,s)}if(l.path){l.params={};for(var f=0;f<i.length;f++){var p=i[f],m=r[p];if(Bu(m.regex,l.path,l.params))return o(m,l,s)}}return o(null,l)}function o(e,n,i){return e&&e.redirect?function(e,n){var i=e.redirect,r="function"==typeof i?i(Zc(e,n,null,t)):i;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return o(null,n);var l=r,c=l.name,u=l.path,h=n.query,d=n.hash,f=n.params;if(h=l.hasOwnProperty("query")?l.query:h,d=l.hasOwnProperty("hash")?l.hash:d,f=l.hasOwnProperty("params")?l.params:f,c)return a[c],s({_normalized:!0,name:c,query:h,hash:d,params:f},void 0,n);if(u){var p=function(e,t){return lu(e,t.parent?t.parent.path:"/",!0)}(u,e);return s({_normalized:!0,path:xu(p,f),query:h,hash:d},void 0,n)}return o(null,n)}(e,i||n):e&&e.matchAs?function(e,t,n){var i=s({_normalized:!0,path:xu(n,t.params)});if(i){var r=i.matched,a=r[r.length-1];return t.params=i.params,o(a,t)}return o(null,t)}(0,n,e.matchAs):Zc(e,n,i,t)}return{match:s,addRoute:function(e,t){var n="object"!=typeof e?a[e]:void 0;Du([t||e],i,r,a,n),n&&n.alias.length&&Du(n.alias.map((function(e){return{path:e,children:[t]}})),i,r,a,n)},getRoutes:function(){return i.map((function(e){return r[e]}))},addRoutes:function(e){Du(e,i,r,a)}}}function Bu(e,t,n){var i=t.match(e);if(!i)return!1;if(!n)return!0;for(var r=1,a=i.length;r<a;++r){var s=e.keys[r-1];s&&(n[s.name||"pathMatch"]="string"==typeof i[r]?Gc(i[r]):i[r])}return!0}var Mu=Ru&&window.performance&&window.performance.now?window.performance:Date;function Uu(){return Mu.now().toFixed(3)}var ju=Uu();function Vu(){return ju}function Hu(e){return ju=e}var qu=Object.create(null);function zu(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),n=Vc({},window.history.state);return n.key=Vu(),window.history.replaceState(n,"",t),window.addEventListener("popstate",Ku),function(){window.removeEventListener("popstate",Ku)}}function Wu(e,t,n,i){if(e.app){var r=e.options.scrollBehavior;r&&e.app.$nextTick((function(){var a=function(){var e=Vu();if(e)return qu[e]}(),s=r.call(e,t,n,i?a:null);s&&("function"==typeof s.then?s.then((function(e){Ju(e,a)})).catch((function(e){})):Ju(s,a))}))}}function Gu(){var e=Vu();e&&(qu[e]={x:window.pageXOffset,y:window.pageYOffset})}function Ku(e){Gu(),e.state&&e.state.key&&Hu(e.state.key)}function Yu(e){return Qu(e.x)||Qu(e.y)}function Xu(e){return{x:Qu(e.x)?e.x:window.pageXOffset,y:Qu(e.y)?e.y:window.pageYOffset}}function Qu(e){return"number"==typeof e}var Zu=/^#\d/;function Ju(e,t){var n,i="object"==typeof e;if(i&&"string"==typeof e.selector){var r=Zu.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(r){var a=e.offset&&"object"==typeof e.offset?e.offset:{};t=function(e,t){var n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{x:i.left-n.left-t.x,y:i.top-n.top-t.y}}(r,a={x:Qu((n=a).x)?n.x:0,y:Qu(n.y)?n.y:0})}else Yu(e)&&(t=Xu(e))}else i&&Yu(e)&&(t=Xu(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var eh,th=Ru&&(-1===(eh=window.navigator.userAgent).indexOf("Android 2.")&&-1===eh.indexOf("Android 4.0")||-1===eh.indexOf("Mobile Safari")||-1!==eh.indexOf("Chrome")||-1!==eh.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState;function nh(e,t){Gu();var n=window.history;try{if(t){var i=Vc({},n.state);i.key=Vu(),n.replaceState(i,"",e)}else n.pushState({key:Hu(Uu())},"",e)}catch(n){window.location[t?"replace":"assign"](e)}}function ih(e){nh(e,!0)}var rh={redirected:2,aborted:4,cancelled:8,duplicated:16};function ah(e,t){return sh(e,t,rh.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function sh(e,t,n,i){var r=new Error(i);return r._isRouter=!0,r.from=e,r.to=t,r.type=n,r}var oh=["params","query","hash"];function lh(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function ch(e,t){return lh(e)&&e._isRouter&&(null==t||e.type===t)}function uh(e,t,n){var i=function(r){r>=e.length?n():e[r]?t(e[r],(function(){i(r+1)})):i(r+1)};i(0)}function hh(e,t){return dh(e.map((function(e){return Object.keys(e.components).map((function(n){return t(e.components[n],e.instances[n],e,n)}))})))}function dh(e){return Array.prototype.concat.apply([],e)}var fh="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function ph(e){var t=!1;return function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(!t)return t=!0,e.apply(this,n)}}var mh=function(e,t){this.router=e,this.base=function(e){if(!e)if(Ru){var t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}(t),this.current=eu,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function gh(e,t,n,i){var r=hh(e,(function(e,i,r,a){var s=function(e,t){return"function"!=typeof e&&(e=Pu.extend(e)),e.options[t]}(e,t);if(s)return Array.isArray(s)?s.map((function(e){return n(e,i,r,a)})):n(s,i,r,a)}));return dh(i?r.reverse():r)}function yh(e,t){if(t)return function(){return e.apply(t,arguments)}}mh.prototype.listen=function(e){this.cb=e},mh.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},mh.prototype.onError=function(e){this.errorCbs.push(e)},mh.prototype.transitionTo=function(e,t,n){var i,r=this;try{i=this.router.match(e,this.current)}catch(e){throw this.errorCbs.forEach((function(t){t(e)})),e}var a=this.current;this.confirmTransition(i,(function(){r.updateRoute(i),t&&t(i),r.ensureURL(),r.router.afterHooks.forEach((function(e){e&&e(i,a)})),r.ready||(r.ready=!0,r.readyCbs.forEach((function(e){e(i)})))}),(function(e){n&&n(e),e&&!r.ready&&(ch(e,rh.redirected)&&a===eu||(r.ready=!0,r.readyErrorCbs.forEach((function(t){t(e)}))))}))},mh.prototype.confirmTransition=function(e,t,n){var i=this,r=this.current;this.pending=e;var a,s,o=function(e){!ch(e)&&lh(e)&&(i.errorCbs.length?i.errorCbs.forEach((function(t){t(e)})):console.error(e)),n&&n(e)},l=e.matched.length-1,c=r.matched.length-1;if(iu(e,r)&&l===c&&e.matched[l]===r.matched[c])return this.ensureURL(),e.hash&&Wu(this.router,r,e,!1),o(((s=sh(a=r,e,rh.duplicated,'Avoided redundant navigation to current location: "'+a.fullPath+'".')).name="NavigationDuplicated",s));var u,h=function(e,t){var n,i=Math.max(e.length,t.length);for(n=0;n<i&&e[n]===t[n];n++);return{updated:t.slice(0,n),activated:t.slice(n),deactivated:e.slice(n)}}(this.current.matched,e.matched),d=h.updated,f=h.deactivated,p=h.activated,m=[].concat(function(e){return gh(e,"beforeRouteLeave",yh,!0)}(f),this.router.beforeHooks,function(e){return gh(e,"beforeRouteUpdate",yh)}(d),p.map((function(e){return e.beforeEnter})),(u=p,function(e,t,n){var i=!1,r=0,a=null;hh(u,(function(e,t,s,o){if("function"==typeof e&&void 0===e.cid){i=!0,r++;var l,c=ph((function(t){var i;((i=t).__esModule||fh&&"Module"===i[Symbol.toStringTag])&&(t=t.default),e.resolved="function"==typeof t?t:Pu.extend(t),s.components[o]=t,--r<=0&&n()})),u=ph((function(e){var t="Failed to resolve async component "+o+": "+e;a||(a=lh(e)?e:new Error(t),n(a))}));try{l=e(c,u)}catch(e){u(e)}if(l)if("function"==typeof l.then)l.then(c,u);else{var h=l.component;h&&"function"==typeof h.then&&h.then(c,u)}}})),i||n()})),g=function(t,n){if(i.pending!==e)return o(ah(r,e));try{t(e,r,(function(t){!1===t?(i.ensureURL(!0),o(function(e,t){return sh(e,t,rh.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}(r,e))):lh(t)?(i.ensureURL(!0),o(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(o(function(e,t){return sh(e,t,rh.redirected,'Redirected when going from "'+e.fullPath+'" to "'+function(e){if("string"==typeof e)return e;if("path"in e)return e.path;var t={};return oh.forEach((function(n){n in e&&(t[n]=e[n])})),JSON.stringify(t,null,2)}(t)+'" via a navigation guard.')}(r,e)),"object"==typeof t&&t.replace?i.replace(t):i.push(t)):n(t)}))}catch(e){o(e)}};uh(m,g,(function(){var n=function(e){return gh(e,"beforeRouteEnter",(function(e,t,n,i){return function(e,t,n){return function(i,r,a){return e(i,r,(function(e){"function"==typeof e&&(t.enteredCbs[n]||(t.enteredCbs[n]=[]),t.enteredCbs[n].push(e)),a(e)}))}}(e,n,i)}))}(p);uh(n.concat(i.router.resolveHooks),g,(function(){if(i.pending!==e)return o(ah(r,e));i.pending=null,t(e),i.router.app&&i.router.app.$nextTick((function(){au(e)}))}))}))},mh.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},mh.prototype.setupListeners=function(){},mh.prototype.teardown=function(){this.listeners.forEach((function(e){e()})),this.listeners=[],this.current=eu,this.pending=null};var vh=function(e){function t(t,n){e.call(this,t,n),this._startLocation=bh(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,n=t.options.scrollBehavior,i=th&&n;i&&this.listeners.push(zu());var r=function(){var n=e.current,r=bh(e.base);e.current===eu&&r===e._startLocation||e.transitionTo(r,(function(e){i&&Wu(t,e,n,!0)}))};window.addEventListener("popstate",r),this.listeners.push((function(){window.removeEventListener("popstate",r)}))}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,n){var i=this,r=this.current;this.transitionTo(e,(function(e){nh(cu(i.base+e.fullPath)),Wu(i.router,e,r,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var i=this,r=this.current;this.transitionTo(e,(function(e){ih(cu(i.base+e.fullPath)),Wu(i.router,e,r,!1),t&&t(e)}),n)},t.prototype.ensureURL=function(e){if(bh(this.base)!==this.current.fullPath){var t=cu(this.base+this.current.fullPath);e?nh(t):ih(t)}},t.prototype.getCurrentLocation=function(){return bh(this.base)},t}(mh);function bh(e){var t=window.location.pathname,n=t.toLowerCase(),i=e.toLowerCase();return!e||n!==i&&0!==n.indexOf(cu(i+"/"))||(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var _h=function(e){function t(t,n,i){e.call(this,t,n),i&&function(e){var t=bh(e);if(!/^\/#/.test(t))return window.location.replace(cu(e+"/#"+t)),!0}(this.base)||wh()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router.options.scrollBehavior,n=th&&t;n&&this.listeners.push(zu());var i=function(){var t=e.current;wh()&&e.transitionTo(Sh(),(function(i){n&&Wu(e.router,i,t,!0),th||Ch(i.fullPath)}))},r=th?"popstate":"hashchange";window.addEventListener(r,i),this.listeners.push((function(){window.removeEventListener(r,i)}))}},t.prototype.push=function(e,t,n){var i=this,r=this.current;this.transitionTo(e,(function(e){Th(e.fullPath),Wu(i.router,e,r,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var i=this,r=this.current;this.transitionTo(e,(function(e){Ch(e.fullPath),Wu(i.router,e,r,!1),t&&t(e)}),n)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;Sh()!==t&&(e?Th(t):Ch(t))},t.prototype.getCurrentLocation=function(){return Sh()},t}(mh);function wh(){var e=Sh();return"/"===e.charAt(0)||(Ch("/"+e),!1)}function Sh(){var e=window.location.href,t=e.indexOf("#");return t<0?"":e=e.slice(t+1)}function kh(e){var t=window.location.href,n=t.indexOf("#");return(n>=0?t.slice(0,n):t)+"#"+e}function Th(e){th?nh(kh(e)):window.location.hash=e}function Ch(e){th?ih(kh(e)):window.location.replace(kh(e))}var xh=function(e){function t(t,n){e.call(this,t,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,n){var i=this;this.transitionTo(e,(function(e){i.stack=i.stack.slice(0,i.index+1).concat(e),i.index++,t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var i=this;this.transitionTo(e,(function(e){i.stack=i.stack.slice(0,i.index).concat(e),t&&t(e)}),n)},t.prototype.go=function(e){var t=this,n=this.index+e;if(!(n<0||n>=this.stack.length)){var i=this.stack[n];this.confirmTransition(i,(function(){var e=t.current;t.index=n,t.updateRoute(i),t.router.afterHooks.forEach((function(t){t&&t(i,e)}))}),(function(e){ch(e,rh.duplicated)&&(t.index=n)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(mh),Eh=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=$u(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!th&&!1!==e.fallback,this.fallback&&(t="hash"),Ru||(t="abstract"),this.mode=t,t){case"history":this.history=new vh(this,e.base);break;case"hash":this.history=new _h(this,e.base,this.fallback);break;case"abstract":this.history=new xh(this,e.base)}},Ph={currentRoute:{configurable:!0}};Eh.prototype.match=function(e,t,n){return this.matcher.match(e,t,n)},Ph.currentRoute.get=function(){return this.history&&this.history.current},Eh.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var n=t.apps.indexOf(e);n>-1&&t.apps.splice(n,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardown()})),!this.app){this.app=e;var n=this.history;if(n instanceof vh||n instanceof _h){var i=function(e){n.setupListeners(),function(e){var i=n.current,r=t.options.scrollBehavior;th&&r&&"fullPath"in e&&Wu(t,e,i,!1)}(e)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},Eh.prototype.beforeEach=function(e){return Ah(this.beforeHooks,e)},Eh.prototype.beforeResolve=function(e){return Ah(this.resolveHooks,e)},Eh.prototype.afterEach=function(e){return Ah(this.afterHooks,e)},Eh.prototype.onReady=function(e,t){this.history.onReady(e,t)},Eh.prototype.onError=function(e){this.history.onError(e)},Eh.prototype.push=function(e,t,n){var i=this;if(!t&&!n&&"undefined"!=typeof Promise)return new Promise((function(t,n){i.history.push(e,t,n)}));this.history.push(e,t,n)},Eh.prototype.replace=function(e,t,n){var i=this;if(!t&&!n&&"undefined"!=typeof Promise)return new Promise((function(t,n){i.history.replace(e,t,n)}));this.history.replace(e,t,n)},Eh.prototype.go=function(e){this.history.go(e)},Eh.prototype.back=function(){this.go(-1)},Eh.prototype.forward=function(){this.go(1)},Eh.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},Eh.prototype.resolve=function(e,t,n){var i=Eu(e,t=t||this.history.current,n,this),r=this.match(i,t),a=r.redirectedFrom||r.fullPath,s=function(e,t,n){var i="hash"===n?"#"+t:t;return e?cu(e+"/"+i):i}(this.history.base,a,this.mode);return{location:i,route:r,href:s,normalizedTo:i,resolved:r}},Eh.prototype.getRoutes=function(){return this.matcher.getRoutes()},Eh.prototype.addRoute=function(e,t){this.matcher.addRoute(e,t),this.history.current!==eu&&this.history.transitionTo(this.history.getCurrentLocation())},Eh.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==eu&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Eh.prototype,Ph);var Ih=Eh;function Ah(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}Eh.install=function e(t){if(!e.installed||Pu!==t){e.installed=!0,Pu=t;var n=function(e){return void 0!==e},i=function(e,t){var i=e.$options._parentVnode;n(i)&&n(i=i.data)&&n(i=i.registerRouteInstance)&&i(e,t)};t.mixin({beforeCreate:function(){n(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",su),t.component("RouterLink",Au);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}},Eh.version="3.6.5",Eh.isNavigationFailure=ch,Eh.NavigationFailureType=rh,Eh.START_LOCATION=eu,Ru&&window.Vue&&window.Vue.use(Eh);const Lh=_l({name:"FtLoader",props:{fullscreen:{type:Boolean,default:!1}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"container",class:{fullscreen:e.fullscreen}},[e._m(0)])}),[function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"spinner"},[t("div",{staticClass:"double-bounce1"}),e._v(" "),t("div",{staticClass:"double-bounce2"})])}],!1,null,"4db04b48",null).exports,Oh=_l({name:"FtButton",props:{label:{type:String,default:""},textColor:{type:String,default:"var(--text-with-accent-color)"},backgroundColor:{type:String,default:"var(--accent-color)"},id:{type:String,default:""}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("button",{staticClass:"btn ripple",style:{color:e.textColor,backgroundColor:e.backgroundColor,border:`2px solid ${e.backgroundColor}`},attrs:{id:e.id.length>0?e.id:null},on:{click:function(t){return e.$emit("click")}}},[e._t("default",(function(){return[e._v("\n    "+e._s(e.label)+"\n  ")]}))],2)}),[],!1,null,"e711f202",null).exports,Rh=_l({name:"FtAutoGrid",props:{grid:{type:Boolean,required:!0}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"ft-auto-grid",class:{grid:e.grid,list:!e.grid}},[e._t("default")],2)}),[],!1,null,"5544db26",null).exports,Dh={name:"FtListVideo",components:{"ft-icon-button":Rl},props:{data:{type:Object,required:!0},playlistId:{type:String,default:null},playlistIndex:{type:Number,default:null},playlistReverse:{type:Boolean,default:!1},playlistShuffle:{type:Boolean,default:!1},playlistLoop:{type:Boolean,default:!1},forceListType:{type:String,default:null},appearance:{type:String,required:!0}},data:function(){return{id:"",title:"",channelName:"",channelId:"",viewCount:0,parsedViewCount:"",uploadedTime:"",duration:"",description:"",watched:!1,watchProgress:0,publishedText:"",isLive:!1,isFavorited:!1,isUpcoming:!1,isPremium:!1,hideViews:!1}},computed:{historyCache:function(){return this.$store.getters.getHistoryCache},listType:function(){return this.$store.getters.getListType},thumbnailPreference:function(){return this.$store.getters.getThumbnailPreference},backendPreference:function(){return this.$store.getters.getBackendPreference},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},inHistory:function(){return"history"===this.$router.currentRoute.name},invidiousUrl:function(){let e=`${this.currentInvidiousInstance}/watch?v=${this.id}`;return this.playlistId&&0!==this.playlistId.length&&(e+=`&list=${this.playlistId}`),e},invidiousChannelUrl:function(){return`${this.currentInvidiousInstance}/channel/${this.channelId}`},youtubeUrl:function(){let e=`https://www.youtube.com/watch?v=${this.id}`;return this.playlistId&&0!==this.playlistId.length&&(e+=`&list=${this.playlistId}`),e},youtubeShareUrl:function(){return this.playlistId&&0!==this.playlistId.length?`https://youtu.be/${this.id}?list=${this.playlistId}`:`https://youtu.be/${this.id}`},youtubeChannelUrl:function(){return`https://youtube.com/channel/${this.channelId}`},youtubeEmbedUrl:function(){return`https://www.youtube-nocookie.com/embed/${this.id}`},progressPercentage:function(){return this.watchProgress/this.data.lengthSeconds*100},hideSharingActions:function(){return this.$store.getters.getHideSharingActions},dropdownOptions:function(){const e=[];return e.push({label:this.watched?this.$t("Video.Remove From History"):this.$t("Video.Mark As Watched"),value:"history"}),this.hideSharingActions||e.push({type:"divider"},{label:this.$t("Video.Copy YouTube Link"),value:"copyYoutube"},{label:this.$t("Video.Copy YouTube Embedded Player Link"),value:"copyYoutubeEmbed"},{label:this.$t("Video.Copy Invidious Link"),value:"copyInvidious"},{type:"divider"},{label:this.$t("Video.Open in YouTube"),value:"openYoutube"},{label:this.$t("Video.Open YouTube Embedded Player"),value:"openYoutubeEmbed"},{label:this.$t("Video.Open in Invidious"),value:"openInvidious"},{type:"divider"},{label:this.$t("Video.Copy YouTube Channel Link"),value:"copyYoutubeChannel"},{label:this.$t("Video.Copy Invidious Channel Link"),value:"copyInvidiousChannel"},{type:"divider"},{label:this.$t("Video.Open Channel in YouTube"),value:"openYoutubeChannel"},{label:this.$t("Video.Open Channel in Invidious"),value:"openInvidiousChannel"}),e},thumbnail:function(){let e;switch(e="invidious"===this.backendPreference?this.currentInvidiousInstance:"https://i.ytimg.com",this.thumbnailPreference){case"start":return`${e}/vi/${this.id}/mq1.jpg`;case"middle":return`${e}/vi/${this.id}/mq2.jpg`;case"end":return`${e}/vi/${this.id}/mq3.jpg`;default:return`${e}/vi/${this.id}/mqdefault.jpg`}},hideLiveStreams:function(){return this.$store.getters.getHideLiveStreams},hideUpcomingPremieres:function(){return this.$store.getters.getHideUpcomingPremieres},hideVideoViews:function(){return this.$store.getters.getHideVideoViews},addWatchedStyle:function(){return this.watched&&!this.inHistory},favoritesPlaylist:function(){return this.$store.getters.getFavorites},inFavoritesPlaylist:function(){return-1!==this.favoritesPlaylist.videos.findIndex((e=>e.videoId===this.id))},favoriteIconTheme:function(){return this.inFavoritesPlaylist?"base favorite":"base"},externalPlayer:function(){return this.$store.getters.getExternalPlayer},defaultPlayback:function(){return this.$store.getters.getDefaultPlayback},saveWatchedProgress:function(){return this.$store.getters.getSaveWatchedProgress},showDistractionFreeTitles:function(){return this.$store.getters.getShowDistractionFreeTitles},displayTitle:function(){return this.showDistractionFreeTitles?function(e,t=3){const n=RegExp(`[\\p{Lu}|']{${t},}`,"ug");return e.replace(n,(e=>(e=>{const t=e.split(""),n=(e=>e.search(/[\p{L}]/u))(e);return t[n]=t[n].toUpperCase(),t.join("")})(e.toLowerCase())))}(this.data.title):this.data.title}},mounted:function(){this.parseVideoData(),this.checkIfWatched()},methods:{handleExternalPlayer:function(){this.$emit("pause-player"),this.openInExternalPlayer({watchProgress:this.watchProgress,playbackRate:this.defaultPlayback,videoId:this.id,videoLength:this.data.lengthSeconds,playlistId:this.playlistId,playlistIndex:this.playlistIndex,playlistReverse:this.playlistReverse,playlistShuffle:this.playlistShuffle,playlistLoop:this.playlistLoop}),this.saveWatchedProgress&&!this.watched&&this.markAsWatched()},toggleSave:function(){this.inFavoritesPlaylist?this.removeFromPlaylist():this.addToPlaylist()},handleOptionsClick:function(e){switch(e){case"history":this.watched?this.removeFromWatched():this.markAsWatched();break;case"copyYoutube":Bg(this.youtubeShareUrl,{messageOnSuccess:this.$t("Share.YouTube URL copied to clipboard")});break;case"openYoutube":Mg(this.youtubeUrl);break;case"copyYoutubeEmbed":Bg(this.youtubeEmbedUrl,{messageOnSuccess:this.$t("Share.YouTube Embed URL copied to clipboard")});break;case"openYoutubeEmbed":Mg(this.youtubeEmbedUrl);break;case"copyInvidious":Bg(this.invidiousUrl,{messageOnSuccess:this.$t("Share.Invidious URL copied to clipboard")});break;case"openInvidious":Mg(this.invidiousUrl);break;case"copyYoutubeChannel":Bg(this.youtubeChannelUrl,{messageOnSuccess:this.$t("Share.YouTube Channel URL copied to clipboard")});break;case"openYoutubeChannel":Mg(this.youtubeChannelUrl);break;case"copyInvidiousChannel":Bg(this.invidiousChannelUrl,{messageOnSuccess:this.$t("Share.Invidious Channel URL copied to clipboard")});break;case"openInvidiousChannel":Mg(this.invidiousChannelUrl)}},parseVideoData:function(){this.id=this.data.videoId,this.title=this.data.title,this.channelName=this.data.author,this.channelId=this.data.authorId,this.duration=Gg(this.data.lengthSeconds),this.description=this.data.description,this.isLive=this.data.liveNow||"undefined"===this.data.lengthSeconds,this.isUpcoming=this.data.isUpcoming||this.data.premiere,this.isPremium=this.data.premium||!1,this.viewCount=this.data.viewCount,void 0!==this.data.premiereDate?this.publishedText=this.data.premiereDate.toLocaleString():void 0!==this.data.premiereTimestamp?this.publishedText=new Date(1e3*this.data.premiereTimestamp).toLocaleString():this.publishedText=this.data.publishedText,void 0===this.data.publishedText||null===this.data.publishedText||this.isLive||(this.uploadedTime=Fg({publishText:this.publishedText,isLive:this.isLive,isUpcoming:this.isUpcoming,isRSS:this.data.isRSS})),this.hideVideoViews?this.hideViews=!0:void 0!==this.data.viewCount&&null!==this.data.viewCount?this.parsedViewCount=Jg(this.data.viewCount):void 0!==this.data.viewCountText?this.parsedViewCount=this.data.viewCountText.replace(" views",""):this.hideViews=!0},checkIfWatched:function(){const e=this.historyCache.findIndex((e=>e.videoId===this.id));if(-1!==e)if(this.watched=!0,this.watchProgress=this.historyCache[e].watchProgress,""!==this.historyCache[e].published){const t=this.historyCache[e].published,n=new Date(t);this.publishedText=n.toLocaleDateString()}else this.publishedText=""},markAsWatched:function(){const e={videoId:this.id,title:this.title,author:this.channelName,authorId:this.channelId,published:this.publishedText?this.publishedText.split(",")[0]:this.publishedText,description:this.description,viewCount:this.viewCount,lengthSeconds:this.data.lengthSeconds,watchProgress:0,timeWatched:(new Date).getTime(),isLive:!1,paid:!1,type:"video"};this.updateHistory(e),$g(this.$t("Video.Video has been marked as watched")),this.watched=!0},removeFromWatched:function(){this.removeFromHistory(this.id),$g(this.$t("Video.Video has been removed from your history")),this.watched=!1,this.watchProgress=0},addToPlaylist:function(){const e={playlistName:"Favorites",videoData:{videoId:this.id,title:this.title,author:this.channelName,authorId:this.channelId,published:"",description:this.description,viewCount:this.viewCount,lengthSeconds:this.data.lengthSeconds,timeAdded:(new Date).getTime(),isLive:!1,paid:!1,type:"video"}};this.addVideo(e),$g(this.$t("Video.Video has been saved"))},removeFromPlaylist:function(){const e={playlistName:"Favorites",videoId:this.id};this.removeVideo(e),$g(this.$t("Video.Video has been removed from your saved list"))},...el(["openInExternalPlayer","updateHistory","removeFromHistory","addVideo","removeVideo"])}},Nh=_l(Dh,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"ft-list-video ft-list-item",class:{list:("list"===e.listType||"list"===e.forceListType)&&"grid"!==e.forceListType,grid:("grid"===e.listType||"list"===e.forceListType)&&"list"!==e.forceListType,[e.appearance]:!0,watched:e.addWatchedStyle}},[t("div",{staticClass:"videoThumbnail"},[t("router-link",{staticClass:"thumbnailLink",attrs:{tabindex:"-1",to:{path:`/watch/${e.id}`,query:e.playlistId?{playlistId:e.playlistId}:{}}}},[t("img",{staticClass:"thumbnailImage",attrs:{src:e.thumbnail}})]),e._v(" "),e.isLive||"0:00"!==e.duration?t("div",{staticClass:"videoDuration",class:{live:e.isLive,upcoming:e.isUpcoming}},[e._v("\n      "+e._s(e.isLive?e.$t("Video.Live"):e.isUpcoming?e.$t("Video.Upcoming"):e.duration)+"\n    ")]):e._e(),e._v(" "),""!==e.externalPlayer?t("ft-icon-button",{staticClass:"externalPlayerIcon",attrs:{title:e.$t("Video.External Player.OpenInTemplate",{externalPlayer:e.externalPlayer}),icon:["fas","external-link-alt"],theme:"base",padding:"watchPlaylistItem"===e.appearance?6:7,size:"watchPlaylistItem"===e.appearance?12:16},on:{click:e.handleExternalPlayer}}):e._e(),e._v(" "),e.isLive?e._e():t("ft-icon-button",{staticClass:"favoritesIcon",attrs:{title:e.$t("Video.Save Video"),icon:["fas","star"],theme:e.favoriteIconTheme,padding:"watchPlaylistItem"===e.appearance?5:6,size:"watchPlaylistItem"===e.appearance?14:18},on:{click:e.toggleSave}}),e._v(" "),e.addWatchedStyle?t("div",{staticClass:"videoWatched"},[e._v("\n      "+e._s(e.$t("Video.Watched"))+"\n    ")]):e._e(),e._v(" "),e.watched?t("div",{staticClass:"watchedProgressBar",style:{width:e.progressPercentage+"%"}}):e._e()],1),e._v(" "),t("div",{staticClass:"info"},[t("ft-icon-button",{staticClass:"optionsButton",attrs:{icon:["fas","ellipsis-v"],title:"More Options",theme:"base-no-default",size:16,"use-shadow":!1,"dropdown-position-x":"left","dropdown-options":e.dropdownOptions},on:{click:e.handleOptionsClick}}),e._v(" "),t("router-link",{staticClass:"title",attrs:{to:{path:`/watch/${e.id}`,query:e.playlistId?{playlistId:e.playlistId}:{}}}},[e._v("\n      "+e._s(e.displayTitle)+"\n    ")]),e._v(" "),t("div",{staticClass:"infoLine"},[t("router-link",{staticClass:"channelName",attrs:{to:`/channel/${e.channelId}`}},[t("span",[e._v(e._s(e.channelName))])]),e._v(" "),e.isLive||e.isUpcoming||e.isPremium||e.hideViews?e._e():[t("span",{staticClass:"viewCount"},[e._v(" "+e._s(e.parsedViewCount))]),e._v(" "),1===e.viewCount?t("span",[e._v(e._s(e.$t("Video.View").toLowerCase()))]):t("span",[e._v(e._s(e.$t("Video.Views").toLowerCase()))])],e._v(" "),""===e.uploadedTime||e.isLive||e.inHistory?e._e():t("span",{staticClass:"uploadedTime"},[e._v(" "+e._s(e.uploadedTime))]),e._v(" "),e.inHistory?t("span",{staticClass:"uploadedTime"},[e._v(" "+e._s(e.publishedText))]):e._e(),e._v(" "),e.isLive&&!e.hideViews?t("span",{staticClass:"viewCount"},[e._v(" "+e._s(e.parsedViewCount)+" "+e._s(e.$t("Video.Watching").toLowerCase()))]):e._e()],2),e._v(" "),"grid"!==e.listType&&"result"===e.appearance?t("p",{staticClass:"description"},[e._v("\n      "+e._s(e.description)+"\n    ")]):e._e()],1)])}),[],!1,null,"d9f9dee6",null).exports;let Fh;Fh=n(794).Z;const $h=Fh.settings,Bh=Fh.history,Mh=Fh.profiles,Uh=Fh.playlists,jh={historyCache:[]},Vh={setHistoryCache(e,t){e.historyCache=t},hoistEntryToTopOfHistoryCache(e,{currentIndex:t,updatedEntry:n}){e.historyCache.splice(t,1),e.historyCache.unshift(n)},upsertToHistoryCache(e,t){const n=e.historyCache.findIndex((e=>t.videoId===e.videoId));-1!==n&&e.historyCache.splice(n,1),e.historyCache.unshift(t)},updateRecordWatchProgressInHistoryCache(e,{videoId:t,watchProgress:n}){const i=e.historyCache.findIndex((e=>e.videoId===t)),r=Object.assign({},e.historyCache[i]);r.watchProgress=n,e.historyCache.splice(i,1,r)},removeFromHistoryCacheById(e,t){for(let n=0;n<e.historyCache.length;n++)if(e.historyCache[n].videoId===t){e.historyCache.splice(n,1);break}}},Hh={state:jh,getters:{getHistoryCache:()=>jh.historyCache},actions:{async grabHistory({commit:e}){try{e("setHistoryCache",await Bh.find())}catch(e){console.error(e)}},async updateHistory({commit:e},t){try{await Bh.upsert(t),e("upsertToHistoryCache",t)}catch(e){console.error(e)}},async removeFromHistory({commit:e},t){try{await Bh.delete(t),e("removeFromHistoryCacheById",t)}catch(e){console.error(e)}},async removeAllHistory({commit:e}){try{await Bh.deleteAll(),e("setHistoryCache",[])}catch(e){console.error(e)}},async updateWatchProgress({commit:e},{videoId:t,watchProgress:n}){try{await Bh.updateWatchProgress(t,n),e("updateRecordWatchProgressInHistoryCache",{videoId:t,watchProgress:n})}catch(e){console.error(e)}},compactHistory(e){Bh.persist()}},mutations:Vh};var qh=n(9382),zh=n.n(qh);async function Wh(e){try{return await zh().access(e),!0}catch{return!1}}const Gh={async fetchInvidiousInstances({commit:e}){let t=[];try{const e=await fetch("https://api.invidious.io/instances.json");t=(await e.json()).filter((e=>!(e[0].includes(".onion")||e[0].includes(".i2p")||!e[1].api||!e[1].cors))).map((e=>e[1].uri.replace(/\/$/,"")))}catch(e){console.error(e)}if(0===t.length){const e="invidious-instances.json",n="src/renderer/store/modules/static/";if(await Wh(`${n}${e}`)){console.warn("reading static file for invidious instances");const i=await zh().readFile(`${n}${e}`);t=JSON.parse(i).map((e=>e.url))}}e("setInvidiousInstancesList",t)},setRandomCurrentInvidiousInstance({commit:e,state:t}){const n=t.invidiousInstancesList;e("setCurrentInvidiousInstance",n[Math.floor(Math.random()*n.length)])}},Kh={setCurrentInvidiousInstance(e,t){e.currentInvidiousInstance=t},setInvidiousInstancesList(e,t){e.invidiousInstancesList=t}},Yh={state:{currentInvidiousInstance:"",invidiousInstancesList:null},getters:{getCurrentInvidiousInstance:e=>e.currentInvidiousInstance,getInvidiousInstancesList:e=>e.invidiousInstancesList},actions:Gh,mutations:Kh},Xh={playlists:[{playlistName:"Favorites",protected:!0,videos:[]},{playlistName:"WatchLater",protected:!0,removeOnWatched:!0,videos:[]}]},Qh={getAllPlaylists:()=>Xh.playlists,getFavorites:()=>Xh.playlists[0],getPlaylist:e=>Xh.playlists.find((t=>t._id===e)),getWatchLater:()=>Xh.playlists[1]},Zh={async addPlaylist({commit:e},t){try{await Uh.create(t),e("addPlaylist",t)}catch(e){console.error(e)}},async addPlaylists({commit:e},t){try{await Uh.create(t),e("addPlaylists",t)}catch(e){console.error(e)}},async addVideo({commit:e},t){try{const{playlistName:n,videoData:i}=t;await Uh.upsertVideoByPlaylistName(n,i),e("addVideo",t)}catch(e){console.error(e)}},async addVideos({commit:e},t){try{const{playlistId:n,videoIds:i}=t;await Uh.upsertVideoIdsByPlaylistId(n,i),e("addVideos",t)}catch(e){console.error(e)}},async grabAllPlaylists({commit:e,dispatch:t,state:n}){try{const i=await Uh.find();0===i.length?(e("setAllPlaylists",n.playlists),t("addPlaylists",i)):e("setAllPlaylists",i)}catch(e){console.error(e)}},async removeAllPlaylists({commit:e}){try{await Uh.deleteAll(),e("removeAllPlaylists")}catch(e){console.error(e)}},async removeAllVideos({commit:e},t){try{await Uh.deleteAllVideosByPlaylistName(t),e("removeAllVideos",t)}catch(e){console.error(e)}},async removePlaylist({commit:e},t){try{await Uh.delete(t),e("removePlaylist",t)}catch(e){console.error(e)}},async removePlaylists({commit:e},t){try{await Uh.deleteMultiple(t),e("removePlaylists",t)}catch(e){console.error(e)}},async removeVideo({commit:e},t){try{const{playlistName:n,videoId:i}=t;await Uh.deleteVideoIdByPlaylistName(n,i),e("removeVideo",t)}catch(e){console.error(e)}},async removeVideos({commit:e},t){try{const{playlistName:n,videoIds:i}=t;await Uh.deleteVideoIdsByPlaylistName(n,i),e("removeVideos",t)}catch(e){console.error(e)}}},Jh={addPlaylist(e,t){e.playlists.push(t)},addPlaylists(e,t){e.playlists=e.playlists.concat(t)},addVideo(e,t){const n=e.playlists.find((e=>e.playlistName===t.playlistName));n&&n.videos.push(t.videoData)},addVideos(e,t){const n=e.playlists.find((e=>e._id===t.playlistId));n&&(n.videos=n.videos.concat(t.playlistIds))},removeAllPlaylists(e){e.playlists=e.playlists.filter((e=>!0!==e.protected))},removeAllVideos(e,t){const n=e.playlists.find((e=>e.playlistName===t));n&&(n.videos=[])},removeVideo(e,t){const n=e.playlists.findIndex((e=>e.playlistName===t.playlistName));-1!==n&&(e.playlists[n].videos=e.playlists[n].videos.filter((e=>e.videoId!==t.videoId)))},removeVideos(e,t){const n=e.playlists.findIndex((e=>e._id===t.playlistId));-1!==n&&(n.videos=n.videos.filter((e=>-1===t.videoId.indexOf(e))))},removePlaylist(e,t){e.playlists=e.playlists.filter((e=>e._id!==t||e.protected))},setAllPlaylists(e,t){e.playlists=t}},ed={state:Xh,getters:Qh,actions:Zh,mutations:Jh},td=[{name:"Red",value:"#d50000"},{name:"Pink",value:"#C51162"},{name:"Purple",value:"#AA00FF"},{name:"DeepPurple",value:"#6200EA"},{name:"Indigo",value:"#304FFE"},{name:"Blue",value:"#2962FF"},{name:"LightBlue",value:"#0091EA"},{name:"Cyan",value:"#00B8D4"},{name:"Teal",value:"#00BFA5"},{name:"Green",value:"#00C853"},{name:"LightGreen",value:"#64DD17"},{name:"Lime",value:"#AEEA00"},{name:"Yellow",value:"#FFD600"},{name:"Amber",value:"#FFAB00"},{name:"Orange",value:"#FF6D00"},{name:"DeepOrange",value:"#DD2C00"},{name:"DraculaCyan",value:"#8BE9FD"},{name:"DraculaGreen",value:"#50FA7B"},{name:"DraculaOrange",value:"#FFB86C"},{name:"DraculaPink",value:"#FF79C6"},{name:"DraculaPurple",value:"#BD93F9"},{name:"DraculaRed",value:"#FF5555"},{name:"DraculaYellow",value:"#F1FA8C"},{name:"CatppuccinMochaRosewater",value:"#F5E0DC"},{name:"CatppuccinMochaFlamingo",value:"#F2CDCD"},{name:"CatppuccinMochaPink",value:"#F5C2E7"},{name:"CatppuccinMochaMauve",value:"#CBA6F7"},{name:"CatppuccinMochaRed",value:"#F38BA8"},{name:"CatppuccinMochaMaroon",value:"#EBA0AC"},{name:"CatppuccinMochaPeach",value:"#FAB387"},{name:"CatppuccinMochaYellow",value:"#F9E2AF"},{name:"CatppuccinMochaGreen",value:"#A6E3A1"},{name:"CatppuccinMochaTeal",value:"#94E2D5"},{name:"CatppuccinMochaSky",value:"#89DCEB"},{name:"CatppuccinMochaSapphire",value:"#74C7EC"},{name:"CatppuccinMochaBlue",value:"#89B4FA"},{name:"CatppuccinMochaLavender",value:"#B4BEFE"}];function nd(){const e=Math.floor(Math.random()*td.length);return"main"+td[e].name}function id(){const e=Math.floor(Math.random()*td.length);return td[e].value}function rd(e){const t=e.substring(1,7);return(.299*parseInt(t.substring(0,2),16)+.587*parseInt(t.substring(2,4),16)+.114*parseInt(t.substring(4,6),16))/255>.5?"#000000":"#FFFFFF"}const ad={profileList:[{_id:Vl,name:"All Channels",bgColor:"#000000",textColor:"#FFFFFF",subscriptions:[]}],activeProfile:Vl},sd={getProfileList:()=>ad.profileList,getActiveProfile:e=>{const t=e.activeProfile;return e.profileList.find((e=>e._id===t))},profileById:e=>t=>{const n=e.profileList.find((e=>e._id===t));return n}};function od(e,t){return e._id===Vl?-1:t._id===Vl?1:e.name<t.name?-1:e.name>t.name?1:0}const ld={async grabAllProfiles({rootState:e,commit:t},n=null){let i;try{i=await Mh.find()}catch(e){return void console.error(e)}if(Array.isArray(i))if(0!==i.length){if(i=i.sort(od),ad.profileList.length<i.length){const n=i.find((t=>t._id===e.settings.defaultProfile));n&&t("setActiveProfile",n._id)}t("setProfileList",i)}else{const e=id(),i=rd(e),r={_id:Vl,name:n,bgColor:e,textColor:i,subscriptions:[]};try{await Mh.create(r),t("setProfileList",[r])}catch(e){console.error(e)}}},async updateSubscriptionDetails({getters:e,dispatch:t},{channelThumbnailUrl:n,channelName:i,channelId:r}){const a=n?.replace(/=s\d*/,"=s176")??null,s=e.getProfileList;for(const e of s){const n=JSON.parse(JSON.stringify(e)),s=n.subscriptions.find((e=>e.id===r))??null;if(null===s)continue;let o=!1;if((s.name!==i||s.thumbnail!==a&&null!==a)&&(null!==a&&(s.thumbnail=a),s.name=i,o=!0),!o)break;await t("updateProfile",n)}},async createProfile({commit:e},t){try{e("addProfileToList",await Mh.create(t))}catch(e){console.error(e)}},async updateProfile({commit:e},t){try{await Mh.upsert(t),e("upsertProfileToList",t)}catch(e){console.error(e)}},async removeProfile({commit:e},t){try{await Mh.delete(t),e("removeProfileFromList",t)}catch(e){console.error(e)}},compactProfiles(e){Mh.persist()},updateActiveProfile({commit:e},t){e("setActiveProfile",t)}},cd={setProfileList(e,t){e.profileList=t},setActiveProfile(e,t){e.activeProfile=t},addProfileToList(e,t){e.profileList.push(t),e.profileList.sort(od)},upsertProfileToList(e,t){const n=e.profileList.findIndex((e=>e._id===t._id));-1===n?e.profileList.push(t):e.profileList.splice(n,1,t),e.profileList.sort(od)},removeProfileFromList(e,t){const n=e.profileList.findIndex((e=>e._id===t));e.profileList.splice(n,1)}},ud={state:ad,getters:sd,actions:ld,mutations:cd};var hd=n(651),dd=n.n(hd),fd=n(4155);const pd=e=>e.replace(/^\w/,(e=>e.toUpperCase())),md=e=>"get"+pd(e),gd=e=>"set"+pd(e),yd=e=>"update"+pd(e),vd=e=>"trigger"+pd(e)+"SideEffects",bd={autoplayPlaylists:!0,autoplayVideos:!0,backendFallback:!1,backendPreference:"invidious",barColor:!1,checkForBlogPosts:!0,checkForUpdates:!0,baseTheme:"system",mainColor:"Red",secColor:"Blue",defaultCaptionSettings:"{}",defaultInterval:5,defaultPlayback:1,defaultProfile:Vl,defaultQuality:"720",defaultSkipInterval:5,defaultTheatreMode:!1,defaultVideoFormat:"dash",disableSmoothScrolling:!1,displayVideoPlayButton:!0,enableSearchSuggestions:!0,enableSubtitles:!0,enterFullscreenOnDisplayRotate:!1,externalLinkHandling:"",externalPlayer:"",externalPlayerExecutable:"",externalPlayerIgnoreWarnings:!1,externalPlayerCustomArgs:"",expandSideBar:!1,forceLocalBackendForLegacy:!1,hideActiveSubscriptions:!1,hideChannelSubscriptions:!1,hideCommentLikes:!1,hideComments:!1,channelsHidden:"[]",hideVideoDescription:!1,hideLiveChat:!1,hideLiveStreams:!1,hideHeaderLogo:!1,hidePlaylists:!1,hidePopularVideos:!1,hideRecommendedVideos:!1,hideSearchBar:!1,hideSharingActions:!1,hideTrendingVideos:!1,hideUnsubscribeButton:!1,hideUpcomingPremieres:!1,hideVideoLikesAndDislikes:!1,hideVideoViews:!1,hideWatchedSubs:!1,hideLabelsSideBar:!1,hideChapters:!1,showDistractionFreeTitles:!1,landingPage:"subscriptions",listType:"grid",maxVideoPlaybackRate:3,playNextVideo:!1,proxyHostname:"127.0.0.1",proxyPort:"9050",proxyProtocol:"socks5",proxyVideos:!1,region:"US",rememberHistory:!0,removeVideoMetaFiles:!0,saveWatchedProgress:!0,showFamilyFriendlyOnly:!1,sponsorBlockShowSkippedToast:!0,sponsorBlockUrl:"https://sponsor.ajay.app",sponsorBlockSponsor:{color:"Blue",skip:"autoSkip"},sponsorBlockSelfPromo:{color:"Yellow",skip:"showInSeekBar"},sponsorBlockInteraction:{color:"Green",skip:"showInSeekBar"},sponsorBlockIntro:{color:"Orange",skip:"doNothing"},sponsorBlockOutro:{color:"Orange",skip:"doNothing"},sponsorBlockRecap:{color:"Orange",skip:"doNothing"},sponsorBlockMusicOffTopic:{color:"Orange",skip:"doNothing"},sponsorBlockFiller:{color:"Orange",skip:"doNothing"},thumbnailPreference:"",useProxy:!1,useRssFeeds:!1,useSponsorBlock:!1,videoVolumeMouseScroll:!1,videoPlaybackRateMouseScroll:!1,videoSkipMouseScroll:!1,videoPlaybackRateInterval:.25,downloadFolderPath:"",downloadBehavior:"download",enableScreenshot:!1,screenshotFormat:"png",screenshotQuality:95,screenshotAskPath:!1,screenshotFolderPath:"",screenshotFilenamePattern:"%Y%M%D-%H%N%S",fetchSubscriptionsAutomatically:!0,settingsPassword:""},_d={currentLocale:{defaultValue:"en-US",sideEffectsHandler:async function({dispatch:e},t){let n=t;if("system"===t){const e=(await async function(){let e;return navigator&&navigator.language&&(e=navigator.language),e||"en-US"}()).replace("-","_"),t=e.split("_")[0],i=jc.allLocales.filter((e=>e.replace("-","_").split("_")[0].includes(t))).sort(((t,n)=>{const i=t.replace("-","_"),r=n.replace("-","_"),a=i.split("_"),s=r.split("_");return a.includes(e)?-1:s.includes(e)?1:1===a.length?-1:1===s.length?1:i.localeCompare(r)}));i.length>0&&(n=i[0]),n||(n="en-US",$g("Locale not found, defaulting to en-US"))}await jc.loadLocale(n),jc.locale=n,await e("getRegionData",{locale:n})}},defaultInvidiousInstance:{defaultValue:"",sideEffectsHandler:({commit:e,getters:t},n)=>{""!==n&&t.getCurrentInvidiousInstance!==n&&e("setCurrentInvidiousInstance",n)}},defaultVolume:{defaultValue:1,sideEffectsHandler:(e,t)=>{sessionStorage.setItem("volume",t)}},uiScale:{defaultValue:100,sideEffectsHandler:(e,t)=>{}},disableBackgroundModeNotification:{defaultValue:!1,sideEffectsHandler:(e,t)=>{if(fd.env.IS_CORDOVA){const{backgroundMode:e}=dd().plugins;e.setDefaults({title:"FreeTube",silent:t})}}}},wd={},Sd={};Object.assign(wd,{settingsWithSideEffects:Object.keys(_d)}),Object.assign(Sd,{settingHasSideEffects:e=>t=>e.settingsWithSideEffects.includes(t)});const kd={grabUserSettings:async({commit:e,dispatch:t,getters:n})=>{try{const i=Object.entries(Object.assign({},Object.fromEntries(Object.entries(_d).map((([e,{defaultValue:t}])=>[e,t]))),Object.fromEntries((await $h.find()).map((({_id:e,value:t})=>[e,t])))));for(const r of i){const[i,a]=r;n.settingHasSideEffects(i)&&t(vd(i),a),Object.keys(Cd).includes(gd(i))&&e(gd(i),a)}}catch(e){console.error(e)}},setupListenersToSyncWindows:({commit:e,dispatch:t,getters:i})=>{const{ipcRenderer:r}=n(651);r.on("sync-settings",((n,{event:r,data:a})=>{r===Fl?(i.settingHasSideEffects(a._id)&&t(vd(a._id),a.value),e(gd(a._id),a.value)):console.error("settings: invalid sync event received")})),r.on("sync-history",((t,{event:n,data:i})=>{switch(n){case Fl:e("upsertToHistoryCache",i);break;case Ml:e("updateRecordWatchProgressInHistoryCache",i);break;case $l:e("removeFromHistoryCacheById",i);break;case Bl:e("setHistoryCache",[]);break;default:console.error("history: invalid sync event received")}})),r.on("sync-profiles",((t,{event:n,data:i})=>{switch(n){case Nl:e("addProfileToList",i);break;case Fl:e("upsertProfileToList",i);break;case $l:e("removeProfileFromList",i);break;default:console.error("profiles: invalid sync event received")}})),r.on("sync-playlists",((t,{event:n,data:i})=>{switch(n){case Ul:e("addVideo",i);break;case jl:e("removeVideo",i);break;default:console.error("playlists: invalid sync event received")}}))}},Td={},Cd={},xd={};Object.assign(bd,Object.fromEntries(Object.keys(_d).map((e=>[e,_d[e].defaultValue]))));for(const e of Object.keys(bd)){const t=md(e),n=gd(e),i=yd(e),r=vd(e);Td[t]=t=>t[e],Cd[n]=(t,n)=>{t[e]=n},Object.keys(_d).includes(e)&&(xd[r]=_d[e].sideEffectsHandler),xd[i]=async({commit:t,dispatch:i,getters:a},s)=>{try{await $h.upsert(e,s),a.settingHasSideEffects(e)&&i(r,s),t(n,s)}catch(e){console.error(e)}}}Object.assign(bd,wd),Object.assign(Td,Sd),Object.assign(Cd,{}),Object.assign(xd,kd);const Ed={state:bd,getters:Td,actions:xd,mutations:Cd},Pd={allSubscriptionsList:[],profileSubscriptions:{activeProfile:Vl,videoList:[],errorChannels:[]}},Id={updateAllSubscriptionsList({commit:e},t){e("setAllSubscriptionsList",t)},updateProfileSubscriptions({commit:e},t){e("setProfileSubscriptions",t)}},Ad={setAllSubscriptionsList(e,t){e.allSubscriptionsList=t},setProfileSubscriptions(e,t){e.profileSubscriptions=t}},Ld={state:Pd,getters:{getAllSubscriptionsList:()=>Pd.allSubscriptionsList,getProfileSubscriptions:()=>Pd.profileSubscriptions},actions:Id,mutations:Ad};var Od=n(6470),Rd=n.n(Od);const Dd={isSideNavOpen:!1,sessionSearchHistory:[],popularCache:null,trendingCache:{default:null,music:null,gaming:null,movies:null},cachedPlaylist:null,showProgressBar:!1,progressBarPercentage:0,regionNames:[],regionValues:[],recentBlogPosts:[],searchSettings:{sortBy:"relevance",time:"",type:"all",duration:""},externalPlayerNames:[],externalPlayerNameTranslationKeys:[],externalPlayerValues:[],externalPlayerCmdArguments:{}},Nd={async downloadMedia({rootState:e},{url:t,title:n,extension:i,fallingBackPath:r}){Mg(t)},parseScreenshotCustomFileName:function({rootState:e},t){return new Promise(((n,i)=>{const{pattern:r=e.settings.screenshotFilenamePattern,date:a,playerTime:s,videoId:o}=t,l=[["%Y",a.getFullYear()],["%M",(a.getMonth()+1).toString().padStart(2,"0")],["%D",a.getDate().toString().padStart(2,"0")],["%H",a.getHours().toString().padStart(2,"0")],["%N",a.getMinutes().toString().padStart(2,"0")],["%S",a.getSeconds().toString().padStart(2,"0")],["%T",a.getMilliseconds().toString().padStart(3,"0")],["%s",parseInt(s)],["%t",(s%1).toString().slice(2,5)||"000"],["%i",o]];let c,u=r;for(const[e,t]of l)u=u.replaceAll(e,t);if(u!==function(e){let t=e,n={};switch(Ng.platform){case"win32":n={"<":"<",">":">",":":":",'"':'"',"/":"/","\\":"'","|":"|","?":"?","*":"*"};break;case"darwin":n={"/":"/",":":":"};break;case"linux":n={"/":"/"}}for(const e in n)t=t.replaceAll(e,n[e]);return t}(u)&&i(new Error("Forbidden Characters")),-1!==u.indexOf(Rd().sep)){const e=u.lastIndexOf(Rd().sep);c=u.substring(e+1)}else c=u;c||i(new Error("Empty File Name")),n(u)}))},updateShowProgressBar({commit:e},t){e("setShowProgressBar",t)},async getRegionData({commit:e},{locale:t}){let n;n=["ar","bg","cs","da","de-DE","ee","el","en-GB","en-US","es","es-AR","es-MX","eu","fi","fr-FR","hr","hu","is","it","ja","ko","lt","nb-NO","nl","pl","pt","pt-BR","pt-PT","ro","ru","sk","sv","th","uk","zh","zh-tw"].includes(t);const i=`/static/geolocations/${n?t:"en-US"}/countries.json`,r=(await(await fetch(zg(i))).json()).map((e=>({id:e.id,name:e.name,code:e.alpha2})));r.sort(((e,t)=>e.id-t.id));const a=r.map((e=>e.name)),s=r.map((e=>e.code));e("setRegionNames",a),e("setRegionValues",s)},getYoutubeUrlInfo({state:e},t){const{videoId:n,timestamp:i,playlistId:r}=function(e){let t;const n={videoId:null,timestamp:null,playlistId:null};try{t=new URL(e)}catch(e){return n}function i(e){n.videoId=e,n.timestamp=t.searchParams.get("t")}return[function(){if("/watch"===t.pathname&&t.searchParams.has("v"))return i(t.searchParams.get("v")),n.playlistId=t.searchParams.get("list"),n},function(){if("youtu.be"===t.host&&/^\/[\w-]+$/.test(t.pathname))return i(t.pathname.slice(1)),n},function(){if(/^\/embed\/[\w-]+$/.test(t.pathname)){const e=t.pathname.replace("/embed/","");return"videoseries"===e?n.playlistId=t.searchParams.get("list"):i(e),n}},function(){if(/^\/shorts\/[\w-]+$/.test(t.pathname))return i(t.pathname.replace("/shorts/","")),n},function(){if(/^cadence\.(gq|moe)$/.test(t.host)&&/^\/cloudtube\/video\/[\w-]+$/.test(t.pathname))return i(t.pathname.slice("/cloudtube/video/".length)),n}].reduce(((e,t)=>e||t()),null)||n}(t);if(n)return{urlType:"video",videoId:n,playlistId:r,timestamp:i};let a;try{a=new URL(t)}catch{return{urlType:"invalid_url"}}let s="unknown";const o=/^\/(?:(?<type>channel|user|c)\/)?(?<channelId>[^/]+)(?:\/(join|featured|videos|playlists|about|community|channels))?\/?$/,l=new Map([["playlist",/^(\/playlist\/?|\/embed(\/?videoseries)?)$/],["search",/^\/results\/?$/],["hashtag",/^\/hashtag\/([^#&/?]+)$/],["channel",o]]);for(const[e,t]of l)if(t.test(a.pathname)){s=e;break}switch(s){case"playlist":{if(!a.searchParams.has("list"))throw new Error('Playlist: "list" field not found');const e=a.searchParams.get("list");a.searchParams.delete("list");const t={};for(const[e,n]of a.searchParams)t[e]=n;return{urlType:"playlist",playlistId:e,query:t}}case"search":{if(!a.searchParams.has("search_query"))throw new Error('Search: "search_query" field not found');const t=a.searchParams.get("search_query");a.searchParams.delete("search_query");const n=e.searchSettings,i={sortBy:n.sortBy,time:n.time,type:n.type,duration:n.duration};for(const[e,t]of a.searchParams)i[e]=t;return{urlType:"search",searchQuery:t,query:i}}case"hashtag":return{urlType:"hashtag"};case"channel":{const e=a.pathname.match(o),t=e.groups.channelId,n=["channel","user","c"].indexOf(e.groups.type)+1;if(!t)throw new Error("Channel: could not extract id");let i=null;switch(a.pathname.split("/").filter((e=>e))[2]){case"playlists":i="playlists";break;case"channels":case"about":i="about";break;default:i="videos"}return{urlType:"channel",channelId:t,idType:n,subPath:i}}default:return{urlType:"unknown"}}},clearSessionSearchHistory({commit:e}){e("setSessionSearchHistory",[])},async getExternalPlayerCmdArgumentsData({commit:e},t){const n="external-player-map.json";let i;const r="src/renderer/store/modules/static/";i=await Wh(`${r}${n}`)?await zh().readFile(`${r}${n}`):'[{"name":"None","value":"","cmdArguments":null}]';const a=JSON.parse(i).map((e=>({name:e.name,nameTranslationKey:e.nameTranslationKey,value:e.value,cmdArguments:e.cmdArguments}))),s=a.map((e=>e.name)),o=a.map((e=>e.nameTranslationKey)),l=a.map((e=>e.value)),c=a.reduce(((e,t)=>(e[t.value]=t.cmdArguments,e)),{});e("setExternalPlayerNames",s),e("setExternalPlayerNameTranslationKeys",o),e("setExternalPlayerValues",l),e("setExternalPlayerCmdArguments",c)},openInExternalPlayer({state:e,rootState:t},i){const r=[],a=t.settings.externalPlayer,s=e.externalPlayerCmdArguments[a],o=""!==t.settings.externalPlayerExecutable?t.settings.externalPlayerExecutable:s.defaultExecutable,l=t.settings.externalPlayerIgnoreWarnings,c=t.settings.externalPlayerCustomArgs;if("string"==typeof c&&""!==c){const e=c.split(";");r.push(...e)}else if("string"==typeof s.defaultCustomArguments&&""!==s.defaultCustomArguments){const e=s.defaultCustomArguments.split(";");r.push(...e)}i.watchProgress>0&&i.watchProgress<i.videoLength-10&&("string"==typeof s.startOffset?r.push(`${s.startOffset}${i.watchProgress}`):l||Zg(a,"starting video at offset")),null!==i.playbackRate&&("string"==typeof s.playbackRate?r.push(`${s.playbackRate}${i.playbackRate}`):l||Zg(a,"setting a playback rate")),"string"==typeof s.playlistUrl&&null!==i.playlistId&&""!==i.playlistId?(null!==i.playlistIndex&&("string"==typeof s.playlistIndex?r.push(`${s.playlistIndex}${i.playlistIndex}`):l||Zg(a,"opening specific video in a playlist (falling back to opening the video)")),i.playlistReverse&&("string"==typeof s.playlistReverse?r.push(s.playlistReverse):l||Zg(a,"reversing playlists")),i.playlistShuffle&&("string"==typeof s.playlistShuffle?r.push(s.playlistShuffle):l||Zg(a,"shuffling playlists")),i.playlistLoop&&("string"==typeof s.playlistLoop?r.push(s.playlistLoop):l||Zg(a,"looping playlists")),s.supportsYtdlProtocol?r.push(`${s.playlistUrl}ytdl://${i.playlistId}`):r.push(`${s.playlistUrl}https://youtube.com/playlist?list=${i.playlistId}`)):(null===i.playlistId||""===i.playlistId||l||Zg(a,"opening playlists"),null!==i.videoId&&(s.supportsYtdlProtocol?r.push(`${s.videoUrl}ytdl://${i.videoId}`):r.push(`${s.videoUrl}https://www.youtube.com/watch?v=${i.videoId}`)));const u=null===i.playlistId||""===i.playlistId?jc.t("Video.External Player.video"):jc.t("Video.External Player.playlist");$g(jc.t("Video.External Player.OpeningTemplate",{videoOrPlaylist:u,externalPlayer:a}));const{ipcRenderer:h}=n(651);h.send("open-in-external-player",{executable:o,args:r})}},Fd={toggleSideNav(e){e.isSideNavOpen=!e.isSideNavOpen},setShowProgressBar(e,t){e.showProgressBar=t},setProgressBarPercentage(e,t){e.progressBarPercentage=t},setSessionSearchHistory(e,t){e.sessionSearchHistory=t},addToSessionSearchHistory(e,t){const n=e.sessionSearchHistory.findIndex((e=>e.query===t.query&&Kg(t.searchSettings,e.searchSettings)));-1!==n?(e.sessionSearchHistory[n].data=t.data,e.sessionSearchHistory[n].nextPageRef=t.nextPageRef):e.sessionSearchHistory.push(t)},setPopularCache(e,t){e.popularCache=t},setTrendingCache(e,{value:t,page:n}){e.trendingCache[n]=t},setCachedPlaylist(e,t){e.cachedPlaylist=t},setSearchSortBy(e,t){e.searchSettings.sortBy=t},setSearchTime(e,t){e.searchSettings.time=t},setSearchType(e,t){e.searchSettings.type=t},setSearchDuration(e,t){e.searchSettings.duration=t},setRegionNames(e,t){e.regionNames=t},setRegionValues(e,t){e.regionValues=t},setRecentBlogPosts(e,t){e.recentBlogPosts=t},setExternalPlayerNames(e,t){e.externalPlayerNames=t},setExternalPlayerNameTranslationKeys(e,t){e.externalPlayerNameTranslationKeys=t},setExternalPlayerValues(e,t){e.externalPlayerValues=t},setExternalPlayerCmdArguments(e,t){e.externalPlayerCmdArguments=t}},$d={history:Hh,invidious:Yh,playlists:ed,profiles:ud,settings:Ed,subscriptions:Ld,utils:{state:Dd,getters:{getIsSideNavOpen:()=>Dd.isSideNavOpen,getCurrentVolume:()=>Dd.currentVolume,getSessionSearchHistory:()=>Dd.sessionSearchHistory,getPopularCache:()=>Dd.popularCache,getTrendingCache:()=>Dd.trendingCache,getCachedPlaylist:()=>Dd.cachedPlaylist,getSearchSettings:()=>Dd.searchSettings,getShowProgressBar:()=>Dd.showProgressBar,getProgressBarPercentage:()=>Dd.progressBarPercentage,getRegionNames:()=>Dd.regionNames,getRegionValues:()=>Dd.regionValues,getRecentBlogPosts:()=>Dd.recentBlogPosts,getExternalPlayerNames:()=>Dd.externalPlayerNames,getExternalPlayerNameTranslationKeys:()=>Dd.externalPlayerNameTranslationKeys,getExternalPlayerValues:()=>Dd.externalPlayerValues,getExternalPlayerCmdArguments:()=>Dd.externalPlayerCmdArguments},actions:Nd,mutations:Fd}};Wn.use(cl);const Bd=new cl.Store({modules:$d,strict:!1});function Md(e){return"boolean"==typeof e}function Ud(e,t){for(var n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)}function jd(e,t){for(var n=e.length-1;n>=0;n--)!0===t(e[n])&&e.splice(n,1)}function Vd(e){throw new Error("Unhandled case for value: '".concat(e,"'"))}var Hd=/[A-Za-z]/,qd=/[\d]/,zd=/\s/,Wd=/['"]/,Gd=/[\x00-\x1F\x7F]/,Kd=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,Yd=Kd+/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,Xd=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,Qd=(new RegExp("[".concat(Kd+Xd,"]")),Yd+Xd),Zd=new RegExp("[".concat(Qd,"]")),Jd=function(){function e(e){void 0===e&&(e={}),this.tagName="",this.attrs={},this.innerHTML="",this.tagName=e.tagName||"",this.attrs=e.attrs||{},this.innerHTML=e.innerHtml||e.innerHTML||""}return e.prototype.setTagName=function(e){return this.tagName=e,this},e.prototype.getTagName=function(){return this.tagName||""},e.prototype.setAttr=function(e,t){return this.getAttrs()[e]=t,this},e.prototype.getAttr=function(e){return this.getAttrs()[e]},e.prototype.setAttrs=function(e){return Object.assign(this.getAttrs(),e),this},e.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},e.prototype.setClass=function(e){return this.setAttr("class",e)},e.prototype.addClass=function(e){for(var t,n=this.getClass(),i=n?n.split(zd):[],r=e.split(zd);t=r.shift();)-1===i.indexOf(t)&&i.push(t);return this.getAttrs().class=i.join(" "),this},e.prototype.removeClass=function(e){for(var t,n=this.getClass(),i=n?n.split(zd):[],r=e.split(zd);i.length&&(t=r.shift());){var a=i.indexOf(t);-1!==a&&i.splice(a,1)}return this.getAttrs().class=i.join(" "),this},e.prototype.getClass=function(){return this.getAttrs().class||""},e.prototype.hasClass=function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},e.prototype.setInnerHTML=function(e){return this.innerHTML=e,this},e.prototype.setInnerHtml=function(e){return this.setInnerHTML(e)},e.prototype.getInnerHTML=function(){return this.innerHTML||""},e.prototype.getInnerHtml=function(){return this.getInnerHTML()},e.prototype.toAnchorString=function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},e.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+'="'+e[n]+'"');return t.join(" ")},e}(),ef=function(){function e(e){void 0===e&&(e={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=e.newWindow||!1,this.truncate=e.truncate||{},this.className=e.className||""}return e.prototype.build=function(e){return new Jd({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})},e.prototype.createAttrs=function(e){var t={href:e.getAnchorHref()},n=this.createCssClass(e);return n&&(t.class=n),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},e.prototype.createCssClass=function(e){var t=this.className;if(t){for(var n=[t],i=e.getCssClassSuffixes(),r=0,a=i.length;r<a;r++)n.push(t+"-"+i[r]);return n.join(" ")}return""},e.prototype.processAnchorText=function(e){return this.doTruncate(e)},e.prototype.doTruncate=function(e){var t=this.truncate;if(!t||!t.length)return e;var n=t.length,i=t.location;return"smart"===i?function(e,t,n){var i,r;null==n?(n="&hellip;",r=3,i=8):(r=n.length,i=n.length);var a=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},s=function(e,t){var i=t/2,r=Math.ceil(i),a=-1*Math.floor(i),s="";return a<0&&(s=e.substr(a)),e.substr(0,r)+n+s};if(e.length<=t)return e;var o=t-r,l=function(e){var t={},n=e,i=n.match(/^([a-z]+):\/\//i);return i&&(t.scheme=i[1],n=n.substr(i[0].length)),(i=n.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(t.host=i[1],n=n.substr(i[0].length)),(i=n.match(/^\/(.*?)(?=(\?|#|$))/i))&&(t.path=i[1],n=n.substr(i[0].length)),(i=n.match(/^\?(.*?)(?=(#|$))/i))&&(t.query=i[1],n=n.substr(i[0].length)),(i=n.match(/^#(.*?)$/i))&&(t.fragment=i[1]),t}(e);if(l.query){var c=l.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);c&&(l.query=l.query.substr(0,c[1].length),e=a(l))}if(e.length<=t)return e;if(l.host&&(l.host=l.host.replace(/^www\./,""),e=a(l)),e.length<=t)return e;var u="";if(l.host&&(u+=l.host),u.length>=o)return l.host.length==t?(l.host.substr(0,t-r)+n).substr(0,o+i):s(u,o).substr(0,o+i);var h="";if(l.path&&(h+="/"+l.path),l.query&&(h+="?"+l.query),h){if((u+h).length>=o)return(u+h).length==t?(u+h).substr(0,t):(u+s(h,o-u.length)).substr(0,o+i);u+=h}if(l.fragment){var d="#"+l.fragment;if((u+d).length>=o)return(u+d).length==t?(u+d).substr(0,t):(u+s(d,o-u.length)).substr(0,o+i);u+=d}if(l.scheme&&l.host){var f=l.scheme+"://";if((u+f).length<o)return(f+u).substr(0,t)}if(u.length<=t)return u;var p="";return o>0&&(p=u.substr(-1*Math.floor(o/2))),(u.substr(0,Math.ceil(o/2))+n+p).substr(0,o+i)}(e,n):"middle"===i?function(e,t,n){if(e.length<=t)return e;var i,r;null==n?(n="&hellip;",i=8,r=3):(i=n.length,r=n.length);var a=t-r,s="";return a>0&&(s=e.substr(-1*Math.floor(a/2))),(e.substr(0,Math.ceil(a/2))+n+s).substr(0,a+i)}(e,n):function(e,t,n){return function(e,t,n){var i;return e.length>t&&(null==n?(n="&hellip;",i=3):i=n.length,e=e.substring(0,t-i)+n),e}(e,t,void 0)}(e,n)},e}(),tf=function(e,t){return tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},tf(e,t)};function nf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}tf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var rf=function(){return rf=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},rf.apply(this,arguments)};Object.create,Object.create;var af=function(){function e(e){this._=null,this.matchedText="",this.offset=0,this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset}return e.prototype.getMatchedText=function(){return this.matchedText},e.prototype.setOffset=function(e){this.offset=e},e.prototype.getOffset=function(){return this.offset},e.prototype.getCssClassSuffixes=function(){return[this.type]},e.prototype.buildTag=function(){return this.tagBuilder.build(this)},e}(),sf=new RegExp("^(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermgensberatung|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermgensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|travelchannel|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b||accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|tatamotors|technology|university|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi||abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|builders|business|capetown|catering|catholic|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|etisalat|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama||abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|||||||||abarth|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|webcam|xihuan|yachts|yandex|zappos|||||||||||||actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|loans|locus|lotte|lotto|macys|mango|media|miami|money|movie|music|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo||||||||||||||aarp|able|adac|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kids|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|read|reit|rent|rest|rich|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone||||||||||||||||||||||||||aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceo|cfa|cfd|com|cpa|crs|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip||||||||||||||||||||||||||||||||ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)$"),of=/[\/?#]/,lf=/[-+&@#/%=~_()|'$*\[\]{}\u2713]/,cf=/[?!:,.;^]/,uf=/https?:\/\//i,hf=new RegExp("^"+uf.source,"i"),df=new RegExp(cf.source+"$"),ff=/^(javascript|vbscript):/i,pf=/^[A-Za-z][-.+A-Za-z0-9]*:(\/\/)?([^:/]*)/,mf=/^(?:\/\/)?([^/#?:]+)/;function gf(e){return Hd.test(e)}function yf(e){return Hd.test(e)||qd.test(e)||"+"===e||"-"===e||"."===e}function vf(e){return Zd.test(e)}function bf(e){return"_"===e||vf(e)}function _f(e){return Zd.test(e)||lf.test(e)||cf.test(e)}function wf(e){return of.test(e)}function Sf(e){return sf.test(e.toLowerCase())}var kf=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,Tf=/[:/?#]/,Cf=/^(https?:\/\/)?(www\.)?/i,xf=/^\/\//,Ef=function(e){function t(t){var n=e.call(this,t)||this;return n.type="url",n.url="",n.urlMatchType="scheme",n.protocolRelativeMatch=!1,n.stripPrefix={scheme:!0,www:!0},n.stripTrailingSlash=!0,n.decodePercentEncoding=!0,n.protocolPrepended=!1,n.urlMatchType=t.urlMatchType,n.url=t.url,n.protocolRelativeMatch=t.protocolRelativeMatch,n.stripPrefix=t.stripPrefix,n.stripTrailingSlash=t.stripTrailingSlash,n.decodePercentEncoding=t.decodePercentEncoding,n}return nf(t,e),t.prototype.getType=function(){return"url"},t.prototype.getUrlMatchType=function(){return this.urlMatchType},t.prototype.getUrl=function(){var e=this.url;return this.protocolRelativeMatch||"scheme"===this.urlMatchType||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},t.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},t.prototype.getAnchorText=function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=e.replace(xf,"")),this.stripPrefix.scheme&&(e=e.replace(hf,"")),this.stripPrefix.www&&(e=e.replace(Cf,"$1")),this.stripTrailingSlash&&(e=function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}(e)),this.decodePercentEncoding&&(e=function(e){var t=e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(t)}catch(e){return t}}(e)),e},t}(af),Pf=/^mailto:/i,If=new RegExp("[".concat(Qd,"!#$%&'*+/=?^_`{|}~-]"));function Af(e){return If.test(e)}var Lf=function(e){function t(t){var n=e.call(this,t)||this;return n.type="email",n.email="",n.email=t.email,n}return nf(t,e),t.prototype.getType=function(){return"email"},t.prototype.getEmail=function(){return this.email},t.prototype.getAnchorHref=function(){return"mailto:"+this.email},t.prototype.getAnchorText=function(){return this.email},t}(af);function Of(e){return"_"===e||Zd.test(e)}var Rf=["twitter","facebook","instagram","tiktok"],Df=function(e){function t(t){var n=e.call(this,t)||this;return n.type="hashtag",n.serviceName="twitter",n.hashtag="",n.serviceName=t.serviceName,n.hashtag=t.hashtag,n}return nf(t,e),t.prototype.getType=function(){return"hashtag"},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getHashtag=function(){return this.hashtag},t.prototype.getAnchorHref=function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;case"tiktok":return"https://www.tiktok.com/tag/"+t;default:throw Vd(e),new Error("Invalid hashtag service: ".concat(e))}},t.prototype.getAnchorText=function(){return"#"+this.hashtag},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),n=this.getServiceName();return n&&t.push(n),t},t}(af),Nf={twitter:/^@\w{1,15}$/,instagram:/^@[_\w]{1,30}$/,soundcloud:/^@[-a-z0-9_]{3,25}$/,tiktok:/^@[.\w]{1,23}[\w]$/},Ff=/[-\w.]/;function $f(e){return Ff.test(e)}var Bf=["twitter","instagram","soundcloud","tiktok"],Mf=function(e){function t(t){var n=e.call(this,t)||this;return n.type="mention",n.serviceName="twitter",n.mention="",n.mention=t.mention,n.serviceName=t.serviceName,n}return nf(t,e),t.prototype.getType=function(){return"mention"},t.prototype.getMention=function(){return this.mention},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},t.prototype.getAnchorText=function(){return"@"+this.mention},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),n=this.getServiceName();return n&&t.push(n),t},t}(af),Uf=/[-. ]/,jf=/[-. ()]/,Vf=/[,;]/,Hf=new RegExp("^".concat(/(?:(?:(?:(\+)?\d{1,3}[-. ]?)?\(?\d{3}\)?[-. ]?\d{3}[-. ]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-. ]?(?:\d[-. ]?){6,12}\d+))([,;]+[0-9]+#?)*/.source,"|").concat(/(0([1-9]-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/.source,"$"));function qf(e){return Uf.test(e)}function zf(e){return Vf.test(e)}var Wf=function(e){function t(t){var n=e.call(this,t)||this;return n.type="phone",n.number="",n.plusSign=!1,n.number=t.number,n.plusSign=t.plusSign,n}return nf(t,e),t.prototype.getType=function(){return"phone"},t.prototype.getPhoneNumber=function(){return this.number},t.prototype.getNumber=function(){return this.getPhoneNumber()},t.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},t.prototype.getAnchorText=function(){return this.matchedText},t}(af);var Gf=/[\(\{\[]/,Kf=/[\)\}\]]/,Yf={")":"(","}":"{","]":"["};function Xf(e,t){return{type:"url",startIdx:e,state:t,acceptStateReached:!1,matchType:"scheme"}}function Qf(e,t){return{type:"url",startIdx:e,state:t,acceptStateReached:!1,matchType:"tld"}}function Zf(e,t){return{type:"phone",startIdx:e,state:t,acceptStateReached:!1}}var Jf=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.type=e.type||"tag",this.name=e.name||"",this.isOpening=!!e.isOpening,this.isClosing=!!e.isClosing},ep=function(){function e(t){var n,i;void 0===t&&(t={}),this.version=e.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.tagBuilder=null,this.urls=(null==(i=t.urls)&&(i=!0),Md(i)?{schemeMatches:i,tldMatches:i,ipV4Matches:i}:{schemeMatches:!Md(i.schemeMatches)||i.schemeMatches,tldMatches:!Md(i.tldMatches)||i.tldMatches,ipV4Matches:!Md(i.ipV4Matches)||i.ipV4Matches}),this.email=Md(t.email)?t.email:this.email,this.phone=Md(t.phone)?t.phone:this.phone,this.hashtag=t.hashtag||this.hashtag,this.mention=t.mention||this.mention,this.newWindow=Md(t.newWindow)?t.newWindow:this.newWindow,this.stripPrefix=(null==(n=t.stripPrefix)&&(n=!0),Md(n)?{scheme:n,www:n}:{scheme:!Md(n.scheme)||n.scheme,www:!Md(n.www)||n.www}),this.stripTrailingSlash=Md(t.stripTrailingSlash)?t.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding=Md(t.decodePercentEncoding)?t.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=t.sanitizeHtml||!1;var r=this.mention;if(!1!==r&&-1===Bf.indexOf(r))throw new Error("invalid `mention` cfg '".concat(r,"' - see docs"));var a,s=this.hashtag;if(!1!==s&&-1===Rf.indexOf(s))throw new Error("invalid `hashtag` cfg '".concat(s,"' - see docs"));this.truncate="number"==typeof(a=t.truncate)?{length:a,location:"end"}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n]);return e}(a||{},{length:Number.POSITIVE_INFINITY,location:"end"}),this.className=t.className||this.className,this.replaceFn=t.replaceFn||this.replaceFn,this.context=t.context||this}return e.link=function(t,n){return new e(n).link(t)},e.parse=function(t,n){return new e(n).parse(t)},e.prototype.parse=function(e){var t=this,n=["a","style","script"],i=0,r=[];return function(e,t){for(var n,i=t.onOpenTag,r=t.onCloseTag,a=t.onText,s=t.onComment,o=t.onDoctype,l=new Jf,c=0,u=e.length,h=0,d=0,f=l;c<u;){var p=e.charAt(c);switch(h){case 0:m(p);break;case 1:g(p);break;case 2:v(p);break;case 3:y(p);break;case 4:b(p);break;case 5:_(p);break;case 6:w(p);break;case 7:S(p);break;case 8:k(p);break;case 9:T(p);break;case 10:C(p);break;case 11:x(p);break;case 12:E(p);break;case 13:"--"===e.substr(c,2)?(c+=2,f=new Jf(rf(rf({},f),{type:"comment"})),h=14):"DOCTYPE"===e.substr(c,7).toUpperCase()?(c+=7,f=new Jf(rf(rf({},f),{type:"doctype"})),h=20):N();break;case 14:P(p);break;case 15:I(p);break;case 16:A(p);break;case 17:L(p);break;case 18:O(p);break;case 19:R(p);break;case 20:D(p);break;default:Vd(h)}c++}function m(e){"<"===e&&F()}function g(e){"!"===e?h=13:"/"===e?(h=2,f=new Jf(rf(rf({},f),{isClosing:!0}))):"<"===e?F():Hd.test(e)?(h=3,f=new Jf(rf(rf({},f),{isOpening:!0}))):(h=0,f=l)}function y(e){zd.test(e)?(f=new Jf(rf(rf({},f),{name:B()})),h=4):"<"===e?F():"/"===e?(f=new Jf(rf(rf({},f),{name:B()})),h=12):">"===e?(f=new Jf(rf(rf({},f),{name:B()})),$()):Hd.test(e)||qd.test(e)||":"===e||N()}function v(e){">"===e?N():Hd.test(e)?h=3:N()}function b(e){zd.test(e)||("/"===e?h=12:">"===e?$():"<"===e?F():"="===e||Wd.test(e)||Gd.test(e)?N():h=5)}function _(e){zd.test(e)?h=6:"/"===e?h=12:"="===e?h=7:">"===e?$():"<"===e?F():Wd.test(e)&&N()}function w(e){zd.test(e)||("/"===e?h=12:"="===e?h=7:">"===e?$():"<"===e?F():Wd.test(e)?N():h=5)}function S(e){zd.test(e)||('"'===e?h=8:"'"===e?h=9:/[>=`]/.test(e)?N():"<"===e?F():h=10)}function k(e){'"'===e&&(h=11)}function T(e){"'"===e&&(h=11)}function C(e){zd.test(e)?h=4:">"===e?$():"<"===e&&F()}function x(e){zd.test(e)?h=4:"/"===e?h=12:">"===e?$():"<"===e?F():(h=4,c--)}function E(e){">"===e?(f=new Jf(rf(rf({},f),{isClosing:!0})),$()):h=4}function P(e){"-"===e?h=15:">"===e?N():h=16}function I(e){"-"===e?h=18:">"===e?N():h=16}function A(e){"-"===e&&(h=17)}function L(e){h="-"===e?18:16}function O(e){">"===e?$():"!"===e?h=19:"-"===e||(h=16)}function R(e){"-"===e?h=17:">"===e?$():h=16}function D(e){">"===e?$():"<"===e&&F()}function N(){h=0,f=l}function F(){h=1,f=new Jf({idx:c})}function $(){var t=e.slice(d,f.idx);t&&a(t,d),"comment"===f.type?s(f.idx):"doctype"===f.type?o(f.idx):(f.isOpening&&i(f.name,f.idx),f.isClosing&&r(f.name,f.idx)),N(),d=c+1}function B(){var t=f.idx+(f.isClosing?2:1);return e.slice(t,c).toLowerCase()}d<c&&(n=e.slice(d,c),a(n,d),d=c+1)}(e,{onOpenTag:function(e){n.indexOf(e)>=0&&i++},onText:function(e,n){if(0===i){var a=e.split(/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),s=n;a.forEach((function(e,n){if(n%2==0){var i=t.parseText(e,s);r.push.apply(r,i)}s+=e.length}))}},onCloseTag:function(e){n.indexOf(e)>=0&&(i=Math.max(i-1,0))},onComment:function(e){},onDoctype:function(e){}}),r=this.compactMatches(r),r=this.removeUnwantedMatches(r)},e.prototype.compactMatches=function(e){e.sort((function(e,t){return e.getOffset()-t.getOffset()}));for(var t=0;t<e.length-1;){var n=e[t],i=n.getOffset(),r=n.getMatchedText().length,a=i+r;if(t+1<e.length){if(e[t+1].getOffset()===i){var s=e[t+1].getMatchedText().length>r?t:t+1;e.splice(s,1);continue}if(e[t+1].getOffset()<a){e.splice(t+1,1);continue}}t++}return e},e.prototype.removeUnwantedMatches=function(e){return this.hashtag||jd(e,(function(e){return"hashtag"===e.getType()})),this.email||jd(e,(function(e){return"email"===e.getType()})),this.phone||jd(e,(function(e){return"phone"===e.getType()})),this.mention||jd(e,(function(e){return"mention"===e.getType()})),this.urls.schemeMatches||jd(e,(function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()})),this.urls.tldMatches||jd(e,(function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()})),this.urls.ipV4Matches||jd(e,(function(e){return"url"===e.getType()&&"ipV4"===e.getUrlMatchType()})),e},e.prototype.parseText=function(e,t){void 0===t&&(t=0),t=t||0;for(var n=function(e,t){for(var n=t.tagBuilder,i=t.stripPrefix,r=t.stripTrailingSlash,a=t.decodePercentEncoding,s=t.hashtagServiceName,o=t.mentionServiceName,l=[],c=e.length,u=[],h=0;h<c;h++){var d=e.charAt(h);if(0===u.length)g(d);else for(var f=u.length-1;f>=0;f--){var p=u[f];switch(p.state){case 11:S(p,d);break;case 12:k(p,d);break;case 0:y(p,d);break;case 1:v(p,d);break;case 2:b(p,d);break;case 3:_(p,d);break;case 4:w(p,d);break;case 5:T(p,d);break;case 6:C(p,d);break;case 7:x(p,d);break;case 13:E(p,d);break;case 14:P(p,d);break;case 8:I(p,d);break;case 9:A(p,d);break;case 10:L(p,d);break;case 15:O(p,d);break;case 16:R(p,d);break;case 17:D(p,d);break;case 18:N(p,d);break;case 19:F(p,d);break;case 20:$(p,d);break;case 21:B(p,d);break;case 22:M(p,d);break;case 23:U(p,d);break;case 24:j(p,d);break;case 25:V(p,d);break;case 26:H(p,d);break;case 27:q(p,d);break;case 28:z(p,d);break;case 29:W(p,d);break;case 30:G(p,d);break;case 31:K(p,d);break;case 32:X(p,d);break;case 33:Q(p,d);break;case 34:Z(p,d);break;case 35:J(p,d);break;case 36:ee(p,d);break;case 37:Y(p,d);break;case 38:te(p,d);break;case 39:ne(p,d);break;case 40:ie(p,d);break;case 41:re(p,d);break;default:Vd(p.state)}}}for(var m=u.length-1;m>=0;m--)u.forEach((function(e){return ae(e)}));return l;function g(e){if("#"===e)u.push({type:"hashtag",startIdx:h,state:28,acceptStateReached:!1});else if("@"===e)u.push({type:"mention",startIdx:h,state:30,acceptStateReached:!1});else if("/"===e)u.push(Qf(h,11));else if("+"===e)u.push(Zf(h,37));else if("("===e)u.push(Zf(h,32));else{if(qd.test(e)&&(u.push(Zf(h,38)),u.push(function(e,t){return{type:"url",startIdx:e,state:13,acceptStateReached:!1,matchType:"ipV4",octetsEncountered:1}}(h))),function(e){return Zd.test(e)}(e)){var t="m"===e.toLowerCase()?15:22;u.push(function(e,t){return{type:"email",startIdx:e,state:t,acceptStateReached:!1}}(h,t))}gf(e)&&u.push(Xf(h,0)),Zd.test(e)&&u.push(Qf(h,5))}}function y(e,t){":"===t?e.state=2:"-"===t?e.state=1:yf(t)||Ud(u,e)}function v(e,t){"-"===t||("/"===t?(Ud(u,e),u.push(Qf(h,11))):yf(t)?e.state=0:Ud(u,e))}function b(e,t){"/"===t?e.state=3:"."===t?Ud(u,e):vf(t)?(e.state=5,gf(t)&&u.push(Xf(h,0))):Ud(u,e)}function _(e,t){"/"===t?e.state=4:_f(t)?(e.state=10,e.acceptStateReached=!0):ae(e)}function w(e,t){"/"===t?e.state=10:vf(t)?(e.state=5,e.acceptStateReached=!0):Ud(u,e)}function S(e,t){"/"===t?e.state=12:Ud(u,e)}function k(e,t){vf(t)?e.state=5:Ud(u,e)}function T(e,t){"."===t?e.state=7:"-"===t?e.state=6:":"===t?e.state=8:wf(t)?e.state=10:bf(t)||ae(e)}function C(e,t){"-"===t||("."===t?ae(e):vf(t)?e.state=5:ae(e))}function x(e,t){"."===t?ae(e):vf(t)?(e.state=5,e.acceptStateReached=!0):ae(e)}function E(e,t){"."===t?e.state=14:":"===t?e.state=8:qd.test(t)||(wf(t)?e.state=10:Zd.test(t)?Ud(u,e):ae(e))}function P(e,t){qd.test(t)?(e.octetsEncountered++,4===e.octetsEncountered&&(e.acceptStateReached=!0),e.state=13):ae(e)}function I(e,t){qd.test(t)?e.state=9:ae(e)}function A(e,t){qd.test(t)||(wf(t)?e.state=10:ae(e))}function L(e,t){_f(t)||ae(e)}function O(e,t){"a"===t.toLowerCase()?e.state=16:M(e,t)}function R(e,t){"i"===t.toLowerCase()?e.state=17:M(e,t)}function D(e,t){"l"===t.toLowerCase()?e.state=18:M(e,t)}function N(e,t){"t"===t.toLowerCase()?e.state=19:M(e,t)}function F(e,t){"o"===t.toLowerCase()?e.state=20:M(e,t)}function $(e,t){":"===t.toLowerCase()?e.state=21:M(e,t)}function B(e,t){Af(t)?e.state=22:Ud(u,e)}function M(e,t){"."===t?e.state=23:"@"===t?e.state=24:Af(t)?e.state=22:Ud(u,e)}function U(e,t){"."===t||"@"===t?Ud(u,e):Af(t)?e.state=22:Ud(u,e)}function j(e,t){vf(t)?e.state=25:Ud(u,e)}function V(e,t){"."===t?e.state=27:"-"===t?e.state=26:bf(t)||ae(e)}function H(e,t){"-"===t||"."===t?ae(e):bf(t)?e.state=25:ae(e)}function q(e,t){"."===t||"-"===t?ae(e):vf(t)?(e.state=25,e.acceptStateReached=!0):ae(e)}function z(e,t){Of(t)?(e.state=29,e.acceptStateReached=!0):Ud(u,e)}function W(e,t){Of(t)||ae(e)}function G(e,t){$f(t)?(e.state=31,e.acceptStateReached=!0):Ud(u,e)}function K(e,t){$f(t)||(Zd.test(t)?Ud(u,e):ae(e))}function Y(e,t){qd.test(t)?e.state=38:(Ud(u,e),g(t))}function X(e,t){qd.test(t)?e.state=33:Ud(u,e),g(t)}function Q(e,t){qd.test(t)?e.state=34:Ud(u,e)}function Z(e,t){qd.test(t)?e.state=35:Ud(u,e)}function J(e,t){")"===t?e.state=36:Ud(u,e)}function ee(e,t){qd.test(t)?e.state=38:qf(t)?e.state=39:Ud(u,e)}function te(e,t){e.acceptStateReached=!0,zf(t)?e.state=40:"#"===t?e.state=41:qd.test(t)||("("===t?e.state=32:qf(t)?e.state=39:(ae(e),gf(t)&&u.push(Xf(h,0))))}function ne(e,t){qd.test(t)?e.state=38:"("===t?e.state=32:(ae(e),g(t))}function ie(e,t){zf(t)||("#"===t?e.state=41:qd.test(t)?e.state=38:ae(e))}function re(e,t){zf(t)?e.state=40:qd.test(t)?Ud(u,e):ae(e)}function ae(t){if(Ud(u,t),t.acceptStateReached){var c,d,f,p=t.startIdx,m=e.slice(t.startIdx,h);if(m=function(e){for(var t={"(":0,"{":0,"[":0},n=0;n<e.length;n++){var i=e.charAt(n);Gf.test(i)?t[i]++:Kf.test(i)&&t[Yf[i]]--}for(var r,a=e.length-1;a>=0;)if(r=e.charAt(a),Kf.test(r)){var s=Yf[r];if(!(t[s]<0))break;t[s]++,a--}else{if(!df.test(r))break;a--}return e.slice(0,a+1)}(m),"url"===t.type){if("@"===e.charAt(t.startIdx-1))return;var g=t.matchType;if("scheme"===g){var y=uf.exec(m);if(y&&(p+=y.index,m=m.slice(y.index)),!function(e){if(ff.test(e))return!1;var t=e.match(pf);if(!t)return!1;var n=!!t[1],i=t[2];return!!n||!(-1===i.indexOf(".")||!Hd.test(i))}(m))return}else if("tld"===g){if(!function(e){var t=e.match(mf);if(!t)return!1;var n=t[0].split(".");return!(n.length<2||!Sf(n[n.length-1]))}(m))return}else if("ipV4"===g){if(f=m.split(Tf,1)[0],!kf.test(f))return}else Vd(g);l.push(new Ef({tagBuilder:n,matchedText:m,offset:p,urlMatchType:g,url:m,protocolRelativeMatch:"//"===m.slice(0,2),stripPrefix:i,stripTrailingSlash:r,decodePercentEncoding:a}))}else if("email"===t.type)Sf(m.split(".").pop()||"")&&l.push(new Lf({tagBuilder:n,matchedText:m,offset:p,email:m.replace(Pf,"")}));else if("hashtag"===t.type)m.length<=140&&l.push(new Df({tagBuilder:n,matchedText:m,offset:p,serviceName:s,hashtag:m.slice(1)}));else if("mention"===t.type)d=m,Nf[o].test(d)&&l.push(new Mf({tagBuilder:n,matchedText:m,offset:p,serviceName:o,mention:m.slice(1)}));else if("phone"===t.type){if(("+"===(c=m=m.replace(/ +$/g,"")).charAt(0)||jf.test(c))&&Hf.test(c)){var v=m.replace(/[^0-9,;#]/g,"");l.push(new Wf({tagBuilder:n,matchedText:m,offset:p,number:v,plusSign:"+"===m.charAt(0)}))}}else Vd(t)}}}(e,{tagBuilder:this.getTagBuilder(),stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding,hashtagServiceName:this.hashtag,mentionServiceName:this.mention||"twitter"}),i=0,r=n.length;i<r;i++)n[i].setOffset(t+n[i].getOffset());return n},e.prototype.link=function(e){if(!e)return"";this.sanitizeHtml&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var t=this.parse(e),n=[],i=0,r=0,a=t.length;r<a;r++){var s=t[r];n.push(e.substring(i,s.getOffset())),n.push(this.createMatchReturnVal(s)),i=s.getOffset()+s.getMatchedText().length}return n.push(e.substring(i)),n.join("")},e.prototype.createMatchReturnVal=function(e){var t;return this.replaceFn&&(t=this.replaceFn.call(this.context,e)),"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof Jd?t.toAnchorString():e.buildTag().toAnchorString()},e.prototype.getTagBuilder=function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new ef({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e},e.version="4.0.0",e}();const tp=ep;function np(){return Bd.getters.getCurrentInvidiousInstance}function ip({resource:e,id:t="",params:n={}}){return new Promise(((i,r)=>{const a=np()+"/api/v1/"+e+"/"+t+"?"+new URLSearchParams(n).toString();fetch(a).then((e=>e.json())).then((e=>{if(void 0!==e.error)throw new Error(e.error);i(e)})).catch((e=>{console.error("Invidious API error",a,e),r(e)}))}))}async function rp(e){return await ip({resource:"channels",id:e})}async function ap(e){return await ip({resource:"playlists",id:e})}function sp(e,t=null){return null===t&&(t=np()),e.startsWith("//")&&(e="https:"+e),e.replace("https://yt3.ggpht.com",`${t}/ggpht`)}function op(e){return e.comments.map((e=>(e.showReplies=!1,e.authorLink=e.authorId,e.authorThumb=sp(e.authorThumbnails[1].url),e.likes=e.likeCount,e.text=tp.link(Wg(e.content)),e.dataType="invidious",e.isOwner=e.authorIsChannelOwner,e.numReplies=e.replies?.replyCount??0,e.replyToken=e.replies?.continuation??"",e.isHearted=void 0!==e.creatorHeart,e.replies=[],e.time=Fg({publishText:e.publishedText}),e)))}const lp=_l({name:"FtListChannel",props:{data:{type:Object,required:!0},appearance:{type:String,required:!0}},data:function(){return{id:"",thumbnail:"",channelName:"",subscriberCount:0,videoCount:"",handle:null,uploadedTime:"",description:""}},computed:{currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},listType:function(){return this.$store.getters.getListType},hideChannelSubscriptions:function(){return this.$store.getters.getHideChannelSubscriptions}},mounted:function(){"local"===this.data.dataSource||void 0!==this.data.avatars?this.parseLocalData():this.parseInvidiousData()},methods:{parseLocalData:function(){this.thumbnail=this.data.thumbnail??this.data.bestAvatar.url,this.thumbnail.includes("https:")||(this.thumbnail=`https:${this.thumbnail}`),this.channelName=this.data.name,this.id=this.data.channelID,this.hideChannelSubscriptions||null===this.data.subscribers?this.subscriberCount=null:this.subscriberCount=this.data.subscribers.replace(/ subscriber(s)?/,""),null===this.data.videos?this.videoCount=0:this.videoCount=Jg(this.data.videos),this.data.handle&&(this.handle=this.data.handle),this.description=this.data.descriptionShort},parseInvidiousData:function(){const e=this.data.authorThumbnails[2].url;this.thumbnail=sp(e,this.currentInvidiousInstance),this.channelName=this.data.author,this.id=this.data.authorId,this.hideChannelSubscriptions?this.subscriberCount=null:this.subscriberCount=Jg(this.data.subCount),this.videoCount=Jg(this.data.videoCount),this.description=this.data.description}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"ft-list-channel ft-list-item",class:{list:"list"===e.listType,grid:"grid"===e.listType,[e.appearance]:!0}},[t("div",{staticClass:"channelThumbnail"},[t("router-link",{attrs:{to:`/channel/${e.id}`}},[t("img",{staticClass:"channelImage",attrs:{src:e.thumbnail}})])],1),e._v(" "),t("div",{staticClass:"info"},[t("router-link",{staticClass:"title",attrs:{to:`/channel/${e.id}`}},[e._v("\n      "+e._s(e.channelName)+"\n    ")]),e._v(" "),t("div",{staticClass:"infoLine"},[null!==e.subscriberCount?t("span",{staticClass:"subscriberCount"},[e._v("\n        "+e._s(e.subscriberCount)+" subscribers -\n      ")]):e._e(),e._v(" "),null!==e.handle?t("router-link",{staticClass:"handle",attrs:{to:`/channel/${e.id}`}},[e._v("\n        "+e._s(e.handle)+"\n      ")]):t("span",{staticClass:"videoCount"},[e._v("\n        "+e._s(e.videoCount)+" videos\n      ")])],1),e._v(" "),"grid"!==e.listType?t("p",{staticClass:"description"},[e._v("\n      "+e._s(e.description)+"\n    ")]):e._e()],1)])}),[],!1,null,"620e298f",null).exports;var cp=_l({name:"FtListPlaylist",components:{"ft-icon-button":Rl},props:{data:{type:Object,required:!0},appearance:{type:String,required:!0}},data:function(){return{playlistLink:"",channelLink:"",title:"Pop Music Playlist - Timeless Pop Songs (Updated Weekly 2020)",thumbnail:"https://i.ytimg.com/vi/JGwWNGJdvx8/mqdefault.jpg",channelName:"#RedMusic: Just Hits",videoCount:200,description:""}},computed:{currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},listType:function(){return this.$store.getters.getListType},playlistId:function(){return this.playlistLink.replace("https://www.youtube.com/playlist?list=","")},channelId:function(){let e=this.channelLink.replace("https://www.youtube.com/user/","");return e=e.replace("https://www.youtube.com/channel/",""),e},externalPlayer:function(){return this.$store.getters.getExternalPlayer},defaultPlayback:function(){return this.$store.getters.getDefaultPlayback}},mounted:function(){"local"===this.data.dataSource?this.parseLocalDataNew():"object"==typeof this.data.owner?this.parseLocalData():this.parseInvidiousData()},methods:{handleExternalPlayer:function(){this.openInExternalPlayer({watchProgress:0,playbackRate:this.defaultPlayback,videoId:null,playlistId:this.playlistId,playlistIndex:null,playlistReverse:null,playlistShuffle:null,playlistLoop:null})},parseInvidiousData:function(){this.title=this.data.title,this.thumbnail=this.data.playlistThumbnail.replace("https://i.ytimg.com",this.currentInvidiousInstance).replace("hqdefault","mqdefault"),this.channelName=this.data.author,this.channelLink=this.data.authorUrl,this.playlistLink=this.data.playlistId,this.videoCount=this.data.videoCount,!1===this.data.proxyThumbnail&&(this.thumbnail=this.data.playlistThumbnail)},parseLocalData:function(){this.title=this.data.title,this.thumbnail=this.data.firstVideo.bestThumbnail.url,this.channelName=this.data.owner.name,this.channelLink=this.data.owner.url,this.playlistLink=this.data.url,this.videoCount=this.data.length},parseLocalDataNew:function(){this.title=this.data.title,this.thumbnail=this.data.thumbnail,this.channelName=this.data.channelName,this.channelLink=this.data.channelId,this.playlistLink=this.data.playlistId,this.videoCount=this.data.videoCount},...el(["openInExternalPlayer"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"ft-list-video ft-list-item",class:{list:"list"===e.listType,grid:"grid"===e.listType},attrs:{appearance:e.appearance}},[t("router-link",{staticClass:"videoThumbnail",attrs:{to:`/playlist/${e.playlistId}`}},[t("img",{staticClass:"thumbnailImage",attrs:{src:e.thumbnail}}),e._v(" "),t("div",{staticClass:"videoCountContainer"},[t("div",{staticClass:"background"}),e._v(" "),t("div",{staticClass:"inner"},[t("div",[e._v(e._s(e.videoCount))]),e._v(" "),t("div",[t("font-awesome-icon",{attrs:{icon:["fas","list"]}})],1)])])]),e._v(" "),t("div",{staticClass:"info"},[""!==e.externalPlayer?t("ft-icon-button",{staticClass:"externalPlayerButton",attrs:{title:e.$t("Video.External Player.OpenInTemplate",{externalPlayer:e.externalPlayer}),icon:["fas","external-link-alt"],theme:"base-no-default",size:16,"use-shadow":!1},on:{click:e.handleExternalPlayer}}):e._e(),e._v(" "),t("router-link",{staticClass:"title",attrs:{to:`/playlist/${e.playlistId}`}},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),t("div",{staticClass:"infoLine"},[t("router-link",{staticClass:"channelName",attrs:{to:`/channel/${e.channelId}`}},[e._v("\n        "+e._s(e.channelName)+"\n      ")])],1)],1)],1)}),[],!1,null,"60360904",null),up=_l({name:"FtListLazyWrapper",components:{"ft-list-video":Nh,"ft-list-channel":lp,"ft-list-playlist":cp.exports},props:{data:{type:Object,required:!0},appearance:{type:String,required:!0},firstScreen:{type:Boolean,required:!0},layout:{type:String,default:"grid"}},data:function(){return{visible:this.firstScreen}},computed:{hideLiveStreams:function(){return this.$store.getters.getHideLiveStreams},channelsHidden:function(){return JSON.parse(this.$store.getters.getChannelsHidden)},hideUpcomingPremieres:function(){return this.$store.getters.getHideUpcomingPremieres}},methods:{onVisibilityChanged:function(e){this.visible=e},showResult:function(){const{data:e}=this;if(!e.type)return!1;if("video"===e.type){if(this.hideLiveStreams&&(e.liveNow||null==e.lengthSeconds))return!1;if(this.hideUpcomingPremieres&&("PREMIERE"===e.durationText||e.isRSS&&"0"===e.viewCount))return!1;if(this.channelsHidden.includes(e.authorId)||this.channelsHidden.includes(e.author))return!1}else if("channel"===e.type){if(this.channelsHidden.includes(e.channelID)||this.channelsHidden.includes(e.name))return!1}else if("playlist"===e.type&&(this.channelsHidden.includes(e.authorId)||this.channelsHidden.includes(e.author)))return!1;return!0}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,e.showResult?t("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:!e.firstScreen&&{callback:e.onVisibilityChanged,once:!0},expression:"firstScreen ? false : {\n    callback: onVisibilityChanged,\n    once: true,\n  }"}],class:{grid:"grid"===e.layout,list:"list"===e.layout}},["channel"===e.data.type&&e.visible?t("ft-list-channel",{attrs:{appearance:e.appearance,data:e.data}}):e._e(),e._v(" "),"video"!==e.data.type&&"shortVideo"!==e.data.type||!e.visible?e._e():t("ft-list-video",{attrs:{appearance:e.appearance,data:e.data}}),e._v(" "),"playlist"===e.data.type&&e.visible?t("ft-list-playlist",{attrs:{appearance:e.appearance,data:e.data}}):e._e()],1):e._e()}),[],!1,null,"9f910c46",null),hp=_l({name:"FtElementList",components:{"ft-auto-grid":Rh,"ft-list-lazy-wrapper":up.exports},props:{data:{type:Array,required:!0}},computed:{listType:function(){return this.$store.getters.getListType}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-auto-grid",{attrs:{grid:"list"!==e.listType}},e._l(e.data,(function(n,i){return t("ft-list-lazy-wrapper",{key:i,attrs:{appearance:"result",data:n,"first-screen":i<16,layout:e.listType}})})),1)}),[],!1,null,"cfdacd04",null);const dp=hp.exports,fp=_l({name:"FtChannelBubble",props:{channelName:{type:String,required:!0},channelThumbnail:{type:String,required:!0},showSelected:{type:Boolean,default:!1}},data:function(){return{selected:!1}},computed:{sanitizedId:function(){return"channelBubble"+Al(this.channelName)}},methods:{handleClick:function(e){if(e instanceof KeyboardEvent){if("link"===e.target.getAttribute("role")&&"Enter"!==e.key)return;e.preventDefault()}this.showSelected&&(this.selected=!this.selected),this.$emit("click")}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"bubblePadding",attrs:{tabindex:"0","aria-labelledby":e.sanitizedId},on:{click:e.handleClick,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.handleClick(t))}}},[t("img",{staticClass:"bubble",attrs:{src:e.channelThumbnail,alt:""}}),e._v(" "),e.selected?t("div",{staticClass:"bubble selected"},[t("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","check"]}})],1):e._e(),e._v(" "),t("div",{staticClass:"channelName",attrs:{id:e.sanitizedId}},[e._v("\n    "+e._s(e.channelName)+"\n  ")])])}),[],!1,null,"9b1271e2",null).exports;var pp=n(7721),mp=n.n(pp);var gp=_l({name:"Subscriptions",components:{"ft-loader":Lh,"ft-card":Il,"ft-button":Oh,"ft-icon-button":Rl,"ft-flex-box":wl,"ft-element-list":dp,"ft-channel-bubble":fp},data:function(){return{isLoading:!1,dataLimit:100,videoList:[],errorChannels:[],attemptedFetch:!1}},computed:{backendPreference:function(){return this.$store.getters.getBackendPreference},backendFallback:function(){return this.$store.getters.getBackendFallback},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},hideWatchedSubs:function(){return this.$store.getters.getHideWatchedSubs},useRssFeeds:function(){return this.$store.getters.getUseRssFeeds},profileList:function(){return this.$store.getters.getProfileList},activeVideoList:function(){return this.videoList.length<this.dataLimit?this.videoList:this.videoList.slice(0,this.dataLimit)},activeProfile:function(){return this.$store.getters.getActiveProfile},profileSubscriptions:function(){return this.$store.getters.getProfileSubscriptions},allSubscriptionsList:function(){return this.$store.getters.getAllSubscriptionsList},historyCache:function(){return this.$store.getters.getHistoryCache},activeSubscriptionList:function(){return this.activeProfile.subscriptions},hideLiveStreams:function(){return this.$store.getters.getHideLiveStreams},hideUpcomingPremieres:function(){return this.$store.getters.getHideUpcomingPremieres},fetchSubscriptionsAutomatically:function(){return this.$store.getters.getFetchSubscriptionsAutomatically}},watch:{activeProfile:async function(e){this.getProfileSubscriptions()}},mounted:async function(){document.addEventListener("keydown",this.keyboardShortcutHandler),this.isLoading=!0;const e=sessionStorage.getItem("subscriptionLimit");if(null!==e&&(this.dataLimit=e),0!==this.profileSubscriptions.videoList.length){if(this.profileSubscriptions.activeProfile===this.activeProfile._id){const e=JSON.parse(JSON.stringify(this.profileSubscriptions));this.hideWatchedSubs?this.videoList=await Promise.all(e.videoList.filter((e=>-1===this.historyCache.findIndex((t=>t.videoId===e.videoId))))):(this.videoList=e.videoList,this.errorChannels=e.errorChannels)}else this.getProfileSubscriptions();this.isLoading=!1}else this.fetchSubscriptionsAutomatically?setTimeout((async()=>{this.getSubscriptions()}),300):this.isLoading=!1},beforeDestroy:function(){document.removeEventListener("keydown",this.keyboardShortcutHandler)},methods:{goToChannel:function(e){this.$router.push({path:`/channel/${e}`})},getSubscriptions:function(){if(0===this.activeSubscriptionList.length)return this.isLoading=!1,void(this.videoList=[]);let e=this.useRssFeeds;this.activeSubscriptionList.length>=125&&!e&&($g(this.$t('Subscriptions["This profile has a large number of subscriptions.  Forcing RSS to avoid rate limiting"]'),1e4),e=!0),this.isLoading=!0,this.updateShowProgressBar(!0),this.setProgressBarPercentage(0),this.attemptedFetch=!0;let t=[],n=0;this.errorChannels=[],this.activeSubscriptionList.forEach((async i=>{let r=[];r=e?await this.getChannelVideosInvidiousRSS(i):await this.getChannelVideosInvidiousScraper(i),t=t.concat(r),n++;const a=n/this.activeSubscriptionList.length*100;if(this.setProgressBarPercentage(a),n===this.activeSubscriptionList.length){t=await Promise.all(t.sort(((e,t)=>t.publishedDate-e.publishedDate))),this.hideLiveStreams&&(t=t.filter((e=>!e.liveNow&&!e.isUpcoming))),this.hideUpcomingPremieres&&(t=t.filter((e=>e.isRSS?"0"!==e.viewCount:"PREMIERE"!==e.durationText)));const e={activeProfile:this.activeProfile._id,videoList:t,errorChannels:this.errorChannels};this.videoList=await Promise.all(t.filter((e=>!this.hideWatchedSubs||-1===this.historyCache.findIndex((t=>t.videoId===e.videoId))))),this.updateProfileSubscriptions(e),this.isLoading=!1,this.updateShowProgressBar(!1),this.activeProfile===Vl&&this.updateAllSubscriptionsList(e.videoList)}}))},getProfileSubscriptions:async function(){0!==this.allSubscriptionsList.length?(this.isLoading=!0,this.videoList=await Promise.all(this.allSubscriptionsList.filter((e=>{const t=this.activeSubscriptionList.findIndex((t=>t.id===e.authorId)),n=this.historyCache.findIndex((t=>t.videoId===e.videoId));return this.hideWatchedSubs?-1!==t&&-1===n:-1!==t}))),this.isLoading=!1):this.fetchSubscriptionsAutomatically?this.getSubscriptions():this.activeProfile._id===this.profileSubscriptions.activeProfile?this.videoList=this.profileSubscriptions.videoList:(this.videoList=[],this.attemptedFetch=!1)},getChannelVideosLocalScraper:function(e,t=0){return new Promise(((n,i)=>{mp().getChannelVideos({channelId:e.id,sortBy:"latest"}).then((t=>{if(t.alertMessage)return this.errorChannels.push(e),void n([]);const i=t.items.map((e=>(e.liveNow?e.publishedDate=(new Date).getTime():e.publishedDate=function(e){const t=new Date;if("Live"===e)return e;const n=e.split(" ");"streamed"===n[0].toLowerCase()&&n.shift();const i=n[1],r=parseInt(n[0]);let a=null;return i.indexOf("second")>-1?a=1e3*r:i.indexOf("minute")>-1?a=6e4*r:i.indexOf("hour")>-1?a=36e5*r:i.indexOf("day")>-1?a=864e5*r:i.indexOf("week")>-1?a=6048e5*r:i.indexOf("month")>-1?a=2592e6*r:i.indexOf("year")>-1&&(a=31556952e3*r),t.getTime()-a}(e.publishedText),e)));n(i)})).catch((i=>{switch(console.error(i),$g(`${this.$t("Local API Error (Click to copy)")}: ${i}`,1e4,(()=>{Bg(i)})),t){case 0:case 2:n(this.getChannelVideosLocalRSS(e,t+1));break;case 1:this.backendFallback?($g(this.$t("Falling back to Invidious API")),n(this.getChannelVideosInvidiousScraper(e,t+1))):n([]);break;default:n([])}}))}))},getChannelVideosLocalRSS:async function(e,t=0){const n=`https://www.youtube.com/feeds/videos.xml?channel_id=${e.id}`;try{const t=await fetch(n);return 404===t.status?(this.errorChannels.push(e),[]):await this.parseYouTubeRSSFeed(await t.text(),e.id)}catch(n){switch(console.error(n),$g(`${this.$t("Local API Error (Click to copy)")}: ${n}`,1e4,(()=>{Bg(n)})),t){case 0:case 2:return this.getChannelVideosLocalScraper(e,t+1);case 1:return this.backendFallback?($g(this.$t("Falling back to Invidious API")),this.getChannelVideosInvidiousRSS(e,t+1)):[];default:return[]}}},getChannelVideosInvidiousScraper:function(e,t=0){return new Promise(((n,i)=>{ip({resource:"channels/latest",id:e.id,params:{}}).then((async e=>{let t=e;"videos"in e&&(t=e.videos),n(await Promise.all(t.map((e=>(e.publishedDate=new Date(1e3*e.published),e)))))})).catch((i=>{switch(console.error(i),$g(`${this.$t("Invidious API Error (Click to copy)")}: ${i.responseText}`,1e4,(()=>{Bg(i.responseText)})),t){case 0:case 2:n(this.getChannelVideosInvidiousRSS(e,t+1));break;default:n([])}}))}))},getChannelVideosInvidiousRSS:async function(e,t=0){const n=`${this.currentInvidiousInstance}/feed/channel/${e.id}`;try{const t=await fetch(n);return 500===t.status?(this.errorChannels.push(e),[]):await this.parseYouTubeRSSFeed(await t.text(),e.id)}catch(n){switch(console.error(n),$g(`${this.$t("Invidious API Error (Click to copy)")}: ${n}`,1e4,(()=>{Bg(n)})),t){case 0:case 2:return this.getChannelVideosInvidiousScraper(e,t+1);default:return[]}}},async parseYouTubeRSSFeed(e,t){const n=(new DOMParser).parseFromString(e,"application/xml"),i=n.querySelector("author > name").textContent,r=n.querySelectorAll("entry"),a=[];for(const e of r)a.push(this.parseRSSEntry(e,t,i));return await Promise.all(a)},async parseRSSEntry(e,t,n){const i=new Date(e.querySelector("published").textContent);return{authorId:t,author:n,videoId:e.getElementsByTagName("yt:videoId")[0].textContent,title:e.querySelector("title").textContent,publishedDate:i,publishedText:i.toLocaleString(),viewCount:e.getElementsByTagName("media:statistics")[0]?.getAttribute("views")||null,type:"video",lengthSeconds:"0:00",isRSS:!0}},increaseLimit:function(){this.dataLimit+=100,sessionStorage.setItem("subscriptionLimit",this.dataLimit)},keyboardShortcutHandler:function(e){if(!e.ctrlKey&&!document.activeElement.classList.contains("ft-input"))switch(e.key){case"r":case"R":this.isLoading||this.getSubscriptions()}},...el(["updateShowProgressBar","updateProfileSubscriptions","updateAllSubscriptionsList"]),...Zo(["setProgressBarPercentage"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[e.isLoading?t("ft-loader",{attrs:{fullscreen:!0}}):t("ft-card",{staticClass:"card"},[0!==e.errorChannels.length?t("div",[t("h3",[e._v(" "+e._s(e.$t("Subscriptions.Error Channels")))]),e._v(" "),t("div",e._l(e.errorChannels,(function(n,i){return t("ft-channel-bubble",{key:i,staticClass:"channelBubble",attrs:{"channel-name":n.name,"channel-id":n.id,"channel-thumbnail":n.thumbnail},on:{click:function(t){return e.goToChannel(n.id)}}})})),1)]):e._e(),e._v(" "),t("h3",[e._v(e._s(e.$t("Subscriptions.Subscriptions")))]),e._v(" "),0===e.activeVideoList.length?t("ft-flex-box",[0===e.activeSubscriptionList.length?t("p",{staticClass:"message"},[e._v("\n        "+e._s(e.$t("Subscriptions['Your Subscription list is currently empty. Start adding subscriptions to see them here.']"))+"\n      ")]):e.fetchSubscriptionsAutomatically||e.attemptedFetch?t("p",{staticClass:"message"},[e._v("\n        "+e._s(e.$t("Subscriptions.Empty Channels"))+"\n      ")]):t("p",{staticClass:"message"},[e._v("\n        "+e._s(e.$t("Subscriptions.Disabled Automatic Fetching"))+"\n      ")])]):t("ft-element-list",{attrs:{data:e.activeVideoList}}),e._v(" "),t("ft-flex-box",[e.videoList.length>e.dataLimit?t("ft-button",{attrs:{label:e.$t("Subscriptions.Load More Videos"),"background-color":"var(--primary-color)","text-color":"var(--text-with-main-color)"},on:{click:e.increaseLimit}}):e._e()],1)],1),e._v(" "),e.isLoading?e._e():t("ft-icon-button",{staticClass:"floatingTopButton",attrs:{icon:["fas","sync"],title:e.$t("Subscriptions.Refresh Subscriptions"),size:12,theme:"primary"},on:{click:e.getSubscriptions}})],1)}),[],!1,null,"006e7c7e",null);const yp=gp.exports,vp={name:"FtPrompt",components:{"ft-card":Il,"ft-flex-box":wl,"ft-button":Oh},props:{label:{type:String,default:""},extraLabels:{type:Array,default:()=>[]},optionNames:{type:Array,default:()=>[]},optionValues:{type:Array,default:()=>[]},showClose:{type:Boolean,default:!1}},data:function(){return{promptButtons:[]}},computed:{sanitizedLabel:function(){return Al(this.label)}},beforeDestroy:function(){document.removeEventListener("keydown",this.closeEventFunction,!0)},mounted:function(){document.addEventListener("keydown",this.closeEventFunction,!0),document.querySelector(".prompt").addEventListener("keydown",this.arrowKeys,!0),this.promptButtons=Array.from(document.querySelector(".prompt .promptCard .ft-flex-box").childNodes).filter((e=>e.id&&e.id.startsWith("prompt"))),this.focusItem(0)},methods:{hide:function(){this.$emit("click",null)},handleHide:function(e){"button"!==e.target.getAttribute("role")&&"prompt"!==e.target.className||this.hide()},focusItem:function(e){let t=e;t<0?t=this.promptButtons.length:t>=this.promptButtons.length&&(t=0),t>=0&&t<this.promptButtons.length&&this.promptButtons[t].focus({focusVisible:!0})},closeEventFunction:function(e){"keydown"===e.type&&"Escape"===e.key&&(e.preventDefault(),this.hide())},arrowKeys:function(e){if("ArrowLeft"===e.key||"ArrowRight"===e.key){e.preventDefault();const t=this.promptButtons.findIndex((t=>t===e.target)),n="ArrowLeft"===e.key?-1:1;this.focusItem(parseInt(t)+n)}}}};var bp=_l(vp,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"prompt",attrs:{tabindex:"-1"},on:{click:e.handleHide,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleHide.apply(null,arguments)}}},[t("ft-card",{staticClass:"promptCard",attrs:{"aria-labelledby":"dialog-"+e.sanitizedLabel}},[e._t("default",(function(){return[t("h2",{staticClass:"center",attrs:{id:"dialog-"+e.sanitizedLabel}},[e._v("\n        "+e._s(e.label)+"\n      ")]),e._v(" "),e._l(e.extraLabels,(function(n){return t("p",{key:n,staticClass:"center"},[t("strong",[e._v("\n          "+e._s(n)+"\n        ")])])})),e._v(" "),t("ft-flex-box",[e._l(e.optionNames,(function(n,i){return t("ft-button",{key:i,attrs:{id:"prompt-"+e.sanitizedLabel+"-"+i,label:n},on:{click:function(t){return e.$emit("click",e.optionValues[i])}}})})),e._v(" "),e.showClose?t("ft-button",{attrs:{id:"prompt-"+e.sanitizedLabel+"-close",label:e.$t("Close"),tabindex:"0","text-color":"'var(--accent-color)'","background-color":"'var(--text-with-accent-color)'"},on:{click:e.hide}}):e._e()],2)]}))],2)],1)}),[],!1,null,"18254b9e",null);const _p=bp.exports,wp={name:"SubscribedChannels",components:{"ft-button":Oh,"ft-card":Il,"ft-flex-box":wl,"ft-input":xl,"ft-prompt":_p},data:function(){return{query:"",subscribedChannels:[],filteredChannels:[],re:{url:/(.+=\w)\d+(.+)/,ivToYt:/^.+ggpht\/(.+)/},thumbnailSize:176,ytBaseURL:"https://yt3.ggpht.com",showUnsubscribePrompt:!1,unsubscribePromptValues:["yes","no"],channelToUnsubscribe:null,errorCount:0}},computed:{activeProfile:function(){return this.$store.getters.getActiveProfile},activeProfileId:function(){return this.activeProfile._id},activeSubscriptionList:function(){return this.activeProfile.subscriptions},channelList:function(){return""!==this.query?this.filteredChannels:this.subscribedChannels},hideUnsubscribeButton:function(){return this.$store.getters.getHideUnsubscribeButton},locale:function(){return this.$i18n.locale.replace("_","-")},backendPreference:function(){return this.$store.getters.getBackendPreference},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},unsubscribePromptNames:function(){return[this.$t("Yes"),this.$t("No")]}},watch:{activeProfileId:function(){this.query="",this.getSubscription()},activeSubscriptionList:function(){this.getSubscription(),this.filterChannels()}},mounted:function(){this.getSubscription()},methods:{getSubscription:function(){this.subscribedChannels=this.activeSubscriptionList.slice().sort(((e,t)=>e.name.localeCompare(t.name,this.locale)))},handleInput:function(e){this.query=e,this.filterChannels()},filterChannels:function(){if(""===this.query)return void(this.filteredChannels=[]);const e=this.query.replaceAll(/[$()*+.?[\\\]^{|}]/g,"\\$&"),t=new RegExp(e,"i");this.filteredChannels=this.subscribedChannels.filter((e=>t.test(e.name)))},handleUnsubscribeButtonClick:function(e){this.channelToUnsubscribe=e,this.showUnsubscribePrompt=!0},handleUnsubscribePromptClick:function(e){this.showUnsubscribePrompt=!1,"yes"===e?this.unsubscribeChannel():this.channelToUnsubscribe=null},unsubscribeChannel:function(){const e=JSON.parse(JSON.stringify(this.activeProfile));let t=e.subscriptions.findIndex((e=>e.id===this.channelToUnsubscribe.id));e.subscriptions.splice(t,1),this.updateProfile(e),$g(this.$t("Channels.Unsubscribed",{channelName:this.channelToUnsubscribe.name})),t=this.subscribedChannels.findIndex((e=>e.id===this.channelToUnsubscribe.id)),this.subscribedChannels.splice(t,1),t=this.filteredChannels.findIndex((e=>e.id===this.channelToUnsubscribe.id)),-1!==t&&this.filteredChannels.splice(t,1),this.channelToUnsubscribe=null},thumbnailURL:function(e){let t=e;return"yt3.ggpht.com"===new URL(e).hostname?"invidious"===this.backendPreference&&(t=sp(e,this.currentInvidiousInstance)):t="local"===this.backendPreference?e.replace(this.re.ivToYt,`${this.ytBaseURL}/$1`):function(e,t=null){return e.replace(/^.+(ggpht.+)/,t)}(e,this.currentInvidiousInstance),t.replace(this.re.url,`$1${this.thumbnailSize}$2`)},updateThumbnail:function(e){this.errorCount+=1,"local"===this.backendPreference?setTimeout((()=>{mp().getChannelInfo({channelId:e.id}).then((t=>{this.updateSubscriptionDetails({channelThumbnailUrl:this.thumbnailURL(t.authorThumbnails[0].url),channelName:e.name,channelId:e.id})}))}),500*this.errorCount):setTimeout((()=>{rp(e.id).then((t=>{this.updateSubscriptionDetails({channelThumbnailUrl:this.thumbnailURL(t.authorThumbnails[0].url),channelName:e.name,channelId:e.id})}))}),500*this.errorCount)},...el(["updateProfile","updateSubscriptionDetails"])}},Sp=_l(wp,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t("ft-card",{staticClass:"card"},[t("h3",[e._v(e._s(e.$t("Channels.Title")))]),e._v(" "),t("ft-input",{directives:[{name:"show",rawName:"v-show",value:e.subscribedChannels.length>0,expression:"subscribedChannels.length > 0"}],ref:"searchBarChannels",attrs:{placeholder:e.$t("Channels.Search bar placeholder"),"show-clear-text-button":!0,"show-action-button":!1,spellcheck:!1},on:{input:e.handleInput,clear:function(t){e.query=""}}}),e._v(" "),0===e.activeSubscriptionList.length?t("ft-flex-box",[t("p",{staticClass:"message"},[e._v("\n        "+e._s(e.$t("Channels.Empty"))+"\n      ")])]):[t("ft-flex-box",{staticClass:"count"},[e._v("\n        "+e._s(e.$t("Channels.Count",{number:e.channelList.length}))+"\n      ")]),e._v(" "),t("ft-flex-box",{staticClass:"channels"},e._l(e.channelList,(function(n){return t("div",{key:n.key,staticClass:"channel"},[t("router-link",{staticClass:"thumbnailContainer",attrs:{tabindex:"-1",to:`/channel/${n.id}`}},[t("img",{staticClass:"channelThumbnail",attrs:{src:e.thumbnailURL(n.thumbnail),alt:""},on:{"~error":function(t){return e.updateThumbnail(n)}}})]),e._v(" "),t("router-link",{staticClass:"channelName",attrs:{title:n.name,to:`/channel/${n.id}`}},[e._v("\n            "+e._s(n.name)+"\n          ")]),e._v(" "),e.hideUnsubscribeButton?e._e():t("div",{staticClass:"unsubscribeContainer"},[t("ft-button",{attrs:{label:e.$t("Channels.Unsubscribe"),"background-color":"var(--search-bar-color)","text-color":"var(--secondary-text-color)"},on:{click:function(t){return e.handleUnsubscribeButtonClick(n)}}})],1)],1)})),0)]],2),e._v(" "),e.showUnsubscribePrompt?t("ft-prompt",{attrs:{label:e.$t("Channels.Unsubscribe Prompt",{channelName:e.channelToUnsubscribe.name}),"option-names":e.unsubscribePromptNames,"option-values":e.unsubscribePromptValues},on:{click:e.handleUnsubscribePromptClick}}):e._e()],1)}),[],!1,null,"efd03dbe",null).exports;var kp=_l({name:"FtProfileBubble",props:{profileName:{type:String,required:!0},profileId:{type:String,required:!0},backgroundColor:{type:String,required:!0},textColor:{type:String,required:!0}},computed:{profileInitial:function(){return this?.profileName?.length>0?Array.from(this.profileName)[0].toUpperCase():""}},methods:{goToProfile:function(){this.$router.push({path:`/settings/profile/edit/${this.profileId}`})}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"bubblePadding",on:{click:e.goToProfile}},[t("div",{staticClass:"bubble",style:{background:e.backgroundColor,color:e.textColor}},[t("div",{staticClass:"initial"},[e._v("\n      "+e._s(e.profileInitial)+"\n    ")])]),e._v(" "),t("div",{staticClass:"profileName"},[e._v("\n    "+e._s(e.profileName)+"\n  ")])])}),[],!1,null,"5da9947f",null),Tp=_l({name:"ProfileSettings",components:{"ft-card":Il,"ft-flex-box":wl,"ft-profile-bubble":kp.exports,"ft-button":Oh},computed:{profileList:function(){return this.$store.getters.getProfileList}},methods:{newProfile:function(){this.$router.push({path:"/settings/profile/new/"})}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t("ft-card",{staticClass:"card"},[t("h3",[e._v(e._s(e.$t("Profile.Profile Manager")))]),e._v(" "),t("ft-flex-box",{staticClass:"profileList"},e._l(e.profileList,(function(e,n){return t("ft-profile-bubble",{key:n,attrs:{"profile-id":e._id,"profile-name":e.name,"background-color":e.bgColor,"text-color":e.textColor}})})),1),e._v(" "),t("ft-flex-box",[t("ft-button",{attrs:{label:e.$t("Profile.Create New Profile")},on:{click:e.newProfile}})],1)],1)],1)}),[],!1,null,"4ba5edd6",null);const Cp=Tp.exports;var xp=_l({name:"FtProfileEdit",components:{"ft-card":Il,"ft-prompt":_p,"ft-flex-box":wl,"ft-input":xl,"ft-button":Oh},props:{profile:{type:Object,required:!0},isNew:{type:Boolean,required:!0}},data:function(){return{showDeletePrompt:!1,profileId:"",profileName:"",profileBgColor:"",profileTextColor:"",profileSubscriptions:[],deletePromptValues:["yes","no"]}},computed:{isMainProfile:function(){return this.profileId===Vl},colorValues:function(){return td.map((e=>e.value))},profileInitial:function(){return this?.profileName?.length>0?Array.from(this.profileName)[0].toUpperCase():""},profileList:function(){return this.$store.getters.getProfileList},activeProfile:function(){return this.$store.getters.getActiveProfile},defaultProfile:function(){return this.$store.getters.getDefaultProfile},deletePromptLabel:function(){return`${this.$t("Profile.Are you sure you want to delete this profile?")} ${this.$t('Profile["All subscriptions will also be deleted."]')}`},deletePromptNames:function(){return[this.$t("Yes"),this.$t("No")]}},watch:{profileBgColor:function(e){this.profileTextColor=rd(e)}},created:function(){this.profileId=this.$route.params.id,this.profileName=this.profile.name,this.profileBgColor=this.profile.bgColor,this.profileTextColor=this.profile.textColor},methods:{openDeletePrompt:function(){this.showDeletePrompt=!0},handleDeletePrompt:function(e){"yes"===e?this.deleteProfile():this.showDeletePrompt=!1},saveProfile:function(){if(""===this.profileName)return void $g(this.$t("Profile.Your profile name cannot be empty"));const e={name:this.profileName,bgColor:this.profileBgColor,textColor:this.profileTextColor,subscriptions:this.profile.subscriptions};this.isNew||(e._id=this.profileId),this.isNew?(this.createProfile(e),$g(this.$t("Profile.Profile has been created")),this.$router.push({path:"/settings/profile/"})):(this.updateProfile(e),$g(this.$t("Profile.Profile has been updated")))},setDefaultProfile:function(){this.updateDefaultProfile(this.profileId),$g(this.$t("Profile.Your default profile has been set to {profile}",{profile:this.profileName}))},deleteProfile:function(){this.activeProfile._id===this.profileId&&this.updateActiveProfile(Vl),this.removeProfile(this.profileId),$g(this.$t("Profile.Removed {profile} from your profiles",{profile:this.profileName})),this.defaultProfile===this.profileId&&(this.updateDefaultProfile(Vl),$g(this.$t("Profile.Your default profile has been changed to your primary profile"))),this.$router.push({path:"/settings/profile/"})},...el(["createProfile","updateProfile","removeProfile","updateDefaultProfile","updateActiveProfile"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t("ft-card",{staticClass:"card"},[t("h2",[e._v(e._s(e.$t("Profile.Edit Profile")))]),e._v(" "),t("ft-flex-box",[t("ft-input",{staticClass:"profileName",attrs:{placeholder:"Profile Name",value:e.profileName,"show-action-button":!1},on:{input:t=>e.profileName=t}})],1),e._v(" "),t("h3",[e._v(e._s(e.$t("Profile.Color Picker")))]),e._v(" "),t("ft-flex-box",{staticClass:"bottomMargin colorOptions"},e._l(e.colorValues,(function(n,i){return t("div",{key:i,staticClass:"colorOption",style:{background:n},on:{click:function(t){e.profileBgColor=n}}})})),0),e._v(" "),t("ft-flex-box",{staticClass:"bottomMargin"},[t("div",[t("label",{attrs:{for:"colorPicker"}},[e._v(e._s(e.$t("Profile.Custom Color")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.profileBgColor,expression:"profileBgColor"}],attrs:{id:"colorPicker",type:"color"},domProps:{value:e.profileBgColor},on:{input:function(t){t.target.composing||(e.profileBgColor=t.target.value)}}})])]),e._v(" "),t("ft-flex-box",[t("ft-input",{staticClass:"profileName",attrs:{placeholder:"",value:e.profileBgColor,"show-action-button":!1,disabled:!0}})],1),e._v(" "),t("h3",[e._v(e._s(e.$t("Profile.Profile Preview")))]),e._v(" "),t("ft-flex-box",{staticClass:"bottomMargin"},[t("div",{staticClass:"colorOption",staticStyle:{cursor:"default"},style:{background:e.profileBgColor,color:e.profileTextColor}},[t("div",{staticClass:"initial"},[e._v("\n          "+e._s(e.profileInitial)+"\n        ")])])]),e._v(" "),t("ft-flex-box",[e.isNew?t("ft-button",{attrs:{label:e.$t("Profile.Create Profile")},on:{click:e.saveProfile}}):e._e(),e._v(" "),e.isNew?e._e():t("ft-button",{attrs:{label:e.$t("Profile.Update Profile")},on:{click:e.saveProfile}}),e._v(" "),e.isNew?e._e():t("ft-button",{attrs:{label:e.$t("Profile.Make Default Profile")},on:{click:e.setDefaultProfile}}),e._v(" "),e.isMainProfile||e.isNew?e._e():t("ft-button",{attrs:{label:e.$t("Profile.Delete Profile"),"text-color":"var(--text-with-main-color)","background-color":"var(--primary-color)"},on:{click:e.openDeletePrompt}})],1)],1),e._v(" "),e.showDeletePrompt?t("ft-prompt",{attrs:{label:e.deletePromptLabel,"option-names":e.deletePromptNames,"option-values":e.deletePromptValues},on:{click:e.handleDeletePrompt}}):e._e()],1)}),[],!1,null,"0ad15f32",null);const Ep=xp.exports,Pp={name:"FtProfileChannelList",components:{"ft-card":Il,"ft-flex-box":wl,"ft-channel-bubble":fp,"ft-button":Oh,"ft-prompt":_p},props:{profile:{type:Object,required:!0},isMainProfile:{type:Boolean,required:!0}},data:function(){return{showDeletePrompt:!1,subscriptions:[],selectedLength:0,componentKey:0,deletePromptValues:["yes","no"]}},computed:{backendPreference:function(){return this.$store.getters.getBackendPreference},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},profileList:function(){return this.$store.getters.getProfileList},selectedText:function(){return this.$t("Profile.{number} selected",{number:this.selectedLength})},deletePromptMessage:function(){return this.isMainProfile?this.$t('Profile["This is your primary profile.  Are you sure you want to delete the selected channels?  The same channels will be deleted in any profile they are found in."]'):this.$t('Profile["Are you sure you want to delete the selected channels?  This will not delete the channel from any other profile."]')},deletePromptNames:function(){return[this.$t("Yes"),this.$t("No")]}},watch:{profile:function(){this.subscriptions=JSON.parse(JSON.stringify(this.profile.subscriptions)).sort(((e,t)=>{const n=e.name.toLowerCase(),i=t.name.toLowerCase();return n<i?-1:n>i?1:0})).map((e=>("invidious"===this.backendPreference&&(e.thumbnail=sp(e.thumbnail,this.currentInvidiousInstance)),e.selected=!1,e)))}},mounted:function(){void 0!==this.profile.subscriptions&&(this.subscriptions=JSON.parse(JSON.stringify(this.profile.subscriptions)).sort(((e,t)=>{const n=e.name.toLowerCase(),i=t.name.toLowerCase();return n<i?-1:n>i?1:0})).map((e=>("invidious"===this.backendPreference&&(e.thumbnail=sp(e.thumbnail,this.currentInvidiousInstance)),e.selected=!1,e))))},methods:{displayDeletePrompt:function(){0===this.selectedLength?$g(this.$t("Profile.No channel(s) have been selected")):this.showDeletePrompt=!0},handleDeletePromptClick:function(e){if("no"!==e&&null!==e)if(this.isMainProfile){const e=this.subscriptions.filter((e=>e.selected));this.subscriptions=this.subscriptions.filter((e=>!e.selected)),this.profileList.forEach((t=>{const n=JSON.parse(JSON.stringify(t));n.subscriptions=n.subscriptions.filter((t=>-1===e.findIndex((e=>e.id===t.id)))),this.updateProfile(n)})),$g(this.$t("Profile.Profile has been updated")),this.selectNone()}else{const e=JSON.parse(JSON.stringify(this.profile));this.subscriptions=this.subscriptions.filter((e=>!e.selected)),e.subscriptions=this.subscriptions,this.selectedLength=0,this.updateProfile(e),$g(this.$t("Profile.Profile has been updated")),this.selectNone()}this.showDeletePrompt=!1},handleChannelClick:function(e){this.subscriptions[e].selected=!this.subscriptions[e].selected,this.selectedLength=this.subscriptions.filter((e=>e.selected)).length},selectAll:function(){Object.keys(this.$refs).forEach((e=>{void 0!==this.$refs[e][0]&&(this.$refs[e][0].selected=!0)})),this.subscriptions=this.subscriptions.map((e=>(e.selected=!0,e))),this.selectedLength=this.subscriptions.filter((e=>e.selected)).length},selectNone:function(){Object.keys(this.$refs).forEach((e=>{void 0!==this.$refs[e][0]&&(this.$refs[e][0].selected=!1)})),this.subscriptions=this.subscriptions.map((e=>(e.selected=!1,e))),this.selectedLength=this.subscriptions.filter((e=>e.selected)).length},...el(["updateProfile"])}};var Ip=_l(Pp,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t("ft-card",{staticClass:"card"},[t("h2",[e._v("\n      "+e._s(e.$t("Profile.Subscription List"))+"\n    ")]),e._v(" "),t("p",[e._v("\n      "+e._s(e.selectedText)+"\n    ")]),e._v(" "),t("ft-flex-box",e._l(e.subscriptions,(function(n,i){return t("ft-channel-bubble",{key:i,ref:`channel-${i}`,refInFor:!0,attrs:{"channel-name":n.name,"channel-thumbnail":n.thumbnail,"show-selected":!0},on:{click:function(t){return e.handleChannelClick(i)}}})})),1),e._v(" "),t("ft-flex-box",[t("ft-button",{attrs:{label:e.$t("Profile.Select All")},on:{click:e.selectAll}}),e._v(" "),t("ft-button",{attrs:{label:e.$t("Profile.Select None")},on:{click:e.selectNone}}),e._v(" "),t("ft-button",{attrs:{label:e.$t("Profile.Delete Selected"),"text-color":"var(--text-with-main-color)","background-color":"var(--primary-color)"},on:{click:e.displayDeletePrompt}})],1)],1),e._v(" "),e.showDeletePrompt?t("ft-prompt",{attrs:{label:e.deletePromptMessage,"option-names":e.deletePromptNames,"option-values":e.deletePromptValues},on:{click:e.handleDeletePromptClick}}):e._e()],1)}),[],!1,null,"a3ccef1e",null);const Ap=Ip.exports;var Lp=_l({name:"FtSelect",components:{"ft-tooltip":kl},props:{placeholder:{type:String,required:!0},value:{type:[String,Number],required:!0},selectNames:{type:Array,required:!0},selectValues:{type:Array,required:!0},tooltip:{type:String,default:""},disabled:{type:Boolean,default:!1},sanitizedId:{type:String,default:null},describeById:{type:String,default:null}},computed:{sanitizedPlaceholder:function(){return Al(this.placeholder)}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"select"},[t("select",{staticClass:"select-text",class:{disabled:e.disabled},attrs:{id:e.sanitizedId??e.sanitizedPlaceholder,"describe-by-id":e.describeById,name:e.sanitizedId??e.sanitizedPlaceholder,disabled:e.disabled},domProps:{value:e.value},on:{change:function(t){return e.$emit("change",t.target.value)}}},e._l(e.selectNames,(function(n,i){return t("option",{key:i,domProps:{value:e.selectValues[i]}},[e._v("\n      "+e._s(n)+"\n    ")])})),0),e._v(" "),t("font-awesome-icon",{staticClass:"iconSelect",attrs:{icon:["fas","sort-down"]}}),e._v(" "),t("span",{staticClass:"select-highlight"}),e._v(" "),t("span",{staticClass:"select-bar"}),e._v(" "),t("label",{staticClass:"select-label",attrs:{for:e.sanitizedId??e.sanitizedPlaceholder,hidden:e.disabled}},[e._v("\n    "+e._s(e.placeholder)+"\n  ")]),e._v(" "),""!==e.tooltip?t("ft-tooltip",{staticClass:"selectTooltip",attrs:{tooltip:e.tooltip}}):e._e()],1)}),[],!1,null,"5fb41356",null);const Op=Lp.exports,Rp={name:"FtProfileFilterChannelsList",components:{"ft-card":Il,"ft-flex-box":wl,"ft-channel-bubble":fp,"ft-button":Oh,"ft-select":Op},props:{profile:{type:Object,required:!0}},data:function(){return{channels:[],selectedLength:0,filteredProfileIndex:0}},computed:{backendPreference:function(){return this.$store.getters.getBackendPreference},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},profileList:function(){return this.$store.getters.getProfileList},profileNameList:function(){return this.profileList.flatMap((e=>e.name!==this.profile.name?[e.name]:[]))},selectedText:function(){return this.$t("Profile.{number} selected",{number:this.selectedLength})}},watch:{profile:"updateChannelList",filteredProfileIndex:"updateChannelList"},mounted:function(){void 0!==this.profile.subscriptions&&(this.channels=JSON.parse(JSON.stringify(this.profileList[this.filteredProfileIndex].subscriptions)).sort(((e,t)=>{const n=e.name.toLowerCase(),i=t.name.toLowerCase();return n<i?-1:n>i?1:0})).filter((e=>-1===this.profile.subscriptions.findIndex((t=>t.id===e.id)))).map((e=>("invidious"===this.backendPreference&&(e.thumbnail=sp(e.thumbnail,this.currentInvidiousInstance)),e.selected=!1,e))))},methods:{updateChannelList(){this.channels=JSON.parse(JSON.stringify(this.profileList[this.filteredProfileIndex].subscriptions)).sort(((e,t)=>{const n=e.name.toLowerCase(),i=t.name.toLowerCase();return n<i?-1:n>i?1:0})).filter((e=>-1===this.profile.subscriptions.findIndex((t=>t.id===e.id)))).map((e=>("invidious"===this.backendPreference&&(e.thumbnail=sp(e.thumbnail,this.currentInvidiousInstance)),e.selected=!1,e)))},handleChannelClick:function(e){this.channels[e].selected=!this.channels[e].selected,this.selectedLength=this.channels.filter((e=>e.selected)).length},handleProfileFilterChange:function(e){this.filteredProfileIndex=this.profileList.findIndex((t=>t.name===e))},addChannelToProfile:function(){if(0===this.selectedLength)$g(this.$t("Profile.No channel(s) have been selected"));else{const e=this.channels.filter((e=>e.selected)),t=JSON.parse(JSON.stringify(this.profile));t.subscriptions=t.subscriptions.concat(e),this.updateProfile(t),$g(this.$t("Profile.Profile has been updated")),this.selectNone()}},selectAll:function(){Object.keys(this.$refs).forEach((e=>{void 0!==this.$refs[e][0]&&(this.$refs[e][0].selected=!0)})),this.channels=this.channels.map((e=>(e.selected=!0,e))),this.selectedLength=this.channels.filter((e=>e.selected)).length},selectNone:function(){Object.keys(this.$refs).forEach((e=>{void 0!==this.$refs[e][0]&&(this.$refs[e][0].selected=!1)})),this.channels=this.channels.map((e=>(e.selected=!1,e))),this.selectedLength=this.channels.filter((e=>e.selected)).length},...el(["updateProfile"])}};var Dp=_l(Rp,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t("ft-card",{staticClass:"card"},[t("h2",[e._v("\n      "+e._s(e.$t("Profile.Other Channels"))+"\n    ")]),e._v(" "),t("ft-flex-box",[t("ft-select",{attrs:{placeholder:e.$t("Profile.Profile Filter"),value:e.profileNameList[0],"select-names":e.profileNameList,"select-values":e.profileNameList},on:{change:e.handleProfileFilterChange}})],1),e._v(" "),t("p",{staticClass:"selected"},[e._v("\n      "+e._s(e.selectedText)+"\n    ")]),e._v(" "),t("ft-flex-box",e._l(e.channels,(function(n,i){return t("ft-channel-bubble",{key:i,ref:`all-channels-${i}`,refInFor:!0,attrs:{"channel-name":n.name,"channel-thumbnail":n.thumbnail,"show-selected":!0},on:{click:function(t){return e.handleChannelClick(i)}}})})),1),e._v(" "),t("ft-flex-box",[t("ft-button",{attrs:{label:e.$t("Profile.Select All")},on:{click:e.selectAll}}),e._v(" "),t("ft-button",{attrs:{label:e.$t("Profile.Select None")},on:{click:e.selectNone}}),e._v(" "),t("ft-button",{attrs:{label:e.$t("Profile.Add Selected To Profile"),"text-color":"var(--text-with-main-color)","background-color":"var(--primary-color)"},on:{click:e.addChannelToProfile}})],1)],1)],1)}),[],!1,null,"baf5ec48",null);const Np=_l({name:"ProfileEdit",components:{"ft-loader":Lh,"ft-profile-edit":Ep,"ft-profile-channel-list":Ap,"ft-profile-filter-channels-list":Dp.exports},data:function(){return{isLoading:!0,isNew:!1,profileId:"",profile:{}}},computed:{...Jo(["profileById"]),profileList:function(){return this.$store.getters.getProfileList},isMainProfile:function(){return this.profileId===Vl}},watch:{profileList:{handler:function(){const e=this.profileById(this.profileId);e||($g(this.$t("Profile.Profile could not be found")),this.$router.push({path:"/settings/profile/"})),this.profile=e},deep:!0}},mounted:function(){const e=this.$route.name;if(this.deletePromptLabel=`${this.$t("Profile.Are you sure you want to delete this profile?")} ${this.$t('Profile["All subscriptions will also be deleted."]')}`,"newProfile"===e){this.isNew=!0;const e=id(),t=rd(e);this.profile={name:"",bgColor:e,textColor:t,subscriptions:[]}}else{this.isNew=!1,this.profileId=this.$route.params.id;const e=this.profileById(this.profileId);e||($g(this.$t("Profile.Profile could not be found")),this.$router.push({path:"/settings/profile/"})),this.profile=e}this.isLoading=!1}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[e.isLoading?t("ft-loader",{attrs:{fullscreen:!0}}):t("div",[t("ft-profile-edit",{attrs:{profile:e.profile,"is-new":e.isNew}}),e._v(" "),e.isNew?e._e():t("ft-profile-channel-list",{attrs:{profile:e.profile,"is-main-profile":e.isMainProfile}}),e._v(" "),e.isNew||e.isMainProfile?e._e():t("ft-profile-filter-channels-list",{attrs:{profile:e.profile}})],1)],1)}),[],!1,null,"8381e26a",null).exports;class Fp{constructor(e){this.cacheDirectory=e}async get(e){const t=Rd().resolve(this.cacheDirectory,e);try{return(await zh().readFile(t)).buffer}catch(e){if("ENOENT"===e?.code)return;throw e}}async set(e,t){await zh().mkdir(this.cacheDirectory,{recursive:!0});const n=Rd().resolve(this.cacheDirectory,e);await zh().writeFile(n,new Uint8Array(t))}async remove(e){const t=Rd().resolve(this.cacheDirectory,e);if(await Wh(t))try{await zh().unlink(t)}catch{}}}async function $p(e={withPlayer:!1,location:void 0,safetyMode:!1,clientType:void 0}){let t;if(e.withPlayer){const e=await Yg();t=new Fp((0,Od.join)(e,"player_cache"))}return await hd.Innertube.create({retrieve_player:!!e.withPlayer,location:e.location,enable_safety_mode:!!e.safetyMode,client_type:e.clientType,fetch:(e,t)=>fetch(e,t),cache:t,generate_session_locally:!0})}let Bp=null;async function Mp(e){const t=await $p();return await t.getPlaylist(e)}async function Up(e,t=!1){let n,i;if(t){const t=await $p({withPlayer:!0,clientType:hd.ClientType.TV_EMBEDDED});i=t.actions.session.player,n=await t.getBasicInfo(e,"TV_EMBEDDED")}else{const t=await $p({withPlayer:!0});i=t.actions.session.player,n=await t.getInfo(e)}return n.streaming_data&&(jp(n.streaming_data.adaptive_formats,i),jp(n.streaming_data.formats,i)),n}function jp(e,t){for(const n of e)n.url=n.decipher(t),n.cipher=void 0,n.signature_cipher=void 0}function Vp(e){return e.results?{results:e.results.filter((e=>"Video"===e.type||"Channel"===e.type||"Playlist"===e.type)).map((e=>function(e){switch(e.type){case"Video":return qp(e);case"Channel":{const t=e;let n,i=null,r=null;return t.subscribers.text.startsWith("@")?(n=t.videos.text,r=t.subscribers.text):(n=t.subscribers.text,i=t.videos.text),{type:"channel",dataSource:"local",thumbnail:t.author.best_thumbnail?.url,name:t.author.name,channelID:t.author.id,subscribers:n,videos:i,handle:r,descriptionShort:t.description_snippet.text}}case"Playlist":{const t=e;return{type:"playlist",dataSource:"local",title:t.title,thumbnail:t.thumbnails[0].url,channelName:t.author.name,channelId:t.author.id,playlistId:t.id,videoCount:Qg(t.video_count.text)}}}}(e))),continuationData:e.has_continuation?e:null}:{results:[],continuationData:null}}function Hp(e){return{videoId:e.id,title:e.title.text,author:e.author.name,authorId:e.author.id,lengthSeconds:isNaN(e.duration.seconds)?"":e.duration.seconds}}function qp(e){return{type:"video",videoId:e.id,title:e.title.text,author:e.author.name,authorId:e.author.id,description:e.description,viewCount:Qg(e.view_count.text),publishedText:e.published.text,lengthSeconds:isNaN(e.duration.seconds)?"":e.duration.seconds,liveNow:e.is_live,isUpcoming:e.is_upcoming||e.is_premiere,premiereDate:e.upcoming}}function zp(e){return{type:"video",videoId:e.id,title:e.title.text,author:e.author.name,authorId:e.author.id,viewCount:Qg(e.view_count.text),publishedText:"N/A"===e.published.text?null:e.published.text,lengthSeconds:isNaN(e.duration.seconds)?"":e.duration.seconds}}function Wp(e,t=16){if(!Array.isArray(e))throw new Error("not an array of text runs");const n=/^(?:\d+:){1,2}\d+$/,i=[];for(const r of e)if(r instanceof dd()){const{emoji:e,text:n}=r;let a;a=e.is_custom?e.shortcuts.length>0?e.shortcuts[0]:e.search_terms.length>0?e.search_terms.join(", "):"Custom emoji":n,i.push(`<img src="${e.image[0].url}" alt="${a}" width="${t}" height="${t}" loading="lazy" style="vertical-align: middle">`)}else{const{text:e,endpoint:t}=r;if(t&&!e.startsWith("#"))switch(t.metadata.page_type){case"WEB_PAGE_TYPE_WATCH":n.test(e)?i.push(e):i.push(`https://www.youtube.com${t.metadata.url}`);break;case"WEB_PAGE_TYPE_CHANNEL":e.startsWith("@")?i.push(`<a href="https://www.youtube.com/channel/${t.payload.browseId}">${e}</a>`):i.push(`https://www.youtube.com${t.metadata.url}`);break;case"WEB_PAGE_TYPE_PLAYLIST":i.push(`https://www.youtube.com${t.metadata.url}`);break;default:{const e=new URL(t.payload.url);if("www.youtube.com"===e.hostname&&"/redirect"===e.pathname&&e.searchParams.has("q")){const t=new URL(e.searchParams.get("q"));t.searchParams.delete("utm_source"),t.searchParams.delete("utm_medium"),t.searchParams.delete("utm_campaign"),t.searchParams.delete("utm_term"),t.searchParams.delete("utm_content"),i.push(t.toString())}else i.push(t.payload.url);break}}else i.push(e)}return i.join("")}function Gp(e){return{itag:e.itag,qualityLabel:e.quality_label,fps:e.fps,bitrate:e.bitrate,mimeType:e.mime_type,height:e.height,url:e.url}}const Kp=_l({name:"Trending",components:{"ft-card":Il,"ft-loader":Lh,"ft-element-list":dp,"ft-icon-button":Rl,"ft-flex-box":wl},data:function(){return{isLoading:!1,shownResults:[],currentTab:"default",trendingInstance:null}},computed:{backendPreference:function(){return this.$store.getters.getBackendPreference},backendFallback:function(){return this.$store.getters.getBackendFallback},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},region:function(){return this.$store.getters.getRegion.toUpperCase()},trendingCache(){return this.$store.getters.getTrendingCache}},mounted:function(){document.addEventListener("keydown",this.keyboardShortcutHandler),this.trendingCache[this.currentTab]&&this.trendingCache[this.currentTab].length>0?this.getTrendingInfoCache():this.getTrendingInfo()},beforeDestroy:function(){document.removeEventListener("keydown",this.keyboardShortcutHandler)},methods:{changeTab:function(e){e!==this.currentTab&&(this.currentTab=e,this.trendingCache[this.currentTab]&&this.trendingCache[this.currentTab].length>0?this.getTrendingInfoCache():this.getTrendingInfo())},focusTab:function(e){this.$refs[e].focus(),this.$emit("showOutlines")},getTrendingInfo:function(){this.getTrendingInfoInvidious()},getTrendingInfoLocal:async function(){this.isLoading=!0;try{const{results:e,instance:t}=await async function(e,t,n){if(null===n){const t=await $p({location:e});n=await t.getTrending()}const i=["default","music","gaming","movies"].indexOf(t),r=await n.getTabByName(n.tabs[i]);return{results:r.videos.filter((e=>"Video"===e.type)).map(qp),instance:r}}(this.region,this.currentTab,this.trendingInstance);this.shownResults=e,this.isLoading=!1,this.trendingInstance=t,this.$store.commit("setTrendingCache",{value:e,page:this.currentTab}),setTimeout((()=>{this.$refs[this.currentTab].focus()}))}catch(e){console.error(e),$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)})),"local"===this.backendPreference&&this.backendFallback?($g(this.$t("Falling back to Invidious API")),this.getTrendingInfoInvidious()):this.isLoading=!1}},getTrendingInfoCache:function(){this.isLoading=!0,setTimeout((()=>{this.shownResults=this.trendingCache[this.currentTab],this.isLoading=!1,setTimeout((()=>{this.$refs[this.currentTab].focus()}))}))},getTrendingInfoInvidious:function(){this.isLoading=!0;const e={resource:"trending",id:"",params:{region:this.region}};"default"!==this.currentTab&&(e.params.type=this.currentTab.charAt(0).toUpperCase()+this.currentTab.slice(1)),ip(e).then((e=>{if(!e)return;const t=e.filter((e=>"video"===e.type||"channel"===e.type||"playlist"===e.type));this.shownResults=t,this.isLoading=!1,this.$store.commit("setTrendingCache",{value:t,page:this.currentTab}),setTimeout((()=>{this.$refs[this.currentTab].focus()}))})).catch((e=>{console.error(e),$g(`${this.$t("Invidious API Error (Click to copy)")}: ${e.responseText}`,1e4,(()=>{Bg(e.responseText)})),this.isLoading=!1}))},keyboardShortcutHandler:function(e){if(!e.ctrlKey&&!document.activeElement.classList.contains("ft-input"))switch(e.key){case"r":case"R":this.isLoading||this.getTrendingInfo()}}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[e.isLoading?t("ft-loader",{attrs:{fullscreen:!0}}):t("ft-card",{staticClass:"card"},[t("h3",[e._v(e._s(e.$t("Trending.Trending")))]),e._v(" "),t("ft-flex-box",{staticClass:"trendingInfoTabs",attrs:{role:"tablist","aria-label":e.$t("Trending.Trending Tabs")}},[t("div",{ref:"default",staticClass:"tab",class:{selectedTab:"default"===e.currentTab},attrs:{role:"tab","aria-selected":String("default"===e.currentTab),"aria-controls":"trendingPanel",tabindex:"default"===e.currentTab?0:-1},on:{click:function(t){return e.changeTab("default")},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.changeTab("default"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.preventDefault(),e.focusTab("movies"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.preventDefault(),e.focusTab("music"))}]}},[e._v("\n        "+e._s(e.$t("Trending.Default").toUpperCase())+"\n      ")]),e._v(" "),t("div",{ref:"music",staticClass:"tab",class:{selectedTab:"music"===e.currentTab},attrs:{role:"tab","aria-selected":String("music"===e.currentTab),"aria-controls":"trendingPanel",tabindex:"music"===e.currentTab?0:-1},on:{click:function(t){return e.changeTab("music")},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.changeTab("music"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.preventDefault(),e.focusTab("default"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.preventDefault(),e.focusTab("gaming"))}]}},[e._v("\n        "+e._s(e.$t("Trending.Music").toUpperCase())+"\n      ")]),e._v(" "),t("div",{ref:"gaming",staticClass:"tab",class:{selectedTab:"gaming"===e.currentTab},attrs:{role:"tab","aria-selected":String("gaming"===e.currentTab),"aria-controls":"trendingPanel",tabindex:"gaming"===e.currentTab?0:-1},on:{click:function(t){return e.changeTab("gaming")},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.changeTab("gaming"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.preventDefault(),e.focusTab("music"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.preventDefault(),e.focusTab("movies"))}]}},[e._v("\n        "+e._s(e.$t("Trending.Gaming").toUpperCase())+"\n      ")]),e._v(" "),t("div",{ref:"movies",staticClass:"tab",class:{selectedTab:"movies"===e.currentTab},attrs:{role:"tab","aria-selected":String("movies"===e.currentTab),"aria-controls":"trendingPanel",tabindex:"movies"===e.currentTab?0:-1},on:{click:function(t){return e.changeTab("movies")},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.changeTab("movies"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.preventDefault(),e.focusTab("gaming"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.preventDefault(),e.focusTab("default"))}]}},[e._v("\n        "+e._s(e.$t("Trending.Movies").toUpperCase())+"\n      ")])]),e._v(" "),t("ft-element-list",{attrs:{id:"trendingPanel",role:"tabpanel",data:e.shownResults}})],1),e._v(" "),e.isLoading?e._e():t("ft-icon-button",{staticClass:"floatingTopButton",attrs:{icon:["fas","sync"],size:12,theme:"primary"},on:{click:e.getTrendingInfo}})],1)}),[],!1,null,"74324934",null).exports,Yp=_l({name:"Popular",components:{"ft-loader":Lh,"ft-card":Il,"ft-element-list":dp,"ft-icon-button":Rl},data:function(){return{isLoading:!1,shownResults:[]}},computed:{popularCache:function(){return this.$store.getters.getPopularCache}},mounted:function(){document.addEventListener("keydown",this.keyboardShortcutHandler),this.shownResults=this.popularCache,(!this.shownResults||this.shownResults.length<1)&&this.fetchPopularInfo()},beforeDestroy:function(){document.removeEventListener("keydown",this.keyboardShortcutHandler)},methods:{fetchPopularInfo:async function(){this.isLoading=!0;const e=await ip({resource:"popular",id:"",params:{}}).catch((e=>{console.error(e)}));e?(this.shownResults=e.filter((e=>"video"===e.type||"shortVideo"===e.type||"channel"===e.type||"playlist"===e.type)),this.isLoading=!1,this.$store.commit("setPopularCache",this.shownResults)):this.isLoading=!1},keyboardShortcutHandler:function(e){if(!e.ctrlKey&&!document.activeElement.classList.contains("ft-input"))switch(e.key){case"r":case"R":this.isLoading||this.fetchPopularInfo()}}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[e.isLoading?t("ft-loader",{attrs:{fullscreen:!0}}):t("ft-card",{staticClass:"card"},[t("h3",[e._v(e._s(e.$t("Most Popular")))]),e._v(" "),t("ft-element-list",{attrs:{data:e.shownResults}})],1),e._v(" "),e.isLoading?e._e():t("ft-icon-button",{staticClass:"floatingTopButton",attrs:{icon:["fas","sync"],size:12,theme:"primary"},on:{click:e.fetchPopularInfo}})],1)}),[],!1,null,"364606a0",null).exports,Xp=_l({name:"UserPlaylists",components:{"ft-card":Il,"ft-flex-box":wl,"ft-tooltip":kl,"ft-loader":Lh,"ft-button":Oh,"ft-element-list":dp,"ft-input":xl},data:function(){return{isLoading:!1,dataLimit:100,searchDataLimit:100,showLoadMoreButton:!1,query:"",hasQuery:!1,activeData:[]}},computed:{favoritesPlaylist:function(){return this.$store.getters.getFavorites},fullData:function(){const e=[].concat(this.favoritesPlaylist.videos).reverse();return this.favoritesPlaylist.videos.length<this.dataLimit?e:e.slice(0,this.dataLimit)}},watch:{query(){this.searchDataLimit=100,this.filterPlaylist()},activeData(){this.refreshPage()},fullData(){this.activeData=this.fullData,this.filterPlaylist()}},mounted:function(){const e=sessionStorage.getItem("favoritesLimit");null!==e&&(this.dataLimit=e),this.activeData.length<this.favoritesPlaylist.videos.length?this.showLoadMoreButton=!0:this.showLoadMoreButton=!1,this.activeData=this.fullData},methods:{increaseLimit:function(){""!==this.query?(this.searchDataLimit+=100,this.filterPlaylist()):(this.dataLimit+=100,sessionStorage.setItem("favoritesLimit",this.dataLimit))},filterPlaylist:function(){if(""===this.query)this.activeData=this.fullData,this.activeData.length<this.favoritesPlaylist.videos.length?this.showLoadMoreButton=!0:this.showLoadMoreButton=!1;else{const e=this.favoritesPlaylist.videos.filter((e=>"string"==typeof e.title&&"string"==typeof e.author&&(e.title.toLowerCase().includes(this.query.toLowerCase())||e.author.toLowerCase().includes(this.query.toLowerCase())))).sort(((e,t)=>t.timeAdded-e.timeAdded));e.length<=this.searchDataLimit?this.showLoadMoreButton=!1:this.showLoadMoreButton=!0,this.activeData=e.length<this.searchDataLimit?e:e.slice(0,this.searchDataLimit)}},refreshPage:function(){const e=window.scrollY||window.scrollTop||document.getElementsByTagName("html")[0].scrollTop;this.isLoading=!0,sn((()=>{this.isLoading=!1,sn((()=>{window.scrollTo(0,e)}))}))}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t("ft-loader",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{fullscreen:!0}}),e._v(" "),t("ft-card",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"card"},[t("h3",[e._v("\n      "+e._s(e.$t("User Playlists.Your Playlists"))+"\n      "),t("ft-tooltip",{staticClass:"selectTooltip",attrs:{position:"bottom",tooltip:e.$t("User Playlists.Playlist Message")}})],1),e._v(" "),t("ft-input",{directives:[{name:"show",rawName:"v-show",value:e.fullData.length>0,expression:"fullData.length > 0"}],ref:"searchBar",attrs:{placeholder:e.$t("User Playlists.Search bar placeholder"),"show-clear-text-button":!0,"show-action-button":!1},on:{input:t=>e.query=t,clear:function(t){e.query=""}}}),e._v(" "),t("ft-flex-box",{directives:[{name:"show",rawName:"v-show",value:0===e.fullData.length,expression:"fullData.length === 0"}]},[t("p",{staticClass:"message"},[e._v("\n        "+e._s(e.$t("User Playlists['Your saved videos are empty. Click on the save button on the corner of a video to have it listed here']"))+"\n      ")])]),e._v(" "),t("ft-flex-box",{directives:[{name:"show",rawName:"v-show",value:0===e.activeData.length&&e.fullData.length>0,expression:"activeData.length === 0 && fullData.length > 0"}]},[t("p",{staticClass:"message"},[e._v("\n        "+e._s(e.$t("User Playlists['Empty Search Message']"))+"\n      ")])]),e._v(" "),e.activeData.length>0&&!e.isLoading?t("ft-element-list",{attrs:{data:e.activeData}}):e._e(),e._v(" "),e.showLoadMoreButton?t("ft-flex-box",[t("ft-button",{attrs:{label:"Load More","background-color":"var(--primary-color)","text-color":"var(--text-with-main-color)"},on:{click:e.increaseLimit}})],1):e._e()],1)],1)}),[],!1,null,"5def4c92",null).exports,Qp=_l({name:"History",components:{"ft-loader":Lh,"ft-card":Il,"ft-flex-box":wl,"ft-element-list":dp,"ft-button":Oh,"ft-input":xl},data:function(){return{isLoading:!1,dataLimit:100,searchDataLimit:100,showLoadMoreButton:!1,hasQuery:!1,query:"",activeData:[]}},computed:{historyCache:function(){return this.$store.getters.getHistoryCache},fullData:function(){return this.historyCache.length<this.dataLimit?this.historyCache:this.historyCache.slice(0,this.dataLimit)}},watch:{query(){this.searchDataLimit=100,this.filterHistory()},activeData(){this.refreshPage()},fullData(){this.activeData=this.fullData,this.filterHistory()}},mounted:function(){const e=sessionStorage.getItem("historyLimit");null!==e&&(this.dataLimit=e),this.activeData=this.fullData,this.activeData.length<this.historyCache.length?this.showLoadMoreButton=!0:this.showLoadMoreButton=!1},methods:{increaseLimit:function(){""!==this.query?(this.searchDataLimit+=100,this.filterHistory()):(this.dataLimit+=100,sessionStorage.setItem("historyLimit",this.dataLimit))},filterHistory:function(e){if(""===this.query)this.activeData=this.fullData,this.activeData.length<this.historyCache.length?this.showLoadMoreButton=!0:this.showLoadMoreButton=!1;else{const e=this.historyCache.filter((e=>"string"==typeof e.title&&"string"==typeof e.author&&(e.title.toLowerCase().includes(this.query.toLowerCase())||e.author.toLowerCase().includes(this.query.toLowerCase())))).sort(((e,t)=>t.timeWatched-e.timeWatched));e.length<=this.searchDataLimit?this.showLoadMoreButton=!1:this.showLoadMoreButton=!0,this.activeData=e.length<this.searchDataLimit?e:e.slice(0,this.searchDataLimit)}},refreshPage:function(){const e=window.scrollY||window.scrollTop||document.getElementsByTagName("html")[0].scrollTop;this.isLoading=!0,sn((()=>{this.isLoading=!1,sn((()=>{window.scrollTo(0,e)}))}))}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t("ft-loader",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{fullscreen:!0}}),e._v(" "),t("ft-card",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"card"},[t("h3",[e._v(e._s(e.$t("History.History")))]),e._v(" "),t("ft-input",{directives:[{name:"show",rawName:"v-show",value:e.fullData.length>0,expression:"fullData.length > 0"}],ref:"searchBar",attrs:{placeholder:e.$t("History.Search bar placeholder"),"show-clear-text-button":!0,"show-action-button":!1},on:{input:t=>e.query=t,clear:function(t){e.query=""}}}),e._v(" "),t("ft-flex-box",{directives:[{name:"show",rawName:"v-show",value:0===e.fullData.length,expression:"fullData.length === 0"}]},[t("p",{staticClass:"message"},[e._v("\n        "+e._s(e.$t("History['Your history list is currently empty.']"))+"\n      ")])]),e._v(" "),t("ft-flex-box",{directives:[{name:"show",rawName:"v-show",value:0===e.activeData.length&&e.fullData.length>0,expression:"activeData.length === 0 && fullData.length > 0"}]},[t("p",{staticClass:"message"},[e._v("\n        "+e._s(e.$t("History['Empty Search Message']"))+"\n      ")])]),e._v(" "),e.activeData.length>0&&!e.isLoading?t("ft-element-list",{attrs:{data:e.activeData}}):e._e(),e._v(" "),e.showLoadMoreButton?t("ft-flex-box",[t("ft-button",{attrs:{label:"Load More","background-color":"var(--primary-color)","text-color":"var(--text-with-main-color)"},on:{click:e.increaseLimit}})],1):e._e()],1)],1)}),[],!1,null,"56846e55",null).exports,Zp=_l({name:"FtSettingsSection",props:{title:{type:String,required:!0}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("details",{staticClass:"settingsSection"},[t("summary",{staticClass:"sectionHeader"},[t("h3",{staticClass:"sectionTitle"},[e._v("\n      "+e._s(e.title)+"\n    ")])]),e._v(" "),t("hr",{staticClass:"sectionLine"}),e._v(" "),e._t("default")],2)}),[],!1,null,"1b57dfd0",null).exports,Jp=_l({name:"FtToggleSwitch",components:{"ft-tooltip":kl},props:{label:{type:String,required:!0},defaultValue:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},tooltip:{type:String,default:""},tooltipPosition:{type:String,default:"bottom-left"}},data:function(){return{id:"",currentValue:!1}},watch:{defaultValue:function(){this.currentValue=this.defaultValue}},mounted:function(){this.id=this._uid,this.currentValue=this.defaultValue}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"switch-ctn",class:{compact:e.compact,disabled:e.disabled,containsTooltip:e.tooltip.length>0}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"switch-input",attrs:{id:e.id,type:"checkbox",name:"set-name",disabled:e.disabled},domProps:{checked:e.currentValue,checked:Array.isArray(e.currentValue)?e._i(e.currentValue,null)>-1:e.currentValue},on:{change:[function(t){var n=e.currentValue,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&(e.currentValue=n.concat([null])):a>-1&&(e.currentValue=n.slice(0,a).concat(n.slice(a+1)))}else e.currentValue=r},function(t){return e.$emit("change",e.currentValue)}]}}),e._v(" "),t("label",{staticClass:"switch-label",attrs:{for:e.id}},[t("span",{staticClass:"switch-label-text"},[e._v("\n      "+e._s(e.label)+"\n    ")]),e._v(" "),""!==e.tooltip?t("ft-tooltip",{staticClass:"selectTooltip",attrs:{position:e.tooltipPosition,tooltip:e.tooltip}}):e._e()],1)])}),[],!1,null,"54e9381d",null).exports;var em=n(1296),tm=n.n(em);const nm=_l({name:"GeneralSettings",components:{"ft-settings-section":Zp,"ft-select":Op,"ft-input":xl,"ft-toggle-switch":Jp,"ft-flex-box":wl,"ft-button":Oh},data:function(){return{instanceNames:[],instanceValues:[],backendValues:["invidious","local"],defaultPageNames:["Subscriptions","Trending","Most Popular","Playlists","History"],defaultPageValues:["subscriptions","trending","mostPopular","playlists","history"],viewTypeValues:["grid","list"],thumbnailTypeValues:["","start","middle","end"],externalLinkHandlingValues:["","openLinkAfterPrompt","doNothing"]}},computed:{currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},enableSearchSuggestions:function(){return this.$store.getters.getEnableSearchSuggestions},backendFallback:function(){return this.$store.getters.getBackendFallback},checkForUpdates:function(){return this.$store.getters.getCheckForUpdates},checkForBlogPosts:function(){return this.$store.getters.getCheckForBlogPosts},backendPreference:function(){return this.$store.getters.getBackendPreference},landingPage:function(){return this.$store.getters.getLandingPage},region:function(){return this.$store.getters.getRegion},listType:function(){return this.$store.getters.getListType},thumbnailPreference:function(){return this.$store.getters.getThumbnailPreference},currentLocale:function(){return this.$store.getters.getCurrentLocale},regionNames:function(){return this.$store.getters.getRegionNames},regionValues:function(){return this.$store.getters.getRegionValues},invidiousInstancesList:function(){return this.$store.getters.getInvidiousInstancesList},defaultInvidiousInstance:function(){return this.$store.getters.getDefaultInvidiousInstance},localeOptions:function(){return["system",...this.$i18n.allLocales]},localeNames:function(){return[this.$t("Settings.General Settings.System Default"),"English (US)","English (UK)","","","catal","etina","Dansk","Deutsch","","Espaol (Espaa)","espaol (Argentina)","espaol (MX)","eesti keel","Euskera","suomi","franais","Galego","","magyar","Hrvatski","Bahasa Indonesia","slenska","Italiano","","","Lietuvi","Norsk bokml","Nederlands (NL)","Norsk nynorsk","Polski","Portugus","Portugus (BR)","Portugus","Romn","","Slovenina","slovenina","","svenska","Trke","","Ting Anh","",""]},backendNames:function(){return[this.$t("Settings.General Settings.Preferred API Backend.Invidious API"),this.$t("Settings.General Settings.Preferred API Backend.Local API")]},viewTypeNames:function(){return[this.$t("Settings.General Settings.Video View Type.Grid"),this.$t("Settings.General Settings.Video View Type.List")]},thumbnailTypeNames:function(){return[this.$t("Settings.General Settings.Thumbnail Preference.Default"),this.$t("Settings.General Settings.Thumbnail Preference.Beginning"),this.$t("Settings.General Settings.Thumbnail Preference.Middle"),this.$t("Settings.General Settings.Thumbnail Preference.End")]},externalLinkHandling:function(){return this.$store.getters.getExternalLinkHandling},externalLinkHandlingNames:function(){return[this.$t("Settings.General Settings.External Link Handling.Open Link"),this.$t("Settings.General Settings.External Link Handling.Ask Before Opening Link"),this.$t("Settings.General Settings.External Link Handling.No Action")]}},mounted:function(){this.setCurrentInvidiousInstanceBounce=tm()(this.setCurrentInvidiousInstance,500)},beforeDestroy:function(){if(""===this.currentInvidiousInstance){const e=this.invidiousInstancesList,t=Math.floor(Math.random()*e.length);this.setCurrentInvidiousInstance(e[t])}},methods:{handleInvidiousInstanceInput:function(e){const t=e.replace(/\/$/,"");this.setCurrentInvidiousInstanceBounce(t)},handleSetDefaultInstanceClick:function(){const e=this.currentInvidiousInstance;this.updateDefaultInvidiousInstance(e),$g(this.$t("Default Invidious instance has been set to {instance}",{instance:e}))},handleClearDefaultInstanceClick:function(){this.updateDefaultInvidiousInstance(""),$g(this.$t("Default Invidious instance has been cleared"))},handlePreferredApiBackend:function(e){this.updateBackendPreference(e),"local"===e&&this.updateForceLocalBackendForLegacy(!1)},...Zo(["setCurrentInvidiousInstance"]),...el(["updateEnableSearchSuggestions","updateBackendFallback","updateCheckForUpdates","updateCheckForBlogPosts","updateBarColor","updateBackendPreference","updateDefaultInvidiousInstance","updateLandingPage","updateRegion","updateListType","updateThumbnailPreference","updateForceLocalBackendForLegacy","updateCurrentLocale","updateExternalLinkHandling"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.General Settings.General Settings")}},[t("div",{staticClass:"switchColumnGrid"},[t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.General Settings.Check for Updates"),"default-value":e.checkForUpdates,compact:!0},on:{change:e.updateCheckForUpdates}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.General Settings.Fallback to Non-Preferred Backend on Failure"),"default-value":e.backendFallback,compact:!0,tooltip:e.$t("Tooltips.General Settings.Fallback to Non-Preferred Backend on Failure")},on:{change:e.updateBackendFallback}})],1),e._v(" "),t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.General Settings.Check for Latest Blog Posts"),"default-value":e.checkForBlogPosts,compact:!0},on:{change:e.updateCheckForBlogPosts}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.General Settings.Enable Search Suggestions"),"default-value":e.enableSearchSuggestions,compact:!0},on:{change:e.updateEnableSearchSuggestions}})],1)]),e._v(" "),t("div",{staticClass:"switchGrid"},[t("ft-select",{attrs:{placeholder:e.$t("Settings.General Settings.Preferred API Backend.Preferred API Backend"),value:e.backendPreference,"select-names":e.backendNames,"select-values":e.backendValues,tooltip:e.$t("Tooltips.General Settings.Preferred API Backend")},on:{change:e.handlePreferredApiBackend}}),e._v(" "),e._e(),e._v(" "),t("ft-select",{attrs:{placeholder:e.$t("Settings.General Settings.Video View Type.Video View Type"),value:e.listType,"select-names":e.viewTypeNames,"select-values":e.viewTypeValues},on:{change:e.updateListType}}),e._v(" "),t("ft-select",{attrs:{placeholder:e.$t("Settings.General Settings.Thumbnail Preference.Thumbnail Preference"),value:e.thumbnailPreference,"select-names":e.thumbnailTypeNames,"select-values":e.thumbnailTypeValues,tooltip:e.$t("Tooltips.General Settings.Thumbnail Preference")},on:{change:e.updateThumbnailPreference}}),e._v(" "),t("ft-select",{attrs:{placeholder:e.$t("Settings.General Settings.Locale Preference"),value:e.currentLocale,"select-names":e.localeNames,"select-values":e.localeOptions},on:{change:e.updateCurrentLocale}}),e._v(" "),t("ft-select",{attrs:{placeholder:e.$t("Settings.General Settings.Region for Trending"),value:e.region,"select-names":e.regionNames,"select-values":e.regionValues,tooltip:e.$t("Tooltips.General Settings.Region for Trending")},on:{change:e.updateRegion}}),e._v(" "),t("ft-select",{attrs:{placeholder:e.$t("Settings.General Settings.External Link Handling.External Link Handling"),value:e.externalLinkHandling,"select-names":e.externalLinkHandlingNames,"select-values":e.externalLinkHandlingValues,tooltip:e.$t("Tooltips.General Settings.External Link Handling")},on:{change:e.updateExternalLinkHandling}})],1),e._v(" "),"invidious"===e.backendPreference||e.backendFallback?t("div",[t("ft-flex-box",{staticClass:"settingsFlexStart460px"},[t("ft-input",{attrs:{placeholder:e.$t("Settings.General Settings.Current Invidious Instance"),"show-action-button":!1,"show-label":!0,value:e.currentInvidiousInstance,"data-list":e.invidiousInstancesList,tooltip:e.$t("Tooltips.General Settings.Invidious Instance")},on:{input:e.handleInvidiousInstanceInput}})],1),e._v(" "),t("ft-flex-box",[t("div",[t("a",{attrs:{href:"https://api.invidious.io"}},[e._v("\n          "+e._s(e.$t("Settings.General Settings.View all Invidious instance information"))+"\n        ")])])]),e._v(" "),""!==e.defaultInvidiousInstance?t("p",{staticClass:"center"},[e._v("\n      "+e._s(e.$t("Settings.General Settings.The currently set default instance is {instance}",{instance:e.defaultInvidiousInstance}))+"\n    ")]):[t("p",{staticClass:"center"},[e._v("\n        "+e._s(e.$t("Settings.General Settings.No default instance has been set"))+"\n      ")]),e._v(" "),t("p",{staticClass:"center"},[e._v("\n        "+e._s(e.$t("Settings.General Settings.Current instance will be randomized on startup"))+"\n      ")])],e._v(" "),t("ft-flex-box",[t("ft-button",{attrs:{label:e.$t("Settings.General Settings.Set Current Instance as Default")},on:{click:e.handleSetDefaultInstanceClick}}),e._v(" "),t("ft-button",{attrs:{label:e.$t("Settings.General Settings.Clear Default Instance")},on:{click:e.handleClearDefaultInstanceClick}})],1)],2):e._e()])}),[],!1,null,"6043eff6",null).exports,im=_l({name:"FtSlider",props:{label:{type:String,required:!0},defaultValue:{type:Number,required:!0},minValue:{type:Number,required:!0},maxValue:{type:Number,required:!0},step:{type:Number,required:!0},valueExtension:{type:String,default:null},disabled:{type:Boolean,default:!1}},data:function(){return{id:"",currentValue:0}},computed:{displayLabel:function(){return null===this.valueExtension?this.currentValue:`${this.currentValue}${this.valueExtension}`}},watch:{defaultValue:function(){this.currentValue=this.defaultValue}},mounted:function(){this.id=this._uid,this.currentValue=this.defaultValue}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("label",{staticClass:"pure-material-slider"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.currentValue,expression:"currentValue",modifiers:{number:!0}}],attrs:{id:e.id,disabled:e.disabled,type:"range",min:e.minValue,max:e.maxValue,step:e.step},domProps:{value:e.currentValue},on:{change:function(t){return e.$emit("change",e.currentValue)},__r:function(t){e.currentValue=e._n(t.target.value)},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("span",[e._v("\n    "+e._s(e.label)+":\n    "),t("span",[e._v("\n      "+e._s(e.displayLabel)+"\n    ")])])])}),[],!1,null,"6348f8dc",null).exports,rm={name:"ThemeSettings",components:{"ft-settings-section":Zp,"ft-select":Op,"ft-toggle-switch":Jp,"ft-slider":im,"ft-flex-box":wl,"ft-prompt":_p},data:function(){return{minUiScale:50,maxUiScale:300,uiScaleStep:5,disableSmoothScrollingToggleValue:!1,showRestartPrompt:!1,restartPromptValues:["yes","no"],baseThemeValues:["system","light","dark","black","dracula","catppuccinMocha"]}},computed:{barColor:function(){return this.$store.getters.getBarColor},baseTheme:function(){return this.$store.getters.getBaseTheme},mainColor:function(){return this.$store.getters.getMainColor},secColor:function(){return this.$store.getters.getSecColor},isSideNavOpen:function(){return this.$store.getters.getIsSideNavOpen},uiScale:function(){return this.$store.getters.getUiScale},disableSmoothScrolling:function(){return this.$store.getters.getDisableSmoothScrolling},expandSideBar:function(){return this.$store.getters.getExpandSideBar},hideLabelsSideBar:function(){return this.$store.getters.getHideLabelsSideBar},hideHeaderLogo:function(){return this.$store.getters.getHideHeaderLogo},restartPromptMessage:function(){return this.$t('Settings["The app needs to restart for changes to take effect. Restart and apply change?"]')},restartPromptNames:function(){return[this.$t("Yes"),this.$t("No")]},baseThemeNames:function(){return[this.$t("Settings.Theme Settings.Base Theme.System Default"),this.$t("Settings.Theme Settings.Base Theme.Light"),this.$t("Settings.Theme Settings.Base Theme.Dark"),this.$t("Settings.Theme Settings.Base Theme.Black"),this.$t("Settings.Theme Settings.Base Theme.Dracula"),this.$t("Settings.Theme Settings.Base Theme.Catppuccin Mocha")]},colorValues:function(){return td.map((e=>e.name))},colorNames:function(){return this.colorValues.map((e=>{const t=e.replaceAll(/([A-Z])/g," $1").trim();return this.$t(`Settings.Theme Settings.Main Color Theme.${t}`)}))},usingElectron:function(){return!1}},mounted:function(){this.disableSmoothScrollingToggleValue=this.disableSmoothScrolling},methods:{handleExpandSideBar:function(e){this.isSideNavOpen!==e&&this.$store.commit("toggleSideNav"),this.updateExpandSideBar(e)},handleRestartPrompt:function(e){this.disableSmoothScrollingToggleValue=e,this.showRestartPrompt=!0},handleSmoothScrolling:function(e){this.showRestartPrompt=!1,null!==e&&"no"!==e?this.updateDisableSmoothScrolling(this.disableSmoothScrollingToggleValue).then((()=>{const{ipcRenderer:e}=n(651);e.send("relaunchRequest")})):this.disableSmoothScrollingToggleValue=!this.disableSmoothScrollingToggleValue},...el(["updateBarColor","updateBaseTheme","updateMainColor","updateSecColor","updateExpandSideBar","updateUiScale","updateDisableSmoothScrolling","updateHideLabelsSideBar","updateHideHeaderLogo"])}},am=_l(rm,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.Theme Settings.Theme Settings")}},[t("div",{staticClass:"switchColumnGrid"},[t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Theme Settings.Match Top Bar with Main Color"),compact:!0,"default-value":e.barColor},on:{change:e.updateBarColor}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Theme Settings.Expand Side Bar by Default"),compact:!0,"default-value":e.expandSideBar},on:{change:e.handleExpandSideBar}}),e._v(" "),e.usingElectron?t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Theme Settings.Disable Smooth Scrolling"),compact:!0,"default-value":e.disableSmoothScrollingToggleValue},on:{change:e.handleRestartPrompt}}):e._e()],1),e._v(" "),t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Theme Settings.Hide Side Bar Labels"),compact:!0,"default-value":e.hideLabelsSideBar},on:{change:e.updateHideLabelsSideBar}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Theme Settings.Hide FreeTube Header Logo"),compact:!0,"default-value":e.hideHeaderLogo},on:{change:e.updateHideHeaderLogo}})],1)]),e._v(" "),t("ft-flex-box",[t("ft-slider",{attrs:{label:e.$t("Settings.Theme Settings.UI Scale"),"default-value":e.uiScale,"min-value":e.minUiScale,"max-value":e.maxUiScale,step:e.uiScaleStep,"value-extension":"%"},on:{change:function(t){e.updateUiScale(parseInt(t))}}})],1),e._v(" "),t("br"),e._v(" "),t("ft-flex-box",[t("ft-select",{attrs:{placeholder:e.$t("Settings.Theme Settings.Base Theme.Base Theme"),value:e.baseTheme,"select-names":e.baseThemeNames,"select-values":e.baseThemeValues},on:{change:e.updateBaseTheme}}),e._v(" "),t("ft-select",{attrs:{placeholder:e.$t("Settings.Theme Settings.Main Color Theme.Main Color Theme"),value:e.mainColor,"select-names":e.colorNames,"select-values":e.colorValues},on:{change:e.updateMainColor}}),e._v(" "),t("ft-select",{attrs:{placeholder:e.$t("Settings.Theme Settings.Secondary Color Theme"),value:e.secColor,"select-names":e.colorNames,"select-values":e.colorValues},on:{change:e.updateSecColor}})],1),e._v(" "),e.showRestartPrompt?t("ft-prompt",{attrs:{label:e.restartPromptMessage,"option-names":e.restartPromptNames,"option-values":e.restartPromptValues},on:{click:e.handleSmoothScrolling}}):e._e()],1)}),[],!1,null,null,null).exports,sm=_l({name:"PlayerSettings",components:{"ft-settings-section":Zp,"ft-select":Op,"ft-toggle-switch":Jp,"ft-slider":im,"ft-flex-box":wl,"ft-button":Oh,"ft-input":xl,"ft-tooltip":kl},data:function(){return{formatValues:["dash","legacy","audio"],qualityValues:["auto",144,240,360,480,720,1080],playbackRateIntervalValues:[.1,.25,.5,1],screenshotFormatNames:["PNG","JPEG"],screenshotFormatValues:["png","jpg"],screenshotFolderPlaceholder:"",screenshotFilenameExample:"",screenshotDefaultPattern:"%Y%M%D-%H%N%S"}},computed:{backendPreference:function(){return this.$store.getters.getBackendPreference},autoplayVideos:function(){return this.$store.getters.getAutoplayVideos},autoplayPlaylists:function(){return this.$store.getters.getAutoplayPlaylists},playNextVideo:function(){return this.$store.getters.getPlayNextVideo},enableSubtitles:function(){return this.$store.getters.getEnableSubtitles},forceLocalBackendForLegacy:function(){return this.$store.getters.getForceLocalBackendForLegacy},proxyVideos:function(){return this.$store.getters.getProxyVideos},defaultSkipInterval:function(){return parseInt(this.$store.getters.getDefaultSkipInterval)},defaultInterval:function(){return parseInt(this.$store.getters.getDefaultInterval)},defaultVolume:function(){return Math.round(100*parseFloat(this.$store.getters.getDefaultVolume))},defaultPlayback:function(){return parseFloat(this.$store.getters.getDefaultPlayback)},defaultVideoFormat:function(){return this.$store.getters.getDefaultVideoFormat},defaultQuality:function(){return this.$store.getters.getDefaultQuality},defaultTheatreMode:function(){return this.$store.getters.getDefaultTheatreMode},hideRecommendedVideos:function(){return this.$store.getters.getHideRecommendedVideos},videoVolumeMouseScroll:function(){return this.$store.getters.getVideoVolumeMouseScroll},videoPlaybackRateMouseScroll:function(){return this.$store.getters.getVideoPlaybackRateMouseScroll},videoSkipMouseScroll:function(){return this.$store.getters.getVideoSkipMouseScroll},displayVideoPlayButton:function(){return this.$store.getters.getDisplayVideoPlayButton},enterFullscreenOnDisplayRotate:function(){return this.$store.getters.getEnterFullscreenOnDisplayRotate},maxVideoPlaybackRate:function(){return parseInt(this.$store.getters.getMaxVideoPlaybackRate)},videoPlaybackRateInterval:function(){return this.$store.getters.getVideoPlaybackRateInterval},formatNames:function(){return[this.$t("Settings.Player Settings.Default Video Format.Dash Formats"),this.$t("Settings.Player Settings.Default Video Format.Legacy Formats"),this.$t("Settings.Player Settings.Default Video Format.Audio Formats")]},qualityNames:function(){return[this.$t("Settings.Player Settings.Default Quality.Auto"),this.$t("Settings.Player Settings.Default Quality.144p"),this.$t("Settings.Player Settings.Default Quality.240p"),this.$t("Settings.Player Settings.Default Quality.360p"),this.$t("Settings.Player Settings.Default Quality.480p"),this.$t("Settings.Player Settings.Default Quality.720p"),this.$t("Settings.Player Settings.Default Quality.1080p")]},enableScreenshot:function(){return this.$store.getters.getEnableScreenshot},screenshotFormat:function(){return this.$store.getters.getScreenshotFormat},screenshotQuality:function(){return this.$store.getters.getScreenshotQuality},screenshotAskPath:function(){return this.$store.getters.getScreenshotAskPath},screenshotFolder:function(){return this.$store.getters.getScreenshotFolderPath},screenshotFilenamePattern:function(){return this.$store.getters.getScreenshotFilenamePattern}},watch:{screenshotFolder:function(){this.getScreenshotFolderPlaceholder()}},mounted:function(){this.getScreenshotFolderPlaceholder(),this.getScreenshotFilenameExample(this.screenshotFilenamePattern)},methods:{handleUpdateScreenshotFormat:async function(e){await this.updateScreenshotFormat(e),this.getScreenshotFilenameExample(this.screenshotFilenamePattern)},getScreenshotEmptyFolderPlaceholder:async function(){return Rd().join(await Xg(),"Freetube")},getScreenshotFolderPlaceholder:function(){""===this.screenshotFolder?this.getScreenshotEmptyFolderPlaceholder().then((e=>{this.screenshotFolderPlaceholder=e})):this.screenshotFolderPlaceholder=this.screenshotFolder},chooseScreenshotFolder:async function(){const e=await hd.ipcRenderer.invoke(Dl,{properties:["openDirectory"]});e.canceled||(await this.updateScreenshotFolderPath(e.filePaths[0]),this.getScreenshotFolderPlaceholder())},handleScreenshotFilenamePatternChanged:async function(e){const t=e.trim();await this.getScreenshotFilenameExample(t)&&(t?this.updateScreenshotFilenamePattern(t):this.updateScreenshotFilenamePattern(this.screenshotDefaultPattern))},getScreenshotFilenameExample:function(e){return this.parseScreenshotCustomFileName({pattern:e||this.screenshotDefaultPattern,date:new Date(Date.now()),playerTime:123.456,videoId:"dQw4w9WgXcQ"}).then((e=>(this.screenshotFilenameExample=`${e}.${this.screenshotFormat}`,!0))).catch((e=>(this.screenshotFilenameExample=` ${this.$t(`Settings.Player Settings.Screenshot.Error.${e.message}`)}`,!1)))},...el(["updateAutoplayVideos","updateAutoplayPlaylists","updatePlayNextVideo","updateEnableSubtitles","updateForceLocalBackendForLegacy","updateProxyVideos","updateDefaultTheatreMode","updateDefaultSkipInterval","updateDefaultInterval","updateDefaultVolume","updateDefaultPlayback","updateDefaultVideoFormat","updateDefaultQuality","updateVideoVolumeMouseScroll","updateVideoPlaybackRateMouseScroll","updateVideoSkipMouseScroll","updateDisplayVideoPlayButton","updateEnterFullscreenOnDisplayRotate","updateMaxVideoPlaybackRate","updateVideoPlaybackRateInterval","updateEnableScreenshot","updateScreenshotFormat","updateScreenshotQuality","updateScreenshotAskPath","updateScreenshotFolderPath","updateScreenshotFilenamePattern","parseScreenshotCustomFileName"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.Player Settings.Player Settings")}},[t("div",{staticClass:"switchColumnGrid"},[t("div",{staticClass:"switchColumn"},[e._e(),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Player Settings.Force Local Backend for Legacy Formats"),compact:!0,disabled:"local"===e.backendPreference,"default-value":e.forceLocalBackendForLegacy,tooltip:e.$t("Tooltips.Player Settings.Force Local Backend for Legacy Formats")},on:{change:e.updateForceLocalBackendForLegacy}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Player Settings.Proxy Videos Through Invidious"),compact:!0,"default-value":e.proxyVideos,tooltip:e.$t("Tooltips.Player Settings.Proxy Videos Through Invidious")},on:{change:e.updateProxyVideos}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Player Settings.Enable Theatre Mode by Default"),compact:!0,"default-value":e.defaultTheatreMode},on:{change:e.updateDefaultTheatreMode}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Player Settings.Scroll Volume Over Video Player"),compact:!0,disabled:e.videoSkipMouseScroll,"default-value":e.videoVolumeMouseScroll},on:{change:e.updateVideoVolumeMouseScroll}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Player Settings.Scroll Playback Rate Over Video Player"),compact:!0,"default-value":e.videoPlaybackRateMouseScroll,tooltip:e.$t("Tooltips.Player Settings.Scroll Playback Rate Over Video Player")},on:{change:e.updateVideoPlaybackRateMouseScroll}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Player Settings.Skip by Scrolling Over Video Player"),compact:!0,disabled:e.videoVolumeMouseScroll,"default-value":e.videoSkipMouseScroll,tooltip:e.$t("Tooltips.Player Settings.Skip by Scrolling Over Video Player")},on:{change:e.updateVideoSkipMouseScroll}})],1),e._v(" "),t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Player Settings.Autoplay Videos"),compact:!0,"default-value":e.autoplayVideos},on:{change:e.updateAutoplayVideos}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Player Settings.Autoplay Playlists"),compact:!0,"default-value":e.autoplayPlaylists},on:{change:e.updateAutoplayPlaylists}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Player Settings.Play Next Video"),compact:!0,disabled:e.hideRecommendedVideos,"default-value":e.playNextVideo},on:{change:e.updatePlayNextVideo}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Player Settings.Display Play Button In Video Player"),compact:!0,"default-value":e.displayVideoPlayButton},on:{change:e.updateDisplayVideoPlayButton}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Player Settings.Enter Fullscreen on Display Rotate"),compact:!0,"default-value":e.enterFullscreenOnDisplayRotate},on:{change:e.updateEnterFullscreenOnDisplayRotate}})],1)]),e._v(" "),t("ft-flex-box",[t("ft-slider",{attrs:{label:e.$t("Settings.Player Settings.Fast-Forward / Rewind Interval"),"default-value":e.defaultSkipInterval,"min-value":1,"max-value":70,step:1,"value-extension":"s"},on:{change:e.updateDefaultSkipInterval}}),e._v(" "),t("ft-slider",{attrs:{label:e.$t("Settings.Player Settings.Next Video Interval"),"default-value":e.defaultInterval,"min-value":0,"max-value":60,step:1,"value-extension":"s"},on:{change:e.updateDefaultInterval}}),e._v(" "),t("ft-slider",{attrs:{label:e.$t("Settings.Player Settings.Default Volume"),"default-value":e.defaultVolume,"min-value":0,"max-value":100,step:1,"value-extension":"%"},on:{change:function(t){return e.updateDefaultVolume(t/100)}}}),e._v(" "),t("ft-slider",{attrs:{label:e.$t("Settings.Player Settings.Default Playback Rate"),"default-value":e.defaultPlayback,"min-value":.25,"max-value":8,step:.25,"value-extension":""},on:{change:e.updateDefaultPlayback}}),e._v(" "),t("ft-slider",{attrs:{label:e.$t("Settings.Player Settings.Max Video Playback Rate"),"default-value":e.maxVideoPlaybackRate,"min-value":2,"max-value":10,step:1,"value-extension":"x"},on:{change:e.updateMaxVideoPlaybackRate}}),e._v(" "),t("ft-select",{attrs:{placeholder:e.$t("Settings.Player Settings.Video Playback Rate Interval"),value:e.videoPlaybackRateInterval,"select-names":e.playbackRateIntervalValues,"select-values":e.playbackRateIntervalValues},on:{change:e.updateVideoPlaybackRateInterval}})],1),e._v(" "),t("ft-flex-box",[t("ft-select",{attrs:{placeholder:e.$t("Settings.Player Settings.Default Video Format.Default Video Format"),value:e.defaultVideoFormat,"select-names":e.formatNames,"select-values":e.formatValues,tooltip:e.$t("Tooltips.Player Settings.Default Video Format")},on:{change:e.updateDefaultVideoFormat}}),e._v(" "),t("ft-select",{attrs:{placeholder:e.$t("Settings.Player Settings.Default Quality.Default Quality"),value:e.defaultQuality,"select-names":e.qualityNames,"select-values":e.qualityValues},on:{change:e.updateDefaultQuality}})],1),e._v(" "),t("br"),e._v(" "),t("ft-flex-box",[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Player Settings.Screenshot.Enable"),"default-value":e.enableScreenshot},on:{change:e.updateEnableScreenshot}})],1),e._v(" "),e.enableScreenshot?t("div",[t("ft-flex-box",[t("ft-select",{attrs:{placeholder:e.$t("Settings.Player Settings.Screenshot.Format Label"),value:e.screenshotFormat,"select-names":e.screenshotFormatNames,"select-values":e.screenshotFormatValues},on:{change:e.handleUpdateScreenshotFormat}}),e._v(" "),t("ft-slider",{attrs:{label:e.$t("Settings.Player Settings.Screenshot.Quality Label"),"default-value":e.screenshotQuality,"min-value":0,"max-value":100,step:1,"value-extension":"%",disabled:"jpg"!==e.screenshotFormat},on:{change:e.updateScreenshotQuality}})],1),e._v(" "),t("ft-flex-box",[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Player Settings.Screenshot.Ask Path"),"default-value":e.screenshotAskPath},on:{change:e.updateScreenshotAskPath}})],1),e._v(" "),e.screenshotAskPath?e._e():t("ft-flex-box",{staticClass:"screenshotFolderContainer"},[t("p",{staticClass:"screenshotFolderLabel"},[e._v("\n        "+e._s(e.$t("Settings.Player Settings.Screenshot.Folder Label"))+"\n      ")]),e._v(" "),t("ft-input",{staticClass:"screenshotFolderPath",attrs:{placeholder:e.screenshotFolderPlaceholder,"show-action-button":!1,"show-label":!1,disabled:!0}}),e._v(" "),t("ft-button",{staticClass:"screenshotFolderButton",attrs:{label:e.$t("Settings.Player Settings.Screenshot.Folder Button")},on:{click:e.chooseScreenshotFolder}})],1),e._v(" "),t("ft-flex-box",{staticClass:"screenshotFolderContainer"},[t("p",{staticClass:"screenshotFilenamePatternTitle"},[e._v("\n        "+e._s(e.$t("Settings.Player Settings.Screenshot.File Name Label"))+"\n        "),t("ft-tooltip",{staticClass:"selectTooltip",attrs:{position:"bottom",tooltip:e.$t("Settings.Player Settings.Screenshot.File Name Tooltip")}})],1),e._v(" "),t("ft-input",{staticClass:"screenshotFilenamePatternInput",attrs:{placeholder:"",value:e.screenshotFilenamePattern,spellcheck:!1,"show-action-button":!1,"show-label":!1},on:{input:e.handleScreenshotFilenamePatternChanged}}),e._v(" "),t("ft-input",{staticClass:"screenshotFilenamePatternExample",attrs:{placeholder:`${e.screenshotFilenameExample}`,"show-action-button":!1,"show-label":!1,disabled:!0}})],1)],1):e._e()],1)}),[],!1,null,"476413ed",null).exports,om=_l({name:"ExternalPlayerSettings",components:{"ft-settings-section":Zp,"ft-select":Op,"ft-input":xl,"ft-toggle-switch":Jp,"ft-flex-box":wl},data:function(){return{}},computed:{externalPlayerNames:function(){const e=this.$store.getters.getExternalPlayerNames;return this.$store.getters.getExternalPlayerNameTranslationKeys.map(((t,n)=>this.$te(t)?this.$t(t):e[n]))},externalPlayerValues:function(){return this.$store.getters.getExternalPlayerValues},externalPlayer:function(){return this.$store.getters.getExternalPlayer},externalPlayerExecutable:function(){return this.$store.getters.getExternalPlayerExecutable},externalPlayerIgnoreWarnings:function(){return this.$store.getters.getExternalPlayerIgnoreWarnings},externalPlayerCustomArgs:function(){return this.$store.getters.getExternalPlayerCustomArgs},externalPlayerCustomArgsTooltip:function(){const e=this.$t("Tooltips.External Player Settings.Custom External Player Arguments"),t=this.$store.getters.getExternalPlayerCmdArguments[this.externalPlayer];return t&&"string"==typeof t.defaultCustomArguments&&""!==t.defaultCustomArguments?`${e} ${this.$t("Tooltips.External Player Settings.DefaultCustomArgumentsTemplate",{defaultCustomArguments:t.defaultCustomArguments})}`:e}},methods:{...el(["updateExternalPlayer","updateExternalPlayerExecutable","updateExternalPlayerIgnoreWarnings","updateExternalPlayerCustomArgs"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.External Player Settings.External Player Settings")}},[t("ft-flex-box",[t("ft-select",{attrs:{placeholder:e.$t("Settings.External Player Settings.External Player"),value:e.externalPlayer,"select-names":e.externalPlayerNames,"select-values":e.externalPlayerValues,tooltip:e.$t("Tooltips.External Player Settings.External Player")},on:{change:e.updateExternalPlayer}})],1),e._v(" "),t("ft-flex-box",[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.External Player Settings.Ignore Unsupported Action Warnings"),"default-value":e.externalPlayerIgnoreWarnings,disabled:""===e.externalPlayer,compact:!0,tooltip:e.$t("Tooltips.External Player Settings.Ignore Warnings")},on:{change:e.updateExternalPlayerIgnoreWarnings}})],1),e._v(" "),""!==e.externalPlayer?t("ft-flex-box",{staticClass:"settingsFlexStart460px"},[t("ft-input",{attrs:{placeholder:e.$t("Settings.External Player Settings.Custom External Player Executable"),"show-action-button":!1,"show-label":!0,value:e.externalPlayerExecutable,tooltip:e.$t("Tooltips.External Player Settings.Custom External Player Executable")},on:{input:e.updateExternalPlayerExecutable}}),e._v(" "),t("ft-input",{attrs:{placeholder:e.$t("Settings.External Player Settings.Custom External Player Arguments"),"show-action-button":!1,"show-label":!0,value:e.externalPlayerCustomArgs,tooltip:e.externalPlayerCustomArgsTooltip},on:{input:e.updateExternalPlayerCustomArgs}})],1):e._e()],1)}),[],!1,null,null,null).exports,lm=_l({name:"SubscriptionSettings",components:{"ft-settings-section":Zp,"ft-toggle-switch":Jp},data:function(){return{title:"Subscription Settings"}},computed:{hideWatchedSubs:function(){return this.$store.getters.getHideWatchedSubs},useRssFeeds:function(){return this.$store.getters.getUseRssFeeds},fetchSubscriptionsAutomatically:function(){return this.$store.getters.getFetchSubscriptionsAutomatically}},methods:{...el(["updateHideWatchedSubs","updateUseRssFeeds","updateFetchSubscriptionsAutomatically"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.Subscription Settings.Subscription Settings")}},[t("div",{staticClass:"switchColumnGrid"},[t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Subscription Settings.Fetch Automatically"),"default-value":e.fetchSubscriptionsAutomatically,tooltip:e.$t("Tooltips.Subscription Settings.Fetch Automatically"),compact:!0},on:{change:e.updateFetchSubscriptionsAutomatically}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Subscription Settings.Fetch Feeds from RSS"),"default-value":e.useRssFeeds,tooltip:e.$t("Tooltips.Subscription Settings.Fetch Feeds from RSS"),compact:!0},on:{change:e.updateUseRssFeeds}})],1),e._v(" "),t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Subscription Settings.Hide Videos on Watch"),"default-value":e.hideWatchedSubs,compact:!0},on:{change:e.updateHideWatchedSubs}})],1)])])}),[],!1,null,null,null).exports,cm=_l({name:"DownloadSettings",components:{"ft-settings-section":Zp,"ft-toggle-switch":Jp,"ft-flex-box":wl,"ft-select":Op,"ft-button":Oh,"ft-input":xl},data:function(){return{askForDownloadPath:!1,downloadBehaviorValues:["download","open"]}},computed:{downloadPath:function(){return this.$store.getters.getDownloadFolderPath},downloadBehaviorNames:function(){return[this.$t("Settings.Download Settings.Download in app"),this.$t("Settings.Download Settings.Open in web browser")]},downloadBehavior:function(){return this.$store.getters.getDownloadBehavior}},mounted:function(){this.askForDownloadPath=""===this.downloadPath},methods:{handleDownloadingSettingChange:function(e){this.askForDownloadPath=e,!0===e&&this.updateDownloadFolderPath("")},chooseDownloadingFolder:async function(){const e=await hd.ipcRenderer.invoke(Dl,{properties:["openDirectory"]});this.updateDownloadFolderPath(e.filePaths[0])},...el(["updateDownloadFolderPath","updateDownloadBehavior"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.Download Settings.Download Settings")}},[t("ft-flex-box",[t("ft-select",{attrs:{placeholder:e.$t("Settings.Download Settings.Download Behavior"),value:e.downloadBehavior,"select-names":e.downloadBehaviorNames,"select-values":e.downloadBehaviorValues},on:{change:e.updateDownloadBehavior}})],1),e._v(" "),"download"===e.downloadBehavior?t("ft-flex-box",{staticClass:"settingsFlexStart500px"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Download Settings.Ask Download Path"),"default-value":e.askForDownloadPath},on:{change:e.handleDownloadingSettingChange}})],1):e._e(),e._v(" "),e.askForDownloadPath||"download"!==e.downloadBehavior?e._e():t("ft-flex-box",[t("ft-input",{staticClass:"folderDisplay",attrs:{placeholder:e.downloadPath,"show-action-button":!1,"show-label":!1,disabled:!0}})],1),e._v(" "),e.askForDownloadPath||"download"!==e.downloadBehavior?e._e():t("ft-flex-box",[t("ft-button",{attrs:{label:e.$t("Settings.Download Settings.Choose Path")},on:{click:e.chooseDownloadingFolder}})],1)],1)}),[],!1,null,"10d04820",null).exports,um=_l({name:"PrivacySettings",components:{"ft-settings-section":Zp,"ft-button":Oh,"ft-toggle-switch":Jp,"ft-flex-box":wl,"ft-prompt":_p},data:function(){return{showSearchCachePrompt:!1,showRemoveHistoryPrompt:!1,showRemoveSubscriptionsPrompt:!1,promptValues:["yes","no"]}},computed:{rememberHistory:function(){return this.$store.getters.getRememberHistory},saveWatchedProgress:function(){return this.$store.getters.getSaveWatchedProgress},removeVideoMetaFiles:function(){return this.$store.getters.getRemoveVideoMetaFiles},profileList:function(){return this.$store.getters.getProfileList},removeSubscriptionsPromptMessage:function(){return this.$t('Settings.Privacy Settings["Are you sure you want to remove all subscriptions and profiles?  This cannot be undone."]')},promptNames:function(){return[this.$t("Yes"),this.$t("No")]}},methods:{handleSearchCache:function(e){this.showSearchCachePrompt=!1,"yes"===e&&(this.clearSessionSearchHistory(),$g(this.$t("Settings.Privacy Settings.Search cache has been cleared")))},handleRememberHistory:function(e){e||this.updateSaveWatchedProgress(!1),this.updateRememberHistory(e)},handleVideoMetaFiles:function(e){e||this.updateRemoveVideoMetaFiles(!1),this.updateRemoveVideoMetaFiles(e)},handleRemoveHistory:function(e){this.showRemoveHistoryPrompt=!1,"yes"===e&&(this.removeAllHistory(),$g(this.$t("Settings.Privacy Settings.Watch history has been cleared")))},handleRemoveSubscriptions:function(e){this.showRemoveSubscriptionsPrompt=!1,this.updateActiveProfile(Vl),"yes"===e&&(this.profileList.forEach((e=>{if(e._id===Vl){const t={_id:Vl,name:e.name,bgColor:e.bgColor,textColor:e.textColor,subscriptions:[]};this.updateProfile(t)}else this.removeProfile(e._id)})),this.updateAllSubscriptionsList([]),this.updateProfileSubscriptions({activeProfile:Vl,videoList:[],errorChannels:[]}))},...el(["updateRememberHistory","updateRemoveVideoMetaFiles","removeAllHistory","updateSaveWatchedProgress","clearSessionSearchHistory","updateProfile","removeProfile","updateActiveProfile","updateAllSubscriptionsList","updateProfileSubscriptions"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.Privacy Settings.Privacy Settings")}},[t("div",{staticClass:"switchColumnGrid"},[t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Privacy Settings.Remember History"),compact:!0,"default-value":e.rememberHistory},on:{change:e.handleRememberHistory}})],1),e._v(" "),t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Privacy Settings.Save Watched Progress"),compact:!0,disabled:!e.rememberHistory,"default-value":e.saveWatchedProgress},on:{change:e.updateSaveWatchedProgress}})],1),e._v(" "),t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Privacy Settings.Automatically Remove Video Meta Files"),compact:!0,"default-value":e.removeVideoMetaFiles,tooltip:e.$t("Tooltips.Privacy Settings.Remove Video Meta Files")},on:{change:e.handleVideoMetaFiles}})],1)]),e._v(" "),t("br"),e._v(" "),t("ft-flex-box",[t("ft-button",{attrs:{label:e.$t("Settings.Privacy Settings.Clear Search Cache"),"text-color":"var(--text-with-main-color)","background-color":"var(--primary-color)"},on:{click:function(t){e.showSearchCachePrompt=!0}}}),e._v(" "),t("ft-button",{attrs:{label:e.$t("Settings.Privacy Settings.Remove Watch History"),"text-color":"var(--text-with-main-color)","background-color":"var(--primary-color)"},on:{click:function(t){e.showRemoveHistoryPrompt=!0}}}),e._v(" "),t("ft-button",{attrs:{label:e.$t("Settings.Privacy Settings.Remove All Subscriptions / Profiles"),"text-color":"var(--text-with-main-color)","background-color":"var(--primary-color)"},on:{click:function(t){e.showRemoveSubscriptionsPrompt=!0}}})],1),e._v(" "),e.showSearchCachePrompt?t("ft-prompt",{attrs:{label:e.$t("Settings.Privacy Settings.Are you sure you want to clear out your search cache?"),"option-names":e.promptNames,"option-values":e.promptValues},on:{click:e.handleSearchCache}}):e._e(),e._v(" "),e.showRemoveHistoryPrompt?t("ft-prompt",{attrs:{label:e.$t("Settings.Privacy Settings.Are you sure you want to remove your entire watch history?"),"option-names":e.promptNames,"option-values":e.promptValues},on:{click:e.handleRemoveHistory}}):e._e(),e._v(" "),e.showRemoveSubscriptionsPrompt?t("ft-prompt",{attrs:{label:e.removeSubscriptionsPromptMessage,"option-names":e.promptNames,"option-values":e.promptValues},on:{click:e.handleRemoveSubscriptions}}):e._e()],1)}),[],!1,null,null,null).exports,hm={name:"DataSettings",components:{"ft-settings-section":Zp,"ft-button":Oh,"ft-flex-box":wl,"ft-prompt":_p},data:function(){return{showImportSubscriptionsPrompt:!1,showExportSubscriptionsPrompt:!1,subscriptionsPromptValues:["freetube","youtubenew","youtube","youtubeold","newpipe"]}},computed:{rememberHistory:function(){return this.$store.getters.getRememberHistory},saveWatchedProgress:function(){return this.$store.getters.getSaveWatchedProgress},backendPreference:function(){return this.$store.getters.getBackendPreference},backendFallback:function(){return this.$store.getters.getBackendFallback},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},profileList:function(){return this.$store.getters.getProfileList},allPlaylists:function(){return this.$store.getters.getAllPlaylists},historyCache:function(){return this.$store.getters.getHistoryCache},exportSubscriptionsPromptNames:function(){const e=this.$t("Settings.Data Settings.Export FreeTube"),t=this.$t("Settings.Data Settings.Export YouTube");return[`${e} (.db)`,`${t} (.csv)`,`${t} (.json)`,`${t} (.opml)`,`${this.$t("Settings.Data Settings.Export NewPipe")} (.json)`]},usingElectron:function(){return!1},primaryProfile:function(){return JSON.parse(JSON.stringify(this.profileList[0]))}},methods:{openProfileSettings:function(){this.$router.push({path:"/settings/profile/"})},importSubscriptions:async function(){const e={properties:["openFile"],filters:[{name:this.$t("Settings.Data Settings.Subscription File"),extensions:["db","csv","json","opml","xml"]}]},t=await jg(e);if(t.canceled||0===t.filePaths?.length)return;let n;try{n=await Vg(t)}catch(e){return void $g(`${this.$t("Settings.Data Settings.Unable to read file")}: ${e}`)}t.filePaths.forEach((e=>{e.endsWith(".csv")?this.importCsvYouTubeSubscriptions(n):e.endsWith(".db")?this.importFreeTubeSubscriptions(n):e.endsWith(".opml")||e.endsWith(".xml")?this.importOpmlYouTubeSubscriptions(n):e.endsWith(".json")&&(n=JSON.parse(n),n.subscriptions?this.importNewPipeSubscriptions(n):this.importYouTubeSubscriptions(n))}))},importFreeTubeSubscriptions:function(e){(e=e.split("\n")).pop();const t=(e=e.map((e=>JSON.parse(e))))[0];t.channelId&&t.channelName&&t.channelThumbnail&&t._id&&t.profile&&(e=this.convertOldFreeTubeFormatToNew(e)),e.forEach((e=>{const t=["_id","name","bgColor","textColor","subscriptions"],n={};if(Object.keys(e).forEach((i=>{t.includes(i)?n[i]=e[i]:$g(`${this.$t("Settings.Data Settings.Unknown data key")}: ${i}`)})),Object.keys(n).length<t.length)$g(this.$t("Settings.Data Settings.Profile object has insufficient data, skipping item"));else if("All Channels"===n.name||n._id===Vl)this.primaryProfile.subscriptions=this.primaryProfile.subscriptions.concat(n.subscriptions),this.primaryProfile.subscriptions=this.primaryProfile.subscriptions.filter(((e,t)=>this.primaryProfile.subscriptions.findIndex((t=>t.name===e.name))===t)),this.updateProfile(this.primaryProfile);else{const e=this.profileList.findIndex((e=>e.name.includes(n.name)));if(-1!==e){const t=JSON.parse(JSON.stringify(this.profileList[e]));t.subscriptions=t.subscriptions.concat(n.subscriptions),t.subscriptions=t.subscriptions.filter(((e,n)=>t.subscriptions.findIndex((t=>t.name===e.name))===n)),this.updateProfile(t)}else this.updateProfile(n);this.primaryProfile.subscriptions=this.primaryProfile.subscriptions.concat(n.subscriptions),this.primaryProfile.subscriptions=this.primaryProfile.subscriptions.filter(((e,t)=>this.primaryProfile.subscriptions.findIndex((t=>t.name===e.name))===t)),this.updateProfile(this.primaryProfile)}})),$g(this.$t("Settings.Data Settings.All subscriptions and profiles have been successfully imported"))},importCsvYouTubeSubscriptions:async function(e){const t=e.split("\n").filter((e=>""!==e)),n=[],i=[];$g(this.$t("Settings.Data Settings.This might take a while, please wait")),this.updateShowProgressBar(!0),this.setProgressBarPercentage(0);let r=0;const a=t.slice(1).map((e=>[...e.matchAll(/(?:,|\n|^)("(?:(?:"")*[^"]*)*"|[^\n",]*|(?:\n|$))/g)].map((e=>{let t=e[1];return t.startsWith('"')&&(t=t.substring(1,t.length-2).replace('""','"')),t})))).filter((e=>e.length>0));new Promise((e=>{let t=0;a.forEach((async s=>{const{subscription:o,result:l}=await this.subscribeToChannel({channelId:s[0],subscriptions:n,channelName:s[2],count:r++,total:a.length});1===l?n.push(o):-1===l&&i.push(s),t++,t===a.length&&e(!0)}))})).then((e=>{this.primaryProfile.subscriptions=this.primaryProfile.subscriptions.concat(n),this.updateProfile(this.primaryProfile),0!==i.length?(i.forEach((e=>{console.error(`failed to import ${e[2]}. Url to channel: ${e[1]}.`)})),$g(this.$t("Settings.Data Settings.One or more subscriptions were unable to be imported"))):$g(this.$t("Settings.Data Settings.All subscriptions have been successfully imported"))})).finally((e=>{this.updateShowProgressBar(!1)}))},importYouTubeSubscriptions:async function(e){const t=[],n=[];$g(this.$t("Settings.Data Settings.This might take a while, please wait")),this.updateShowProgressBar(!0),this.setProgressBarPercentage(0);let i=0;new Promise((r=>{let a=0;e.forEach((async s=>{const o=s.snippet;if(void 0===o)throw $g(this.$t("Settings.Data Settings.Invalid subscriptions file")),new Error("Unable to find channel data");const{subscription:l,result:c}=await this.subscribeToChannel({channelId:o.resourceId.channelId,subscriptions:t,channelName:o.title,thumbnail:o.thumbnails.default.url,count:i++,total:e.length});1===c?t.push(l):-1===c&&n.push([o.resourceId.channelId,`https://www.youtube.com/channel/${o.resourceId.channelId}`,o.title]),a++,a===e.length&&r(!0)}))})).then((e=>{this.primaryProfile.subscriptions=this.primaryProfile.subscriptions.concat(t),this.updateProfile(this.primaryProfile),0!==n.length?(n.forEach((e=>{console.error(`failed to import ${e[2]}. Url to channel: ${e[1]}.`)})),$g(this.$t("Settings.Data Settings.One or more subscriptions were unable to be imported"))):$g(this.$t("Settings.Data Settings.All subscriptions have been successfully imported"))})).finally((e=>{this.updateShowProgressBar(!1)}))},importOpmlYouTubeSubscriptions:async function(e){let t;const n=new DOMParser;try{t=n.parseFromString(e,"application/xml");const i=t.querySelector("parsererror");if(i)throw i.textContent}catch(i){console.error("error reading OPML subscriptions file, falling back to HTML parser..."),console.error(i);try{t=n.parseFromString(e,"text/html")}catch{return void $g(`${this.$t("Settings.Data Settings.Invalid subscriptions file")}: ${i}`)}}const i=t.querySelectorAll("body outline[xmlUrl]");if(0===i.length)return void $g(this.$t("Settings.Data Settings.Invalid subscriptions file"));const r=[];$g(this.$t("Settings.Data Settings.This might take a while, please wait")),this.updateShowProgressBar(!0),this.setProgressBarPercentage(0);let a=0;i.forEach((async e=>{const t=e.getAttribute("xmlUrl");let n;if(t.includes("https://www.youtube.com/feeds/videos.xml?channel_id=")?n=new URL(t).searchParams.get("channel_id"):t.includes("/feed/channel/")?n=new URL(t).pathname.split("/").filter((e=>e)).at(-1):console.error(`Unknown xmlUrl format: ${t}`),-1===this.primaryProfile.subscriptions.findIndex((e=>e.id===n))){let e;if(e="invidious"===this.backendPreference?await this.getChannelInfoInvidious(n):await this.getChannelInfoLocal(n),void 0!==e.author){const t={id:n,name:e.author,thumbnail:e.authorThumbnails[1].url};r.push(t)}}a++;const s=a/i.length*100;this.setProgressBarPercentage(s),a===i.length&&(this.primaryProfile.subscriptions=this.primaryProfile.subscriptions.concat(r),this.updateProfile(this.primaryProfile),r.length<a?$g(this.$t("Settings.Data Settings.One or more subscriptions were unable to be imported")):$g(this.$t("Settings.Data Settings.All subscriptions have been successfully imported")),this.updateShowProgressBar(!1))}))},importNewPipeSubscriptions:async function(e){if(void 0===e.subscriptions)return void $g(this.$t("Settings.Data Settings.Invalid subscriptions file"));const t=e.subscriptions.filter(((e,t)=>0===e.service_id)),n=[],i=[];$g(this.$t("Settings.Data Settings.This might take a while, please wait")),this.updateShowProgressBar(!0),this.setProgressBarPercentage(0);let r=0;new Promise((e=>{let a=0;t.forEach((async(s,o)=>{const l=s.url.replace(/https:\/\/(www\.)?youtube\.com\/channel\//,""),{subscription:c,result:u}=await this.subscribeToChannel({channelId:l,subscriptions:n,channelName:s.name,count:r++,total:t.length});1===u&&n.push(c),-1===u&&i.push([l,s.url,s.name]),a++,a===t.length&&e(!0)}))})).then((e=>{this.primaryProfile.subscriptions=this.primaryProfile.subscriptions.concat(n),this.updateProfile(this.primaryProfile),i.count>0?(i.forEach((e=>{console.error(`failed to import ${e[2]}. Url to channel: ${e[1]}.`)})),$g(this.$t("Settings.Data Settings.One or more subscriptions were unable to be imported"))):$g(this.$t("Settings.Data Settings.All subscriptions have been successfully imported"))})).finally((e=>{this.updateShowProgressBar(!1)}))},exportSubscriptions:function(e){if(this.showExportSubscriptionsPrompt=!1,null!==e)switch(e){case"freetube":this.exportFreeTubeSubscriptions();break;case"youtubenew":this.exportCsvYouTubeSubscriptions();break;case"youtube":this.exportYouTubeSubscriptions();break;case"youtubeold":this.exportOpmlYouTubeSubscriptions();break;case"newpipe":this.exportNewPipeSubscriptions()}},exportFreeTubeSubscriptions:async function(){const e=this.profileList.map((e=>JSON.stringify(e))).join("\n")+"\n",t={defaultPath:"freetube-subscriptions-"+(new Date).toISOString().split("T")[0]+".db",filters:[{name:this.$t("Settings.Data Settings.Subscription File"),extensions:["db"]}]},n=await Hg(t);if(!n.canceled&&""!==n.filePath){try{await qg(n,e)}catch(e){return void $g(`${this.$t("Settings.Data Settings.Unable to read file")}: ${e}`)}$g(this.$t("Settings.Data Settings.Subscriptions have been successfully exported"))}},exportYouTubeSubscriptions:async function(){const e={defaultPath:"youtube-subscriptions-"+(new Date).toISOString().split("T")[0]+".json",filters:[{name:this.$t("Settings.Data Settings.Subscription File"),extensions:["json"]}]},t=this.profileList[0].subscriptions.map((e=>({contentDetails:{activityType:"all",newItemCount:0,totalItemCount:0},etag:"",id:"",kind:"youtube#subscription",snippet:{channelId:e.id,description:"",publishedAt:new Date,resourceId:{channelId:e.id,kind:"youtube#channel"},thumbnails:{default:{url:e.thumbnail},high:{url:e.thumbnail},medium:{url:e.thumbnail}},title:e.name}}))),n=await Hg(e);if(!n.canceled&&""!==n.filePath){try{await qg(n,JSON.stringify(t))}catch(e){return void $g(`${this.$t("Settings.Data Settings.Unable to write file")}: ${e}`)}$g(this.$t("Settings.Data Settings.Subscriptions have been successfully exported"))}},exportOpmlYouTubeSubscriptions:async function(){const e={defaultPath:"youtube-subscriptions-"+(new Date).toISOString().split("T")[0]+".opml",filters:[{name:this.$t("Settings.Data Settings.Subscription File"),extensions:["opml"]}]};let t='<opml version="1.1"><body><outline text="YouTube Subscriptions" title="YouTube Subscriptions">';this.profileList[0].subscriptions.forEach((e=>{const n=e.name.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&apos;"),i=`<outline text="${n}" title="${n}" type="rss" xmlUrl="https://www.youtube.com/feeds/videos.xml?channel_id=${e.id}"/>`;t+=i})),t+="</outline></body></opml>";const n=await Hg(e);if(!n.canceled&&""!==n.filePath){try{await qg(n,t)}catch(e){return void $g(`${this.$t("Settings.Data Settings.Unable to write file")}: ${e}`)}$g(this.$t("Settings.Data Settings.Subscriptions have been successfully exported"))}},exportCsvYouTubeSubscriptions:async function(){const e={defaultPath:"youtube-subscriptions-"+(new Date).toISOString().split("T")[0]+".csv",filters:[{name:this.$t("Settings.Data Settings.Subscription File"),extensions:["csv"]}]};let t="Channel ID,Channel URL,Channel title\n";this.profileList[0].subscriptions.forEach((e=>{const n=`https://www.youtube.com/channel/${e.id}`;let i=e.name;-1!==i.search(",")&&(i=`"${i.replaceAll('"','""')}"`),t+=`${e.id},${n},${i}\n`})),t+="\n";const n=await Hg(e);if(!n.canceled&&""!==n.filePath){try{await qg(n,t)}catch(e){return void $g(`${this.$t("Settings.Data Settings.Unable to write file")}: ${e}`)}$g(this.$t("Settings.Data Settings.Subscriptions have been successfully exported"))}},exportNewPipeSubscriptions:async function(){const e={defaultPath:"newpipe-subscriptions-"+(new Date).toISOString().split("T")[0]+".json",filters:[{name:this.$t("Settings.Data Settings.Subscription File"),extensions:["json"]}]},t={app_version:"0.19.8",app_version_int:953,subscriptions:[]};this.profileList[0].subscriptions.forEach((e=>{const n={service_id:0,url:`https://www.youtube.com/channel/${e.id}`,name:e.name};t.subscriptions.push(n)}));const n=await Hg(e);if(!n.canceled&&""!==n.filePath){try{await qg(n,JSON.stringify(t))}catch(e){return void $g(`${this.$t("Settings.Data Settings.Unable to write file")}: ${e}`)}$g(this.$t("Settings.Data Settings.Subscriptions have been successfully exported"))}},importHistory:async function(){const e={properties:["openFile"],filters:[{name:this.$t("Settings.Data Settings.History File"),extensions:["db"]}]},t=await jg(e);if(t.canceled||0===t.filePaths?.length)return;let n;try{n=await Vg(t)}catch(e){return void $g(`${this.$t("Settings.Data Settings.Unable to read file")}: ${e}`)}n=n.split("\n"),n.pop(),n.forEach((e=>{const t=JSON.parse(e),n=["_id","author","authorId","description","isLive","lengthSeconds","paid","published","timeWatched","title","type","videoId","viewCount","watchProgress"],i={};Object.keys(t).forEach((e=>{n.includes(e)?i[e]=t[e]:$g(`Unknown data key: ${e}`)})),Object.keys(i).length<n.length-2?$g(this.$t("Settings.Data Settings.History object has insufficient data, skipping item")):this.updateHistory(i)})),$g(this.$t("Settings.Data Settings.All watched history has been successfully imported"))},exportHistory:async function(){const e=this.historyCache.map((e=>JSON.stringify(e))).join("\n")+"\n",t={defaultPath:"freetube-history-"+(new Date).toISOString().split("T")[0]+".db",filters:[{name:this.$t("Settings.Data Settings.Playlist File"),extensions:["db"]}]},n=await Hg(t);if(!n.canceled&&""!==n.filePath){try{await qg(n,e)}catch(e){$g(`${this.$t("Settings.Data Settings.Unable to write file")}: ${e}`)}$g(this.$t("Settings.Data Settings.All watched history has been successfully exported"))}},importPlaylists:async function(){const e={properties:["openFile"],filters:[{name:this.$t("Settings.Data Settings.Playlist File"),extensions:["db"]}]},t=await jg(e);if(t.canceled||0===t.filePaths?.length)return;let n;try{n=await Vg(t)}catch(e){return void $g(`${this.$t("Settings.Data Settings.Unable to read file")}: ${e}`)}JSON.parse(n).forEach((async e=>{const t=["playlistName","videos"],n=["_id","protected","removeOnWatched"],i=["videoId","title","author","authorId","published","lengthSeconds","timeAdded","isLive","paid","type"],r={};if(Object.keys(e).forEach((a=>{if(t.includes(a)||n.includes(a))if("videos"===a){const t=[];e.videos.forEach((e=>{let n=!0;i.forEach((t=>{Object.keys(e).includes(t)||(n=!1)})),n&&t.push(e)})),r[a]=t}else r[a]=e[a];else $g(`${this.$t("Settings.Data Settings.Unknown data key")}: ${a}`)})),Object.keys(r).length<t.length||0===r.videos.length)$g(this.$t("Settings.Data Settings.Playlist insufficient data",{playlist:e.playlistName}));else{const e=this.allPlaylists.find((e=>e.playlistName===r.playlistName));void 0!==e?r.videos.forEach((t=>{if(void 0===e.videos.find((e=>e.videoId===t.videoId))){const n={playlistName:e.playlistName,videoData:t};this.addVideo(n)}})):this.addPlaylist(r)}})),$g(this.$t("Settings.Data Settings.All playlists has been successfully imported"))},exportPlaylists:async function(){const e={defaultPath:"freetube-playlists-"+(new Date).toISOString().split("T")[0]+".db",filters:[{name:"Database File",extensions:["db"]}]},t=await Hg(e);if(!t.canceled&&""!==t.filePath){try{await qg(t,JSON.stringify(this.allPlaylists))}catch(e){return void $g(`${this.$t("Settings.Data Settings.Unable to write file")}: ${e}`)}$g(`${this.$t("Settings.Data Settings.All playlists has been successfully exported")}`)}},convertOldFreeTubeFormatToNew(e){const t=[];for(const n of e){const e=[];for(const i of n.profile){let r=t.findIndex((e=>e.name===i.value));if(-1===r){const e=id(),a=rd(e);t.push({name:i.value,bgColor:e,textColor:a,subscriptions:[],_id:n._id}),r=t.length-1}else if(-1!==e.indexOf(r))continue;e.push(r),t[r].subscriptions.push({id:n.channelId,name:n.channelName,thumbnail:n.channelThumbnail})}}return t},getChannelInfoInvidious:function(e){return new Promise(((t,n)=>{ip({resource:"channels",id:e,params:{}}).then((e=>{t(e)})).catch((e=>{console.error(e),$g(`${this.$t("Invidious API Error (Click to copy)")}: ${e.responseJSON.error}`,1e4,(()=>{Bg(e.responseJSON.error)})),t([])}))}))},getChannelInfoLocal:function(e){return new Promise(((t,n)=>{mp().getChannelInfo({channelId:e}).then((async e=>{t(e)})).catch((n=>{console.error(n),$g(`${this.$t("Local API Error (Click to copy)")}: ${n}`,1e4,(()=>{Bg(n)})),this.backendFallback&&"local"===this.backendPreference?($g(this.$t("Falling back to the Invidious API")),t(this.getChannelInfoInvidious(e))):t([])}))}))},async subscribeToChannel({channelId:e,subscriptions:t,channelName:n=null,thumbnail:i=null,count:r=0,total:a=0}){let s,o=1;if(this.isChannelSubscribed(e,t))return{subscription:null,successMessage:0};let l=null;if(null===n||null===i)try{s="invidious"===this.backendPreference?await this.getChannelInfoInvidious(e):await this.getChannelInfoLocal(e)}catch(e){console.error(e),o=-1}else s={author:n,authorThumbnails:[null,{url:i}]};void 0!==s.author?l={id:e,name:s.author,thumbnail:s.authorThumbnails[1].url}:o=-1;const c=r/(a-1)*100;return this.setProgressBarPercentage(c),{subscription:l,result:o}},isChannelSubscribed(e,t){if(null===e)return!0;const n=-1!==this.primaryProfile.subscriptions.findIndex((t=>t.id===e)),i=-1!==t.findIndex((t=>t.id===e));return n||i},...el(["updateProfile","compactProfiles","updateShowProgressBar","updateHistory","compactHistory","addPlaylist","addVideo"]),...Zo(["setProgressBarPercentage"])}},dm=_l(hm,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.Data Settings.Data Settings")}},[t("ft-flex-box",[t("ft-button",{attrs:{label:e.$t("Settings.Data Settings.Import Subscriptions")},on:{click:e.importSubscriptions}}),e._v(" "),t("ft-button",{attrs:{label:e.$t("Settings.Data Settings.Export Subscriptions")},on:{click:function(t){e.showExportSubscriptionsPrompt=!0}}}),e._v(" "),t("ft-button",{attrs:{label:e.$t("Settings.Data Settings.Import History")},on:{click:e.importHistory}}),e._v(" "),t("ft-button",{attrs:{label:e.$t("Settings.Data Settings.Export History")},on:{click:e.exportHistory}})],1),e._v(" "),t("ft-flex-box",[t("p",[t("a",{attrs:{href:"https://docs.freetubeapp.io/usage/importing-subscriptions/"}},[e._v("\n        "+e._s(e.$t("Settings.Data Settings.How do I import my subscriptions?"))+"\n      ")])])]),e._v(" "),t("ft-flex-box",[t("ft-button",{attrs:{label:e.$t("Settings.Data Settings.Manage Subscriptions")},on:{click:e.openProfileSettings}})],1),e._v(" "),t("ft-flex-box",[t("ft-button",{attrs:{label:e.$t("Settings.Data Settings.Import Playlists")},on:{click:e.importPlaylists}}),e._v(" "),t("ft-button",{attrs:{label:e.$t("Settings.Data Settings.Export Playlists")},on:{click:e.exportPlaylists}})],1),e._v(" "),e.showExportSubscriptionsPrompt?t("ft-prompt",{attrs:{label:e.$t("Settings.Data Settings.Select Export Type"),"option-names":e.exportSubscriptionsPromptNames,"option-values":e.subscriptionsPromptValues,"show-close":!0},on:{click:e.exportSubscriptions}}):e._e()],1)}),[],!1,null,null,null).exports,fm={name:"FtInputTags",components:{"ft-input":xl,"ft-tooltip":kl},props:{placeholder:{type:String,required:!0},label:{type:String,required:!0},showActionButton:{type:Boolean,default:!0},tagList:{type:Array,default:()=>[]},tooltip:{type:String,default:""}},methods:{updateTags:function(e,t){if(!this.tagList.includes(e.trim())){const t=this.tagList.slice(0);t.push(e.trim()),this.$emit("change",t)}this.$refs.childinput.handleClearTextClick()},removeTag:function(e){const t=e.trim();if(this.tagList.includes(t)){const e=this.tagList.slice(0),n=e.indexOf(t);e.splice(n,1),this.$emit("change",e)}}}};var pm=_l(fm,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"ft-input-tags-component"},[t("ft-input",{ref:"childinput",attrs:{placeholder:e.placeholder,label:e.label,"show-label":!0,tooltip:e.tooltip,"show-action-button":e.showActionButton,"select-on-focus":!0,"force-action-button-icon-name":["fas","arrow-right"]},on:{click:e.updateTags}}),e._v(" "),t("div",{staticClass:"ft-tag-box"},[t("ul",e._l(e.tagList,(function(n){return t("li",{key:n.id},[t("span",[e._v(e._s(n))]),e._v(" "),t("font-awesome-icon",{staticClass:"removeTagButton",attrs:{icon:["fas","fa-times"],tabindex:"0",role:"button"},on:{click:function(t){return e.removeTag(n)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.removeTag(n))}}})],1)})),0)])],1)}),[],!1,null,"59153fa7",null);const mm=_l({name:"PlayerSettings",components:{"ft-settings-section":Zp,"ft-toggle-switch":Jp,"ft-input-tags":pm.exports,"ft-flex-box":wl},computed:{hideVideoViews:function(){return this.$store.getters.getHideVideoViews},hideVideoLikesAndDislikes:function(){return this.$store.getters.getHideVideoLikesAndDislikes},hideChannelSubscriptions:function(){return this.$store.getters.getHideChannelSubscriptions},hideCommentLikes:function(){return this.$store.getters.getHideCommentLikes},hideRecommendedVideos:function(){return this.$store.getters.getHideRecommendedVideos},hideTrendingVideos:function(){return this.$store.getters.getHideTrendingVideos},hidePopularVideos:function(){return this.$store.getters.getHidePopularVideos},hidePlaylists:function(){return this.$store.getters.getHidePlaylists},hideLiveChat:function(){return this.$store.getters.getHideLiveChat},hideActiveSubscriptions:function(){return this.$store.getters.getHideActiveSubscriptions},hideVideoDescription:function(){return this.$store.getters.getHideVideoDescription},hideComments:function(){return this.$store.getters.getHideComments},hideLiveStreams:function(){return this.$store.getters.getHideLiveStreams},hideUpcomingPremieres:function(){return this.$store.getters.getHideUpcomingPremieres},hideSharingActions:function(){return this.$store.getters.getHideSharingActions},backendPreference:function(){return this.$store.getters.getBackendPreference},hideChapters:function(){return this.$store.getters.getHideChapters},showDistractionFreeTitles:function(){return this.$store.getters.getShowDistractionFreeTitles},channelsHidden:function(){return JSON.parse(this.$store.getters.getChannelsHidden)}},methods:{handleHideRecommendedVideos:function(e){e&&this.updatePlayNextVideo(!1),this.updateHideRecommendedVideos(e)},handleChannelsHidden:function(e){this.updateChannelsHidden(JSON.stringify(e))},...el(["updateHideVideoViews","updateHideVideoLikesAndDislikes","updateHideChannelSubscriptions","updateHideCommentLikes","updateHideRecommendedVideos","updateHideTrendingVideos","updateHidePopularVideos","updateHidePlaylists","updateHideLiveChat","updateHideActiveSubscriptions","updatePlayNextVideo","updateDefaultTheatreMode","updateHideVideoDescription","updateHideComments","updateHideLiveStreams","updateHideUpcomingPremieres","updateHideSharingActions","updateHideChapters","updateChannelsHidden","updateShowDistractionFreeTitles"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.Distraction Free Settings.Distraction Free Settings")}},[t("div",{staticClass:"switchColumnGrid"},[t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Video Views"),compact:!0,"default-value":e.hideVideoViews},on:{change:e.updateHideVideoViews}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Video Likes And Dislikes"),compact:!0,"default-value":e.hideVideoLikesAndDislikes},on:{change:e.updateHideVideoLikesAndDislikes}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Channel Subscribers"),compact:!0,"default-value":e.hideChannelSubscriptions},on:{change:e.updateHideChannelSubscriptions}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Comment Likes"),compact:!0,"default-value":e.hideCommentLikes},on:{change:e.updateHideCommentLikes}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Active Subscriptions"),compact:!0,"default-value":e.hideActiveSubscriptions},on:{change:e.updateHideActiveSubscriptions}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Video Description"),compact:!0,"default-value":e.hideVideoDescription},on:{change:e.updateHideVideoDescription}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Sharing Actions"),compact:!0,"default-value":e.hideSharingActions},on:{change:e.updateHideSharingActions}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Chapters"),compact:!0,"default-value":e.hideChapters},on:{change:e.updateHideChapters}})],1),e._v(" "),t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Recommended Videos"),compact:!0,"default-value":e.hideRecommendedVideos},on:{change:e.handleHideRecommendedVideos}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Trending Videos"),compact:!0,"default-value":e.hideTrendingVideos},on:{change:e.updateHideTrendingVideos}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Popular Videos"),compact:!0,"default-value":e.hidePopularVideos},on:{change:e.updateHidePopularVideos}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Playlists"),compact:!0,"default-value":e.hidePlaylists},on:{change:e.updateHidePlaylists}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Live Chat"),compact:!0,"default-value":e.hideLiveChat},on:{change:e.updateHideLiveChat}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Live Streams"),compact:!0,"default-value":e.hideLiveStreams},on:{change:e.updateHideLiveStreams}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Upcoming Premieres"),compact:!0,"default-value":e.hideUpcomingPremieres},on:{change:e.updateHideUpcomingPremieres}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Comments"),compact:!0,"default-value":e.hideComments},on:{change:e.updateHideComments}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Distraction Free Settings.Display Titles Without Excessive Capitalisation"),compact:!0,"default-value":e.showDistractionFreeTitles},on:{change:e.updateShowDistractionFreeTitles}})],1)]),e._v(" "),t("br",{staticClass:"hide-on-mobile"}),e._v(" "),t("ft-flex-box",[t("ft-input-tags",{attrs:{label:e.$t("Settings.Distraction Free Settings.Hide Channels"),placeholder:e.$t("Settings.Distraction Free Settings.Hide Channels Placeholder"),"show-action-button":!0,"tag-list":e.channelsHidden,tooltip:e.$t("Tooltips.Distraction Free Settings.Hide Channels")},on:{change:e.handleChannelsHidden}})],1)],1)}),[],!1,null,null,null).exports,gm=_l({name:"ProxySettings",components:{"ft-settings-section":Zp,"ft-toggle-switch":Jp,"ft-button":Oh,"ft-select":Op,"ft-input":xl,"ft-loader":Lh,"ft-flex-box":wl},data:function(){return{isLoading:!1,dataAvailable:!1,proxyTestUrl:"https://ipwho.is/",proxyId:"",proxyCountry:"",proxyRegion:"",proxyCity:"",proxyHost:"",protocolNames:["HTTP","HTTPS","SOCKS4","SOCKS5"],protocolValues:["http","https","socks4","socks5"]}},computed:{useProxy:function(){return this.$store.getters.getUseProxy},proxyProtocol:function(){return this.$store.getters.getProxyProtocol},proxyHostname:function(){return this.$store.getters.getProxyHostname},proxyPort:function(){return this.$store.getters.getProxyPort},proxyUrl:function(){return`${this.proxyProtocol}://${this.proxyHostname}:${this.proxyPort}`}},mounted:function(){this.debounceEnableProxy=tm()(this.enableProxy,200)},beforeDestroy:function(){""===this.proxyHostname&&this.updateProxyHostname("127.0.0.1"),""===this.proxyPort&&this.updateProxyPort("9050")},methods:{handleUpdateProxy:function(e){e?this.enableProxy():this.disableProxy(),this.updateUseProxy(e)},handleUpdateProxyProtocol:function(e){this.useProxy&&this.enableProxy(),this.updateProxyProtocol(e)},handleUpdateProxyHostname:function(e){this.useProxy&&this.debounceEnableProxy(),this.updateProxyHostname(e)},handleUpdateProxyPort:function(e){this.useProxy&&this.debounceEnableProxy(),this.updateProxyPort(e)},enableProxy:function(){hd.ipcRenderer.send("enable-proxy",this.proxyUrl)},disableProxy:function(){hd.ipcRenderer.send("disable-proxy")},testProxy:function(){this.isLoading=!0,this.useProxy||this.enableProxy(),fetch(this.proxyTestUrl).then((e=>e.json())).then((e=>{this.proxyIp=e.ip,this.proxyCountry=e.country,this.proxyRegion=e.region,this.proxyCity=e.city,this.dataAvailable=!0})).catch((e=>{console.error("errored while testing proxy:",e),$g(this.$t('Settings.Proxy Settings["Error getting network information. Is your proxy configured properly?"]')),this.dataAvailable=!1})).finally((()=>{this.useProxy||this.disableProxy(),this.isLoading=!1}))},...el(["updateUseProxy","updateProxyProtocol","updateProxyHostname","updateProxyPort"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.Proxy Settings.Proxy Settings")}},[t("ft-flex-box",{staticClass:"settingsFlexStart500px"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Proxy Settings.Enable Tor / Proxy"),"default-value":e.useProxy},on:{change:e.handleUpdateProxy}})],1),e._v(" "),e.useProxy?t("div",[t("ft-flex-box",[t("ft-select",{attrs:{placeholder:e.$t("Settings.Proxy Settings.Proxy Protocol"),value:e.proxyProtocol,"select-names":e.protocolNames,"select-values":e.protocolValues},on:{change:e.handleUpdateProxyProtocol}})],1),e._v(" "),t("ft-flex-box",[t("ft-input",{attrs:{placeholder:e.$t("Settings.Proxy Settings.Proxy Host"),"show-action-button":!1,"show-label":!0,value:e.proxyHostname},on:{input:e.handleUpdateProxyHostname}}),e._v(" "),t("ft-input",{attrs:{placeholder:e.$t("Settings.Proxy Settings.Proxy Port Number"),"show-action-button":!1,"show-label":!0,value:e.proxyPort},on:{input:e.handleUpdateProxyPort}})],1),e._v(" "),t("p",{staticClass:"center",style:{opacity:e.useProxy?1:.4}},[e._v("\n      "+e._s(e.$t("Settings.Proxy Settings.Clicking on Test Proxy will send a request to"))+" "+e._s(e.proxyTestUrl)+"\n    ")]),e._v(" "),t("ft-flex-box",[t("ft-button",{attrs:{label:e.$t("Settings.Proxy Settings.Test Proxy")},on:{click:e.testProxy}})],1),e._v(" "),e.isLoading?t("ft-loader"):e._e(),e._v(" "),!e.isLoading&&e.dataAvailable?t("div",{staticClass:"center"},[t("h3",[e._v("\n        "+e._s(e.$t("Settings.Proxy Settings.Your Info"))+"\n      ")]),e._v(" "),t("p",[e._v("\n        "+e._s(e.$t("Settings.Proxy Settings.Ip"))+": "+e._s(e.proxyIp)+"\n      ")]),e._v(" "),t("p",[e._v("\n        "+e._s(e.$t("Settings.Proxy Settings.Country"))+": "+e._s(e.proxyCountry)+"\n      ")]),e._v(" "),t("p",[e._v("\n        "+e._s(e.$t("Settings.Proxy Settings.Region"))+": "+e._s(e.proxyRegion)+"\n      ")]),e._v(" "),t("p",[e._v("\n        "+e._s(e.$t("Settings.Proxy Settings.City"))+": "+e._s(e.proxyCity)+"\n      ")])]):e._e()],1):e._e()],1)}),[],!1,null,null,null).exports;var ym=_l({name:"FtSponsorBlockCategory",components:{"ft-select":Op},props:{categoryName:{type:String,required:!0}},data:function(){return{categoryColor:"",skipOption:"",skipValues:["autoSkip","showInSeekBar","doNothing"]}},computed:{colorValues:function(){return td.map((e=>e.name))},colorNames:function(){return this.colorValues.map((e=>{const t=e.replaceAll(/([A-Z])/g," $1").trim();return this.$t(`Settings.Theme Settings.Main Color Theme.${t}`)}))},sponsorBlockValues:function(){let e="";switch(this.categoryName.toLowerCase()){case"sponsor":e=this.$store.getters.getSponsorBlockSponsor;break;case"self-promotion":e=this.$store.getters.getSponsorBlockSelfPromo;break;case"interaction":e=this.$store.getters.getSponsorBlockInteraction;break;case"intro":e=this.$store.getters.getSponsorBlockIntro;break;case"outro":e=this.$store.getters.getSponsorBlockOutro;break;case"recap":e=this.$store.getters.getSponsorBlockRecap;break;case"music offtopic":e=this.$store.getters.getSponsorBlockMusicOffTopic;break;case"filler":e=this.$store.getters.getSponsorBlockFiller}return e},sanitizedId:function(){return Al(this.categoryName)},skipNames:function(){return[this.$t("Settings.SponsorBlock Settings.Skip Options.Auto Skip"),this.$t("Settings.SponsorBlock Settings.Skip Options.Show In Seek Bar"),this.$t("Settings.SponsorBlock Settings.Skip Options.Do Nothing")]}},methods:{updateColor:function(e){const t={color:e,skip:this.sponsorBlockValues.skip};this.updateSponsorCategory(t)},updateSkipOption:function(e){const t={color:this.sponsorBlockValues.color,skip:e};this.updateSponsorCategory(t)},updateSponsorCategory:function(e){switch(this.categoryName.toLowerCase()){case"sponsor":this.updateSponsorBlockSponsor(e);break;case"self-promotion":this.updateSponsorBlockSelfPromo(e);break;case"interaction":this.updateSponsorBlockInteraction(e);break;case"intro":this.updateSponsorBlockIntro(e);break;case"outro":this.updateSponsorBlockOutro(e);break;case"recap":this.updateSponsorBlockRecap(e);break;case"music offtopic":this.updateSponsorBlockMusicOffTopic(e);break;case"filler":this.updateSponsorBlockFiller(e)}},...el(["updateSponsorBlockSponsor","updateSponsorBlockSelfPromo","updateSponsorBlockInteraction","updateSponsorBlockIntro","updateSponsorBlockOutro","updateSponsorBlockRecap","updateSponsorBlockMusicOffTopic","updateSponsorBlockFiller"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"sponsorBlockCategory"},[t("div",{staticClass:"sponsorTitle",attrs:{id:e.sanitizedId}},[e._v("\n    "+e._s(e.$t("Video.Sponsor Block category."+e.categoryName))+"\n  ")]),e._v(" "),t("ft-select",{attrs:{"sanitized-id":e.sanitizedId+"categoryColor","describe-by-id":e.sanitizedId,placeholder:e.$t("Settings.SponsorBlock Settings.Category Color"),value:e.sponsorBlockValues.color,"select-names":e.colorNames,"select-values":e.colorValues},on:{change:e.updateColor}}),e._v(" "),t("ft-select",{attrs:{"sanitized-id":e.sanitizedId+"skipOption","describe-by-id":e.sanitizedId,placeholder:e.$t("Settings.SponsorBlock Settings.Skip Options.Skip Option"),value:e.sponsorBlockValues.skip,"select-names":e.skipNames,"select-values":e.skipValues},on:{change:e.updateSkipOption}})],1)}),[],!1,null,"5b738f40",null);const vm=_l({name:"SponsorBlockSettings",components:{"ft-settings-section":Zp,"ft-toggle-switch":Jp,"ft-input":xl,"ft-flex-box":wl,"ft-sponsor-block-category":ym.exports},data:function(){return{categories:["sponsor","self-promotion","interaction","intro","outro","recap","music offtopic","filler"]}},computed:{useSponsorBlock:function(){return this.$store.getters.getUseSponsorBlock},sponsorBlockUrl:function(){return this.$store.getters.getSponsorBlockUrl},sponsorBlockShowSkippedToast:function(){return this.$store.getters.getSponsorBlockShowSkippedToast}},methods:{handleUpdateSponsorBlock:function(e){this.updateUseSponsorBlock(e)},handleUpdateSponsorBlockUrl:function(e){const t=e.replace(/\/$/,"").replace(/\/api$/,"");this.updateSponsorBlockUrl(t)},handleUpdateSponsorBlockShowSkippedToast:function(e){this.updateSponsorBlockShowSkippedToast(e)},...el(["updateUseSponsorBlock","updateSponsorBlockUrl","updateSponsorBlockShowSkippedToast"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.SponsorBlock Settings.SponsorBlock Settings")}},[t("ft-flex-box",{staticClass:"settingsFlexStart500px"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.SponsorBlock Settings.Enable SponsorBlock"),"default-value":e.useSponsorBlock},on:{change:e.handleUpdateSponsorBlock}})],1),e._v(" "),e.useSponsorBlock?t("div",[t("ft-flex-box",{staticClass:"settingsFlexStart500px"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.SponsorBlock Settings.Notify when sponsor segment is skipped"),"default-value":e.sponsorBlockShowSkippedToast},on:{change:e.handleUpdateSponsorBlockShowSkippedToast}})],1),e._v(" "),t("ft-flex-box",[t("ft-input",{attrs:{placeholder:e.$t("Settings.SponsorBlock Settings['SponsorBlock API Url (Default is https://sponsor.ajay.app)']"),"show-action-button":!1,"show-label":!0,value:e.sponsorBlockUrl},on:{input:e.handleUpdateSponsorBlockUrl}})],1),e._v(" "),t("ft-flex-box",e._l(e.categories,(function(e){return t("ft-sponsor-block-category",{key:e,attrs:{"category-name":e}})})),1)],1):e._e()],1)}),[],!1,null,null,null).exports,bm=_l({name:"ParentalControlSettings",components:{"ft-settings-section":Zp,"ft-toggle-switch":Jp},computed:{hideSearchBar:function(){return this.$store.getters.getHideSearchBar},hideUnsubscribeButton:function(){return this.$store.getters.getHideUnsubscribeButton},showFamilyFriendlyOnly:function(){return this.$store.getters.getShowFamilyFriendlyOnly}},methods:{...el(["updateHideSearchBar","updateHideUnsubscribeButton","updateShowFamilyFriendlyOnly"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.Parental Control Settings.Parental Control Settings")}},[t("div",{staticClass:"switchColumnGrid"},[t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Parental Control Settings.Hide Unsubscribe Button"),compact:!0,"default-value":e.hideUnsubscribeButton},on:{change:e.updateHideUnsubscribeButton}}),e._v(" "),t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Parental Control Settings.Show Family Friendly Only"),compact:!0,"default-value":e.showFamilyFriendlyOnly},on:{change:e.updateShowFamilyFriendlyOnly}})],1),e._v(" "),t("div",{staticClass:"switchColumn"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Parental Control Settings.Hide Search Bar"),compact:!0,"default-value":e.hideSearchBar},on:{change:e.updateHideSearchBar}})],1)])])}),[],!1,null,null,null).exports,_m={name:"ExperimentalSettings",components:{"ft-settings-section":Zp,"ft-flex-box":wl,"ft-toggle-switch":Jp,"ft-prompt":_p},data:function(){return{replaceHttpCacheLoading:!0,replaceHttpCache:!1,replaceHttpCachePath:"",showRestartPrompt:!1}},mounted:function(){Yg().then((e=>{this.replaceHttpCachePath=`${e}/experiment-replace-http-cache`,Wh(this.replaceHttpCachePath).then((e=>{this.replaceHttpCache=e,this.replaceHttpCacheLoading=!1}))}))},methods:{handleRestartPrompt:function(e){this.replaceHttpCache=e,this.showRestartPrompt=!0},handleReplaceHttpCache:async function(e){if(this.showRestartPrompt=!1,null===e||"no"===e)return void(this.replaceHttpCache=!this.replaceHttpCache);if(this.replaceHttpCache){const e=await zh().open(this.replaceHttpCachePath,"w");await e.close()}else await zh().rm(this.replaceHttpCachePath);const{ipcRenderer:t}=n(651);t.send("relaunchRequest")}}},wm=_l(_m,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.Experimental Settings.Experimental Settings")}},[t("p",{staticClass:"experimental-warning"},[e._v("\n    "+e._s(e.$t("Settings.Experimental Settings.Warning"))+"\n  ")]),e._v(" "),t("ft-flex-box",[t("ft-toggle-switch",{attrs:{"tooltip-position":"top",label:e.$t("Settings.Experimental Settings.Replace HTTP Cache"),compact:!0,"default-value":e.replaceHttpCache,disabled:e.replaceHttpCacheLoading,tooltip:e.$t("Tooltips.Experimental Settings.Replace HTTP Cache")},on:{change:e.handleRestartPrompt}})],1),e._v(" "),e.showRestartPrompt?t("ft-prompt",{attrs:{label:e.$t("Settings['The app needs to restart for changes to take effect. Restart and apply change?']"),"option-names":[e.$t("Yes"),e.$t("No")],"option-values":["yes","no"]},on:{click:e.handleReplaceHttpCache}}):e._e()],1)}),[],!1,null,"2089a8c4",null).exports,Sm=_l({name:"PasswordSettings",components:{"ft-settings-section":Zp,"ft-input":xl,"ft-flex-box":wl,"ft-button":Oh},data:function(){return{password:""}},computed:{settingsPassword:function(){return this.$store.getters.getSettingsPassword},hasStoredPassword:function(){return""!==this.settingsPassword}},methods:{handleSetPassword:function(){this.updateSettingsPassword(this.password),this.password=""},handleRemovePassword:function(){this.updateSettingsPassword(""),this.password=""},...el(["updateSettingsPassword"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.Password Settings.Password Settings")}},[e.hasStoredPassword?t("ft-flex-box",{staticClass:"settingsFlexStart460px"},[t("ft-button",{attrs:{label:e.$t("Settings.Password Settings.Remove Password")},on:{click:e.handleRemovePassword}})],1):t("ft-flex-box",{staticClass:"settingsFlexStart460px"},[t("ft-input",{attrs:{placeholder:e.$t("Settings.Password Settings.Set Password To Prevent Access"),"show-action-button":!1,"show-label":!0,"input-type":"password",value:e.password},on:{input:t=>e.password=t}}),e._v(" "),t("ft-button",{staticClass:"centerButton",attrs:{label:e.$t("Settings.Password Settings.Set Password")},on:{click:e.handleSetPassword}})],1)],1)}),[],!1,null,"c7193dd6",null).exports,km=_l({name:"PasswordDialog",components:{"ft-input":xl,"ft-card":Il},emits:["unlocked"],computed:{settingsPassword:function(){return this.$store.getters.getSettingsPassword}},mounted:function(){this.$refs.password.focus()},methods:{handlePasswordInput:function(e){e===this.settingsPassword&&this.$emit("unlocked")}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-card",{staticClass:"card"},[t("h3",[e._v(e._s(e.$t("Settings.Password Dialog.Enter Password To Unlock")))]),e._v(" "),t("ft-input",{ref:"password",staticClass:"passwordInput",attrs:{placeholder:e.$t("Settings.Password Dialog.Password"),"show-action-button":!1,"input-type":"password"},on:{input:e.handlePasswordInput}})],1)}),[],!1,null,"c7aad2f6",null).exports,Tm=_l({name:"CordovaSettings",components:{"ft-settings-section":Zp,"ft-toggle-switch":Jp},computed:{getDisableBackgroundModeNotification:function(){return this.$store.getters.getDisableBackgroundModeNotification}},methods:{...el(["updateDisableBackgroundModeNotification"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-settings-section",{attrs:{title:e.$t("Settings.Cordova Settings.Cordova Settings")}},[t("div",{staticClass:"switchColumnGrid"},[t("ft-toggle-switch",{attrs:{label:e.$t("Settings.Cordova Settings.Disable Background Notification"),compact:!0,tooltip:e.$t("Tooltips.Cordova Settings.Disable Background Notification"),"default-value":e.getDisableBackgroundModeNotification},on:{change:e.updateDisableBackgroundModeNotification}})],1)])}),[],!1,null,null,null).exports;var Cm=n(4155);const xm=_l({name:"Settings",components:{"general-settings":nm,"theme-settings":am,"player-settings":sm,"external-player-settings":om,"subscription-settings":lm,"privacy-settings":um,"data-settings":dm,"distraction-settings":mm,"proxy-settings":gm,"sponsor-block-settings":vm,"download-settings":cm,"parental-control-settings":bm,"experimental-settings":wm,"cordova-settings":Tm,"password-settings":Sm,"password-dialog":km},data:function(){return{unlocked:!1}},computed:{usingElectron:function(){return!1},usingCordova:function(){return Cm.env.IS_CORDOVA},settingsPassword:function(){return this.$store.getters.getSettingsPassword}},mounted:function(){""===this.settingsPassword&&(this.unlocked=!0)}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[e.unlocked?[t("general-settings"),e._v(" "),t("hr"),e._v(" "),t("theme-settings"),e._v(" "),t("hr"),e._v(" "),t("player-settings"),e._v(" "),t("hr"),e._v(" "),e.usingElectron?t("external-player-settings"):e._e(),e._v(" "),e.usingElectron?t("hr"):e._e(),e._v(" "),t("subscription-settings"),e._v(" "),t("hr"),e._v(" "),t("distraction-settings"),e._v(" "),t("hr"),e._v(" "),t("privacy-settings"),e._v(" "),t("hr"),e._v(" "),t("data-settings"),e._v(" "),t("hr"),e._v(" "),e.usingElectron?t("proxy-settings"):e._e(),e._v(" "),e.usingElectron?t("hr"):e._e(),e._v(" "),e.usingElectron?t("download-settings"):e._e(),e._v(" "),e.usingElectron?t("hr"):e._e(),e._v(" "),t("parental-control-settings"),e._v(" "),t("hr"),e._v(" "),t("sponsor-block-settings"),e._v(" "),e.usingElectron?t("hr"):e._e(),e._v(" "),e.usingElectron?t("experimental-settings"):e._e(),e._v(" "),e.usingCordova?t("hr"):e._e(),e._v(" "),e.usingCordova?t("cordova-settings"):e._e(),e._v(" "),t("hr"),e._v(" "),t("password-settings")]:t("password-dialog",{on:{unlocked:function(t){e.unlocked=!0}}})],2)}),[],!1,null,"b6dde4a0",null).exports,Em=JSON.parse('{"N$":"FreeTube","i8":"0.18.0.95"}'),Pm=_l({name:"About",components:{"ft-card":Il},data:function(){return{versionNumber:`v${Em.i8}`,chunks:[{icon:["fab","github"],title:this.$t("About.Source code"),content:`<a href="https://github.com/MarmadileManteater/FreeTubeCordova">GitHub: FreeTubeCordova</a><br>${this.$t("About.Licensed under the AGPLv3")} <a href="https://www.gnu.org/licenses/agpl-3.0.en.html">${this.$t("About.View License")}</a>.<br/> This is a fork of the official <a href="https://github.com/FreeTubeApp/FreeTube">FreeTube</a> repo with modifications to work better in a browser and on phones.`},{icon:["fas","file-download"],title:this.$t("About.Downloads / Changelog"),content:`<a href="https://github.com/MarmadileManteater/FreeTubeCordova/releases">${this.$t("About.GitHub releases")}</a>`},{icon:["fas","question-circle"],title:this.$t("About.Help"),content:`<a href="https://docs.freetubeapp.io/">${this.$t("About.FreeTube Wiki")}</a> / <a href="https://docs.freetubeapp.io/faq/">${this.$t("About.FAQ")}</a>`},{icon:["fas","exclamation-circle"],title:this.$t("About.Report a problem"),content:`<a href="https://github.com/MarmadileManteater/FreeTubeCordova/issues">${this.$t("About.GitHub issues")}</a><br>${this.$t("About.Please check for duplicates before posting")}`},{icon:["fas","globe"],title:this.$t("About.Website"),content:'<a href="https://freetubeapp.io/">https://freetubeapp.io/</a>'},{icon:["fas","newspaper"],title:this.$t("About.Blog"),content:'<a href="https://blog.freetubeapp.io">https://blog.freetubeapp.io</a>'},{icon:["fas","envelope"],title:this.$t("About.Email"),content:'<a href="mailto:FreeTubeApp@protonmail.com">FreeTubeApp@protonmail.com</a>'},{icon:["fab","mastodon"],title:this.$t("About.Mastodon"),content:'<a href="https://fosstodon.org/@FreeTube">@FreeTube@fosstodon.org</a>'},{icon:["fas","comment-dots"],title:this.$t("About.Chat on Matrix"),content:`<a href="https://matrix.to/#/#freetube:matrix.org?via=matrix.org&via=privacytools.io&via=tchncs.de">#freetube:matrix.org</a><br>${this.$t("About.Please read the")} <a href="https://docs.freetubeapp.io/community/matrix/">${this.$t("About.room rules")}</a>`},{icon:["fas","language"],title:this.$t("About.Translate"),content:'<a href="https://hosted.weblate.org/engage/free-tube/">https://hosted.weblate.org/engage/free-tube/</a>'},{icon:["fas","users"],title:this.$t("About.Credits"),content:`${this.$t("About.FreeTube is made possible by")} <a href="https://docs.freetubeapp.io/credits/">${this.$t("About.these people and projects")}</a>`},{icon:["fas","heart"],title:`${this.$t("About.Donate")} - Liberapay`,content:'<a href="https://liberapay.com/FreeTube">https://liberapay.com/FreeTube</a>'},{icon:["fab","bitcoin"],title:`${this.$t("About.Donate")} - BTC`,content:'<a href="bitcoin:1Lih7Ho5gnxb1CwPD4o59ss78pwo2T91eS">1Lih7Ho5gnxb1CwPD4o59ss78pwo2T91eS</a>'},{icon:["fab","monero"],title:`${this.$t("About.Donate")} - XMR`,content:'<a href="monero:48WyAPdjwc6VokeXACxSZCFeKEXBiYPV6GjfvBsfg4CrUJ95LLCQSfpM9pvNKy5GE5H4hNaw99P8RZyzmaU9kb1pD7kzhCB">48WyAPdjwc6VokeXACxSZCFeKEXBiYPV6GjfvBsfg4CrUJ95LLCQSfpM9pvNKy5GE5H4hNaw99P8RZyzmaU9kb1pD7kzhCB</a>'}]}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t("ft-card",{staticClass:"card"},[t("h1",[e._v("\n      "+e._s(e.$t("About.About"))+"\n    ")]),e._v(" "),t("section",{staticClass:"brand"},[t("img",{staticClass:"logo",attrs:{src:n(2741),alt:""}}),e._v(" "),t("div",{staticClass:"version"},[e._v("\n        "+e._s(e.versionNumber)+" "+e._s(e.$t("About.Beta"))+"\n      ")])]),e._v(" "),t("section",{staticClass:"about-chunks"},e._l(e.chunks,(function(n){return t("figure",{key:n.title,staticClass:"chunk"},[t("font-awesome-icon",{staticClass:"icon",attrs:{icon:n.icon}}),e._v(" "),t("h3",{staticClass:"title"},[e._v("\n          "+e._s(n.title)+"\n        ")]),e._v(" "),t("div",{staticClass:"content",domProps:{innerHTML:e._s(n.content)}})],1)})),0)])],1)}),[],!1,null,"18dfa652",null).exports,Im={name:"Search",components:{"ft-loader":Lh,"ft-card":Il,"ft-element-list":dp},data:function(){return{isLoading:!1,apiUsed:"local",amountOfResults:0,query:"",searchPage:1,nextPageRef:null,lastSearchQuery:"",searchSettings:{},shownResults:[]}},computed:{sessionSearchHistory:function(){return this.$store.getters.getSessionSearchHistory},backendPreference:function(){return this.$store.getters.getBackendPreference},backendFallback:function(){return this.$store.getters.getBackendFallback},hideLiveStreams:function(){return this.$store.getters.getHideLiveStreams},hideUpcomingPremieres:function(){return this.$store.getters.getHideUpcomingPremieres},showFamilyFriendlyOnly:function(){return this.$store.getters.getShowFamilyFriendlyOnly}},watch:{$route(){const e=this.$route.params.query,t={query:e,options:{},searchSettings:{sortBy:this.$route.query.sortBy,time:this.$route.query.time,type:this.$route.query.type,duration:this.$route.query.duration}};this.query=e,this.checkSearchCache(t)}},mounted:function(){this.query=this.$route.params.query,this.searchSettings={sortBy:this.$route.query.sortBy,time:this.$route.query.time,type:this.$route.query.type,duration:this.$route.query.duration};const e={query:this.query,options:{},searchSettings:this.searchSettings};this.checkSearchCache(e)},methods:{checkSearchCache:function(e){const t=this.sessionSearchHistory.filter((t=>t.query===e.query&&Kg(e.searchSettings,t.searchSettings)));if(this.shownResults=[],this.isLoading=!0,t.length>0)setTimeout(this.replaceShownResults,100,t[0]);else switch(this.searchSettings=e.searchSettings,this.backendPreference){case"local":this.performSearchLocal(e);break;case"invidious":this.performSearchInvidious(e)}},performSearchLocal:async function(e){this.isLoading=!0;try{const{results:t,continuationData:n}=await async function(e,t,n){const i=await $p({safetyMode:n}),r=await i.search(e,function(e){const t={};return e&&(e.sortBy&&(t.sort_by=e.sortBy),e.time&&(t.upload_date=e.time),e.type&&(t.type=e.type),e.duration&&(t.type=e.duration)),t}(t));return Vp(r)}(e.query,e.searchSettings,this.showFamilyFriendlyOnly);if(0===t.length)return;this.apiUsed="local",this.shownResults=t,this.nextPageRef=n,this.isLoading=!1;const i={query:e.query,data:this.shownResults,searchSettings:this.searchSettings,nextPageRef:this.nextPageRef};this.$store.commit("addToSessionSearchHistory",i)}catch(t){console.error(t),$g(`${this.$t("Local API Error (Click to copy)")}: ${t}`,1e4,(()=>{Bg(t)})),"local"===this.backendPreference&&this.backendFallback?($g(this.$t("Falling back to Invidious API")),this.performSearchInvidious(e)):this.isLoading=!1}},getNextpageLocal:async function(e){try{const{results:t,continuationData:n}=await async function(e){return Vp(await e.getContinuation())}(e.options.nextPageRef);if(0===t.length)return;this.apiUsed="local",this.shownResults=this.shownResults.concat(t),this.nextPageRef=n;const i={query:e.query,data:this.shownResults,searchSettings:this.searchSettings,nextPageRef:this.nextPageRef};this.$store.commit("addToSessionSearchHistory",i)}catch(t){console.error(t),$g(`${this.$t("Local API Error (Click to copy)")}: ${t}`,1e4,(()=>{Bg(t)})),"local"===this.backendPreference&&this.backendFallback?($g(this.$t("Falling back to Invidious API")),this.performSearchInvidious(e)):this.isLoading=!1}},performSearchInvidious:function(e){1===this.searchPage&&(this.isLoading=!0),ip({resource:"search",id:"",params:{q:e.query,page:this.searchPage,sort_by:e.searchSettings.sortBy,date:e.searchSettings.time,duration:e.searchSettings.duration,type:e.searchSettings.type}}).then((t=>{if(!t)return;this.apiUsed="invidious";const n=t.filter((e=>"video"===e.type||"channel"===e.type||"playlist"===e.type));1!==this.searchPage?this.shownResults=this.shownResults.concat(n):this.shownResults=n,this.searchPage++,this.isLoading=!1;const i={query:e.query,data:this.shownResults,searchSettings:this.searchSettings,searchPage:this.searchPage};this.$store.commit("addToSessionSearchHistory",i)})).catch((e=>{console.error(e),$g(`${this.$t("Invidious API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)})),this.isLoading=!1}))},nextPage:function(){const e={query:this.query,searchSettings:this.searchSettings,options:{nextPageRef:this.nextPageRef}};"local"===this.apiUsed?null!==this.nextPageRef?($g(this.$t('Search Filters["Fetching results. Please wait"]')),this.getNextpageLocal(e)):$g(this.$t("Search Filters.There are no more results for this search")):($g(this.$t('Search Filters["Fetching results. Please wait"]')),this.performSearchInvidious(e))},replaceShownResults:function(e){this.query=e.query,this.shownResults=e.data,this.searchSettings=e.searchSettings,this.amountOfResults=e.amountOfResults,void 0!==e.nextPageRef&&(this.nextPageRef=e.nextPageRef),void 0!==e.searchPage&&(this.searchPage=e.searchPage),this.isLoading=!1}}},Am=_l(Im,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{ref:"search"},[e.isLoading?t("ft-loader",{attrs:{fullscreen:!0}}):t("ft-card",{staticClass:"card"},[t("h3",[e._v(e._s(e.$t("Search Filters.Search Results")))]),e._v(" "),t("ft-element-list",{attrs:{data:e.shownResults}}),e._v(" "),t("div",{staticClass:"getNextPage",attrs:{role:"button",tabindex:"0"},on:{click:e.nextPage,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.nextPage.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.nextPage.apply(null,arguments))}]}},[t("font-awesome-icon",{attrs:{icon:["fas","search"]}}),e._v(" "+e._s(e.$t("Search Filters.Fetch more results"))+"\n    ")],1)],1)],1)}),[],!1,null,"60684b32",null).exports,Lm={name:"FtListDropdown",props:{title:{type:String,required:!0},labelNames:{type:Array,required:!0},labelValues:{type:Array,required:!0}},data:function(){return{id:"",thumbnail:"",channelName:"",subscriberCount:0,videoCount:"",uploadedTime:"",description:""}},computed:{listType:function(){return this.$store.getters.getListType}},methods:{sanitizeForHtmlId:Al,handleIconKeyPress(){const e=document.getElementById("buttonOption0");e&&(e.setAttribute("tabIndex",1),e.focus())},handleDropdownClick:function(e,t){if(!function(e,t,n){if(!(e&&e instanceof KeyboardEvent))return!0;let i=null;return"Tab"!==e.key&&("ArrowUp"===e.key?(i=t.previousElementSibling??t.parentNode.lastElementChild,i.classList.contains("listItemDivider")&&(i=i.previousElementSibling)):"ArrowDown"===e.key?(i=t.nextElementSibling??t.parentNode.firstElementChild,i.classList.contains("listItemDivider")&&(i=i.nextElementSibling)):"Home"===e.key?i=t.parentNode.firstElementChild:"End"===e.key&&(i=t.parentNode.lastElementChild),e.preventDefault(),i&&(t.setAttribute("tabindex","-1"),i.setAttribute("tabindex","0"),i.focus()),"Enter"===e.key||" "===e.key)}(t,t?.target))return;const n=CSS.escape(Al(this.title));document.querySelector(`#${n} + ul`).setAttribute("tabindex","-1"),t.target.setAttribute("tabindex","0"),this.$emit("click",this.labelValues[e])}}};var Om=_l(Lm,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"dropdown"},[t("div",{staticClass:"buttonTitle",attrs:{id:e.sanitizeForHtmlId(e.title),tabindex:"0",role:"listbox"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.handleIconKeyPress(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.handleIconKeyPress(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.handleIconKeyPress(t))}]}},[e._v("\n    "+e._s(e.title)+"\n    "),t("font-awesome-icon",{staticClass:"angleDownIcon",attrs:{icon:["fas","angle-down"]}})],1),e._v(" "),t("ul",e._l(e.labelNames,(function(n,i){return t("li",{key:i,staticClass:"buttonOption",attrs:{id:"buttonOption"+i,role:"option",tabindex:"-1","aria-selected":"false"},on:{click:function(t){return e.handleDropdownClick(i,t)},keydown:function(t){return e.handleDropdownClick(i,t)}}},[e._v("\n      "+e._s(n)+"\n    ")])})),0)])}),[],!1,null,"742ab320",null);const Rm=_l({name:"PlaylistInfo",components:{"ft-list-dropdown":Om.exports},props:{data:{type:Object,required:!0}},data:function(){return{id:"",firstVideoId:"",title:"",channelThumbnail:"",channelName:"",channelId:"",videoCount:0,viewCount:0,lastUpdated:"",description:"",infoSource:"",shareValues:["copyYoutube","openYoutube","copyInvidious","openInvidious"]}},computed:{hideSharingActions:function(){return this.$store.getters.getHideSharingActions},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},listType:function(){return this.$store.getters.getListType},thumbnailPreference:function(){return this.$store.getters.getThumbnailPreference},hideViews:function(){return this.$store.getters.getHideVideoViews},shareHeaders:function(){return[this.$t("Playlist.Share Playlist.Copy YouTube Link"),this.$t("Playlist.Share Playlist.Open in YouTube"),this.$t("Playlist.Share Playlist.Copy Invidious Link"),this.$t("Playlist.Share Playlist.Open in Invidious")]},thumbnail:function(){switch(this.thumbnailPreference){case"start":return`https://i.ytimg.com/vi/${this.firstVideoId}/mq1.jpg`;case"middle":return`https://i.ytimg.com/vi/${this.firstVideoId}/mq2.jpg`;case"end":return`https://i.ytimg.com/vi/${this.firstVideoId}/mq3.jpg`;default:return`https://i.ytimg.com/vi/${this.firstVideoId}/mqdefault.jpg`}}},mounted:function(){this.id=this.data.id,this.firstVideoId=this.data.firstVideoId,this.title=this.data.title,this.channelName=this.data.channelName,this.channelThumbnail=this.data.channelThumbnail,this.channelId=this.data.channelId,this.uploadedTime=this.data.uploaded_at,this.description=this.data.description,this.infoSource=this.data.infoSource,void 0===this.data.viewCount||isNaN(this.data.viewCount)||(this.viewCount=this.hideViews?null:Jg(this.data.viewCount)),void 0===this.data.videoCount||isNaN(this.data.videoCount)||(this.videoCount=Jg(this.data.videoCount)),this.lastUpdated=this.data.lastUpdated},methods:{sharePlaylist:function(e){const t=`https://youtube.com/playlist?list=${this.id}`,n=`${this.currentInvidiousInstance}/playlist?list=${this.id}`;switch(e){case"copyYoutube":Bg(t,{messageOnSuccess:this.$t("Share.YouTube URL copied to clipboard")});break;case"openYoutube":Mg(t);break;case"copyInvidious":Bg(n,{messageOnSuccess:this.$t("Share.Invidious URL copied to clipboard")});break;case"openInvidious":Mg(n)}}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"playlistInfo"},[t("div",{staticClass:"playlistThumbnail"},[t("router-link",{attrs:{to:{path:`/watch/${e.firstVideoId}`,query:{playlistId:e.id}},tabindex:"-1"}},[t("img",{attrs:{src:e.thumbnail,alt:""}})])],1),e._v(" "),t("div",{staticClass:"playlistStats"},[t("h2",{staticClass:"playlistTitle"},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),t("p",[e._v("\n      "+e._s(e.videoCount)+" "+e._s(e.$t("Playlist.Videos"))+" - "),e.hideViews?e._e():t("span",[e._v(e._s(e.viewCount)+" "+e._s(e.$t("Playlist.Views"))+" -")]),e._v(" "),"local"!==e.infoSource?t("span",[e._v("\n        "+e._s(e.$t("Playlist.Last Updated On"))+"\n      ")]):e._e(),e._v("\n      "+e._s(e.lastUpdated)+"\n    ")])]),e._v(" "),t("p",{staticClass:"playlistDescription",domProps:{textContent:e._s(e.description)}}),e._v(" "),t("hr"),e._v(" "),t("router-link",{staticClass:"playlistChannel",attrs:{to:`/channel/${e.channelId}`}},[t("img",{staticClass:"channelThumbnail",attrs:{src:e.channelThumbnail,alt:""}}),e._v(" "),t("h3",{staticClass:"channelName"},[e._v("\n      "+e._s(e.channelName)+"\n    ")])]),e._v(" "),t("br"),e._v(" "),e.hideSharingActions?e._e():t("ft-list-dropdown",{attrs:{title:e.$t("Playlist.Share Playlist.Share Playlist"),"label-names":e.shareHeaders,"label-values":e.shareValues},on:{click:e.sharePlaylist}})],1)}),[],!1,null,"626401d0",null).exports,Dm=_l({name:"FtListVideoLazy",components:{"ft-list-video":Nh},props:{data:{type:Object,required:!0},playlistId:{type:String,default:null},playlistIndex:{type:Number,default:null},playlistReverse:{type:Boolean,default:!1},playlistShuffle:{type:Boolean,default:!1},playlistLoop:{type:Boolean,default:!1},forceListType:{type:String,default:null},appearance:{type:String,required:!0}},data:function(){return{visible:!1}},methods:{onVisibilityChanged:function(e){e&&(this.visible=e)}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.onVisibilityChanged,once:!0},expression:"{\n    callback: onVisibilityChanged,\n    once: true,\n  }"}]},[e.visible?t("ft-list-video",{attrs:{data:e.data,"playlist-id":e.playlistId,"playlist-index":e.playlistIndex,"playlist-reverse":e.playlistReverse,"playlist-shuffle":e.playlistShuffle,"playlist-loop":e.playlistLoop,"force-list-type":e.forceListType,appearance:e.appearance},on:{"pause-player":function(t){return e.$emit("pause-player")}}}):e._e()],1)}),[],!1,null,null,null).exports,Nm={name:"Playlist",components:{"ft-loader":Lh,"ft-card":Il,"playlist-info":Rm,"ft-list-video-lazy":Dm,"ft-flex-box":wl,"ft-button":Oh},beforeRouteLeave(e,t,n){!this.isLoading&&e.path.startsWith("/watch")&&e.query.playlistId===this.playlistId&&this.setCachedPlaylist({id:this.playlistId,title:this.infoData.title,channelName:this.infoData.channelName,channelId:this.infoData.channelId,items:this.playlistItems,continuationData:this.continuationData}),n()},data:function(){return{isLoading:!1,playlistId:null,infoData:{},playlistItems:[],continuationData:null,isLoadingMore:!1}},computed:{backendPreference:function(){return this.$store.getters.getBackendPreference},backendFallback:function(){return this.$store.getters.getBackendFallback},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},currentLocale:function(){return this.$i18n.locale.replace("_","-")}},watch:{$route(){this.getPlaylist()}},mounted:function(){this.getPlaylist()},methods:{getPlaylist:function(){switch(this.playlistId=this.$route.params.id,this.backendPreference){case"local":this.getPlaylistLocal();break;case"invidious":this.getPlaylistInvidious()}},getPlaylistLocal:function(){this.isLoading=!0,Mp(this.playlistId).then((e=>{this.infoData={id:this.playlistId,title:e.info.title,description:e.info.description??"",firstVideoId:e.items[0].id,viewCount:Qg(e.info.views),videoCount:Qg(e.info.total_items),lastUpdated:e.info.last_updated??"",channelName:e.info.author?.name??"",channelThumbnail:e.info.author?.best_thumbnail?.url??"",channelId:e.info.author?.id,infoSource:"local"},this.updateSubscriptionDetails({channelThumbnailUrl:this.infoData.channelThumbnail,channelName:this.infoData.channelName,channelId:this.infoData.channelId}),this.playlistItems=e.items.map(Hp),e.has_continuation&&(this.continuationData=e),this.isLoading=!1})).catch((e=>{console.error(e),"local"===this.backendPreference&&this.backendFallback?(console.warn("Falling back to Invidious API"),this.getPlaylistInvidious()):this.isLoading=!1}))},getPlaylistInvidious:function(){this.isLoading=!0,ap(this.playlistId).then((e=>{this.infoData={id:e.playlistId,title:e.title,description:e.description,firstVideoId:e.videos[0].videoId,viewCount:e.viewCount,videoCount:e.videoCount,channelName:e.author,channelThumbnail:sp(e.authorThumbnails[2].url,this.currentInvidiousInstance),channelId:e.authorId,infoSource:"invidious"},this.updateSubscriptionDetails({channelThumbnailUrl:e.authorThumbnails[2].url,channelName:this.infoData.channelName,channelId:this.infoData.channelId});const t=new Date(1e3*e.updated);this.infoData.lastUpdated=t.toLocaleDateString(this.currentLocale,{year:"numeric",month:"short",day:"numeric"}),this.playlistItems=this.playlistItems.concat(e.videos),this.isLoading=!1})).catch((e=>{console.error(e),this.isLoading=!1}))},getNextPage:function(){switch(this.infoData.infoSource){case"local":this.getNextPageLocal();break;case"invidious":console.error("Playlist pagination is not currently supported when the Invidious backend is selected.")}},getNextPageLocal:function(){this.isLoadingMore=!0,this.continuationData.getContinuation().then((e=>{const t=e.items.map(Hp);this.playlistItems=this.playlistItems.concat(t),e.has_continuation?this.continuationData=e:this.continuationData=null,this.isLoadingMore=!1}))},...el(["updateSubscriptionDetails"]),...Zo(["setCachedPlaylist"])}};var Fm=_l(Nm,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[e.isLoading?t("ft-loader",{attrs:{fullscreen:!0}}):e._e(),e._v(" "),e.isLoading?e._e():t("playlist-info",{staticClass:"playlistInfo",attrs:{data:e.infoData}}),e._v(" "),e.isLoading?e._e():t("ft-card",{staticClass:"playlistItems"},[e._l(e.playlistItems,(function(n,i){return t("div",{key:i,staticClass:"playlistItem"},[t("p",{staticClass:"videoIndex"},[e._v("\n        "+e._s(i+1)+"\n      ")]),e._v(" "),t("ft-list-video-lazy",{attrs:{data:n,"playlist-id":e.playlistId,"playlist-index":i,appearance:"result","force-list-type":"list"}})],1)})),e._v(" "),null===e.continuationData||e.isLoadingMore?e._e():t("ft-flex-box",[t("ft-button",{attrs:{label:e.$t("Subscriptions.Load More Videos"),"background-color":"var(--primary-color)","text-color":"var(--text-with-main-color)"},on:{click:e.getNextPage}})],1),e._v(" "),e.isLoadingMore?t("div",{staticClass:"loadNextPageWrapper"},[t("ft-loader")],1):e._e()],2)],1)}),[],!1,null,"9b188da4",null);const $m=Fm.exports,Bm=_l({name:"FtAgeRestricted",props:{contentTypeString:{type:String,required:!0}},computed:{emoji:function(){const e=["","","","","","",""];return e[Math.floor(Math.random()*e.length)]},restrictedMessage:function(){const e=this.$t("Age Restricted.Type."+this.contentTypeString);return this.$t("Age Restricted.This {videoOrPlaylist} is age restricted",{videoOrPlaylist:e})}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"ft-age-restricted"},[t("h2",[e._v("\n    "+e._s(e.restrictedMessage)+"\n  ")]),e._v(" "),t("div",{staticClass:"frown"},[e._v("\n    "+e._s(e.emoji)+"\n  ")])])}),[],!1,null,"85589eca",null).exports,Mm=_l({name:"FtShareButton",components:{"ft-flex-box":wl,"ft-icon-button":Rl,"ft-button":Oh,"ft-toggle-switch":Jp},props:{shareTargetType:{type:String,default:"Video"},id:{type:String,required:!0},playlistId:{type:String,default:""},getTimestamp:{type:Function,default:null}},data:function(){return{includeTimestamp:!1}},computed:{isChannel:function(){return"Channel"===this.shareTargetType},isVideo:function(){return"Video"===this.shareTargetType},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},invidiousURL(){if(this.isChannel)return`${this.currentInvidiousInstance}/channel/${this.id}`;let e=`${this.currentInvidiousInstance}/watch?v=${this.id}`;return this.playlistId&&0!==this.playlistId.length&&(e+=`&list=${this.playlistId}`),e},invidiousEmbedURL(){return`${this.currentInvidiousInstance}/embed/${this.id}`},youtubeChannelUrl(){return`https://www.youtube.com/channel/${this.id}`},youtubeURL(){if(this.isChannel)return this.youtubeChannelUrl;let e=`https://www.youtube.com/watch?v=${this.id}`;return this.playlistId&&0!==this.playlistId.length&&(e+=`&list=${this.playlistId}`),e},youtubeShareURL(){return this.isChannel?this.youtubeChannelUrl:this.playlistId&&0!==this.playlistId.length?`https://www.youtube.com/watch?v=${this.id}&list=${this.playlistId}`:`https://youtu.be/${this.id}`},youtubeEmbedURL(){return`https://www.youtube-nocookie.com/embed/${this.id}`}},mounted(){this.isVideo&&!this.getTimestamp&&console.error("Error in props validation: A Video ft-share-button requires a valid get-timestamp function.")},methods:{openInvidious(){Mg(this.getFinalUrl(this.invidiousURL)),this.$refs.iconButton.hideDropdown()},copyInvidious(){Bg(this.getFinalUrl(this.invidiousURL),{messageOnSuccess:this.$t("Share.Invidious URL copied to clipboard")}),this.$refs.iconButton.hideDropdown()},openYoutube(){Mg(this.getFinalUrl(this.youtubeURL)),this.$refs.iconButton.hideDropdown()},copyYoutube(){Bg(this.getFinalUrl(this.youtubeShareURL),{messageOnSuccess:this.$t("Share.YouTube URL copied to clipboard")}),this.$refs.iconButton.hideDropdown()},openYoutubeEmbed(){Mg(this.getFinalUrl(this.youtubeEmbedURL)),this.$refs.iconButton.hideDropdown()},copyYoutubeEmbed(){Bg(this.getFinalUrl(this.youtubeEmbedURL),{messageOnSuccess:this.$t("Share.YouTube Embed URL copied to clipboard")}),this.$refs.iconButton.hideDropdown()},openInvidiousEmbed(){Mg(this.getFinalUrl(this.invidiousEmbedURL)),this.$refs.iconButton.hideDropdown()},copyInvidiousEmbed(){Bg(this.getFinalUrl(this.invidiousEmbedURL),{messageOnSuccess:this.$t("Share.Invidious Embed URL copied to clipboard")}),this.$refs.iconButton.hideDropdown()},updateIncludeTimestamp(){this.includeTimestamp=!this.includeTimestamp},getFinalUrl(e){return this.isChannel?e:-1===e.indexOf("?")?this.includeTimestamp?`${e}?t=${this.getTimestamp()}`:e:this.includeTimestamp?`${e}&t=${this.getTimestamp()}`:e}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-icon-button",{ref:"iconButton",attrs:{title:e.$t(`Share.Share ${e.shareTargetType}`),theme:e.isVideo?"secondary":"base-no-default",icon:["fas","share-alt"],"dropdown-position-x":"left","force-dropdown":!0}},[t("ft-flex-box",[e.isVideo?t("ft-toggle-switch",{attrs:{label:e.$t("Share.Include Timestamp"),compact:!0,"default-value":e.includeTimestamp},on:{change:e.updateIncludeTimestamp}}):e._e()],1),e._v(" "),t("div",{staticClass:"shareLinks"},[t("div",{staticClass:"header"},[t("img",{staticClass:"youtubeLogo",attrs:{id:"youtubeShareImage",src:n(5275),alt:"YouTube",width:"794",height:"178"}})]),e._v(" "),t("div",{staticClass:"buttons"},[t("ft-button",{staticClass:"action",attrs:{"aria-describedby":"youtubeShareImage"},on:{click:function(t){return e.copyYoutube()}}},[t("font-awesome-icon",{attrs:{icon:["fas","copy"]}}),e._v("\n        "+e._s(e.$t("Share.Copy Link"))+"\n      ")],1),e._v(" "),t("ft-button",{staticClass:"action",attrs:{"aria-describedby":"youtubeShareImage"},on:{click:function(t){return e.openYoutube()}}},[t("font-awesome-icon",{attrs:{icon:["fas","globe"]}}),e._v("\n        "+e._s(e.$t("Share.Open Link"))+"\n      ")],1),e._v(" "),e.isVideo?t("ft-button",{staticClass:"action",attrs:{"aria-describedby":"youtubeShareImage","background-color":"var(--accent-color-active)"},on:{click:function(t){return e.copyYoutubeEmbed()}}},[t("font-awesome-icon",{attrs:{icon:["fas","copy"]}}),e._v("\n        "+e._s(e.$t("Share.Copy Embed"))+"\n      ")],1):e._e(),e._v(" "),e.isVideo?t("ft-button",{staticClass:"action",attrs:{"aria-describedby":"youtubeShareImage","background-color":"var(--accent-color-active)"},on:{click:function(t){return e.openYoutubeEmbed()}}},[t("font-awesome-icon",{attrs:{icon:["fas","globe"]}}),e._v("\n        "+e._s(e.$t("Share.Open Embed"))+"\n      ")],1):e._e()],1),e._v(" "),t("div",{staticClass:"divider"}),e._v(" "),t("div",{staticClass:"header invidious",attrs:{id:"invidiousShare"}},[t("span",{staticClass:"invidiousLogo"}),e._v("Invidious\n    ")]),e._v(" "),t("div",{staticClass:"buttons"},[t("ft-button",{staticClass:"action",attrs:{"aria-describedby":"invidiousShare"},on:{click:function(t){return e.copyInvidious()}}},[t("font-awesome-icon",{attrs:{icon:["fas","copy"]}}),e._v("\n        "+e._s(e.$t("Share.Copy Link"))+"\n      ")],1),e._v(" "),t("ft-button",{staticClass:"action",attrs:{"aria-describedby":"invidiousShare"},on:{click:function(t){return e.openInvidious()}}},[t("font-awesome-icon",{attrs:{icon:["fas","globe"]}}),e._v("\n        "+e._s(e.$t("Share.Open Link"))+"\n      ")],1),e._v(" "),e.isVideo?t("ft-button",{staticClass:"action",attrs:{"aria-describedby":"invidiousShare","background-color":"var(--accent-color-active)"},on:{click:function(t){return e.copyInvidiousEmbed()}}},[t("font-awesome-icon",{attrs:{icon:["fas","copy"]}}),e._v("\n        "+e._s(e.$t("Share.Copy Embed"))+"\n      ")],1):e._e(),e._v(" "),e.isVideo?t("ft-button",{staticClass:"action",attrs:{"aria-describedby":"invidiousShare","background-color":"var(--accent-color-active)"},on:{click:function(t){return e.openInvidiousEmbed()}}},[t("font-awesome-icon",{attrs:{icon:["fas","globe"]}}),e._v("\n        "+e._s(e.$t("Share.Open Embed"))+"\n      ")],1):e._e()],1)])],1)}),[],!1,null,"207e8c5e",null).exports,Um={name:"Search",components:{"ft-card":Il,"ft-button":Oh,"ft-input":xl,"ft-select":Op,"ft-flex-box":wl,"ft-channel-bubble":fp,"ft-loader":Lh,"ft-element-list":dp,"ft-age-restricted":Bm,"ft-share-button":Mm},data:function(){return{isLoading:!1,isElementListLoading:!1,currentTab:"videos",id:"",idType:0,channelName:"",bannerUrl:"",thumbnailUrl:"",subCount:0,latestVideosPage:2,searchPage:2,videoContinuationString:"",playlistContinuationString:"",searchContinuationString:"",channelDescription:"",videoSortBy:"newest",playlistSortBy:"last",lastSearchQuery:"",relatedChannels:[],latestVideos:[],latestPlaylists:[],searchResults:[],shownElementList:[],apiUsed:"",isFamilyFriendly:!1,errorMessage:"",videoSelectValues:["newest","oldest","popular"],playlistSelectValues:["last","newest"],tabInfoValues:["videos","playlists","about"]}},computed:{backendPreference:function(){return this.$store.getters.getBackendPreference},backendFallback:function(){return this.$store.getters.getBackendFallback},hideUnsubscribeButton:function(){return this.$store.getters.getHideUnsubscribeButton},showFamilyFriendlyOnly:function(){return this.$store.getters.getShowFamilyFriendlyOnly},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},sessionSearchHistory:function(){return this.$store.getters.getSessionSearchHistory},profileList:function(){return this.$store.getters.getProfileList},activeProfile:function(){return this.$store.getters.getActiveProfile},subscriptionInfo:function(){return this.activeProfile.subscriptions.find((e=>e.id===this.id))??null},isSubscribed:function(){return null!==this.subscriptionInfo},subscribedText:function(){return this.isSubscribed?this.$t("Channel.Unsubscribe").toUpperCase():this.$t("Channel.Subscribe").toUpperCase()},videoSelectNames:function(){return[this.$t("Channel.Videos.Sort Types.Newest"),this.$t("Channel.Videos.Sort Types.Oldest"),this.$t("Channel.Videos.Sort Types.Most Popular")]},playlistSelectNames:function(){return[this.$t("Channel.Playlists.Sort Types.Last Video Added"),this.$t("Channel.Playlists.Sort Types.Newest")]},formattedSubCount:function(){return this.hideChannelSubscriptions?null:Jg(this.subCount)},showFetchMoreButton:function(){switch(this.currentTab){case"videos":if("invidious"===this.apiUsed||""!==this.videoContinuationString&&null!==this.videoContinuationString)return!0;break;case"playlists":if(""!==this.playlistContinuationString&&null!==this.playlistContinuationString)return!0;break;case"search":if(""!==this.searchContinuationString&&null!==this.searchContinuationString)return!0}return!1},hideChannelSubscriptions:function(){return this.$store.getters.getHideChannelSubscriptions}},watch:{$route(){this.originalId=this.$route.params.id,this.id=this.$route.params.id,this.idType=this.$route.query.idType?Number(this.$route.query.idType):0,this.currentTab=this.$route.params.currentTab??"videos",this.latestVideosPage=2,this.searchPage=2,this.relatedChannels=[],this.latestVideos=[],this.latestPlaylists=[],this.searchResults=[],this.shownElementList=[],this.apiUsed="",this.isLoading=!0,this.getChannelInfoInvidious(),this.getPlaylistsInvidious()},videoSortBy(){switch(this.isElementListLoading=!0,this.latestVideos=[],this.apiUsed){case"local":default:this.getChannelVideosLocal();break;case"invidious":this.latestVideosPage=1,this.channelInvidiousNextPage()}},playlistSortBy(){switch(this.isElementListLoading=!0,this.latestPlaylists=[],this.playlistContinuationString="",this.apiUsed){case"local":default:this.getPlaylistsLocal();break;case"invidious":this.channelInvidiousNextPage()}}},mounted:function(){this.originalId=this.$route.params.id,this.id=this.$route.params.id,this.idType=this.$route.query.idType?Number(this.$route.query.idType):0,this.currentTab=this.$route.params.currentTab??"videos",this.isLoading=!0,this.getChannelInfoInvidious(),this.getPlaylistsInvidious()},methods:{goToChannel:function(e){this.$router.push({path:`/channel/${e}`})},getChannelInfoLocal:function(){this.apiUsed="local";const e=this.originalId;mp().getChannelInfo({channelId:this.id,channelIdType:this.idType}).then((t=>{if(t.alertMessage)return void this.setErrorMessage(t.alertMessage);if(this.errorMessage="",e!==this.originalId)return;const n=t.authorId,i=t.author,r=t.authorThumbnails[2].url;if(this.id=n,this.idType=1,this.channelName=i,this.isFamilyFriendly=t.isFamilyFriendly,document.title=`${this.channelName} - ${Em.N$}`,this.hideChannelSubscriptions||0===t.subscriberCount?this.subCount=null:this.subCount=t.subscriberCount.toFixed(0),this.thumbnailUrl=r,this.updateSubscriptionDetails({channelThumbnailUrl:r,channelName:i,channelId:n}),this.channelDescription=tp.link(t.description),this.relatedChannels=t.relatedChannels.items,this.relatedChannels.forEach((e=>{e.thumbnail.map((e=>(e.url.includes("https")||(e.url=`https:${e.url}`),e))),e.authorThumbnails=e.thumbnail})),null!==t.authorBanners){const e=t.authorBanners[t.authorBanners.length-1].url;e.includes("https")?this.bannerUrl=e:this.bannerUrl=`https://${e}`}else this.bannerUrl=null;this.isLoading=!1})).catch((e=>{console.error(e),$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)})),"local"===this.backendPreference&&this.backendFallback?($g(this.$t("Falling back to Invidious API")),this.getChannelInfoInvidious()):this.isLoading=!1}))},getChannelVideosLocal:function(){this.isElementListLoading=!0;const e=this.originalId;mp().getChannelVideos({channelId:this.id,channelIdType:this.idType,sortBy:this.videoSortBy}).then((t=>{e===this.originalId&&(this.latestVideos=t.items,this.videoContinuationString=t.continuation,this.isElementListLoading=!1)})).catch((e=>{console.error(e),$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)})),"local"===this.backendPreference&&this.backendFallback?($g(this.$t("Falling back to Invidious API")),this.getChannelInfoInvidious()):this.isLoading=!1}))},channelLocalNextPage:function(){mp().getChannelVideosMore({continuation:this.videoContinuationString}).then((e=>{this.latestVideos=this.latestVideos.concat(e.items),this.videoContinuationString=e.continuation})).catch((e=>{console.error(e),$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)}))}))},getChannelInfoInvidious:function(){this.isLoading=!0,this.apiUsed="invidious";const e=this.originalId;rp(this.id).then((t=>{if(e!==this.originalId)return;const n=t.author,i=t.authorId;this.channelName=n,document.title=`${this.channelName} - ${Em.N$}`,this.id=i,this.isFamilyFriendly=t.isFamilyFriendly,this.hideChannelSubscriptions?this.subCount=null:this.subCount=t.subCount;const r=t.authorThumbnails[3].url;this.thumbnailUrl=sp(r,this.currentInvidiousInstance),this.updateSubscriptionDetails({channelThumbnailUrl:r,channelName:n,channelId:i}),this.channelDescription=tp.link(t.description),this.relatedChannels=t.relatedChannels.map((e=>(e.authorThumbnails=e.authorThumbnails.map((e=>(e.url=sp(e.url,this.currentInvidiousInstance),e))),e.channelId=e.authorId,e))),this.latestVideos=t.latestVideos,t.authorBanners instanceof Array&&t.authorBanners.length>0?this.bannerUrl=sp(t.authorBanners[0].url,this.currentInvidiousInstance):this.bannerUrl=null,this.errorMessage="",this.isLoading=!1})).catch((e=>{this.setErrorMessage(e.responseJSON.error),console.error(e),$g(`${this.$t("Invidious API Error (Click to copy)")}: ${e.responseJSON.error}`,1e4,(()=>{Bg(e.responseJSON.error)})),this.isLoading=!1}))},channelInvidiousNextPage:function(){ip({resource:"channels/videos",id:this.id,params:{sort_by:this.videoSortBy,page:this.latestVideosPage}}).then((e=>{this.latestVideos=this.latestVideos.concat(e),this.latestVideosPage++,this.isElementListLoading=!1})).catch((e=>{console.error(e),$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)}))}))},getPlaylistsLocal:function(){const e=this.originalId;mp().getChannelPlaylistInfo({channelId:this.id,channelIdType:this.idType,sortBy:this.playlistSortBy}).then((t=>{e===this.originalId&&(this.latestPlaylists=t.items.map((e=>(e.proxyThumbnail=!1,e))),this.playlistContinuationString=t.continuation,this.isElementListLoading=!1)})).catch((e=>{console.error(e),$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)})),"local"===this.backendPreference&&this.backendFallback?($g(this.$t("Falling back to Invidious API")),this.getPlaylistsInvidious()):this.isLoading=!1}))},getPlaylistsLocalMore:function(){mp().getChannelPlaylistsMore({continuation:this.playlistContinuationString}).then((e=>{this.latestPlaylists=this.latestPlaylists.concat(e.items),this.playlistContinuationString=e.continuation})).catch((e=>{console.error(e),$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)}))}))},getPlaylistsInvidious:function(){ip({resource:"channels/playlists",id:this.id,params:{sort_by:this.playlistSortBy}}).then((e=>{this.playlistContinuationString=e.continuation,this.latestPlaylists=e.playlists,this.isElementListLoading=!1})).catch((e=>{console.error(e),$g(`${this.$t("Invidious API Error (Click to copy)")}: ${e.responseJSON.error}`,1e4,(()=>{Bg(e.responseJSON.error)})),this.isLoading=!1}))},getPlaylistsInvidiousMore:function(){if(null===this.playlistContinuationString)return void console.warn("There are no more playlists available for this channel");const e={resource:"channels/playlists",id:this.id,params:{sort_by:this.playlistSortBy}};this.playlistContinuationString&&(e.params.continuation=this.playlistContinuationString),ip(e).then((e=>{this.playlistContinuationString=e.continuation,this.latestPlaylists=this.latestPlaylists.concat(e.playlists),this.isElementListLoading=!1})).catch((e=>{console.error(e),$g(`${this.$t("Invidious API Error (Click to copy)")}: ${e.responseJSON.error}`,1e4,(()=>{Bg(e.responseJSON.error)})),this.isLoading=!1}))},handleSubscription:function(){const e=JSON.parse(JSON.stringify(this.activeProfile)),t=JSON.parse(JSON.stringify(this.profileList[0]));if(this.isSubscribed){if(e.subscriptions=e.subscriptions.filter((e=>e.id!==this.id)),this.updateProfile(e),$g(this.$t("Channel.Channel has been removed from your subscriptions")),this.activeProfile._id===Vl){let e=0;this.profileList.forEach((t=>{if(t._id===Vl)return;const n=JSON.parse(JSON.stringify(t));-1!==n.subscriptions.findIndex((e=>e.id===this.id))&&(e++,n.subscriptions=n.subscriptions.filter((e=>e.id!==this.id)),this.updateProfile(n))})),e>0&&$g(this.$t("Channel.Removed subscription from {count} other channel(s)",{count:e}))}}else{const n={id:this.id,name:this.channelName,thumbnail:this.thumbnailUrl};e.subscriptions.push(n),this.updateProfile(e),$g(this.$t("Channel.Added channel to your subscriptions")),this.activeProfile._id!==Vl&&-1===t.subscriptions.findIndex((e=>e.id===this.id))&&(t.subscriptions.push(n),this.updateProfile(t))}},setErrorMessage:function(e){this.isLoading=!1,this.errorMessage=e,this.id=this.subscriptionInfo.id,this.channelName=this.subscriptionInfo.name,this.thumbnailUrl=this.subscriptionInfo.thumbnail,this.bannerUrl=null,this.subCount=null},handleFetchMore:function(){switch(this.currentTab){case"videos":switch(this.apiUsed){case"local":this.channelLocalNextPage();break;case"invidious":this.channelInvidiousNextPage()}break;case"playlists":switch(this.apiUsed){case"local":this.getPlaylistsLocalMore();break;case"invidious":this.getPlaylistsInvidiousMore()}break;case"search":switch(this.apiUsed){case"local":this.searchChannelLocal();break;case"invidious":this.searchChannelInvidious()}}},changeTab:function(e,t){if(t instanceof KeyboardEvent&&(t.preventDefault(),"ArrowLeft"===t.key||"ArrowRight"===t.key)){const n=this.tabInfoValues.indexOf(e);e="ArrowLeft"===t.key?this.tabInfoValues[(n>0?n:this.tabInfoValues.length)-1]:this.tabInfoValues[(n+1)%this.tabInfoValues.length];const i=document.getElementById(`${e}Tab`);return t.target.setAttribute("tabindex","-1"),i.setAttribute("tabindex",0),void i.focus({focusVisible:!0})}const n=document.querySelector('.tabs > .tab[aria-selected="true"]'),i=document.getElementById(`${e}Tab`);document.querySelector('.tabs > .tab[tabindex="0"]')?.setAttribute("tabindex","-1"),i?.setAttribute("tabindex","0"),n?.setAttribute("aria-selected","false"),i?.setAttribute("aria-selected","true"),this.currentTab=e,i?.focus({focusVisible:!0})},newSearch:function(e){switch(this.lastSearchQuery=e,this.searchContinuationString="",this.isElementListLoading=!0,this.searchPage=1,this.searchResults=[],this.changeTab("search"),this.apiUsed){case"local":this.searchChannelLocal();break;case"invidious":this.searchChannelInvidious()}},searchChannelLocal:function(){""===this.searchContinuationString?mp().searchChannel({channelId:this.id,channelIdType:this.idType,query:this.lastSearchQuery}).then((e=>{this.searchResults=e.items,this.isElementListLoading=!1,this.searchContinuationString=e.continuation})).catch((e=>{console.error(e),$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)})),"local"===this.backendPreference&&this.backendFallback?($g(this.$t("Falling back to Invidious API")),this.searchChannelInvidious()):this.isLoading=!1})):mp().searchChannelMore({continuation:this.searchContinuationString}).then((e=>{this.searchResults=this.searchResults.concat(e.items),this.isElementListLoading=!1,this.searchContinuationString=e.continuation})).catch((e=>{console.error(e),$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)}))}))},searchChannelInvidious:function(){ip({resource:"channels/search",id:this.id,params:{q:this.lastSearchQuery,page:this.searchPage}}).then((e=>{this.searchResults=this.searchResults.concat(e),this.isElementListLoading=!1,this.searchPage++})).catch((e=>{console.error(e),$g(`${this.$t("Invidious API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)})),this.isLoading=!1}))},...el(["updateProfile","updateSubscriptionDetails"])}};var jm=_l(Um,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{ref:"search"},[e.isLoading&&!e.errorMessage?t("ft-loader",{attrs:{fullscreen:!0}}):e.isFamilyFriendly||!e.showFamilyFriendlyOnly?t("ft-card",{staticClass:"card channelDetails"},[t("div",{staticClass:"channelBannerContainer",class:{default:!e.bannerUrl},style:{"--banner-url":`url('${e.bannerUrl}')`}}),e._v(" "),t("div",{staticClass:"channelInfoContainer"},[t("div",{staticClass:"channelInfo"},[t("div",{staticClass:"thumbnailContainer"},[t("img",{staticClass:"channelThumbnail",attrs:{src:e.thumbnailUrl,alt:""}}),e._v(" "),t("div",{staticClass:"channelLineContainer"},[t("h1",{staticClass:"channelName"},[e._v("\n              "+e._s(e.channelName)+"\n            ")]),e._v(" "),null!==e.subCount?t("p",{staticClass:"channelSubCount"},[e._v("\n              "+e._s(e.formattedSubCount)+"\n              "),1===e.subCount?t("span",[e._v(e._s(e.$t("Channel.Subscriber")))]):t("span",[e._v(e._s(e.$t("Channel.Subscribers")))])]):e._e()])]),e._v(" "),t("div",{staticClass:"channelInfoActionsContainer"},[t("ft-share-button",{staticClass:"shareIcon",attrs:{id:e.id,"share-target-type":"Channel"}}),e._v(" "),e.hideUnsubscribeButton?e._e():t("ft-button",{staticClass:"subscribeButton",attrs:{label:e.subscribedText,"background-color":"var(--primary-color)","text-color":"var(--text-with-main-color)"},on:{click:e.handleSubscription}})],1)]),e._v(" "),e.errorMessage?e._e():t("ft-flex-box",{staticClass:"channelInfoTabs"},[t("div",{staticClass:"tabs",attrs:{role:"tablist","aria-label":e.$t("Channel.Channel Tabs")}},[t("div",{staticClass:"tab",class:"videos"===e.currentTab?"selectedTab":"",attrs:{id:"videosTab",role:"tab","aria-selected":"true","aria-controls":"videoPanel",tabindex:"0"},on:{click:function(t){return e.changeTab("videos")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])||"button"in t&&0!==t.button||"button"in t&&2!==t.button?null:e.changeTab("videos",t)}}},[e._v("\n            "+e._s(e.$t("Channel.Videos.Videos").toUpperCase())+"\n          ")]),e._v(" "),t("div",{staticClass:"tab",class:"playlists"===e.currentTab?"selectedTab":"",attrs:{id:"playlistsTab",role:"tab","aria-selected":"false","aria-controls":"playlistPanel",tabindex:"-1"},on:{click:function(t){return e.changeTab("playlists")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])||"button"in t&&0!==t.button||"button"in t&&2!==t.button?null:e.changeTab("playlists",t)}}},[e._v("\n            "+e._s(e.$t("Channel.Playlists.Playlists").toUpperCase())+"\n          ")]),e._v(" "),t("div",{staticClass:"tab",class:"about"===e.currentTab?"selectedTab":"",attrs:{id:"aboutTab",role:"tab","aria-selected":"false","aria-controls":"aboutPanel",tabindex:"-1"},on:{click:function(t){return e.changeTab("about")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])||"button"in t&&0!==t.button||"button"in t&&2!==t.button?null:e.changeTab("about",t)}}},[e._v("\n            "+e._s(e.$t("Channel.About.About").toUpperCase())+"\n          ")])]),e._v(" "),t("ft-input",{staticClass:"channelSearch",attrs:{placeholder:e.$t("Channel.Search Channel"),"show-clear-text-button":!0},on:{click:e.newSearch}})],1)],1)]):e._e(),e._v(" "),e.isLoading||e.errorMessage||!e.isFamilyFriendly&&e.showFamilyFriendlyOnly?e._e():t("ft-card",{staticClass:"card"},["about"===e.currentTab?t("div",{staticClass:"aboutTab",attrs:{id:"aboutPanel"}},[t("h2",[e._v("\n        "+e._s(e.$t("Channel.About.Channel Description"))+"\n      ")]),e._v(" "),t("div",{staticClass:"aboutInfo",domProps:{innerHTML:e._s(e.channelDescription)}}),e._v(" "),t("br"),e._v(" "),e.relatedChannels.length>0?t("h2",[e._v("\n        "+e._s(e.$t("Channel.About.Featured Channels"))+"\n      ")]):e._e(),e._v(" "),e.relatedChannels.length>0?t("ft-flex-box",e._l(e.relatedChannels,(function(n,i){return t("ft-channel-bubble",{key:i,attrs:{"channel-name":n.author||n.channelName,"channel-id":n.channelId,"channel-thumbnail":n.authorThumbnails[n.authorThumbnails.length-1].url,role:"link"},on:{click:function(t){return e.goToChannel(n.channelId)}}})})),1):e._e()],1):e._e(),e._v(" "),t("ft-select",{directives:[{name:"show",rawName:"v-show",value:"videos"===e.currentTab,expression:"currentTab === 'videos'"}],staticClass:"sortSelect",attrs:{value:e.videoSelectValues[0],"select-names":e.videoSelectNames,"select-values":e.videoSelectValues,placeholder:e.$t("Search Filters.Sort By.Sort By")},on:{change:function(t){e.videoSortBy=t}}}),e._v(" "),t("ft-select",{directives:[{name:"show",rawName:"v-show",value:"playlists"===e.currentTab,expression:"currentTab === 'playlists'"}],staticClass:"sortSelect",attrs:{value:e.playlistSelectValues[0],"select-names":e.playlistSelectNames,"select-values":e.playlistSelectValues,placeholder:e.$t("Search Filters.Sort By.Sort By")},on:{change:function(t){e.playlistSortBy=t}}}),e._v(" "),e.isElementListLoading?t("ft-loader"):e._e(),e._v(" "),"about"===e.currentTab||e.isElementListLoading?e._e():t("div",{staticClass:"elementList"},[t("ft-element-list",{directives:[{name:"show",rawName:"v-show",value:"videos"===e.currentTab,expression:"currentTab === 'videos'"}],attrs:{id:"videoPanel",data:e.latestVideos,role:"tabpanel","aria-labelledby":"videosTab"}}),e._v(" "),"videos"===e.currentTab&&0===e.latestVideos.length?t("ft-flex-box",[t("p",{staticClass:"message"},[e._v("\n          "+e._s(e.$t("Channel.Videos.This channel does not currently have any videos"))+"\n        ")])]):e._e(),e._v(" "),t("ft-element-list",{directives:[{name:"show",rawName:"v-show",value:"playlists"===e.currentTab,expression:"currentTab === 'playlists'"}],attrs:{id:"playlistPanel",data:e.latestPlaylists,role:"tabpanel","aria-labelledby":"playlistsTab"}}),e._v(" "),"playlists"===e.currentTab&&0===e.latestPlaylists.length?t("ft-flex-box",[t("p",{staticClass:"message"},[e._v("\n          "+e._s(e.$t("Channel.Playlists.This channel does not currently have any playlists"))+"\n        ")])]):e._e(),e._v(" "),t("ft-element-list",{directives:[{name:"show",rawName:"v-show",value:"search"===e.currentTab,expression:"currentTab === 'search'"}],attrs:{data:e.searchResults}}),e._v(" "),"search"===e.currentTab&&0===e.searchResults.length?t("ft-flex-box",[t("p",{staticClass:"message"},[e._v("\n          "+e._s(e.$t("Channel.Your search results have returned 0 results"))+"\n        ")])]):e._e(),e._v(" "),e.showFetchMoreButton?t("div",{staticClass:"getNextPage",attrs:{role:"button",tabindex:"0"},on:{click:e.handleFetchMore,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.handleFetchMore.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.handleFetchMore.apply(null,arguments))}]}},[t("font-awesome-icon",{attrs:{icon:["fas","search"]}}),e._v(" "+e._s(e.$t("Search Filters.Fetch more results"))+"\n      ")],1):e._e()],1)],1),e._v(" "),e.errorMessage?t("ft-card",{staticClass:"card"},[t("p",[e._v("\n      "+e._s(e.errorMessage)+"\n    ")])]):e.isLoading||e.isFamilyFriendly||!e.showFamilyFriendlyOnly?e._e():t("ft-age-restricted",{staticClass:"ageRestricted",attrs:{"content-type-string":"Channel"}})],1)}),[],!1,null,"82c12d16",null);const Vm=jm.exports;var Hm=n(3649),qm=n(1470),zm=n.n(qm),Wm=(n(3352),{}),Gm={},Km=Hm.default.registerPlugin||Hm.default.plugin,Ym=function(e){var t=this;this.ready((function(){!function(e,t){e.addClass("vjs-vtt-thumbnails"),e.vttThumbnails=new Xm(e,t)}(t,Hm.default.mergeOptions(Wm,e))}))},Xm=function(){function e(e,t){return this.player=e,this.options=t,this.listenForDurationChange(),this.initializeThumbnails(),this.registeredEvents={},this}var t=e.prototype;return t.src=function(e){this.resetPlugin(),this.options.src=e,this.initializeThumbnails()},t.detach=function(){this.resetPlugin()},t.resetPlugin=function(){this.thumbnailHolder&&this.thumbnailHolder.parentNode.removeChild(this.thumbnailHolder),this.progressBar&&(this.progressBar.removeEventListener("mouseenter",this.registeredEvents.progressBarMouseEnter),this.progressBar.removeEventListener("mouseleave",this.registeredEvents.progressBarMouseLeave),this.progressBar.removeEventListener("mousemove",this.registeredEvents.progressBarMouseMove)),delete this.registeredEvents.progressBarMouseEnter,delete this.registeredEvents.progressBarMouseLeave,delete this.registeredEvents.progressBarMouseMove,delete this.progressBar,delete this.vttData,delete this.thumbnailHolder,delete this.lastStyle},t.listenForDurationChange=function(){this.player.on("durationchange",(function(){}))},t.initializeThumbnails=function(){var e=this;if(this.options.src){var t=this.getBaseUrl(),n=this.getFullyQualifiedUrl(this.options.src,t);this.getVttFile(n).then((function(t){e.vttData=e.processVtt(t),e.setupThumbnailElement()}))}},t.getBaseUrl=function(){return[window.location.protocol,"//",window.location.hostname,window.location.port?":"+window.location.port:"",window.location.pathname].join("").split(/([^\/]*)$/gi).shift()},t.getVttFile=function(e){var t=this;return new Promise((function(n,i){var r=new XMLHttpRequest;r.data={resolve:n},r.addEventListener("load",t.vttFileLoaded),r.open("GET",e),r.send()}))},t.vttFileLoaded=function(){this.data.resolve(this.responseText)},t.setupThumbnailElement=function(e){var t=this,n=null;this.options.showTimestamp||(n=this.player.$(".vjs-mouse-display"));var i=document.createElement("div");i.setAttribute("class","vjs-vtt-thumbnail-display"),this.progressBar=this.player.$(".vjs-progress-control"),this.progressBar.appendChild(i),this.thumbnailHolder=i,n&&!this.options.showTimestamp&&n.classList.add("vjs-hidden"),this.registeredEvents.progressBarMouseEnter=function(){return t.onBarMouseenter()},this.registeredEvents.progressBarMouseLeave=function(){return t.onBarMouseleave()},this.progressBar.addEventListener("mouseenter",this.registeredEvents.progressBarMouseEnter),this.progressBar.addEventListener("mouseleave",this.registeredEvents.progressBarMouseLeave)},t.onBarMouseenter=function(){var e=this;this.mouseMoveCallback=function(t){e.onBarMousemove(t)},this.registeredEvents.progressBarMouseMove=this.mouseMoveCallback,this.progressBar.addEventListener("mousemove",this.registeredEvents.progressBarMouseMove),this.showThumbnailHolder()},t.onBarMouseleave=function(){this.registeredEvents.progressBarMouseMove&&this.progressBar.removeEventListener("mousemove",this.registeredEvents.progressBarMouseMove),this.hideThumbnailHolder()},t.getXCoord=function(e,t){var n=e.getBoundingClientRect(),i=document.documentElement;return t-(n.left+(window.pageXOffset||i.scrollLeft||0))},t.onBarMousemove=function(e){this.updateThumbnailStyle(Hm.default.dom.getPointerPosition(this.progressBar,e).x,this.progressBar.offsetWidth)},t.getStyleForTime=function(e){for(var t=0;t<this.vttData.length;++t){var n=this.vttData[t];if(e>=n.start&&e<n.end){if(n.css.url&&!Gm[n.css.url]){var i=new Image;i.src=n.css.url,Gm[n.css.url]=i}return n.css}}},t.showThumbnailHolder=function(){this.thumbnailHolder.style.opacity="1"},t.hideThumbnailHolder=function(){this.thumbnailHolder.style.opacity="0"},t.updateThumbnailStyle=function(e,t){var n=e*this.player.duration(),i=this.getStyleForTime(n);if(!i)return this.hideThumbnailHolder();var r=e*t,a=parseInt(i.width,10),s=a>>1,o=t-(r+s),l=r-s;if(l>0&&o>0?this.thumbnailHolder.style.transform="translateX("+(r-s)+"px)":l<=0?this.thumbnailHolder.style.transform="translateX(0px)":o<=0&&(this.thumbnailHolder.style.transform="translateX("+(t-a)+"px)"),!this.lastStyle||this.lastStyle!==i)for(var c in this.lastStyle=i,i)i.hasOwnProperty(c)&&(this.thumbnailHolder.style[c]=i[c])},t.processVtt=function(e){var t=this,n=[];return e.split(/[\r\n][\r\n]/i).forEach((function(e){if(e.match(/([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?( ?--> ?)([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?[\r\n]{1}.*/gi)){var i=e.split(/[\r\n]/i),r=i[0].split(/ ?--> ?/i),a=r[0],s=r[1],o=i[1],l=t.getVttCss(o);n.push({start:t.getSecondsFromTimestamp(a),end:t.getSecondsFromTimestamp(s),css:l})}})),n},t.getFullyQualifiedUrl=function(e,t){return e.indexOf("//")>=0?e:0===t.indexOf("//")?[t.replace(/\/$/gi,""),this.trim(e,"/")].join("/"):t.indexOf("//")>0?[this.trim(t,"/"),this.trim(e,"/")].join("/"):e},t.getPropsFromDef=function(e){var t=e.split(/#xywh=/i),n=t[0],i=t[1].match(/[0-9]+/gi);return{x:i[0],y:i[1],w:i[2],h:i[3],image:n}},t.getVttCss=function(e){var t,n={};if(t=this.options.src.indexOf("//")>=0?this.options.src.split(/([^\/]*)$/gi).shift():this.getBaseUrl()+this.options.src.split(/([^\/]*)$/gi).shift(),!(e=this.getFullyQualifiedUrl(e,t)).match(/#xywh=/i))return n.background='url("'+e+'")',n;var i=this.getPropsFromDef(e);return n.background='url("'+i.image+'") no-repeat -'+i.x+"px -"+i.y+"px",n.width=i.w+"px",n.height=i.h+"px",n.url=i.image,n},t.deconstructTimestamp=function(e){var t=e.split("."),n=t[0].split(":");return{milliseconds:parseInt(t[1],10)||0,seconds:parseInt(n.pop(),10)||0,minutes:parseInt(n.pop(),10)||0,hours:parseInt(n.pop(),10)||0}},t.getSecondsFromTimestamp=function(e){var t=this.deconstructTimestamp(e);return parseInt(3600*t.hours+60*t.minutes+t.seconds+t.milliseconds/1e3,10)},t.trim=function(e,t){var n=[" ","\n","\r","\t","\f","\v","","","","","","","","","","","","","","\u2028","\u2029",""].join(""),i=0,r=0;for(e+="",t&&(n=(t+"").replace(/([[\]().?/*{}+$^:])/g,"$1")),i=e.length,r=0;r<i;r++)if(-1===n.indexOf(e.charAt(r))){e=e.substring(r);break}for(r=(i=e.length)-1;r>=0;r--)if(-1===n.indexOf(e.charAt(r))){e=e.substring(0,r+1);break}return-1===n.indexOf(e.charAt(0))?e:""},e}();function Qm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Zm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Km("vttThumbnails",Ym),Ym.VERSION="0.0.15",n(8984);var Jm=Hm.default.getComponent("MenuItem"),eg=Hm.default.getComponent("Component"),tg=function(e){function t(t,n){return n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}Qm(t,e);var n=t.prototype;return n.handleClick=function(){var t=this.options_;console.log("Changing quality to:",t.label),e.prototype.handleClick.call(this);for(var n=this.player().qualityLevels(),i=0;i<n.length;i++)t.index==n.length||t.index==i?n[i].enabled=!0:n[i].enabled=!1},n.update=function(){var e=this.player().qualityLevels().selectedIndex;this.selected(this.options_.index==e)},t}(Jm);eg.registerComponent("SourceMenuItem",tg);var ng=Hm.default.getComponent("MenuButton"),ig=function(e){function t(t,n){var i;i=e.call(this,t,n)||this,ng.apply(Zm(i),arguments);var r=i.player().qualityLevels();if(n&&n.default)if("low"==n.default)for(var a=0;a<r.length;a++)r[a].enabled=0==a;else if(n.default="high")for(a=0;a<r.length;a++)r[a].enabled=a==r.length-1;return i.player().qualityLevels().on(["change","addqualitylevel"],Hm.default.bind(Zm(i),i.update)),i}Qm(t,e);var n=t.prototype;return n.createEl=function(){return Hm.default.dom.createEl("div",{className:"vjs-http-source-selector vjs-menu-button vjs-menu-button-popup vjs-control vjs-button"})},n.buildCSSClass=function(){return ng.prototype.buildCSSClass.call(this)+" vjs-icon-cog"},n.update=function(){return ng.prototype.update.call(this)},n.createItems=function(){for(var e=[],t=this.player().qualityLevels(),n=[],i=0;i<t.length;i++){var r=t.length-(i+1),a=r===t.selectedIndex,s=""+r,o=r;t[r].height?(s=t[r].height+"p",o=parseInt(t[r].height,10)):t[r].bitrate&&(s=Math.floor(t[r].bitrate/1e3)+" kbps",o=parseInt(t[r].bitrate,10)),n.indexOf(s)>=0||(n.push(s),e.push(new tg(this.player_,{label:s,index:r,selected:a,sortVal:o})))}return t.length>1&&e.push(new tg(this.player_,{label:"Auto",index:t.length,selected:!1,sortVal:99999})),e.sort((function(e,t){return e.options_.sortVal<t.options_.sortVal?1:e.options_.sortVal>t.options_.sortVal?-1:0})),e},t}(ng),rg={},ag=function(e){var t=this;this.ready((function(){!function(e,t){if(e.addClass("vjs-http-source-selector"),console.log("videojs-http-source-selector initialized!"),console.log("player.techName_:"+e.techName_),"Html5"!=e.techName_)return!1;e.on(["loadedmetadata"],(function(t){if(e.qualityLevels(),Hm.default.log("loadmetadata event"),"undefined"==e.videojs_http_source_selector_initialized||1==e.videojs_http_source_selector_initialized)console.log("player.videojs_http_source_selector_initialized == true");else{console.log("player.videojs_http_source_selector_initialized == false"),e.videojs_http_source_selector_initialized=!0;var n=e.controlBar,i=n.getChild("fullscreenToggle").el();n.el().insertBefore(n.addChild("SourceMenuButton").el(),i)}}))}(t,Hm.default.mergeOptions(rg,e))})),Hm.default.registerComponent("SourceMenuButton",ig),Hm.default.registerComponent("SourceMenuItem",tg)};(Hm.default.registerPlugin||Hm.default.plugin)("httpSourceSelector",ag),ag.VERSION="1.1.6",n(8390);var sg=n(4155);const og={name:"FtVideoPlayer",beforeRouteLeave:function(){document.removeEventListener("keydown",this.keyboardShortcutHandler),null!==this.player&&this.exitFullWindow(),null===this.player||this.player.isInPictureInPicture()?this.player.isInPictureInPicture()&&this.player.play():(this.player.dispose(),this.player=null,clearTimeout(this.mouseTimeout))},props:{format:{type:String,required:!0},sourceList:{type:Array,default:()=>[]},adaptiveFormats:{type:Array,default:()=>[]},dashSrc:{type:Array,default:null},hlsSrc:{type:Array,default:null},captionHybridList:{type:Array,default:()=>[]},storyboardSrc:{type:String,default:""},thumbnail:{type:String,default:""},videoId:{type:String,required:!0},lengthSeconds:{type:Number,required:!0},chapters:{type:Array,default:()=>[]}},data:function(){return{id:"",powerSaveBlocker:null,volume:1,player:null,useDash:!1,useHls:!1,selectedDefaultQuality:"",selectedQuality:"",selectedResolution:"",selectedBitrate:"",selectedMimeType:"",selectedFPS:0,using60Fps:!1,maxFramerate:0,activeSourceList:[],activeAdaptiveFormats:[],mouseTimeout:null,touchTimeout:null,playerStats:null,statsModal:null,showStatsModal:!1,statsModalEventName:"updateStats",usingTouch:!1,dataSetup:{fluid:!0,nativeTextTracks:!1,plugins:{},controlBar:{children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","screenshotButton","playbackRateMenuButton","loopButton","chaptersButton","descriptionsButton","subsCapsButton","pictureInPictureToggle","toggleTheatreModeButton","fullWindowButton","qualitySelector","fullscreenToggle"]}}}},computed:{currentLocale:function(){return this.$i18n.locale},defaultPlayback:function(){return this.$store.getters.getDefaultPlayback},defaultSkipInterval:function(){return this.$store.getters.getDefaultSkipInterval},defaultQuality:function(){return parseInt(this.$store.getters.getDefaultQuality)},defaultCaptionSettings:function(){try{return JSON.parse(this.$store.getters.getDefaultCaptionSettings)}catch(e){return console.error(e),{}}},defaultVideoFormat:function(){return this.$store.getters.getDefaultVideoFormat},autoplayVideos:function(){return this.$store.getters.getAutoplayVideos},videoVolumeMouseScroll:function(){return this.$store.getters.getVideoVolumeMouseScroll},videoPlaybackRateMouseScroll:function(){return this.$store.getters.getVideoPlaybackRateMouseScroll},videoSkipMouseScroll:function(){return this.$store.getters.getVideoSkipMouseScroll},useSponsorBlock:function(){return this.$store.getters.getUseSponsorBlock},sponsorBlockShowSkippedToast:function(){return this.$store.getters.getSponsorBlockShowSkippedToast},displayVideoPlayButton:function(){return this.$store.getters.getDisplayVideoPlayButton},enterFullscreenOnDisplayRotate:function(){return this.$store.getters.getEnterFullscreenOnDisplayRotate},sponsorSkips:function(){const e={},t=[],n={},i={};return["sponsor","selfpromo","interaction","intro","outro","preview","music_offtopic","filler"].forEach((r=>{let a={};switch(r){case"sponsor":a=this.$store.getters.getSponsorBlockSponsor;break;case"selfpromo":a=this.$store.getters.getSponsorBlockSelfPromo;break;case"interaction":a=this.$store.getters.getSponsorBlockInteraction;break;case"intro":a=this.$store.getters.getSponsorBlockIntro;break;case"outro":a=this.$store.getters.getSponsorBlockOutro;break;case"preview":a=this.$store.getters.getSponsorBlockRecap;break;case"music_offtopic":a=this.$store.getters.getSponsorBlockMusicOffTopic;break;case"filler":a=this.$store.getters.getSponsorBlockFiller}"doNothing"!==a.skip&&t.push(r),"autoSkip"===a.skip&&(e[r]=!0),"promptToSkip"===a.skip&&(n[r]=!0),i[r]=a})),{autoSkip:e,seekBar:t,promptSkip:n,categoryData:i}},maxVideoPlaybackRate:function(){return parseInt(this.$store.getters.getMaxVideoPlaybackRate)},videoPlaybackRateInterval:function(){return parseFloat(this.$store.getters.getVideoPlaybackRateInterval)},playbackRates:function(){const e=[];let t=this.videoPlaybackRateInterval;for(;t<=this.maxVideoPlaybackRate;)e.push(t),t+=this.videoPlaybackRateInterval,t=parseFloat(t.toFixed(2));return e},enableScreenshot:function(){return this.$store.getters.getEnableScreenshot},screenshotFormat:function(){return this.$store.getters.getScreenshotFormat},screenshotQuality:function(){return this.$store.getters.getScreenshotQuality},screenshotAskPath:function(){return this.$store.getters.getScreenshotAskPath},screenshotFolder:function(){return this.$store.getters.getScreenshotFolderPath}},watch:{showStatsModal:function(){this.player.trigger(this.statsModalEventName)},enableScreenshot:function(){this.toggleScreenshotButton()}},mounted:function(){const e=sessionStorage.getItem("volume");null!==e&&(this.volume=e),this.dataSetup.playbackRates=this.playbackRates,this.createFullWindowButton(),this.createLoopButton(),this.createToggleTheatreModeButton(),this.createScreenshotButton(),this.determineFormatType(),this.determineMaxFramerate(),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",(()=>this.player.play())),navigator.mediaSession.setActionHandler("pause",(()=>this.player.pause())))},beforeDestroy:function(){null!==this.player&&(this.exitFullWindow(),this.player.isInPictureInPicture()||(this.player.dispose(),this.player=null,clearTimeout(this.mouseTimeout))),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.playbackState="none")},methods:{initializePlayer:async function(){if(void 0!==this.$refs.video){this.useDash||(zm()(Hm.default,{showQualitySelectionLabelInControlBar:!0}),await this.determineDefaultQualityLegacy()),this.player=(0,Hm.default)(this.$refs.video,{html5:{preloadTextTracks:!1,vhs:{limitRenditionByPlayerDimensions:!1,smoothQualityChange:!1,allowSeeksWithinUnsafeLiveWindow:!0,handlePartialData:!0}}}),this.player.mobileUi({fullscreen:{enterOnRotate:this.enterFullscreenOnDisplayRotate,exitOnRotate:this.enterFullscreenOnDisplayRotate,lockOnRotate:!1},forceForTesting:!0,touchControls:{seekSeconds:this.defaultSkipInterval,tapTimeout:300}}),this.player.volume(this.volume),this.player.playbackRate(this.defaultPlayback),this.player.textTrackSettings.setValues(this.defaultCaptionSettings),this.displayVideoPlayButton||this.player.removeChild("BigPlayButton");const e=this.player.controlBar.getChild("playbackRateMenuButton");e.on(e.menuButton_,"mouseenter",(()=>{const t=this.player.playbackRate(),n=this.player.playbackRates(),i=n.slice().reverse().findIndex((e=>e===t||e<t));if(0!==i&&i!==n.length-1){const t=e.menu,n=t.contentEl(),r=t.children()[i].contentEl().clientHeight,a=r*i-(n.clientHeight-r)/2;n.scrollTo({top:a})}})),""!==this.storyboardSrc&&this.player.vttThumbnails({src:this.storyboardSrc,showTimestamp:!0}),this.useDash&&this.createDashQualitySelector(this.player.qualityLevels()),this.autoplayVideos&&setTimeout((()=>{this.player.play()}),200),this.player.controlBar.progressControl.seekBar.playProgressBar.removeChild("timeTooltip"),this.chapters.length>0&&this.chapters.forEach(this.addChapterMarker),this.useSponsorBlock&&this.initializeSponsorBlock(),document.removeEventListener("keydown",this.keyboardShortcutHandler),document.addEventListener("keydown",this.keyboardShortcutHandler),this.player.on("mousemove",this.hideMouseTimeout),this.player.on("mouseleave",this.removeMouseTimeout),this.player.on("volumechange",this.updateVolume),this.videoVolumeMouseScroll?this.player.on("wheel",this.mouseScrollVolume):this.player.controlBar.getChild("volumePanel").on("wheel",this.mouseScrollVolume),this.videoPlaybackRateMouseScroll&&(this.player.on("wheel",this.mouseScrollPlaybackRate),this.player.el_.firstChild.style.pointerEvents="none",this.player.on("click",this.handlePlayerClick)),this.videoSkipMouseScroll&&this.player.on("wheel",this.mouseScrollSkip),this.player.on("fullscreenchange",this.fullscreenOverlay),this.player.on("fullscreenchange",this.toggleFullscreenClass),this.player.on("ready",(()=>{this.$emit("ready"),this.checkAspectRatio(),this.createStatsModal(),0!==this.captionHybridList.length&&this.transformAndInsertCaptions(),this.toggleScreenshotButton()})),this.player.on("ended",(()=>{this.$emit("ended"),"mediaSession"in navigator&&(navigator.mediaSession.playbackState="none")})),this.player.on("error",((e,t)=>{this.$emit("error",e.target.player.error_),"mediaSession"in navigator&&(navigator.mediaSession.playbackState="none")})),this.player.on("play",(async function(){"mediaSession"in navigator&&(navigator.mediaSession.playbackState="playing")})),this.player.on("pause",(function(){"mediaSession"in navigator&&(navigator.mediaSession.playbackState="paused")})),this.player.on(this.statsModalEventName,(()=>{this.showStatsModal?(this.statsModal.open(),this.player.controls(!0),this.statsModal.contentEl().innerHTML=this.getFormattedStats()):this.statsModal.close()})),this.player.on("timeupdate",(()=>{"dash"===this.format&&(this.playerStats=this.player.tech({IWillNotUseThisInPlugins:!0}).vhs.stats,this.updateStatsContent()),this.$emit("timeupdate")})),this.player.textTrackSettings.on("modalclose",(e=>{const t=this.player.textTrackSettings.getValues();this.updateDefaultCaptionSettings(JSON.stringify(t))}))}},initializeSponsorBlock(){(async function(e,t){const n=(new TextEncoder).encode(e),i=await crypto.subtle.digest("SHA-256",n),r=Array.from(new Uint8Array(i)).map((e=>e.toString(16).padStart(2,"0"))).slice(0,4).join(""),a=`${Bd.getters.getSponsorBlockUrl}/api/skipSegments/${r}?categories=${JSON.stringify(t)}`;try{const t=await fetch(a);return 404===t.status?[]:(await t.json()).filter((t=>t.videoID===e)).flatMap((e=>e.segments))}catch(e){throw console.error("failed to fetch SponsorBlock segments",a,e),e}})(this.videoId,this.sponsorSkips.seekBar).then((e=>{0!==e.length&&this.player.ready((()=>{this.player.on("timeupdate",(()=>{this.skipSponsorBlocks(e)})),e.forEach((({category:e,segment:[t,n]})=>{this.addSponsorBlockMarker({time:t,duration:n-t,color:"var(--primary-color)",category:e})}))}))}))},skipSponsorBlocks(e){const t=this.player.currentTime(),n=this.player.duration();let i=null,r=null;e.forEach((({category:e,segment:[n,a]})=>{n<=t&&t<a&&(i=a,r=e)})),null!==i&&Math.abs(n-t)>.5&&this.sponsorSkips.autoSkip[r]&&(this.sponsorBlockShowSkippedToast&&this.showSkippedSponsorSegmentInformation(r),this.player.currentTime(i))},showSkippedSponsorSegmentInformation(e){const t=this.sponsorBlockTranslatedCategory(e);$g(`${this.$t("Video.Skipped segment")} ${t}`)},sponsorBlockTranslatedCategory(e){switch(e){case"sponsor":return this.$t("Video.Sponsor Block category.sponsor");case"intro":return this.$t("Video.Sponsor Block category.intro");case"outro":return this.$t("Video.Sponsor Block category.outro");case"selfpromo":return this.$t("Video.Sponsor Block category.self-promotion");case"interaction":return this.$t("Video.Sponsor Block category.interaction");case"music_offtopic":return this.$t("Video.Sponsor Block category.music offtopic");case"filler":return this.$t("Video.Sponsor Block category.filler");default:return console.error(`Unknown translation for SponsorBlock category ${e}`),e}},addSponsorBlockMarker(e){const t=Hm.default.dom.createEl("div");t.title=this.sponsorBlockTranslatedCategory(e.category),t.className=`sponsorBlockMarker main${this.sponsorSkips.categoryData[e.category].color}`,t.style.width=e.duration/this.lengthSeconds*100+"%",t.style.marginLeft=e.time/this.lengthSeconds*100+"%",this.player.el().querySelector(".vjs-progress-holder").appendChild(t)},addChapterMarker(e){const t=Hm.default.dom.createEl("div");t.title=e.title,t.className="chapterMarker",t.style.marginLeft=`calc(${e.startSeconds/this.lengthSeconds*100}% - 1px)`,this.player.el().querySelector(".vjs-progress-holder").appendChild(t)},checkAspectRatio(){const e=this.player.videoWidth(),t=this.player.videoHeight();0!==e&&0!==t?e-t<=240&&(this.player.fluid(!1),this.player.aspectRatio("16:9")):setTimeout((()=>{this.checkAspectRatio()}),200)},updateVolume:function(e){const t=this.player.muted()?0:this.player.volume();sessionStorage.setItem("volume",t)},mouseScrollVolume:function(e){e.target&&!e.currentTarget.querySelector(".vjs-menu:hover")&&(e.preventDefault(),this.player.muted()&&e.wheelDelta>0&&(this.player.muted(!1),this.player.volume(0)),e.ctrlKey||e.metaKey||this.player.muted()||(e.wheelDelta>0?this.changeVolume(.05):e.wheelDelta<0&&this.changeVolume(-.05)))},mouseScrollPlaybackRate:function(e){e.target&&!e.currentTarget.querySelector(".vjs-menu:hover")&&(e.preventDefault(),(e.ctrlKey||e.metaKey)&&(e.wheelDelta>0?this.changePlayBackRate(.05):e.wheelDelta<0&&this.changePlayBackRate(-.05)))},mouseScrollSkip:function(e){(e.ctrlKey||e.metaKey)&&this.videoPlaybackRateMouseScroll||e.target&&(e.target.matches(".vjs-tech")||e.target.matches(".ftVideoPlayer"))&&(e.preventDefault(),e.wheelDelta>0&&this.changeDurationBySeconds(this.defaultSkipInterval*this.player.playbackRate()),e.wheelDelta<0&&this.changeDurationBySeconds(-this.defaultSkipInterval*this.player.playbackRate()))},handlePlayerClick:function(e){e.target.matches(".ftVideoPlayer")&&(e.ctrlKey||e.metaKey?this.player.playbackRate(this.defaultPlayback):this.player.paused()||!this.player.hasStarted()?this.player.play():this.player.pause())},determineFormatType:function(){"dash"===this.format?this.enableDashFormat():this.enableLegacyFormat()},determineMaxFramerate:async function(){if(0!==this.dashSrc.length)try{(await zh().readFile(this.dashSrc[0].url)).includes('frameRate="60"')?this.maxFramerate=60:this.maxFramerate=30}catch{this.maxFramerate=60}else this.maxFramerate=60},determineDefaultQualityLegacy:function(){if(this.useDash)return;if(0===this.sourceList.length)return"";if("number"==typeof this.sourceList[0].qualityLabel)return"";if(this.sourceList[this.sourceList.length-1].qualityLabel===this.$t("Video.Audio.Low"))return void(this.selectedDefaultQuality=this.sourceList[0].qualityLabel);let e=this.defaultQuality;"auto"===e&&(e=720);let t=parseInt(this.sourceList[this.sourceList.length-1].qualityLabel.replace(/p|k/,""));4===t&&(t=2160),8===t&&(t=4320),t<e&&(this.selectedDefaultQuality=this.sourceList[this.sourceList.length-1].qualityLabel);const n=[].concat(this.sourceList).reverse();n.forEach(((t,i)=>{let r=parseInt(t.qualityLabel.replace(/p|k/,""));if(4===r&&(r=2160),8===r&&(r=4320),e===r&&(this.selectedDefaultQuality=t.qualityLabel),i<this.sourceList.length-1){let a=parseInt(n[i+1].qualityLabel.replace(/p|k/,""));4===a&&(a=2160),8===a&&(a=4320),e>=r&&e<a&&(this.selectedDefaultQuality=t.qualityLabel)}else r<=e&&(this.selectedDefaultQuality=t.qualityLabel)})),""===this.selectedDefaultQuality&&(this.selectedDefaultQuality=this.sourceList[this.sourceList.length-1].qualityLabel)},determineDefaultQualityDash:function(){let e;"auto"===this.defaultQuality&&this.setDashQualityLevel("auto"),void 0!==this.activeAdaptiveFormats&&this.activeAdaptiveFormats.length>0?(e=this.activeAdaptiveFormats.filter((e=>e.height===this.defaultQuality)),0===e.length&&(e=this.activeAdaptiveFormats.filter((e=>e.height<this.defaultQuality))),e=e.sort(((e,t)=>e.height===t.height?t.bitrate-e.bitrate:t.height-e.height))):(e=this.player.qualityLevels().levels_.filter((e=>e.height===this.defaultQuality)),0===e.length&&(e=this.player.qualityLevels().levels_.filter((e=>e.height<this.defaultQuality))),e=e.sort(((e,t)=>e.height===t.height?t.bitrate-e.bitrate:t.height-e.height))),this.setDashQualityLevel(e[0].bitrate)},setDashQualityLevel:function(e){let t=null;"auto"!==e&&(t=this.activeAdaptiveFormats.find((t=>t.bitrate===e)));let n=t?t.qualityLabel:"";this.player.qualityLevels().levels_.sort(((e,t)=>e.height===t.height?e.bitrate-t.bitrate:e.height-t.height)).forEach(((t,i,r)=>{"auto"===e||e===t.bitrate?(t.enabled=!0,t.enabled_(!0),"auto"!==e&&""===n&&(n=t.height+"p")):(t.enabled=!1,t.enabled_(!1))}));const i="auto"===e?"auto":n;document.getElementById("vjs-current-quality").innerText=i,this.selectedQuality=i,"auto"!==i?(this.selectedResolution=`${t.width}x${t.height}`,this.selectedFPS=t.fps,this.selectedBitrate=t.bitrate,this.selectedMimeType=t.mimeType):(this.selectedResolution="auto",this.selectedFPS="auto",this.selectedBitrate="auto",this.selectedMimeType="auto"),document.querySelectorAll(".quality-item").forEach((e=>{e.classList.remove("quality-selected"),e.querySelector(".vjs-menu-item-text").innerText===i.toLowerCase()&&e.classList.add("quality-selected")}))},enableDashFormat:function(){null!==this.dashSrc?(this.useDash=!0,this.useHls=!1,this.activeSourceList=this.dashSrc,setTimeout(this.initializePlayer,100)):console.warn("No dash format available.")},enableLegacyFormat:function(){0!==this.sourceList.length?(this.useDash=!1,this.useHls=!1,this.activeSourceList=this.sourceList,setTimeout(this.initializePlayer,100)):console.error("No sources available")},togglePlayPause:function(){this.player.paused()?this.player.play():this.player.pause()},changeDurationBySeconds:function(e){const t=this.player.currentTime()+e;t<0?this.player.currentTime(0):t>this.player.duration?this.player.currentTime(this.player.duration):this.player.currentTime(t)},changePlayBackRate:function(e){const t=(this.player.playbackRate()+e).toFixed(2);t>=this.videoPlaybackRateInterval&&t<=this.maxVideoPlaybackRate&&this.player.playbackRate(t)},framebyframe:function(e){this.player.pause();const t=this.useDash?this.player.qualityLevels()[this.player.qualityLevels().selectedIndex]:{};let n=30;if(60===this.maxFramerate&&t.height>=480)for(let e=0;e<this.adaptiveFormats.length;e++)if(this.adaptiveFormats[e].bitrate===t.bitrate){n=this.adaptiveFormats[e].fps?this.adaptiveFormats[e].fps:30;break}const i=1/n*e;this.player.currentTime(this.player.currentTime()+i)},changeVolume:function(e){const t=this.player.volume()+e;t<0?this.player.volume(0):t>1?this.player.volume(1):this.player.volume(t)},toggleMute:function(){this.player.muted()?this.player.muted(!1):this.player.muted(!0)},toggleCaptions:function(){const e=this.player.textTracks().tracks_;e.length>1&&("showing"===e[1].mode?e[1].mode="disabled":e[1].mode="showing")},createLoopButton:function(){const e=this.toggleVideoLoop,t=Hm.default.getComponent("Button");Hm.default.registerComponent("loopButton",class extends t{handleClick(){e()}createControlTextEl(e){e.title="Toggle Loop";const t=document.createElement("div");return t.id="loopButton",t.className="vjs-icon-loop loop-white vjs-button",e.appendChild(t),t}})},toggleVideoLoop:function(){const e=document.getElementById("loopButton");if(this.player.loop())e.classList.remove("vjs-icon-loop-active"),e.classList.remove("loop-black"),e.classList.add("loop-white"),this.player.loop(!1);else{const t=this.$store.state.settings.mainColor,n=rd(td.find((e=>e.name===t)).value);e.classList.add("vjs-icon-loop-active"),"#000000"===n&&(e.classList.add("loop-black"),e.classList.remove("loop-white")),this.player.loop(!0)}},createFullWindowButton:function(){const e=this.toggleFullWindow,t=Hm.default.getComponent("Button");Hm.default.registerComponent("fullWindowButton",class extends t{handleClick(){e()}createControlTextEl(e){e.classList.add("vjs-button-fullwindow"),e.title="Full Window";const t=document.createElement("div");return t.id="fullwindow",t.className="vjs-icon-fullwindow-enter vjs-button",e.appendChild(t),t}})},createToggleTheatreModeButton:function(){if(!this.$parent.theatrePossible)return;const e=this.$parent.useTheatreMode?" vjs-icon-theatre-active":"",t=this.toggleTheatreMode,n=Hm.default.getComponent("Button");Hm.default.registerComponent("toggleTheatreModeButton",class extends n{handleClick(){t()}createControlTextEl(t){t.classList.add("vjs-button-theatre"),t.title="Toggle Theatre Mode";const n=document.createElement("div");return n.id="toggleTheatreModeButton",n.className=`vjs-icon-theatre-inactive${e} vjs-button`,t.appendChild(n),t}})},toggleTheatreMode:function(){if(!this.player.isFullscreen_){const e=document.getElementById("toggleTheatreModeButton");this.$parent.useTheatreMode?e.classList.remove("vjs-icon-theatre-active"):e.classList.add("vjs-icon-theatre-active")}this.$parent.toggleTheatreMode()},createScreenshotButton:function(){const e=this.takeScreenshot,t=Hm.default.getComponent("Button");Hm.default.registerComponent("screenshotButton",class extends t{handleClick(){e();const t=document.getElementsByTagName("video")[0];t.focus(),t.blur()}createControlTextEl(e){e.classList.add("vjs-hidden"),e.title="Screenshot";const t=document.createElement("div");return t.id="screenshotButton",t.className="vjs-icon-screenshot vjs-button",e.appendChild(t),t}})},toggleScreenshotButton:function(){const e=document.getElementById("screenshotButton").parentNode;this.enableScreenshot&&"audio"!==this.format?e.classList.remove("vjs-hidden"):e.classList.add("vjs-hidden")},takeScreenshot:async function(){if(!this.enableScreenshot||"audio"===this.format)return;const e=this.player.videoWidth(),t=this.player.videoHeight();if(e<=0)return;const n=document.querySelector("video"),i=document.createElement("canvas");i.width=e,i.height=t,i.getContext("2d").drawImage(n,0,0);const r=this.screenshotFormat,a=`image/${"jpg"===r?"jpeg":r}`,s="jpg"===r?this.screenshotQuality/100:1;let o;try{o=await this.parseScreenshotCustomFileName({date:new Date(Date.now()),playerTime:this.player.currentTime(),videoId:this.videoId})}catch(e){return console.error(`Parse failed: ${e.message}`),$g(this.$t("Screenshot Error",{error:e.message})),void i.remove()}let l="";if(-1!==o.indexOf(Rd().sep)){const e=o.lastIndexOf(Rd().sep);l=o.substring(0,e),o=o.substring(e+1)}const c=`${o}.${r}`;let u,h;if(this.screenshotAskPath){const e=!this.player.paused();e&&this.player.pause(),u=""!==this.screenshotFolder&&await Wh(this.screenshotFolder)?this.screenshotFolder:await Xg();const t={defaultPath:Rd().join(u,c),filters:[{name:r.toUpperCase(),extensions:[r]}]},n=await Hg(t);if(e&&this.player.play(),n.canceled||""===n.filePath)return void i.remove();h=n.filePath,h.endsWith(`.${r}`)||(h=`${h}.${r}`),u=Rd().dirname(h),this.updateScreenshotFolderPath(u)}else{if(u=""===this.screenshotFolder?Rd().join(await Xg(),"Freetube",l):Rd().join(this.screenshotFolder,l),!await Wh(u))try{zh().mkdir(u,{recursive:!0})}catch(e){return console.error(e),$g(this.$t("Screenshot Error",{error:e})),void i.remove()}h=Rd().join(u,c)}i.toBlob((e=>{e.arrayBuffer().then((e=>{const t=new Uint8Array(e);zh().writeFile(h,t).then((()=>{$g(this.$t("Screenshot Success",{filePath:h}))})).catch((e=>{console.error(e),$g(this.$t("Screenshot Error",{error:e}))}))}))}),a,s),i.remove()},createDashQualitySelector:function(e){if(0===e.levels_.length)return void setTimeout((()=>{this.createDashQualitySelector(this.player.qualityLevels())}),200);const t=this.adaptiveFormats,n=this.activeAdaptiveFormats,i=this.setDashQualityLevel,r=Hm.default.getComponent("Button");Hm.default.registerComponent("dashQualitySelector",class extends r{handleClick(e){const t="auto"===e.target.innerText?"auto":parseInt(e.target.attributes.bitrate.value);i(t)}createControlTextEl(i){let r='<li class="vjs-menu-item quality-item" role="menuitemradio" tabindex="-1" aria-checked="false" aria-disabled="false">\n            <span class="vjs-menu-item-text">Auto</span>\n            <span class="vjs-control-text" aria-live="polite"></span>\n          </li>';return e.levels_.sort(((e,t)=>t.height===e.height?t.bitrate-e.bitrate:t.height-e.height)).forEach(((e,i,a)=>{let s,o,l;if(void 0!==t&&t.length>0){const i=t.find((t=>t.bitrate===e.bitrate));if(void 0===i)return;n.push(i),s=i.fps?i.fps:30,o=i.qualityLabel?i.qualityLabel:e.height+"p",l=e.bitrate}else s=30,o=e.height+"p",l=e.bitrate;r+=`<li class="vjs-menu-item quality-item" role="menuitemradio" tabindex="-1" aria-checked="false" aria-disabled="false" fps="${s}" bitrate="${l}">\n              <span class="vjs-menu-item-text" fps="${s}" bitrate="${l}">${o}</span>\n              <span class="vjs-control-text" aria-live="polite"></span>\n            </li>`})),i.style.width="4em",i.title="Select Quality",i.innerHTML='<div class="vjs-quality-level-value">\n           <span id="vjs-current-quality">1080p</span>\n          </div>\n          <div class="vjs-quality-level-menu vjs-menu">\n             <ul class="vjs-menu-content" role="menu">'+r+"</ul></div>",i.children[0]}}),this.player.controlBar.addChild("dashQualitySelector",{},this.player.controlBar.children_.length-1),this.determineDefaultQualityDash()},sortCaptions:function(e){return e.sort(((e,t)=>{const n=e.language_code.split("-"),i=t.language_code.split("-"),r=e.label,a=t.label,s=this.currentLocale.split(/-|_/);if(n[0]===s[0]){if(i[0]!==s[0])return-1;if(-1!==a.search("auto"))return-1;if(-1!==r.search("auto"))return 1;if(n[1]===s[1])return-1;if(i[1]===s[1])return 1;if(void 0===n[1])return-1;if(void 0===i[1])return 1}else if(i[0]===s[0])return 1;return r.localeCompare(a)}))},transformAndInsertCaptions:async function(){let e;this.captionHybridList[0]instanceof Promise?(e=await Promise.all(this.captionHybridList),this.$emit("store-caption-list",e)):e=this.captionHybridList;for(const t of this.sortCaptions(e))this.player.addRemoteTextTrack({kind:"subtitles",src:t.url,srclang:t.language_code,label:t.label,type:t.type},!0)},toggleFullWindow:function(){this.player.isFullscreen_||(this.player.isFullWindow?(this.player.removeClass("vjs-full-screen"),this.player.isFullWindow=!1,document.documentElement.style.overflow=this.player.docOrigOverflow,document.body.classList.remove("vjs-full-window"),document.getElementById("fullwindow").classList.remove("vjs-icon-fullwindow-exit"),this.player.trigger("exitFullWindow")):(this.player.addClass("vjs-full-screen"),this.player.isFullscreen_=!1,this.player.isFullWindow=!0,this.player.docOrigOverflow=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden",document.body.classList.add("vjs-full-window"),document.getElementById("fullwindow").classList.add("vjs-icon-fullwindow-exit"),this.player.trigger("enterFullWindow")))},exitFullWindow:function(){this.player.isFullWindow&&(this.player.isFullWindow=!1,document.documentElement.style.overflow=this.player.docOrigOverflow,this.player.removeClass("vjs-full-screen"),document.body.classList.remove("vjs-full-window"),document.getElementById("fullwindow").classList.remove("vjs-icon-fullwindow-exit"),this.player.trigger("exitFullWindow"))},toggleFullscreen:function(){this.player.isFullscreen()?this.player.exitFullscreen():this.player.requestFullscreen()},hideMouseTimeout:function(){void 0!==this.$refs.video&&(this.$refs.video.style.cursor="default",clearTimeout(this.mouseTimeout),this.mouseTimeout=setTimeout((()=>{this.$refs.video.style.cursor="none"}),2650))},removeMouseTimeout:function(){null!==this.mouseTimeout&&clearTimeout(this.mouseTimeout)},fullscreenOverlay:function(){const e=document.title.replace("- FreeTube","");this.player.isFullscreen()?this.player.ready((()=>{this.player.overlay({overlays:[{showBackground:!1,content:e,start:"mousemove",end:"userinactive"}]})})):this.player.ready((()=>{this.player.overlay({overlays:[{showBackground:!1,content:" ",start:"play",end:"loadstart"}]})}))},toggleFullscreenClass:function(){this.player.isFullscreen()?document.body.classList.add("vjs--full-screen-enabled"):document.body.classList.remove("vjs--full-screen-enabled")},handleTouchStart:function(){this.usingTouch=!0},handleMouseOver:function(){-1!==navigator.userAgent.search("Firefox")&&(Hm.default.browser.IS_ANDROID||Hm.default.browser.IS_IOS)||(this.usingTouch=!1)},toggleShowStatsModal:function(){"dash"!==this.format?$g(this.$t("Video.Stats.Video statistics are not available for legacy videos")):this.showStatsModal=!this.showStatsModal},createStatsModal:function(){const e=Hm.default.getComponent("ModalDialog");this.statsModal=new e(this.player,{temporary:!1,pauseOnOpen:!1}),this.statsModal.handleKeyDown_=e=>{"Escape"!==e.key&&"Tab"!==e.key||this.statsModal.handleKeyDown(e)},this.player.addChild(this.statsModal),this.statsModal.el_.classList.add("statsModal"),this.statsModal.on("modalclose",(()=>{this.showStatsModal=!1}))},updateStatsContent:function(){this.showStatsModal&&(this.statsModal.contentEl().innerHTML=this.getFormattedStats())},getFormattedStats:function(){const e=`${(100*(this.player.muted()?0:this.player.volume())).toFixed(0)}%`,t=`${(this.playerStats.bandwidth/1e3).toFixed(2)}kbps`,n=`${(100*this.player.bufferedPercent()).toFixed(0)}%`,i=`${this.playerStats.videoPlaybackQuality.droppedVideoFrames} / ${this.playerStats.videoPlaybackQuality.totalVideoFrames}`,r="auto"===this.selectedResolution?"auto":`${this.selectedResolution}@${this.selectedFPS}fps`,a=`${this.playerStats.playerDimensions.width}x${this.playerStats.playerDimensions.height}`,s=[[this.$t("Video.Stats.Video ID"),this.videoId],[this.$t("Video.Stats.Resolution"),r],[this.$t("Video.Stats.Player Dimensions"),a],[this.$t("Video.Stats.Bitrate"),this.selectedBitrate],[this.$t("Video.Stats.Volume"),e],[this.$t("Video.Stats.Bandwidth"),t],[this.$t("Video.Stats.Buffered"),n],[this.$t("Video.Stats.Dropped / Total Frames"),i],[this.$t("Video.Stats.Mimetype"),this.selectedMimeType]];let o="";return s.forEach((e=>{const t=`<p>${e[0]}: ${e[1]}</p>`;o+=t})),o},canChapterJump:function(e,t){const n=this.$parent.videoCurrentChapterIndex;return this.chapters.length>0&&("previous"===t?n>0:this.chapters.length-1!==n)&&("darwin"!==sg.platform&&e.ctrlKey||"darwin"===sg.platform&&e.metaKey)},keyboardShortcutHandler:function(e){if(!document.activeElement.classList.contains("ft-input")&&!(e.ctrlKey&&("darwin"===sg.platform||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key)||(e.ctrlKey||e.metaKey)&&"c"===e.key.toLowerCase()||null===this.player))switch(e.key){case" ":case"Spacebar":case"K":case"k":e.preventDefault(),this.togglePlayPause();break;case"J":case"j":e.preventDefault(),this.changeDurationBySeconds(-this.defaultSkipInterval*this.player.playbackRate()*2);break;case"L":case"l":e.preventDefault(),this.changeDurationBySeconds(this.defaultSkipInterval*this.player.playbackRate()*2);break;case"O":case"o":e.preventDefault(),this.changePlayBackRate(-this.videoPlaybackRateInterval);break;case"P":case"p":e.preventDefault(),this.changePlayBackRate(this.videoPlaybackRateInterval);break;case"F":case"f":e.preventDefault(),this.toggleFullscreen();break;case"M":case"m":e.metaKey||(e.preventDefault(),this.toggleMute());break;case"C":case"c":e.preventDefault(),this.toggleCaptions();break;case"ArrowUp":e.preventDefault(),this.changeVolume(.05);break;case"ArrowDown":e.preventDefault(),this.changeVolume(-.05);break;case"ArrowLeft":e.preventDefault(),this.canChapterJump(e,"previous")?this.player.currentTime(this.chapters[this.$parent.videoCurrentChapterIndex-1].startSeconds):this.changeDurationBySeconds(-this.defaultSkipInterval*this.player.playbackRate());break;case"ArrowRight":e.preventDefault(),this.canChapterJump(e,"next")?this.player.currentTime(this.chapters[this.$parent.videoCurrentChapterIndex+1].startSeconds):this.changeDurationBySeconds(this.defaultSkipInterval*this.player.playbackRate());break;case"I":case"i":e.preventDefault(),"audio"===this.format||this.player.isInPictureInPicture()?this.player.isInPictureInPicture()&&this.player.exitPictureInPicture():this.player.requestPictureInPicture();break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{e.preventDefault();const t=parseInt(e.key)/10,n=this.player.duration()*t;this.player.currentTime(n);break}case",":this.framebyframe(-1);break;case".":this.framebyframe(1);break;case"D":case"d":e.preventDefault(),this.toggleShowStatsModal();break;case"Escape":e.preventDefault(),this.exitFullWindow();break;case"S":case"s":this.toggleFullWindow();break;case"T":case"t":this.toggleTheatreMode();break;case"U":case"u":this.takeScreenshot()}},...el(["updateDefaultCaptionSettings","parseScreenshotCustomFileName","updateScreenshotFolderPath"])}};var lg=_l(og,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"relative",class:{"vjs-using-touch":e.usingTouch,"vjs-hide-play-button":!e.displayVideoPlayButton},on:{mouseover:e.handleMouseOver}},[t("video",{ref:"video",staticClass:"ftVideoPlayer video-js vjs-default-skin dark",attrs:{poster:e.thumbnail,controls:"",preload:"auto","data-setup":JSON.stringify(e.dataSetup),crossorigin:"anonymous"},on:{touchstart:e.handleTouchStart}},e._l(e.activeSourceList,(function(n,i){return t("source",{key:i+"_source",attrs:{src:n.url,type:n.type||n.mimeType,label:n.qualityLabel,selected:n.qualityLabel===e.selectedDefaultQuality}})})),0)])}),[],!1,null,"33043a0a",null);const cg=lg.exports,ug={name:"WatchVideoInfo",components:{"ft-card":Il,"ft-button":Oh,"ft-icon-button":Rl,"ft-share-button":Mm},props:{id:{type:String,required:!0},title:{type:String,required:!0},channelId:{type:String,required:!0},channelName:{type:String,required:!0},channelThumbnail:{type:String,required:!0},published:{type:Number,required:!0},viewCount:{type:Number,required:!0},subscriptionCountText:{type:String,required:!0},likeCount:{type:Number,default:0},dislikeCount:{type:Number,default:0},getTimestamp:{type:Function,required:!0},isLive:{type:Boolean,required:!1},isLiveContent:{type:Boolean,required:!0},isUpcoming:{type:Boolean,required:!0},downloadLinks:{type:Array,required:!0},watchingPlaylist:{type:Boolean,required:!0},playlistId:{type:String,default:null},getPlaylistIndex:{type:Function,required:!0},getPlaylistReverse:{type:Function,required:!0},getPlaylistShuffle:{type:Function,required:!0},getPlaylistLoop:{type:Function,required:!0},theatrePossible:{type:Boolean,required:!0},lengthSeconds:{type:Number,required:!0},videoThumbnail:{type:String,required:!0}},data:function(){return{formatTypeLabel:"VIDEO FORMATS"}},computed:{currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},hideSharingActions:function(){return this.$store.getters.getHideSharingActions},hideUnsubscribeButton:function(){return this.$store.getters.getHideUnsubscribeButton},currentLocale:function(){return this.$i18n.locale.replace("_","-")},profileList:function(){return this.$store.getters.getProfileList},activeProfile:function(){return this.$store.getters.getActiveProfile},hideRecommendedVideos:function(){return this.$store.getters.getHideRecommendedVideos},hideLiveChat:function(){return this.$store.getters.getHideLiveChat},hideVideoLikesAndDislikes:function(){return this.$store.getters.getHideVideoLikesAndDislikes},hideVideoViews:function(){return this.$store.getters.getHideVideoViews},favoritesPlaylist:function(){return this.$store.getters.getFavorites},inFavoritesPlaylist:function(){return-1!==this.favoritesPlaylist.videos.findIndex((e=>e.videoId===this.id))},favoriteIconTheme:function(){return this.inFavoritesPlaylist?"base favorite":"base"},downloadLinkOptions:function(){return this.downloadLinks.map((e=>({label:e.label,value:e.url})))},downloadBehavior:function(){return this.$store.getters.getDownloadBehavior},formatTypeOptions:function(){return[{label:this.$t("Change Format.Use Dash Formats").toUpperCase(),value:"dash"},{label:this.$t("Change Format.Use Legacy Formats").toUpperCase(),value:"legacy"},{label:this.$t("Change Format.Use Audio Formats").toUpperCase(),value:"audio"}]},totalLikeCount:function(){return this.likeCount+this.dislikeCount},parsedLikeCount:function(){return this.hideVideoLikesAndDislikes||null===this.likeCount?null:Jg(this.likeCount)},parsedDislikeCount:function(){return this.hideVideoLikesAndDislikes||null===this.dislikeCount?null:Jg(this.dislikeCount)},likePercentageRatio:function(){return parseInt(this.likeCount/this.totalLikeCount*100)},parsedViewCount:function(){return this.hideVideoViews?null:Jg(this.viewCount)+` ${this.$t("Video.Views").toLowerCase()}`},isSubscribed:function(){return-1!==this.activeProfile.subscriptions.findIndex((e=>e.id===this.channelId))},subscribedText:function(){return this.isSubscribed?`${this.$t("Channel.Unsubscribe").toUpperCase()} ${this.subscriptionCountText}`:`${this.$t("Channel.Subscribe").toUpperCase()} ${this.subscriptionCountText}`},dateString(){const e=new Date(this.published);return`${new Intl.DateTimeFormat([this.currentLocale,"en"],{dateStyle:"medium"}).format(e)}`.replaceAll(" ","")},publishedString(){return this.isLiveContent&&this.isLive?this.$t("Video.Started streaming on"):this.isLiveContent&&!this.isLive?this.$t("Video.Streamed on"):this.$t("Video.Published on")},externalPlayer:function(){return this.$store.getters.getExternalPlayer},defaultPlayback:function(){return this.$store.getters.getDefaultPlayback}},mounted:function(){"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:this.title,artist:this.channelName,artwork:[{src:this.videoThumbnail,sizes:"128x128",type:"image/png"}]}),this.$watch("$refs.downloadButton.dropdownShown",(e=>{this.$parent.infoAreaSticky=!e,e&&window.innerWidth>=901&&Promise.resolve().then((()=>{this.$parent.$refs.infoArea.scrollIntoView()}))})))},methods:{handleExternalPlayer:function(){this.$emit("pause-player"),this.openInExternalPlayer({watchProgress:this.getTimestamp(),playbackRate:this.defaultPlayback,videoId:this.id,videoLength:this.lengthSeconds,playlistId:this.playlistId,playlistIndex:this.getPlaylistIndex(),playlistReverse:this.getPlaylistReverse(),playlistShuffle:this.getPlaylistShuffle(),playlistLoop:this.getPlaylistLoop()})},toggleSave:function(){this.inFavoritesPlaylist?this.removeFromPlaylist():this.addToPlaylist()},handleSubscription:function(){if(""===this.channelId)return;const e=JSON.parse(JSON.stringify(this.activeProfile)),t=JSON.parse(JSON.stringify(this.profileList[0]));if(this.isSubscribed){if(e.subscriptions=e.subscriptions.filter((e=>e.id!==this.channelId)),this.updateProfile(e),$g(this.$t("Channel.Channel has been removed from your subscriptions")),this.activeProfile._id===Vl){let e=0;this.profileList.forEach((t=>{if(t._id===Vl)return;const n=JSON.parse(JSON.stringify(t));-1!==n.subscriptions.findIndex((e=>e.id===this.channelId))&&(e++,n.subscriptions=n.subscriptions.filter((e=>e.id!==this.channelId)),this.updateProfile(n))})),e>0&&$g(this.$t("Channel.Removed subscription from {count} other channel(s)",{count:e}))}}else{const n={id:this.channelId,name:this.channelName,thumbnail:this.channelThumbnail};e.subscriptions.push(n),this.updateProfile(e),$g(this.$t("Channel.Added channel to your subscriptions")),this.activeProfile._id!==Vl&&-1===t.subscriptions.findIndex((e=>e.id===this.channelId))&&(t.subscriptions.push(n),this.updateProfile(t))}},handleFormatChange:function(e){switch(e){case"dash":this.$parent.enableDashFormat();break;case"legacy":this.$parent.enableLegacyFormat();break;case"audio":this.$parent.enableAudioFormat()}},handleDownload:function(e){const t=this.downloadLinkOptions[e],n=t.value,i=t.label,r=this.grabExtensionFromUrl(i);"open"===this.downloadBehavior?Mg(n):this.downloadMedia({url:n,title:this.title,extension:r})},grabExtensionFromUrl:function(e){const t=e.match(/\/(\w*)/i);return 0===t.length?"":t[1]},addToPlaylist:function(){const e={playlistName:"Favorites",videoData:{videoId:this.id,title:this.title,author:this.channelName,authorId:this.channelId,published:"",description:this.description,viewCount:this.viewCount,lengthSeconds:this.lengthSeconds,timeAdded:(new Date).getTime(),isLive:!1,paid:!1,type:"video"}};this.addVideo(e),$g(this.$t("Video.Video has been saved"))},removeFromPlaylist:function(){const e={playlistName:"Favorites",videoId:this.id};this.removeVideo(e),$g(this.$t("Video.Video has been removed from your saved list"))},...el(["openInExternalPlayer","updateProfile","addVideo","removeVideo","downloadMedia"])}},hg=_l(ug,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-card",{staticClass:"watchVideoInfo"},[t("div",[t("h1",{staticClass:"videoTitle"},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),t("div",{staticClass:"channelInformation"},[t("div",{staticClass:"profileRow"},[t("div",[t("router-link",{attrs:{to:`/channel/${e.channelId}`}},[t("img",{staticClass:"channelThumbnail",attrs:{src:e.channelThumbnail,alt:""}})])],1),e._v(" "),t("div",[t("router-link",{staticClass:"channelName",attrs:{to:`/channel/${e.channelId}`}},[e._v("\n            "+e._s(e.channelName)+"\n          ")]),e._v(" "),e.hideUnsubscribeButton?e._e():t("ft-button",{staticClass:"subscribeButton",attrs:{label:e.subscribedText,"background-color":"var(--primary-color)","text-color":"var(--text-with-main-color)"},on:{click:e.handleSubscription}})],1)])])]),e._v(" "),t("div",[t("div",{staticClass:"datePublished"},[e._v("\n      "+e._s(e.publishedString)+" "+e._s(e.dateString)+"\n    ")]),e._v(" "),t("div",{staticClass:"viewCount"},[e._v("\n      "+e._s(e.parsedViewCount)+"\n    ")]),e._v(" "),e.hideVideoLikesAndDislikes?e._e():t("div",{staticClass:"likeBarContainer"},[t("div",{staticClass:"likeSection"},[t("div",[t("span",{staticClass:"likeCount"},[t("font-awesome-icon",{attrs:{icon:["fas","thumbs-up"]}}),e._v(" "+e._s(e.parsedLikeCount))],1)])])]),e._v(" "),t("div",{staticClass:"videoOptions"},[e.isUpcoming?e._e():t("ft-icon-button",{staticClass:"option",attrs:{title:e.$t("Video.Save Video"),icon:["fas","star"],theme:e.favoriteIconTheme},on:{click:e.toggleSave}}),e._v(" "),""!==e.externalPlayer?t("ft-icon-button",{staticClass:"option",attrs:{title:e.$t("Video.External Player.OpenInTemplate",{externalPlayer:e.externalPlayer}),icon:["fas","external-link-alt"],theme:"secondary"},on:{click:e.handleExternalPlayer}}):e._e(),e._v(" "),!e.isUpcoming&&e.downloadLinks.length>0?t("ft-icon-button",{ref:"downloadButton",staticClass:"option",attrs:{title:e.$t("Video.Download Video"),theme:"secondary",icon:["fas","download"],"return-index":!0,"dropdown-options":e.downloadLinkOptions},on:{click:e.handleDownload}}):e._e(),e._v(" "),e.isUpcoming?e._e():t("ft-icon-button",{staticClass:"option",attrs:{title:e.$t("Change Format.Change Media Formats"),theme:"secondary",icon:["fas","file-video"],"dropdown-options":e.formatTypeOptions},on:{click:e.handleFormatChange}}),e._v(" "),e.hideSharingActions?e._e():t("ft-share-button",{staticClass:"option",attrs:{id:e.id,"get-timestamp":e.getTimestamp,"playlist-id":e.playlistId}})],1)])])}),[],!1,null,"7bfbeb53",null).exports,dg={name:"WatchVideoChapters",components:{"ft-card":Il},props:{compact:{type:Boolean,default:!1},chapters:{type:Array,required:!0},currentChapterIndex:{type:Number,required:!0}},data:function(){return{showChapters:!1,currentIndex:0}},computed:{currentTitle:function(){return this.chapters[this.currentIndex].title}},watch:{currentChapterIndex:function(e){this.currentIndex!==e&&(this.currentIndex=e)}},mounted:function(){this.currentIndex=this.currentChapterIndex},methods:{changeChapter:function(e){this.currentIndex=e,this.$emit("timestamp-event",this.chapters[e].startSeconds)},navigateChapters(e){const t=Array.from(this.$refs.chaptersWrapper.children),n=t.indexOf(document.activeElement);let i=n;"up"===e?0===n?i=t.length-1:i--:n===t.length-1?i=0:i++,t[i].focus()}}};var fg=_l(dg,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-card",{staticClass:"videoChapters"},[t("h3",{staticClass:"chaptersTitle",attrs:{tabindex:"0","aria-label":e.showChapters?e.$t("Chapters.Chapters list visible, current chapter: {chapterName}",null,{chapterName:e.currentTitle}):e.$t("Chapters.Chapters list hidden, current chapter: {chapterName}",null,{chapterName:e.currentTitle}),"aria-pressed":e.showChapters},on:{click:function(t){e.showChapters=!e.showChapters},keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.stopPropagation(),t.preventDefault(),e.showChapters=!e.showChapters},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.stopPropagation(),t.preventDefault(),e.showChapters=!e.showChapters}]}},[e._v("\n    "+e._s(e.$t("Chapters.Chapters"))+"\n\n    "),t("span",{staticClass:"currentChapter"},[e._v("\n       "+e._s(e.currentTitle)+"\n    ")]),e._v(" "),t("font-awesome-icon",{staticClass:"chaptersChevron",class:{open:e.showChapters},attrs:{icon:["fas","chevron-right"],rotation:e.showChapters?90:null}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showChapters,expression:"showChapters"}],ref:"chaptersWrapper",staticClass:"chaptersWrapper",class:{compact:e.compact},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"arrow-up",void 0,t.key,void 0)?null:(t.stopPropagation(),t.preventDefault(),e.navigateChapters("up"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"arrow-down",void 0,t.key,void 0)?null:(t.stopPropagation(),t.preventDefault(),e.navigateChapters("down"))}]}},e._l(e.chapters,(function(n,i){return t("div",{key:i,staticClass:"chapter",class:{current:i===e.currentIndex},attrs:{role:"button",tabindex:"0","aria-selected":i===e.currentIndex},on:{click:function(t){return e.changeChapter(i)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.stopPropagation(),t.preventDefault(),e.changeChapter(i))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),t.preventDefault(),e.changeChapter(i))}]}},[e.compact?e._e():t("img",{staticClass:"chapterThumbnail",attrs:{alt:"","aria-hidden":"true",src:n.thumbnail}}),e._v(" "),t("div",{staticClass:"chapterTimestamp"},[e._v("\n        "+e._s(n.timestamp)+"\n      ")]),e._v(" "),t("p",{staticClass:"chapterTitle"},[e._v("\n        "+e._s(n.title)+"\n      ")])])})),0)])}),[],!1,null,"bbedd744",null);const pg=fg.exports,mg=_l({name:"FtTimestampCatcher",props:{inputHtml:{type:String,default:""}},methods:{catchTimestampClick:function(e){const t=e.detail.match(/(\d+):(\d+):?(\d+)?/);if(void 0!==t[3]){const e=3600*Number(t[1])+60*Number(t[2])+Number(t[3]);this.$emit("timestamp-event",e)}else{const e=60*Number(t[1])+Number(t[2]);this.$emit("timestamp-event",e)}},detectTimestamps:function(e){return e.replaceAll(/(\d+(:\d+)+)/g,"<a href=\"#\" onclick=\"this.dispatchEvent(new CustomEvent('timestamp-clicked',{bubbles:true, detail:'$1'}))\">$1</a>")}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("p",{domProps:{innerHTML:e._s(e.detectTimestamps(e.inputHtml))},on:{"timestamp-clicked":e.catchTimestampClick}})}),[],!1,null,"7500bc7c",null).exports,gg=_l({name:"WatchVideoDescription",components:{"ft-card":Il,"ft-timestamp-catcher":mg},props:{published:{type:Number,required:!0},description:{type:String,required:!0},descriptionHtml:{type:String,default:""}},data:function(){return{shownDescription:""}},mounted:function(){if(""!==this.descriptionHtml){const e=this.parseDescriptionHtml(this.descriptionHtml),t=document.createElement("div");t.innerHTML=e,/^\s*$/.test(t.innerText)||(this.shownDescription=e)}else/^\s*$/.test(this.description)||(this.shownDescription=tp.link(this.description))},methods:{onTimestamp:function(e){this.$emit("timestamp-event",e)},parseDescriptionHtml:function(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll('target="_blank"',"")).replaceAll(/\/redirect.+?(?=q=)/g,"")).replaceAll("q=","")).replaceAll(/rel="nofollow\snoopener"/g,"")).replaceAll(/class=.+?(?=")./g,"")).replaceAll(/id=.+?(?=")./g,"")).replaceAll(/data-target-new-window=.+?(?=")./g,"")).replaceAll(/data-url=.+?(?=")./g,"")).replaceAll(/data-sessionlink=.+?(?=")./g,"")).replaceAll("&amp;","&")).replaceAll("%3A",":")).replaceAll("%2F","/")).replaceAll(/&v.+?(?=")/g,"")).replaceAll(/&redirect-token.+?(?=")/g,"")).replaceAll(/&redir_token.+?(?=")/g,"")).replaceAll('href="/','href="https://www.youtube.com/')).replaceAll('href="/hashtag/','href="freetube://')).replaceAll("yt.www.watch.player.seekTo","changeDuration")}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,e.shownDescription.length>0?t("ft-card",{staticClass:"videoDescription"},[t("ft-timestamp-catcher",{staticClass:"description",attrs:{"input-html":e.shownDescription},on:{"timestamp-event":e.onTimestamp}})],1):e._e()}),[],!1,null,"68a907e4",null).exports;var yg=n(4698),vg=n.n(yg);const bg={name:"WatchVideoComments",components:{"ft-card":Il,"ft-loader":Lh,"ft-select":Op,"ft-timestamp-catcher":mg},props:{id:{type:String,required:!0},channelName:{type:String,required:!0},channelThumbnail:{type:String,required:!0}},data:function(){return{isLoading:!1,showComments:!1,commentScraper:null,nextPageToken:null,commentData:[],sortNewest:!1,commentProcess:null,sortingChanged:!1}},computed:{backendPreference:function(){return this.$store.getters.getBackendPreference},backendFallback:function(){return this.$store.getters.getBackendFallback},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},hideCommentLikes:function(){return this.$store.getters.getHideCommentLikes},sortNames:function(){return[this.$t("Comments.Top comments"),this.$t("Comments.Newest first")]},sortValues:function(){return["top","newest"]},currentSortValue:function(){return this.sortNewest?"newest":"top"}},beforeDestroy:function(){null!==this.commentProcess&&this.commentProcess.send("end")},methods:{onTimestamp:function(e){this.$emit("timestamp-event",e)},handleSortChange:function(e){switch(this.sortNewest=!this.sortNewest,this.backendPreference){case"local":this.isLoading=!0,this.commentData=[],this.nextPageToken=void 0,this.getCommentDataLocal({videoId:this.id,setCookie:!1,sortByNewest:this.sortNewest,continuation:this.nextPageToken?this.nextPageToken:void 0});break;case"invidious":this.isLoading=!0,this.commentData=[],this.getCommentDataInvidious()}},getCommentData:function(){switch(this.isLoading=!0,this.backendPreference){case"local":this.getCommentDataLocal({videoId:this.id,setCookie:!1,sortByNewest:this.sortNewest,continuation:this.nextPageToken?this.nextPageToken:void 0});break;case"invidious":this.getCommentDataInvidious()}},getMoreComments:function(){0===this.commentData.length||null===this.nextPageToken||void 0===this.nextPageToken?$g(this.$t("Comments.There are no more comments for this video")):this.getCommentData()},toggleCommentReplies:function(e){this.commentData[e].showReplies||this.commentData[e].replies.length>0?this.commentData[e].showReplies=!this.commentData[e].showReplies:this.getCommentReplies(e)},getCommentReplies:function(e){switch(this.commentData[e].dataType){case"local":this.getCommentRepliesLocal({videoId:this.id,setCookie:!1,sortByNewest:this.sortNewest,replyToken:this.commentData[e].replyToken,index:e});break;case"invidious":this.getCommentRepliesInvidious(e)}},getCommentDataLocal:function(e){vg().getComments(e).then((e=>{this.parseLocalCommentData(e,null)})).catch((e=>{console.error(e),$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)})),this.backendFallback&&"local"===this.backendPreference?($g(this.$t("Falling back to Invidious API")),this.getCommentDataInvidious()):this.isLoading=!1}))},getCommentRepliesLocal:function(e){$g(this.$t("Comments.Getting comment replies, please wait")),vg().getCommentReplies(e).then((t=>{this.parseLocalCommentData(t,e.index)})).catch((e=>{console.error(e),$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)})),this.backendFallback&&"local"===this.backendPreference?($g(this.$t("Falling back to Invidious API")),this.getCommentDataInvidious()):this.isLoading=!1}))},parseLocalCommentData:function(e,t=null){const n=e.comments.map((e=>(e.authorLink=e.authorId,e.showReplies=!1,e.authorThumb=e.authorThumb[0].url,e.replies=[],e.dataType="local",e.time=Fg({publishText:e.time+" ago"}),this.hideCommentLikes&&(e.likes=null),e.text=tp.link(Wg(e.text)),e.customEmojis.length>0&&e.customEmojis.forEach((t=>{e.text=e.text.replace(t.text,`<img width="14" height="14" class="commentCustomEmoji" alt="${t.text.substring(2,t.text.length-1)}" src="${t.emojiThumbnails[0].url}">`)})),e)));null!==t?0!==this.commentData[t].replies.length&&this.commentData[t].replies[this.commentData[t].replies.length-1].commentId===n[n.length-1].commentId||(this.commentData[t].replies=this.commentData[t].replies.concat(n),this.commentData[t].replyToken=e.continuation,this.commentData[t].showReplies=!0):(this.sortingChanged&&(this.commentData=[],this.sortingChanged=!1),this.commentData=this.commentData.concat(n),this.isLoading=!1,this.showComments=!0,this.nextPageToken=e.continuation)},getCommentDataInvidious:function(){(async function({id:e,nextPageToken:t="",sortNewest:n=!0}){const i={resource:"comments",id:e,params:{continuation:t??"",sort_by:n?"new":"top"}},r=await ip(i);return{response:r,commentData:op(r)}})({id:this.id,nextPageToken:this.nextPageToken,sortNewest:this.sortNewest}).then((({response:e,commentData:t})=>{this.commentData=this.commentData.concat(t),this.nextPageToken=e.continuation,this.isLoading=!1,this.showComments=!0})).catch((e=>{console.error(e),$g(`${this.$t("Invidious API Error (Click to copy)")}: ${e.responseText}`,1e4,(()=>{Bg(e.responseText)})),this.isLoading=!1}))},getCommentRepliesInvidious:function(e){$g(this.$t("Comments.Getting comment replies, please wait"));const t=this.commentData[e].replyToken;(async function({id:e,replyToken:t}){const n={resource:"comments",id:e,params:{continuation:t}},i=await ip(n);return{commentData:op(i),continuation:i.continuation??null}})({id:this.id,replyToken:t}).then((({commentData:t,continuation:n})=>{this.commentData[e].replies=t,this.commentData[e].showReplies=!0,this.commentData[e].replyToken=n,this.isLoading=!1})).catch((e=>{console.error(e),$g(`${this.$t("Invidious API Error (Click to copy)")}: ${e.responseText}`,1e4,(()=>{Bg(e.responseText)})),this.isLoading=!1}))}}};var _g=_l(bg,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-card",[0!==e.commentData.length||e.isLoading?e._e():t("h4",{staticClass:"getCommentsTitle",attrs:{role:"button",tabindex:"0"},on:{click:e.getCommentData,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.getCommentData.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.getCommentData.apply(null,arguments))}]}},[e._v("\n    "+e._s(e.$t("Comments.Click to View Comments"))+"\n  ")]),e._v(" "),e.commentData.length>0&&!e.isLoading&&!e.showComments?t("h4",{staticClass:"getCommentsTitle",attrs:{role:"button",tabindex:"0"},on:{click:function(t){e.showComments=!0},keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.preventDefault(),e.showComments=!0},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault(),e.showComments=!0}]}},[e._v("\n    "+e._s(e.$t("Comments.Click to View Comments"))+"\n  ")]):e._e(),e._v(" "),e.commentData.length>0&&!e.isLoading&&e.showComments?t("ft-select",{staticClass:"commentSort",attrs:{placeholder:e.$t("Comments.Sort by"),value:e.currentSortValue,"select-names":e.sortNames,"select-values":e.sortValues},on:{change:e.handleSortChange}}):e._e(),e._v(" "),e.commentData.length>0&&!e.isLoading&&e.showComments?t("h3",[e._v("\n    "+e._s(e.$t("Comments.Comments"))+"\n    "),t("span",{staticClass:"hideComments",attrs:{role:"button",tabindex:"0"},on:{click:function(t){e.showComments=!1},keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.preventDefault(),e.showComments=!1},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault(),e.showComments=!1}]}},[e._v("\n      "+e._s(e.$t("Comments.Hide Comments"))+"\n    ")])]):e._e(),e._v(" "),e.commentData.length>0&&e.showComments?t("div",e._l(e.commentData,(function(n,i){return t("div",{key:i,staticClass:"comment",attrs:{id:"comment"+i}},[t("router-link",{attrs:{to:`/channel/${n.authorLink}`,tabindex:"-1"}},[t("img",{staticClass:"commentThumbnail",attrs:{src:n.authorThumb,alt:""}})]),e._v(" "),n.isPinned?t("p",{staticClass:"commentPinned"},[t("font-awesome-icon",{attrs:{icon:["fas","thumbtack"]}}),e._v("\n        "+e._s(e.$t("Comments.Pinned by"))+" "+e._s(e.channelName)+"\n      ")],1):e._e(),e._v(" "),t("p",{staticClass:"commentAuthorWrapper"},[t("router-link",{staticClass:"commentAuthor",class:{commentOwner:n.isOwner},attrs:{to:`/channel/${n.authorLink}`}},[e._v("\n          "+e._s(n.author)+"\n        ")]),e._v(" "),n.isMember?t("img",{staticClass:"commentMemberIcon",attrs:{src:n.memberIconUrl,title:e.$t("Comments.Member"),"aria-label":e.$t("Comments.Member"),alt:""}}):e._e(),e._v(" "),t("span",{staticClass:"commentDate"},[e._v("\n          "+e._s(n.time)+"\n        ")])],1),e._v(" "),t("ft-timestamp-catcher",{staticClass:"commentText",attrs:{"input-html":n.text},on:{"timestamp-event":e.onTimestamp}}),e._v(" "),t("p",{staticClass:"commentLikeCount"},[e.hideCommentLikes?e._e():t("font-awesome-icon",{attrs:{icon:["fas","thumbs-up"]}}),e._v("\n        "+e._s(n.likes)+"\n        "),n.isHearted?t("span",{staticClass:"commentHeartBadge"},[t("img",{staticClass:"commentHeartBadgeImg",attrs:{src:e.channelThumbnail,title:e.$t("Comments.Hearted"),"aria-label":e.$t("Comments.Hearted"),alt:""}}),e._v(" "),t("font-awesome-icon",{staticClass:"commentHeartBadgeWhite",attrs:{icon:["fas","heart"]}}),e._v(" "),t("font-awesome-icon",{staticClass:"commentHeartBadgeRed",attrs:{icon:["fas","heart"]}})],1):e._e(),e._v(" "),n.numReplies>0?t("span",{staticClass:"commentMoreReplies",attrs:{role:"button",tabindex:"0"},on:{click:function(t){return e.toggleCommentReplies(i)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.toggleCommentReplies(i))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.toggleCommentReplies(i))}]}},[n.showReplies?t("span",[e._v(e._s(e.$t("Comments.Hide")))]):t("span",[e._v(e._s(e.$t("Comments.View")))]),e._v("\n          "+e._s(n.numReplies)+"\n          "),1===n.numReplies?t("span",[e._v(e._s(e.$t("Comments.Reply").toLowerCase()))]):t("span",[e._v(e._s(e.$t("Comments.Replies").toLowerCase()))]),e._v(" "),n.hasOwnerReplied&&!n.showReplies?t("span",[e._v(" "+e._s(e.$t("Comments.From {channelName}",{channelName:e.channelName})))]):e._e(),e._v(" "),n.numReplies>1&&n.hasOwnerReplied&&!n.showReplies?t("span",[e._v(e._s(e.$t("Comments.And others")))]):e._e()]):e._e()],1),e._v(" "),n.showReplies?t("div",{staticClass:"commentReplies"},[e._l(n.replies,(function(n,r){return t("div",{key:r,staticClass:"comment",attrs:{id:"comment"+i+"-"+r}},[t("router-link",{attrs:{to:`/channel/${n.authorLink}`,tabindex:"-1"}},[t("img",{staticClass:"commentThumbnail",attrs:{src:n.authorThumb,alt:""}})]),e._v(" "),t("p",{staticClass:"commentAuthorWrapper"},[t("span",{staticClass:"commentAuthor",class:{commentOwner:n.isOwner}},[t("router-link",{attrs:{to:`/channel/${n.authorLink}`}},[e._v("\n                "+e._s(n.author)+"\n              ")])],1),e._v(" "),n.isMember?t("img",{staticClass:"commentMemberIcon",attrs:{src:n.memberIconUrl,alt:""}}):e._e(),e._v(" "),t("span",{staticClass:"commentDate"},[e._v("\n              "+e._s(n.time)+"\n            ")])]),e._v(" "),t("ft-timestamp-catcher",{staticClass:"commentText",attrs:{"input-html":n.text},on:{"timestamp-event":e.onTimestamp}}),e._v(" "),t("p",{staticClass:"commentLikeCount"},[e.hideCommentLikes?e._e():t("font-awesome-icon",{attrs:{icon:["fas","thumbs-up"]}}),e._v("\n            "+e._s(n.likes)+"\n          ")],1),e._v(" "),n.numReplies>0?t("p",{staticClass:"commentMoreReplies"},[e._v("\n            "+e._s(e.$t("Comments.View {replyCount} replies",{replyCount:n.numReplies}))+"\n          ")]):e._e()],1)})),e._v(" "),null!==n.replyToken?t("div",{staticClass:"showMoreReplies",attrs:{role:"button",tabindex:"0"},on:{click:function(t){return e.getCommentReplies(i,n.replies.length)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.getCommentReplies(i,n.replies.length))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.getCommentReplies(i,n.replies.length))}]}},[t("span",[e._v(e._s(e.$t("Comments.Show More Replies")))])]):e._e()],2):e._e()],1)})),0):e.showComments&&!e.isLoading?t("div",[t("h3",{staticClass:"center"},[e._v("\n      "+e._s(e.$t("There are no comments available for this video"))+"\n    ")])]):e._e(),e._v(" "),e.commentData.length>0&&!e.isLoading&&e.showComments&&e.nextPageToken?t("h4",{staticClass:"getMoreComments",attrs:{role:"button",tabindex:"0"},on:{click:e.getMoreComments,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.getMoreComments.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.getMoreComments.apply(null,arguments))}]}},[e._v("\n    "+e._s(e.$t("Comments.Load More Comments"))+"\n  ")]):e._e(),e._v(" "),e.isLoading?t("ft-loader"):e._e()],1)}),[],!1,null,"1d6699de",null);const wg=_g.exports,Sg={name:"WatchVideoLiveChat",components:{"ft-loader":Lh,"ft-card":Il,"ft-button":Oh},props:{liveChat:{type:EventTarget,default:null},videoId:{type:String,required:!0},channelId:{type:String,required:!0}},data:function(){return{liveChatInstance:null,isLoading:!0,hasError:!1,hasEnded:!1,showEnableChat:!1,errorMessage:"",stayAtBottom:!0,showSuperChat:!1,showScrollToBottom:!1,comments:[],superChatComments:[],superChat:{id:"",author:{name:"",thumbnailUrl:""},message:"",superChat:{amount:"",colorClass:""}}}},computed:{backendPreference:function(){return this.$store.getters.getBackendPreference},backendFallback:function(){return this.$store.getters.getBackendFallback},chatHeight:function(){return this.superChatComments.length>0?"390px":"445px"},scrollingBehaviour:function(){return this.$store.getters.getDisableSmoothScrolling?"auto":"smooth"}},beforeDestroy:function(){this.hasEnded=!0,this.liveChatInstance?.stop(),this.liveChatInstance=null},created:function(){this.hasError=!0,this.errorMessage=this.$t('Video["Live Chat is currently not supported in this build."]')},methods:{enableLiveChat:function(){this.hasError=!1,this.showEnableChat=!1,this.isLoading=!0,this.getLiveChatLocal()},getLiveChatLocal:async function(){const e=await Up(this.videoId);this.liveChatInstance=e.getLiveChat(),this.startLiveChatLocal()},startLiveChatLocal:function(){this.liveChatInstance.once("start",(e=>{const t=e.actions.filter((e=>"AddChatItemAction"===e.type));for(const{item:e}of t)switch(e.type){case"LiveChatTextMessage":this.parseLiveChatComment(e);break;case"LiveChatPaidMessage":this.parseLiveChatSuperChat(e)}this.isLoading=!1,setTimeout((()=>{this.$refs.liveChatComments?.scrollTo({top:this.$refs.liveChatComments.scrollHeight,behavior:"instant"})}))})),this.liveChatInstance.on("chat-update",(e=>{if(!this.hasEnded&&"AddChatItemAction"===e.type)switch(e.item.type){case"LiveChatTextMessage":this.parseLiveChatComment(e.item);break;case"LiveChatPaidMessage":this.parseLiveChatSuperChat(e.item)}})),this.liveChatInstance.once("end",(()=>{this.hasEnded=!0,this.liveChatInstance=null})),this.liveChatInstance.once("error",(e=>{this.liveChatInstance.stop(),this.liveChatInstance=null,console.error(e),this.errorMessage=e,this.hasError=!0,this.isLoading=!1,this.hasEnded=!0})),this.liveChatInstance.start()},parseLiveChatComment:function(e){const t=e.author.badges.find((e=>"LiveChatAuthorBadge"===e.type&&e.custom_thumbnail)),n={message:tp.link(Wp(e.message.runs,20)),author:{name:e.author.name.text,thumbnailUrl:e.author.thumbnails.at(-1).url,isOwner:e.author.id===this.channelId,isModerator:e.author.is_moderator,isMember:!!t}};t&&(n.badge={url:t.custom_thumbnail.at(-1).url,tooltip:t.tooltip??""}),this.pushComment(n)},parseLiveChatSuperChat:function(e){const t={id:e.id,message:tp.link(Wp(e.message.runs,20)),author:{name:e.author.name.text,thumbnailUrl:e.author.thumbnails[0].url},superChat:{amount:e.purchase_amount,colorClass:nd()}};this.superChatComments.unshift(t),setTimeout((()=>{this.removeFromSuperChat(t.id)}),12e4),this.pushComment(t)},pushComment:function(e){this.comments.push(e),!this.isLoading&&this.stayAtBottom&&setTimeout((()=>{this.$refs.liveChatComments?.scrollTo({top:this.$refs.liveChatComments.scrollHeight,behavior:this.scrollingBehaviour})})),this.comments.length>150&&this.stayAtBottom&&(this.comments=this.comments.splice(this.comments.length-150,this.comments.length))},removeFromSuperChat:function(e){this.superChatComments=this.superChatComments.filter((t=>t.id!==e))},showSuperChatComment:function(e){this.superChat.id===e.id&&this.showSuperChat?this.showSuperChat=!1:(this.superChat=e,this.showSuperChat=!0)},onScroll:function(e){const t=this.$refs.liveChatComments;e.wheelDelta>=0&&this.stayAtBottom?(this.stayAtBottom=!1,t.scrollHeight>t.clientHeight&&(this.showScrollToBottom=!0)):e.wheelDelta<0&&!this.stayAtBottom&&t.scrollHeight-t.scrollTop===t.clientHeight&&this.scrollToBottom()},scrollToBottom:function(){this.$refs.liveChatComments.scrollTo({top:this.$refs.liveChatComments.scrollHeight,behavior:this.scrollingBehaviour}),this.stayAtBottom=!0,this.showScrollToBottom=!1}}};var kg=_l(Sg,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-card",{staticClass:"relative"},[e.isLoading?t("ft-loader"):e.hasError?t("div",{staticClass:"messageContainer"},[t("p",{staticClass:"message"},[e._v("\n      "+e._s(e.errorMessage)+"\n    ")]),e._v(" "),t("font-awesome-icon",{staticClass:"errorIcon",attrs:{icon:["fas","exclamation-circle"]}}),e._v(" "),e.showEnableChat?t("ft-button",{staticClass:"enableLiveChat",attrs:{label:e.$t("Video.Enable Live Chat")},on:{click:e.enableLiveChat}}):e._e()],1):0===e.comments.length?t("div",{ref:"liveChatMessage",staticClass:"messageContainer liveChatMessage"},[t("p",{staticClass:"message"},[e._v("\n      "+e._s(e.$t("Video['Live chat is enabled.  Chat messages will appear here once sent.']"))+"\n    ")])]):t("div",{staticClass:"relative"},[t("h4",[e._v(e._s(e.$t("Video.Live Chat")))]),e._v(" "),e.superChatComments.length>0?t("div",{staticClass:"superChatComments"},e._l(e.superChatComments,(function(n,i){return t("div",{key:i,staticClass:"superChat",class:n.superChat.colorClass,style:{backgroundColor:"var(--primary-color)"},attrs:{"aria-label":e.$t("Video.Show Super Chat Comment"),role:"button",tabindex:"0"},on:{click:function(t){return e.showSuperChatComment(n)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.showSuperChatComment(n))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.showSuperChatComment(n))}]}},[t("img",{staticClass:"channelThumbnail",attrs:{src:n.author.thumbnailUrl,alt:""}}),e._v(" "),t("p",{staticClass:"superChatContent"},[t("span",{staticClass:"donationAmount"},[e._v("\n            "+e._s(n.superChat.amount)+"\n          ")])])])})),0):e._e(),e._v(" "),e.showSuperChat?t("div",{staticClass:"openedSuperChat",class:e.superChat.superChat.colorClass,attrs:{role:"button",tabindex:"0"},on:{click:function(t){e.showSuperChat=!1},keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.preventDefault(),e.showSuperChat=!1},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault(),e.showSuperChat=!1}]}},[t("div",{staticClass:"superChatMessage",on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[t("div",{staticClass:"upperSuperChatMessage"},[t("img",{staticClass:"channelThumbnail",attrs:{src:e.superChat.author.thumbnailUrl,alt:""}}),e._v(" "),t("p",{staticClass:"channelName"},[e._v("\n            "+e._s(e.superChat.author.name)+"\n          ")]),e._v(" "),t("p",{staticClass:"donationAmount"},[e._v("\n            "+e._s(e.superChat.superChat.amount)+"\n          ")])]),e._v(" "),t("p",{staticClass:"chatMessage",domProps:{innerHTML:e._s(e.superChat.message)}})])]):e._e(),e._v(" "),t("div",{ref:"liveChatComments",staticClass:"liveChatComments",style:{height:e.chatHeight},on:{mousewheel:t=>e.onScroll(t)}},e._l(e.comments,(function(n,i){return t("div",{key:i,staticClass:"comment",class:n.superChat?`superChatMessage ${n.superChat.colorClass}`:""},[n.superChat?[t("div",{staticClass:"upperSuperChatMessage"},[t("img",{staticClass:"channelThumbnail",attrs:{src:n.author.thumbnailUrl,alt:""}}),e._v(" "),t("p",{staticClass:"channelName"},[e._v("\n              "+e._s(n.author.name)+"\n            ")]),e._v(" "),t("p",{staticClass:"donationAmount"},[e._v("\n              "+e._s(n.superChat.amount)+"\n            ")])]),e._v(" "),n.message?t("p",{staticClass:"chatMessage",domProps:{innerHTML:e._s(n.message)}}):e._e()]:[t("img",{staticClass:"channelThumbnail",attrs:{src:n.author.thumbnailUrl,alt:""}}),e._v(" "),t("p",{staticClass:"chatContent"},[t("span",{staticClass:"channelName",class:{member:n.author.isMember,moderator:n.author.isModerator,owner:n.author.isOwner}},[e._v("\n              "+e._s(n.author.name)+"\n            ")]),e._v(" "),n.author.badge?t("span",{staticClass:"badge"},[t("img",{staticClass:"badgeImage",attrs:{src:n.author.badge.url,alt:"",title:n.author.badge.tooltip}})]):e._e(),e._v(" "),t("span",{staticClass:"chatMessage",domProps:{innerHTML:e._s(n.message)}})])]],2)})),0),e._v(" "),e.showScrollToBottom?t("div",{staticClass:"scrollToBottom",attrs:{"aria-label":e.$t("Video.Scroll to Bottom"),role:"button",tabindex:"0"},on:{click:e.scrollToBottom,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.scrollToBottom.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.scrollToBottom.apply(null,arguments))}]}},[t("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","arrow-down"]}})],1):e._e()])],1)}),[],!1,null,"48fbd335",null);const Tg=kg.exports;var Cg=_l({name:"WatchVideoPlaylist",components:{"ft-loader":Lh,"ft-card":Il,"ft-list-video-lazy":Dm},props:{playlistId:{type:String,required:!0},videoId:{type:String,required:!0}},data:function(){return{isLoading:!1,shuffleEnabled:!1,loopEnabled:!1,reversePlaylist:!1,channelName:"",channelId:"",playlistTitle:"",playlistItems:[],randomizedPlaylistItems:[]}},computed:{backendPreference:function(){return this.$store.getters.getBackendPreference},backendFallback:function(){return this.$store.getters.getBackendFallback},currentVideoIndex:function(){return this.playlistItems.findIndex((e=>void 0!==e.videoId?e.videoId===this.videoId:e.id===this.videoId))+1},playlistVideoCount:function(){return this.playlistItems.length}},watch:{videoId:function(e,t){this.shuffleEnabled&&this.randomizedPlaylistItems.findIndex((t=>t===e))-1!==this.randomizedPlaylistItems.findIndex((e=>e===t))&&this.shufflePlaylistItems()}},mounted:function(){const e=this.$store.getters.getCachedPlaylist;e?.id===this.playlistId?this.loadCachedPlaylistInformation(e):this.getPlaylistInformationInvidious(),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("previoustrack",this.playPreviousVideo),navigator.mediaSession.setActionHandler("nexttrack",this.playNextVideo))},beforeDestroy:function(){"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null))},methods:{toggleLoop:function(){this.loopEnabled?(this.loopEnabled=!1,$g(this.$t("Loop is now disabled"))):(this.loopEnabled=!0,$g(this.$t("Loop is now enabled")))},toggleShuffle:function(){this.shuffleEnabled?(this.shuffleEnabled=!1,$g(this.$t("Shuffle is now disabled"))):(this.shuffleEnabled=!0,$g(this.$t("Shuffle is now enabled")),this.shufflePlaylistItems())},toggleReversePlaylist:function(){this.isLoading=!0,$g(this.$t("The playlist has been reversed")),this.reversePlaylist=!this.reversePlaylist,this.playlistItems=this.playlistItems.reverse(),setTimeout((()=>{this.isLoading=!1}),1)},playNextVideo:function(){const e={playlistId:this.playlistId};if(this.shuffleEnabled){const t=this.randomizedPlaylistItems.findIndex((e=>e===this.videoId));t===this.randomizedPlaylistItems.length-1?this.loopEnabled?(this.$router.push({path:`/watch/${this.randomizedPlaylistItems[0]}`,query:e}),$g(this.$t("Playing Next Video")),this.shufflePlaylistItems()):$g(this.$t("The playlist has ended.  Enable loop to continue playing")):(this.$router.push({path:`/watch/${this.randomizedPlaylistItems[t+1]}`,query:e}),$g(this.$t("Playing Next Video")))}else{const t=this.playlistItems.findIndex((e=>(e.id??e.videoId)===this.videoId));t===this.playlistItems.length-1?(this.loopEnabled&&(this.$router.push({path:`/watch/${this.playlistItems[0].id??this.playlistItems[0].videoId}`,query:e}),$g(this.$t("Playing Next Video"))),$g(this.$t("The playlist has ended.  Enable loop to continue playing"))):(this.$router.push({path:`/watch/${this.playlistItems[t+1].id??this.playlistItems[t+1].videoId}`,query:e}),$g(this.$t("Playing Next Video")))}},playPreviousVideo:function(){$g("Playing previous video");const e={playlistId:this.playlistId};if(this.shuffleEnabled){const t=this.randomizedPlaylistItems.findIndex((e=>e===this.videoId));0===t?this.$router.push({path:`/watch/${this.randomizedPlaylistItems[this.randomizedPlaylistItems.length-1]}`,query:e}):this.$router.push({path:`/watch/${this.randomizedPlaylistItems[t-1]}`,query:e})}else{const t=this.playlistItems.findIndex((e=>(e.id??e.videoId)===this.videoId));0===t?this.$router.push({path:`/watch/${this.playlistItems[this.randomizedPlaylistItems.length-1].id??this.playlistItems[this.randomizedPlaylistItems.length-1].videoId}`,query:e}):this.$router.push({path:`/watch/${this.playlistItems[t-1].id??this.playlistItems[t-1].videoId}`,query:e})}},loadCachedPlaylistInformation:async function(e){this.isLoading=!0,this.setCachedPlaylist(null),this.playlistTitle=e.title,this.channelName=e.channelName,this.channelId=e.channelId,this.playlistItems=e.items,this.isLoading=!1},getPlaylistInformationLocal:async function(){this.isLoading=!0;try{let e=await Mp(this.playlistId);this.playlistTitle=e.info.title,this.channelName=e.info.author?.name,this.channelId=e.info.author?.id;const t=e.items.map(Hp);for(;e.has_continuation;){e=await e.getContinuation();const n=e.items.map(Hp);t.push(...n)}this.playlistItems=t,this.isLoading=!1}catch(e){console.error(e),$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)})),"local"===this.backendPreference&&this.backendFallback?($g(this.$t("Falling back to Invidious API")),this.getPlaylistInformationInvidious()):this.isLoading=!1}},getPlaylistInformationInvidious:function(){this.isLoading=!0,ap({playlistId:this.playlistId}).then((e=>{this.playlistTitle=e.title,this.channelName=e.author,this.channelId=e.authorId,this.playlistItems=this.playlistItems.concat(e.videos),this.isLoading=!1})).catch((e=>{console.error(e),$g(`${this.$t("Invidious API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)})),this.isLoading=!1}))},shufflePlaylistItems:function(){const e=[].concat(this.playlistItems),t=[];t.push(this.videoId),this.playlistItems.forEach((n=>{const i=Math.floor(Math.random()*e.length);(e[i].id??e[i].videoId)!==this.videoId&&t.push(e[i].id??e[i].videoId),e.splice(i,1)})),this.randomizedPlaylistItems=t},...Zo(["setCachedPlaylist"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-card",{staticClass:"relative"},[e.isLoading?t("ft-loader"):t("div",[t("h3",[t("router-link",{staticClass:"playlistTitle",attrs:{to:`/playlist/${e.playlistId}`}},[e._v("\n        "+e._s(e.playlistTitle)+"\n      ")])],1),e._v(" "),t("router-link",{staticClass:"channelName",attrs:{to:`/channel/${e.channelId}`}},[e._v("\n      "+e._s(e.channelName)+"\n    ")]),e._v(" "),t("span",{staticClass:"playlistIndex"},[e._v("\n      - "+e._s(e.currentVideoIndex)+" / "+e._s(e.playlistVideoCount)+"\n      "),e.shuffleEnabled||e.reversePlaylist?e._e():t("progress",{staticClass:"playlistProgressBar",attrs:{max:e.playlistVideoCount},domProps:{value:e.currentVideoIndex}})]),e._v(" "),t("p",[t("font-awesome-icon",{staticClass:"playlistIcon",class:{playlistIconActive:e.loopEnabled},attrs:{icon:["fas","retweet"],title:e.$t("Video.Loop Playlist"),role:"button",tabindex:"0"},on:{click:e.toggleLoop,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.toggleLoop.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.toggleLoop.apply(null,arguments))}]}}),e._v(" "),t("font-awesome-icon",{staticClass:"playlistIcon",class:{playlistIconActive:e.shuffleEnabled},attrs:{icon:["fas","random"],title:e.$t("Video.Shuffle Playlist"),role:"button",tabindex:"0"},on:{click:e.toggleShuffle,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.toggleShuffle.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.toggleShuffle.apply(null,arguments))}]}}),e._v(" "),t("font-awesome-icon",{staticClass:"playlistIcon",class:{playlistIconActive:e.reversePlaylist},attrs:{icon:["fas","exchange-alt"],title:e.$t("Video.Reverse Playlist"),role:"button",tabindex:"0"},on:{click:e.toggleReversePlaylist,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.toggleReversePlaylist.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.toggleReversePlaylist.apply(null,arguments))}]}}),e._v(" "),t("font-awesome-icon",{staticClass:"playlistIcon",attrs:{icon:["fas","step-backward"],title:e.$t("Video.Play Previous Video"),role:"button",tabindex:"0"},on:{click:e.playPreviousVideo,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.playPreviousVideo.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.playPreviousVideo.apply(null,arguments))}]}}),e._v(" "),t("font-awesome-icon",{staticClass:"playlistIcon",attrs:{icon:["fas","step-forward"],title:e.$t("Video.Play Next Video"),role:"button",tabindex:"0"},on:{click:e.playNextVideo,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.playNextVideo.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.playNextVideo.apply(null,arguments))}]}})],1),e._v(" "),e.isLoading?e._e():t("div",{staticClass:"playlistItems"},e._l(e.playlistItems,(function(n,i){return t("div",{key:i,staticClass:"playlistItem"},[t("div",{staticClass:"videoIndexContainer"},[e.currentVideoIndex===i+1?t("font-awesome-icon",{staticClass:"videoIndexIcon",attrs:{icon:["fas","play"]}}):t("p",{staticClass:"videoIndex"},[e._v("\n            "+e._s(i+1)+"\n          ")])],1),e._v(" "),t("ft-list-video-lazy",{attrs:{data:n,"playlist-id":e.playlistId,"playlist-index":e.reversePlaylist?e.playlistItems.length-i-1:i,"playlist-reverse":e.reversePlaylist,"playlist-shuffle":e.shuffleEnabled,"playlist-loop":e.loopEnabled,appearance:"watchPlaylistItem","force-list-type":"list"},on:{"pause-player":function(t){return e.$emit("pause-player")}}})],1)})),0)],1)],1)}),[],!1,null,"383c67b5",null);const xg=Cg.exports;var Eg=_l({name:"WatchVideoRecommendations",components:{"ft-card":Il,"ft-list-video-lazy":Dm,"ft-toggle-switch":Jp},props:{data:{type:Array,required:!0},showAutoplay:{type:Boolean,default:!1}},computed:{listType:function(){return this.$store.getters.getListType},playNextVideo:function(){return this.$store.getters.getPlayNextVideo},hideRecommendedVideos:function(){return this.$store.getters.getHideRecommendedVideos}},methods:{...el(["updatePlayNextVideo"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,e.hideRecommendedVideos?e._e():t("ft-card",{staticClass:"relative watchVideoRecommendations"},[t("div",{staticClass:"VideoRecommendationsTopBar"},[t("h3",[e._v("\n      "+e._s(e.$t("Up Next"))+"\n    ")]),e._v(" "),e.showAutoplay?t("ft-toggle-switch",{staticClass:"autoPlayToggle",attrs:{label:e.$t("Video.Autoplay"),compact:!0,"default-value":e.playNextVideo},on:{change:e.updatePlayNextVideo}}):e._e()],1),e._v(" "),e._l(e.data,(function(e,n){return t("ft-list-video-lazy",{key:n,attrs:{data:e,appearance:"recommendation","force-list-type":"list"}})}))],2)}),[],!1,null,"59bab3d5",null);const Pg=Eg.exports;var Ig=n(4155);const Ag={name:"Watch",components:{"ft-loader":Lh,"ft-video-player":cg,"watch-video-info":hg,"watch-video-chapters":pg,"watch-video-description":gg,"watch-video-comments":wg,"watch-video-live-chat":Tg,"watch-video-playlist":xg,"watch-video-recommendations":Pg,"ft-age-restricted":Bm},beforeRouteLeave:function(e,t,n){this.handleRouteChange(this.videoId),window.removeEventListener("beforeunload",this.handleWatchProgress),n()},data:function(){return{isLoading:!0,firstLoad:!0,useTheatreMode:!1,showDashPlayer:!0,showLegacyPlayer:!1,showYouTubeNoCookieEmbed:!1,hidePlayer:!1,isFamilyFriendly:!1,isLive:!1,liveChat:null,isLiveContent:!1,isUpcoming:!1,upcomingTimestamp:null,upcomingTimeLeft:null,activeFormat:"legacy",thumbnail:"",videoId:"",videoTitle:"",videoDescription:"",videoDescriptionHtml:"",videoViewCount:0,videoLikeCount:0,videoDislikeCount:0,videoLengthSeconds:0,videoChapters:[],videoCurrentChapterIndex:0,channelName:"",channelThumbnail:"",channelId:"",channelSubscriptionCountText:"",videoPublished:0,videoStoryboardSrc:"",audioUrl:"",dashSrc:[],activeSourceList:[],videoSourceList:[],audioSourceList:[],adaptiveFormats:[],captionHybridList:[],recommendedVideos:[],downloadLinks:[],watchingPlaylist:!1,playlistId:"",timestamp:null,playNextTimeout:null,playNextCountDownIntervalId:null,pictureInPictureButtonInverval:null,infoAreaSticky:!0}},computed:{historyCache:function(){return this.$store.getters.getHistoryCache},rememberHistory:function(){return this.$store.getters.getRememberHistory},removeVideoMetaFiles:function(){return this.$store.getters.getRemoveVideoMetaFiles},saveWatchedProgress:function(){return this.$store.getters.getSaveWatchedProgress},backendPreference:function(){return this.$store.getters.getBackendPreference},backendFallback:function(){return this.$store.getters.getBackendFallback},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},proxyVideos:function(){return this.$store.getters.getProxyVideos},defaultInterval:function(){return this.$store.getters.getDefaultInterval},defaultTheatreMode:function(){return this.$store.getters.getDefaultTheatreMode},defaultVideoFormat:function(){return this.$store.getters.getDefaultVideoFormat},forceLocalBackendForLegacy:function(){return this.$store.getters.getForceLocalBackendForLegacy},thumbnailPreference:function(){return this.$store.getters.getThumbnailPreference},playNextVideo:function(){return this.$store.getters.getPlayNextVideo},autoplayPlaylists:function(){return this.$store.getters.getAutoplayPlaylists},hideRecommendedVideos:function(){return this.$store.getters.getHideRecommendedVideos},hideLiveChat:function(){return this.$store.getters.getHideLiveChat},hideComments:function(){return this.$store.getters.getHideComments},hideVideoDescription:function(){return this.$store.getters.getHideVideoDescription},showFamilyFriendlyOnly:function(){return this.$store.getters.getShowFamilyFriendlyOnly},hideChannelSubscriptions:function(){return this.$store.getters.getHideChannelSubscriptions},hideVideoLikesAndDislikes:function(){return this.$store.getters.getHideVideoLikesAndDislikes},theatrePossible:function(){return!this.hideRecommendedVideos||!this.hideLiveChat&&this.isLive||this.watchingPlaylist},currentLocale:function(){return this.$i18n.locale.replace("_","-")},hideChapters:function(){return this.$store.getters.getHideChapters}},watch:{$route(){switch(this.handleRouteChange(this.videoId),this.videoId=this.$route.params.id,this.firstLoad=!0,this.activeFormat=this.defaultVideoFormat,this.videoStoryboardSrc="",this.captionHybridList=[],this.downloadLinks=[],this.checkIfPlaylist(),this.checkIfTimestamp(),this.backendPreference){case"local":this.getVideoInformationLocal(this.videoId);break;case"invidious":this.getVideoInformationInvidious(this.videoId),this.forceLocalBackendForLegacy&&this.getVideoInformationLocal(this.videoId)}},activeFormat:function(e){clearInterval(this.pictureInPictureButtonInverval),this.pictureInPictureButtonInverval=setInterval((()=>{if(!this.hidePlayer){const t=document.querySelector(".vjs-picture-in-picture-control");if(null===t)return;"audio"===e?t.classList.add("vjs-hidden"):t.classList.remove("vjs-hidden"),clearInterval(this.pictureInPictureButtonInverval)}}),100)}},mounted:function(){this.videoId=this.$route.params.id,this.activeFormat=this.defaultVideoFormat,this.useTheatreMode=this.defaultTheatreMode,this.checkIfPlaylist(),this.checkIfTimestamp(),this.getVideoInformationInvidious(),window.addEventListener("beforeunload",this.handleWatchProgress)},methods:{changeTimestamp:function(e){this.$refs.videoPlayer.player.currentTime(e)},toggleTheatreMode:function(){this.useTheatreMode=!this.useTheatreMode},getVideoInformationLocal:async function(){this.firstLoad&&(this.isLoading=!0);try{let e=await Up(this.videoId);if(this.isFamilyFriendly=e.basic_info.is_family_safe,this.recommendedVideos=e.watch_next_feed?.filter((e=>"CompactVideo"===e.type)).map(zp)??[],this.showFamilyFriendlyOnly&&!this.isFamilyFriendly)return this.isLoading=!1,void this.handleVideoEnded();let t=e.playability_status,n=null;if("LOGIN_REQUIRED"===t.status&&(n=await Up(this.videoId,!0),t=e.playability_status),"UNPLAYABLE"===t.status){const e=t.error_screen;throw new Error(`[${t.status}] ${e.reason.text}: ${e.subreason.text}`)}if(this.videoTitle=e.primary_info?.title.text??e.basic_info.title,this.videoViewCount=e.basic_info.view_count,this.channelId=e.basic_info.channel_id,this.channelName=e.basic_info.author,e.secondary_info.owner?.author?this.channelThumbnail=e.secondary_info.owner.author.best_thumbnail?.url??"":this.channelThumbnail="",this.updateSubscriptionDetails({channelThumbnailUrl:0===this.channelThumbnail.length?null:this.channelThumbnail,channelName:this.channelName,channelId:this.channelId}),this.videoPublished=new Date(e.page[0].microformat.publish_date.replace("-","/")).getTime(),e.secondary_info?.description.runs)try{this.videoDescription=Wp(e.secondary_info.description.runs)}catch(t){console.error("Failed to extract the localised description, falling back to the standard one.",t,JSON.stringify(e.secondary_info.description.runs)),this.videoDescription=e.basic_info.short_description}else this.videoDescription=e.basic_info.short_description;switch(this.thumbnailPreference){case"start":this.thumbnail=`https://i.ytimg.com/vi/${this.videoId}/maxres1.jpg`;break;case"middle":this.thumbnail=`https://i.ytimg.com/vi/${this.videoId}/maxres2.jpg`;break;case"end":this.thumbnail=`https://i.ytimg.com/vi/${this.videoId}/maxres3.jpg`;break;default:this.thumbnail=e.basic_info.thumbnail[0].url}if(this.hideVideoLikesAndDislikes?(this.videoLikeCount=null,this.videoDislikeCount=null):(this.videoLikeCount=isNaN(e.basic_info.like_count)?0:e.basic_info.like_count,this.videoDislikeCount=0),this.isLive=!!e.basic_info.is_live,this.isUpcoming=!!e.basic_info.is_upcoming,this.isLiveContent=!!e.basic_info.is_live_content,this.hideChannelSubscriptions)this.channelSubscriptionCountText="";else{const t=e.secondary_info.owner.subscriber_count.text,n=t.replace(",",".").toUpperCase().match(/([\d.]+)\s*([KM]?)/);let i;n?(i=parseFloat(n[1]),"K"===n[2]?i*=1e3:"M"===n[2]&&(i*=1e6),i=Math.trunc(i)):i=Qg(t),isNaN(i)?this.channelSubscriptionCountText="":this.channelSubscriptionCountText=i>=1e4?Jg(i,{notation:"compact"}):Jg(i)}const i=[];if(!this.hideChapters){const t=e.player_overlays?.decorated_player_bar?.player_bar?.markers_map?.get({marker_key:"DESCRIPTION_CHAPTERS"})?.value.chapters;if(t){for(const e of t){const t=e.time_range_start_millis/1e3;i.push({title:e.title.text,timestamp:Gg(t),startSeconds:t,endSeconds:0,thumbnail:e.thumbnail[0].url})}this.addChaptersEndSeconds(i,e.basic_info.duration),i.forEach(Object.freeze)}}if(this.videoChapters=i,!this.hideLiveChat&&this.isLive&&this.isLiveContent&&e.livechat?this.liveChat=e.getLiveChat():this.liveChat=null,n&&(e=n),this.isLive&&this.isLiveContent&&!this.isUpcoming){try{const t=await async function(e){const t=await fetch(e),n=(await t.text()).split("\n").filter((e=>e)),i=[];let r=0;for(const e of n)if(e.startsWith("#")){if(!e.startsWith("#EXT-X-STREAM-INF:"))continue;const t=e.split(",").find((e=>e.startsWith("RESOLUTION"))).split("x")[1];r=parseInt(t)}else i.push({height:r,url:e.trim()});return i}(e.streaming_data.hls_manifest_url);this.videoSourceList=t.sort(((e,t)=>t.height-e.height)).map((e=>({url:e.url,type:"application/x-mpegURL",label:"Dash",qualityLabel:`${e.height}p`})))}catch(t){console.error("Failed to extract formats form HLS manifest, falling back to passing it directly to video.js",t),this.videoSourceList=[{url:e.streaming_data.hls_manifest_url,type:"application/x-mpegURL",label:"Dash",qualityLabel:"Live"}]}this.showLegacyPlayer=!0,this.showDashPlayer=!1,this.activeFormat="legacy",this.activeSourceList=this.videoSourceList}else if(this.isUpcoming){const t=e.basic_info.start_timestamp;if(t){const e={month:"long",day:"numeric",hour:"numeric",minute:"2-digit"},n=new Date;n.getFullYear()<t.getFullYear()&&Object.defineProperty(e,"year",{value:"numeric"}),this.upcomingTimestamp=Intl.DateTimeFormat(this.currentLocale,e).format(t);let i=t-n;i=i/1e3/60;let r="minute";i>120&&(i/=60,r="hour"),"hour"===r&&i>24&&(i/=24,r="day"),i=Math.floor(i),this.upcomingTimeLeft=i<1?this.$t("Video.Published.In less than a minute").toLowerCase():new Intl.RelativeTimeFormat(this.currentLocale).format(i,r)}else this.upcomingTimestamp=null,this.upcomingTimeLeft=null}else{if(this.videoLengthSeconds=e.basic_info.duration,!e.streaming_data)return $g(this.$t("This video is unavailable because of missing formats. This can happen due to country unavailability."),7e3),void this.handleVideoEnded();{e.streaming_data.formats.length>0?this.videoSourceList=e.streaming_data.formats.map(Gp).reverse():this.videoSourceList=e.streaming_data.adaptive_formats.map(Gp).reverse(),this.adaptiveFormats=this.videoSourceList;const t=[...e.streaming_data.formats,...e.streaming_data.adaptive_formats];if(this.downloadLinks=t.map((e=>{let t=`${e.quality_label??e.bitrate} ${e.fps?`${e.fps}fps`:"kbps"} - ${e.mime_type.match(/.*;/)[0].replace(";","")}`;return e.has_audio!==e.has_video&&(e.has_video?t+=` ${this.$t("Video.video only")}`:t+=` ${this.$t("Video.audio only")}`),{url:e.url,label:t}})),e.captions){const t=e.captions.caption_tracks.map((e=>({url:e.base_url,label:e.name.text,language_code:e.language_code,kind:e.kind})));if(this.currentLocale){const e=!t.some((e=>e.language_code===this.currentLocale&&"asr"!==e.kind));!this.currentLocale.startsWith("en")&&e&&t.forEach((e=>{this.tryAddingTranslatedLocaleCaption(t,this.currentLocale,e.url)}))}this.captionHybridList=this.createCaptionPromiseList(t);const n=t.map((e=>{const t=`${e.label} (${e.language_code}) - text/vtt`;return{url:e.url,label:t}}));this.downloadLinks=this.downloadLinks.concat(n)}}e.streaming_data?.adaptive_formats.length>0?(this.adaptiveFormats=e.streaming_data.adaptive_formats.map(Gp),this.proxyVideos?this.dashSrc=await this.createInvidiousDashManifest():this.dashSrc=await this.createLocalDashManifest(e),this.audioSourceList=e.streaming_data.adaptive_formats.filter((e=>e.has_audio)).sort(((e,t)=>e.bitrate-t.bitrate)).map(((e,t)=>({url:e.url,type:e.mime_type,label:"Audio",qualityLabel:(t=>{switch(t){case 0:return this.$t("Video.Audio.Low");case 1:return this.$t("Video.Audio.Medium");case 2:return this.$t("Video.Audio.High");case 3:return this.$t("Video.Audio.Best");default:return e.bitrate}})(t)}))).reverse(),"audio"===this.activeFormat?this.activeSourceList=this.audioSourceList:this.activeSourceList=this.videoSourceList):(this.activeSourceList=this.videoSourceList,this.audioSourceList=null,this.dashSrc=null,this.enableLegacyFormat()),"PlayerStoryboardSpec"===e.storyboards?.type&&await this.createLocalStoryboardUrls(e.storyboards.boards[2])}this.isLoading=!1,this.updateTitle()}catch(e){$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)})),console.error(e),"local"===this.backendPreference&&this.backendFallback&&!e.toString().includes("private")?($g(this.$t("Falling back to Invidious API")),this.getVideoInformationInvidious()):this.isLoading=!1}},getVideoInformationInvidious:function(){this.firstLoad&&(this.isLoading=!0),this.dashSrc=this.createInvidiousDashManifest(),this.videoStoryboardSrc=`${this.currentInvidiousInstance}/api/v1/storyboards/${this.videoId}?height=90`,async function(e){return await ip({resource:"videos",id:e})}(this.videoId).then((e=>{if(Ig.env.IS_CORDOVA){try{dd().destroy()}catch(e){console.error(e)}dd().create({track:e.title,artist:e.author,cover:e.videoThumbnails[e.videoThumbnails.length-4].url});const t=[];dd().subscribe((e=>{const{player:n}=this.$refs.videoPlayer;if(0===t.length&&t.push(n.el().querySelector("video").addEventListener("pause",(()=>{dd().updateIsPlaying(!1)})),n.el().querySelector("video").addEventListener("play",(()=>{dd().updateIsPlaying(!0)}))),"music-controls-play"===JSON.parse(e).message||"music-controls-pause"===JSON.parse(e).message)n.paused()?n.play():n.pause();else switch(JSON.parse(e).message){case"music-controls-next":if(this.watchingPlaylist)this.$refs.watchVideoPlaylist.playNextVideo();else{const e=this.recommendedVideos[0].videoId;this.$router.push({path:`/watch/${e}`}),$g(this.$t("Playing Next Video"))}break;case"music-controls-previous":history.back()}dd().updateIsPlaying(!n.paused())})),dd().listen()}if(e.error)throw new Error(e.error);this.videoTitle=e.title,this.videoViewCount=e.viewCount,this.hideVideoLikesAndDislikes?(this.videoLikeCount=null,this.videoDislikeCount=null):(this.videoLikeCount=e.likeCount,this.videoDislikeCount=e.dislikeCount),this.hideChannelSubscriptions?this.channelSubscriptionCountText="":this.channelSubscriptionCountText=e.subCountText||"FT-0",this.channelId=e.authorId,this.channelName=e.author;const t=e.authorThumbnails[1];switch(this.channelThumbnail=t?sp(t.url,this.currentInvidiousInstance):"",this.updateSubscriptionDetails({channelThumbnailUrl:t?.url,channelName:e.author,channelId:e.authorId}),this.videoPublished=1e3*e.published,this.videoDescriptionHtml=e.descriptionHtml,this.recommendedVideos=e.recommendedVideos,this.adaptiveFormats=e.adaptiveFormats.map((e=>(e.bitrate=parseInt(e.bitrate),void 0!==e.resolution&&(e.height=parseInt(e.resolution.replace("p",""))),e))),this.isLive=e.liveNow,this.isFamilyFriendly=e.isFamilyFriendly,this.captionHybridList=e.captions.map((e=>(e.url=this.currentInvidiousInstance+e.url,e.type="",e.dataSource="invidious",e))),this.thumbnailPreference){case"start":this.thumbnail=`${this.currentInvidiousInstance}/vi/${this.videoId}/maxres1.jpg`;break;case"middle":this.thumbnail=`${this.currentInvidiousInstance}/vi/${this.videoId}/maxres2.jpg`;break;case"end":this.thumbnail=`${this.currentInvidiousInstance}/vi/${this.videoId}/maxres3.jpg`;break;default:this.thumbnail=e.videoThumbnails[0].url}const n=[];if(!this.hideChapters){const t=e.description.matchAll(/^(?<timestamp>((?<hours>\d+):)?(?<minutes>\d+):(?<seconds>\d+))(\s*[-]\s*(?:\d+:){1,2}\d+)?\s+([-]\s*)?(?<title>.+)$/gm);for(const{groups:e}of t){let t=60*Number(e.minutes)+Number(e.seconds);e.hours&&(t+=3600*Number(e.hours)),n.length>0&&n[n.length-1].startSeconds===t&&n.pop(),n.push({title:e.title.trim(),timestamp:e.timestamp,startSeconds:t,endSeconds:0})}n.length>0&&(this.addChaptersEndSeconds(n,e.lengthSeconds),n.forEach(Object.freeze))}this.videoChapters=n,this.isLive?(this.showLegacyPlayer=!0,this.showDashPlayer=!1,this.activeFormat="legacy",this.videoSourceList=[{url:e.hlsUrl,type:"application/x-mpegURL",label:"Dash",qualityLabel:"Live"}],this.activeSourceList=this.videoSourceList):this.forceLocalBackendForLegacy?this.getLegacyFormats():(this.videoLengthSeconds=e.lengthSeconds,this.videoSourceList=e.formatStreams.reverse(),this.downloadLinks=e.adaptiveFormats.concat(this.videoSourceList).map((e=>{const t=e.qualityLabel||e.bitrate,n=parseInt(e.itag),i=e.fps?e.fps+"fps":"kbps",r=e.type.match(/.*;/)[0].replace(";","");let a=`${t} ${i} - ${r}`;return 18!==n&&22!==n&&(r.includes("video")?a+=` ${this.$t("Video.video only")}`:a+=` ${this.$t("Video.audio only")}`),{url:e.url,label:a}})).reverse().concat(e.captions.map((e=>{const t=`${e.label} (${e.languageCode}) - text/vtt`;return{url:e.url,label:t}}))),this.audioSourceList=e.adaptiveFormats.filter((e=>e.type.includes("audio"))).map((e=>({url:e.url,type:e.type,label:"Audio",qualityLabel:parseInt(e.bitrate)}))).sort(((e,t)=>e.qualityLabel-t.qualityLabel)),"audio"===this.activeFormat?this.activeSourceList=this.audioSourceList:this.activeSourceList=this.videoSourceList),this.updateTitle(),this.isLoading=!1})).catch((e=>{console.error(e),$g(`${this.$t("Invidious API Error (Click to copy)")}: ${e.responseText}`,1e4,(()=>{Bg(e.responseText)})),console.error(e),this.isLoading=!1}))},addChaptersEndSeconds:function(e,t){for(let t=0;t<e.length-1;t++)e[t].endSeconds=e[t+1].startSeconds;e.at(-1).endSeconds=t},updateCurrentChapter:function(){const e=this.videoChapters,t=this.getTimestamp(),n=e[this.videoCurrentChapterIndex].startSeconds;if(t!==n){let i=t<n?0:this.videoCurrentChapterIndex;for(;i<e.length;i++)if(t<e[i].endSeconds){this.videoCurrentChapterIndex=i;break}}},addToHistory:function(e){const t={videoId:this.videoId,title:this.videoTitle,author:this.channelName,authorId:this.channelId,published:this.videoPublished,description:this.videoDescription,viewCount:this.videoViewCount,lengthSeconds:this.videoLengthSeconds,watchProgress:e,timeWatched:(new Date).getTime(),isLive:!1,paid:!1,type:"video"};this.updateHistory(t)},handleWatchProgress:function(){if(this.rememberHistory&&!this.isUpcoming&&!this.isLoading&&!this.isLive&&null!==this.$refs.videoPlayer.player&&this.saveWatchedProgress){const e=this.getWatchedProgress(),t={videoId:this.videoId,watchProgress:e};this.updateWatchProgress(t)}},checkIfWatched:function(){const e=this.historyCache.findIndex((e=>e.videoId===this.videoId));if(!this.isLive)if(this.timestamp)this.timestamp<0?this.$refs.videoPlayer.player.currentTime(0):this.timestamp>this.videoLengthSeconds-10?this.$refs.videoPlayer.player.currentTime(this.videoLengthSeconds-10):this.$refs.videoPlayer.player.currentTime(this.timestamp);else if(-1!==e){const t=this.historyCache[e].watchProgress;t<this.videoLengthSeconds-10&&this.$refs.videoPlayer.player.currentTime(t)}this.rememberHistory&&(this.timestamp?this.addToHistory(this.timestamp):-1!==e?this.addToHistory(this.historyCache[e].watchProgress):this.addToHistory(0))},checkIfPlaylist:function(){void 0!==this.$route.query?(this.playlistId=this.$route.query.playlistId,void 0!==this.playlistId?this.watchingPlaylist=!0:this.watchingPlaylist=!1):this.watchingPlaylist=!1},checkIfTimestamp:function(){if(void 0!==this.$route.query)try{this.timestamp=parseInt(this.$route.query.timestamp)}catch{this.timestamp=null}},getLegacyFormats:function(){Up(this.videoId).then((e=>{this.videoSourceList=e.streaming_data.formats.map(Gp)})).catch((e=>{$g(`${this.$t("Local API Error (Click to copy)")}: ${e}`,1e4,(()=>{Bg(e)})),console.error(e),$g(this.$t("Falling back to Invidious API")),this.getVideoInformationInvidious()}))},enableDashFormat:function(){if("dash"===this.activeFormat||this.isLive)return;if(null===this.dashSrc)return void $g(this.$t("Change Format.Dash formats are not available for this video"));const e=this.getWatchedProgress();this.activeFormat="dash",this.hidePlayer=!0,setTimeout((()=>{this.hidePlayer=!1,setTimeout((()=>{const t=this.$refs.videoPlayer.player;null!==t&&t.currentTime(e)}),500)}),100)},enableLegacyFormat:function(){if("legacy"===this.activeFormat)return;const e=this.getWatchedProgress();this.activeFormat="legacy",this.activeSourceList=this.videoSourceList,this.hidePlayer=!0,setTimeout((()=>{this.hidePlayer=!1,setTimeout((()=>{const t=this.$refs.videoPlayer.player;null!==t&&t.currentTime(e)}),500)}),100)},enableAudioFormat:function(){if("audio"===this.activeFormat)return;if(null===this.audioSourceList)return void $g(this.$t("Change Format.Audio formats are not available for this video"));const e=this.getWatchedProgress();this.activeFormat="audio",this.activeSourceList=this.audioSourceList,this.hidePlayer=!0,setTimeout((()=>{this.hidePlayer=!1,setTimeout((()=>{const t=this.$refs.videoPlayer.player;null!==t&&t.currentTime(e)}),500)}),100)},handleVideoEnded:function(){if(!(this.watchingPlaylist&&this.autoplayPlaylists||this.playNextVideo))return;const e=this.defaultInterval;this.playNextTimeout=setTimeout((()=>{const e=this.$refs.videoPlayer.player;if(null!==e&&e.paused())if(this.watchingPlaylist)this.$refs.watchVideoPlaylist.playNextVideo();else{const e=this.recommendedVideos[0].videoId;this.$router.push({path:`/watch/${e}`}),$g(this.$t("Playing Next Video"))}}),1e3*e);let t=e;const n=()=>{t<=0?clearInterval(this.playNextCountDownIntervalId):($g(this.$tc("Playing Next Video Interval",t,{nextVideoInterval:t}),700,(()=>{clearTimeout(this.playNextTimeout),clearInterval(this.playNextCountDownIntervalId),$g(this.$t("Canceled next video autoplay"))})),t-=1)};n(),this.playNextCountDownIntervalId=setInterval(n,1e3)},handleRouteChange:async function(e){if(clearTimeout(this.playNextTimeout),clearInterval(this.playNextCountDownIntervalId),this.videoChapters=[],this.handleWatchProgress(),!this.isUpcoming&&!this.isLoading){const t=this.$refs.videoPlayer.player;null!==t&&!t.paused()&&t.isInPictureInPicture()&&setTimeout((()=>{t.play(),t.on("leavepictureinpicture",(n=>{const i=t.currentTime();this.$route.fullPath.includes("/watch")&&this.$route.params.id===e&&(this.$refs.videoPlayer.$refs.video.currentTime=i),t.pause(),t.dispose()}))}),200)}},handleVideoError:function(e){console.error(e),this.isLive||4===e.code&&("dash"===this.activeFormat?(console.warn("Unable to play dash formats.  Reverting to legacy formats..."),this.enableLegacyFormat()):this.enableDashFormat())},createLocalDashManifest:async function(e){const t=e.toDash(),n=await Yg();let i,r;return i=`${n}/dashFiles/${this.videoId}.xml`,r=`file://${i}`,await Wh(`${n}/dashFiles/`)||await zh().mkdir(`${n}/dashFiles/`),await zh().writeFile(i,t),[{url:r,type:"application/dash+xml",label:"Dash",qualityLabel:"Auto"}]},createInvidiousDashManifest:function(){let e=`${this.currentInvidiousInstance}/api/manifest/dash/id/${this.videoId}`;return e+="?local=true",[{url:e,type:"application/dash+xml",label:"Dash",qualityLabel:"Auto"}]},createLocalStoryboardUrls:async function(e){const t=function(e){let t="WEBVTT\n\n";const n=e.columns*e.rows,i=Math.ceil(e.thumbnail_count/n),r=e.interval/1e3;let a=0,s=0,o=0,l=0,c=0,u=r;for(let h=0;h<i;h++){const i=e.template_url.replace("$M.jpg",`${h}.jpg`);let d=0,f=0;for(let h=0;h<n;h++)t+=`${a.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}.000 --\x3e ${l.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}.000\n`,t+=`${i}#xywh=${d},${f},${e.thumbnail_width},${e.thumbnail_height}\n\n`,a=l,s=c,o=u,u+=r,u>=60&&(u-=60,c+=1),c>=60&&(c-=60,l+=1),d=(d+e.thumbnail_width)%(e.thumbnail_width*e.columns),0===d&&(f+=e.thumbnail_height)}return t}(e),n=await Yg();let i,r;await Wh(`${n}/storyboards/`)||await zh().mkdir(`${n}/storyboards/`),i=`${n}/storyboards/${this.videoId}.vtt`,r=`file://${i}`,await zh().writeFile(i,t),this.videoStoryboardSrc=r},tryAddingTranslatedLocaleCaption:function(e,t,n){const i=e.findIndex((e=>"en"===e.language_code&&"asr"!==e.kind)),r=-1!==i,a=e.some((e=>"asr"===e.kind));if(r||a){let a,s;if(a=this.$te("Video.translated from English")&&""!==this.$t("Video.translated from English")?`${this.$t("Locale Name")} (${this.$t("Video.translated from English")})`:`${this.$t("Locale Name")} (translated from English)`,-1!==e.findIndex((e=>e.label===a)))return;r?s=new URL(e[i].url):(s=new URL(n),s.searchParams.set("lang","en"),s.searchParams.set("kind","asr")),s.searchParams.set("tlang",t),e.unshift({url:s.toString(),label:a,languageCode:t})}},createCaptionPromiseList:function(e){return e.map((e=>new Promise(((t,n)=>{e.type="text/vtt",e.charset="charset=utf-8",e.dataSource="local";const i=new URL(e.url);i.searchParams.set("fmt","vtt"),fetch(i).then((e=>e.text())).then((n=>{let i=n.replaceAll("#","%23");i="asr"===e.kind?i.replaceAll(/ align:start| position:\d{1,3}%/g,""):i.replaceAll(/ position:\d{1,3}%/g,""),e.url=`data:${e.type};${e.charset},${i}`,t(e)})).catch((e=>{console.error(e),n(e)}))}))))},pausePlayer:function(){const e=this.$refs.videoPlayer.player;e&&!e.paused()&&e.pause()},getWatchedProgress:function(){return this.$refs.videoPlayer&&this.$refs.videoPlayer.player?this.$refs.videoPlayer.player.currentTime():0},getTimestamp:function(){return Math.floor(this.getWatchedProgress())},getPlaylistIndex:function(){return this.$refs.watchVideoPlaylist?this.getPlaylistReverse()?this.$refs.watchVideoPlaylist.playlistItems.length-this.$refs.watchVideoPlaylist.currentVideoIndex:this.$refs.watchVideoPlaylist.currentVideoIndex-1:-1},getPlaylistReverse:function(){return!!this.$refs.watchVideoPlaylist&&this.$refs.watchVideoPlaylist.reversePlaylist},getPlaylistShuffle:function(){return!!this.$refs.watchVideoPlaylist&&this.$refs.watchVideoPlaylist.shuffleEnabled},getPlaylistLoop:function(){return!!this.$refs.watchVideoPlaylist&&this.$refs.watchVideoPlaylist.loopEnabled},updateTitle:function(){document.title=`${this.videoTitle} - FreeTube`},...el(["updateHistory","updateWatchProgress","updateSubscriptionDetails"])}},Lg=_l(Ag,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"videoLayout",class:{isLoading:e.isLoading,useTheatreMode:e.useTheatreMode,noSidebar:!e.theatrePossible}},[e.isLoading?t("ft-loader",{attrs:{fullscreen:!0}}):e._e(),e._v(" "),e.isFamilyFriendly||!e.showFamilyFriendlyOnly?t("div",{staticClass:"videoArea"},[t("div",{staticClass:"videoAreaMargin"},[e.isLoading||e.hidePlayer||e.isUpcoming?e._e():t("ft-video-player",e._g({ref:"videoPlayer",staticClass:"videoPlayer",class:{theatrePlayer:e.useTheatreMode},attrs:{"dash-src":e.dashSrc,"source-list":e.activeSourceList,"adaptive-formats":e.adaptiveFormats,"caption-hybrid-list":e.captionHybridList,"storyboard-src":e.videoStoryboardSrc,format:e.activeFormat,thumbnail:e.thumbnail,"video-id":e.videoId,"length-seconds":e.videoLengthSeconds,chapters:e.videoChapters},on:{ready:e.checkIfWatched,ended:e.handleVideoEnded,error:e.handleVideoError,"store-caption-list":function(t){e.captionHybridList=t}}},!e.hideChapters&&e.videoChapters.length>0?{timeupdate:e.updateCurrentChapter}:{})),e._v(" "),!e.isLoading&&e.isUpcoming?t("div",{staticClass:"videoPlayer"},[t("img",{staticClass:"upcomingThumbnail",attrs:{src:e.thumbnail,alt:""}}),e._v(" "),t("div",{staticClass:"premiereDate"},[t("font-awesome-icon",{staticClass:"premiereIcon",attrs:{icon:["fas","satellite-dish"]}}),e._v(" "),null!==e.upcomingTimestamp?t("p",{staticClass:"premiereText"},[t("span",{staticClass:"premiereTextTimeLeft"},[e._v("\n              "+e._s(e.$t("Video.Premieres"))+" "+e._s(e.upcomingTimeLeft)+"\n            ")]),e._v(" "),t("br"),e._v(" "),t("span",{staticClass:"premiereTextTimestamp"},[e._v("\n              "+e._s(e.upcomingTimestamp)+"\n            ")])]):t("p",{staticClass:"premiereText"},[e._v("\n            "+e._s(e.$t("Video.Starting soon, please refresh the page to check again"))+"\n          ")])],1)]):e._e()],1)]):e._e(),e._v(" "),e.isLoading||e.isFamilyFriendly||!e.showFamilyFriendlyOnly?e._e():t("ft-age-restricted",{staticClass:"ageRestricted",attrs:{"content-type-string":"Video"}}),e._v(" "),e.isFamilyFriendly||!e.showFamilyFriendlyOnly?t("div",{ref:"infoArea",staticClass:"infoArea",class:{infoAreaSticky:e.infoAreaSticky}},[e.isLoading?e._e():t("watch-video-info",{staticClass:"watchVideo",class:{theatreWatchVideo:e.useTheatreMode},attrs:{id:e.videoId,title:e.videoTitle,"channel-id":e.channelId,"channel-name":e.channelName,"channel-thumbnail":e.channelThumbnail,published:e.videoPublished,"subscription-count-text":e.channelSubscriptionCountText,"like-count":e.videoLikeCount,"dislike-count":e.videoDislikeCount,"view-count":e.videoViewCount,"get-timestamp":e.getTimestamp,"is-live-content":e.isLiveContent,"is-live":e.isLive,"is-upcoming":e.isUpcoming,"download-links":e.downloadLinks,"playlist-id":e.playlistId,"watching-playlist":e.watchingPlaylist,"get-playlist-index":e.getPlaylistIndex,"get-playlist-reverse":e.getPlaylistReverse,"get-playlist-shuffle":e.getPlaylistShuffle,"get-playlist-loop":e.getPlaylistLoop,"theatre-possible":e.theatrePossible,"length-seconds":e.videoLengthSeconds,"video-thumbnail":e.thumbnail},on:{"pause-player":e.pausePlayer}}),e._v(" "),!e.hideChapters&&!e.isLoading&&e.videoChapters.length>0?t("watch-video-chapters",{staticClass:"watchVideo",class:{theatreWatchVideo:e.useTheatreMode},attrs:{compact:"invidious"===e.backendPreference,chapters:e.videoChapters,"current-chapter-index":e.videoCurrentChapterIndex},on:{"timestamp-event":e.changeTimestamp}}):e._e(),e._v(" "),e.isLoading||e.hideVideoDescription?e._e():t("watch-video-description",{staticClass:"watchVideo",class:{theatreWatchVideo:e.useTheatreMode},attrs:{published:e.videoPublished,description:e.videoDescription,"description-html":e.videoDescriptionHtml},on:{"timestamp-event":e.changeTimestamp}}),e._v(" "),e.isLoading||e.isLive||e.hideComments?e._e():t("watch-video-comments",{staticClass:"watchVideo",class:{theatreWatchVideo:e.useTheatreMode},attrs:{id:e.videoId,"channel-thumbnail":e.channelThumbnail,"channel-name":e.channelName},on:{"timestamp-event":e.changeTimestamp}})],1):e._e(),e._v(" "),e.isFamilyFriendly||!e.showFamilyFriendlyOnly?t("div",{staticClass:"sidebarArea"},[e.isLoading||e.hideLiveChat||!e.isLive?e._e():t("watch-video-live-chat",{staticClass:"watchVideoSideBar watchVideoPlaylist",class:{theatrePlaylist:e.useTheatreMode},attrs:{"live-chat":e.liveChat,"video-id":e.videoId,"channel-id":e.channelId}}),e._v(" "),e.watchingPlaylist?t("watch-video-playlist",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],ref:"watchVideoPlaylist",staticClass:"watchVideoSideBar watchVideoPlaylist",class:{theatrePlaylist:e.useTheatreMode},attrs:{"playlist-id":e.playlistId,"video-id":e.videoId},on:{"pause-player":e.pausePlayer}}):e._e(),e._v(" "),e.isLoading?e._e():t("watch-video-recommendations",{staticClass:"watchVideoSideBar watchVideoRecommendations",class:{theatreRecommendations:e.useTheatreMode,watchVideoRecommendationsLowerCard:e.watchingPlaylist||e.isLive,watchVideoRecommendationsNoCard:!e.watchingPlaylist||!e.isLive},attrs:{"show-autoplay":!e.watchingPlaylist,data:e.recommendedVideos}})],1):e._e()],1)}),[],!1,null,"06ea7dd8",null).exports;class Og extends Ih{push(e){const t=new URLSearchParams(Rg.currentRoute.query);let n="",i=new URLSearchParams;if("string"==typeof e)if(e.includes("?")){const t=e.split("?");n=t[0],i=new URLSearchParams(t[1])}else n=e;else n=e.path,i=new URLSearchParams(e.query);const r=Rg.currentRoute.path!==n,a=i.toString()!==t.toString();if(r||a)return super.push(e)}}Wn.use(Og);const Rg=new Og({routes:[{path:"/",meta:{title:"Subscriptions.Subscriptions"},component:yp},{path:"/subscriptions",meta:{title:"Subscriptions.Subscriptions"},component:yp},{path:"/subscribedchannels",meta:{title:"Channels.Title"},component:Sp},{path:"/settings/profile",meta:{title:"Profile.Profile Settings"},component:Cp},{path:"/settings/profile/new",name:"newProfile",meta:{title:"Profile.Create New Profile"},component:Np},{path:"/settings/profile/edit/:id",name:"editProfile",meta:{title:"Profile.Edit Profile"},component:Np},{path:"/trending",meta:{title:"Trending.Trending"},component:Kp},{path:"/popular",meta:{title:"Most Popular"},component:Yp},{path:"/userplaylists",meta:{title:"User Playlists.Your Playlists"},component:Xp},{path:"/history",name:"history",meta:{title:"History.History"},component:Qp},{path:"/settings",meta:{title:"Settings.Settings"},component:xm},{path:"/about",meta:{title:"About.About"},component:Pm},{path:"/search/:query",meta:{title:"Search Filters.Search Results"},component:Am},{path:"/playlist/:id",meta:{title:"Playlist.Playlist"},component:$m},{path:"/channel/:id/:currentTab?",meta:{title:"Channel"},component:Vm},{path:"/watch/:id",meta:{title:"Watch"},component:Lg}],scrollBehavior:(e,t,n)=>new Promise(((e,t)=>{setTimeout((()=>{e(null!==n?n:{x:0,y:0})}),500)}))}),Dg=Rg;var Ng=n(4155);function Fg({publishText:e,isLive:t=!1,isUpcoming:n=!1,isRSS:i=!1}){if(t)return"0"+jc.t("Video.Watching");if(n||null===e)return`${jc.t("Video.Published.Upcoming")}: ${e}`;if(i)return e;const r=e.split(" ");"streamed"===r[0].toLowerCase()&&r.shift();const a="1"===r[0];let s="";switch(r[1].substring(0,2)){case"se":s="Video.Published.Second";break;case"mi":s="Video.Published.Minute";break;case"ho":s="Video.Published.Hour";break;case"da":s="Video.Published.Day";break;case"we":s="Video.Published.Week";break;case"mo":s="Video.Published.Month";break;case"ye":s="Video.Published.Year";break;default:return e}a||(s+="s");const o=jc.t(s);return jc.t("Video.Publicationtemplate",{number:r[0],unit:o})}function $g(e,t=null,n=null){Hl.$emit("toast-open",e,t,n)}async function Bg(e,{messageOnSuccess:t=null,messageOnError:n=null}){let i=navigator.clipboard.writeText.bind(navigator.clipboard);if(Ng.env.IS_CORDOVA&&(i=e=>new Promise(((t,n)=>{dd().plugins.clipboard.copy(e,t,n)}))),void 0!==i&&window.isSecureContext)try{await i(e),null!==t&&$g(t)}catch(t){console.error(`Failed to copy ${e} to clipboard`,t),$g(null!==n?`${n}: ${t}`:`${jc.t("Clipboard.Copy failed")}: ${t}`,5e3)}else $g(jc.t("Clipboard.Cannot access clipboard without a secure connection"),5e3)}function Mg(e){window.open(e,"_blank")}function Ug({path:e,query:t={},doCreateNewWindow:n,searchQueryText:i=null}){Dg.push({path:e,query:t})}async function jg(e){return await new Promise((t=>{const n=document.createElement("input");n.setAttribute("type","file"),Ng.env.IS_CORDOVA||void 0!==e?.filters[0]?.extensions&&n.setAttribute("accept",e.filters[0].extensions.map((e=>`.${e}`)).join(", ")),n.onchange=()=>{const e=Array.from(n.files);t({canceled:!1,files:e,filePaths:e.map((({name:e})=>e))}),delete n.onchange};const i=()=>{window.removeEventListener("focus",i),setTimeout((()=>{0===n.files.length&&"function"==typeof n.onchange&&(t({canceled:!0}),delete n.onchange)}),1e3)};window.addEventListener("focus",i),n.click()}))}function Vg(e,t=0){return new Promise(((n,i)=>{try{const i=new FileReader;i.onload=function(e){n(e.currentTarget.result)},i.readAsText(e.files[t])}catch(e){i(e)}}))}async function Hg(e){return"showSaveFilePicker"in window?{canceled:!1,handle:await window.showSaveFilePicker({suggestedName:e.defaultPath.split("/").at(-1),types:e.filters[0]?.extensions?.map((e=>({accept:{"application/octet-stream":"."+e}})))})}:{canceled:!1,filePath:e.defaultPath}}async function qg(e,t){if(Ng.env.IS_CORDOVA)return new Promise(((n,i)=>{const{filePath:r}=e,a=new Blob([t],{type:"application/octet-stream"});dd().plugins.saveDialog.saveFile(a,r).then((()=>{n()})).catch((e=>{i(e)}))}));if("showOpenFilePicker"in window){const{handle:n}=e,i=await n.createWritable();await i.write(t),await i.close()}else{const{filePath:n}=e,i=n.split("/").at(-1),r=document.createElement("a"),a=URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));r.setAttribute("href",a),r.setAttribute("download",encodeURI(i)),r.click()}}function zg(e){const t=new URL(window.location.href),{origin:n}=t;let i=t.pathname;return i.endsWith(".html")&&(i=i.replace(/[^./]*\.html$/,"")),e.startsWith("/")&&(e=e.substring(1,e.length)),i.endsWith("/")&&(i=i.substring(0,i.length-1)),`${n}${i}/${e}`}function Wg(e){return e.replaceAll(/(<(?!br|\/?[bis]>)([^>]+)>)/gi,"")}function Gg(e){if("string"==typeof e)return e;if(0===e)return"0:00";let t=0;e>=3600&&(t=Math.floor(e/3600),e-=3600*t);let n=Math.floor(e/60);n<10&&t>0&&(n="0"+n);let i=e-60*n;i<10&&(i="0"+i);let r="";return r=t>0?t+":"+n+":"+i:n+":"+i,r}function Kg(e,t){return e?.sortBy===t?.sortBy&&e?.time===t?.time&&e?.type===t?.type&&e?.duration===t?.duration}async function Yg(){return null}async function Xg(){return null}function Qg(e){return"string"==typeof e?parseInt(e.replaceAll(/\D+/g,"")):NaN}function Zg(e,t){const n=jc.t(`Video.External Player.Unsupported Actions.${t}`);$g(jc.t("Video.External Player.UnsupportedActionTemplate",{externalPlayer:e,action:n}))}function Jg(e,t){return Intl.NumberFormat([jc.locale.replace("_","-"),"en"],t).format(e)}var ey=_l({name:"FtProfileSelector",components:{"ft-card":Il,"ft-icon-button":Rl},data:function(){return{profileListShown:!1,mouseDownOnIcon:!1}},computed:{profileList:function(){return this.$store.getters.getProfileList},activeProfile:function(){return this.$store.getters.getActiveProfile},defaultProfile:function(){return this.$store.getters.getDefaultProfile},activeProfileInitial:function(){return this.activeProfile?.name?.length>0?Array.from(this.activeProfile.name)[0].toUpperCase():""},profileInitials:function(){return this.profileList.map((e=>e?.name?.length>0?Array.from(e.name)[0].toUpperCase():""))}},methods:{toggleProfileList:function(){this.profileListShown=!this.profileListShown,this.profileListShown&&setTimeout((()=>{this.$refs.profileList.$el.focus()}))},openProfileSettings:function(){this.$router.push({path:"/settings/profile/"}),this.profileListShown=!1},handleIconMouseDown:function(){this.profileListShown&&(this.mouseDownOnIcon=!0)},handleProfileListFocusOut:function(){this.mouseDownOnIcon?this.mouseDownOnIcon=!1:this.$refs.profileList.$el.matches(":focus-within")||(this.profileListShown=!1)},setActiveProfile:function(e){if(this.activeProfile._id!==e._id){const t=this.profileList.find((t=>t._id===e._id));t&&(this.updateActiveProfile(t._id),$g(this.$t("Profile.{profile} is now the active profile",{profile:e.name})))}this.profileListShown=!1},...el(["updateActiveProfile"])}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t("div",{staticClass:"colorOption",style:{background:e.activeProfile.bgColor,color:e.activeProfile.textColor},on:{click:e.toggleProfileList,mousedown:e.handleIconMouseDown}},[t("div",{staticClass:"initial"},[e._v("\n      "+e._s(e.activeProfileInitial)+"\n    ")])]),e._v(" "),t("ft-card",{directives:[{name:"show",rawName:"v-show",value:e.profileListShown,expression:"profileListShown"}],ref:"profileList",staticClass:"profileList",attrs:{tabindex:"-1"},on:{focusout:e.handleProfileListFocusOut}},[t("h3",{staticClass:"profileListTitle"},[e._v("\n      "+e._s(e.$t("Profile.Profile Select"))+"\n    ")]),e._v(" "),t("ft-icon-button",{staticClass:"profileSettings",attrs:{icon:["fas","sliders-h"]},on:{click:e.openProfileSettings}}),e._v(" "),t("div",{staticClass:"profileWrapper"},e._l(e.profileList,(function(n,i){return t("div",{key:i,staticClass:"profile",on:{click:function(t){return e.setActiveProfile(n)}}},[t("div",{staticClass:"colorOption",style:{background:n.bgColor,color:n.textColor}},[t("div",{staticClass:"initial"},[e._v("\n            "+e._s(e.profileInitials[i])+"\n          ")])]),e._v(" "),t("p",{staticClass:"profileName"},[e._v("\n          "+e._s(n.name)+"\n        ")])])})),0)],1)],1)}),[],!1,null,"fca69278",null);const ty={name:"TopNav",components:{FtInput:xl,FtSearchFilters:Pl,FtProfileSelector:ey.exports},data:()=>({component:void 0,showSearchContainer:!0,showFilters:!1,searchFilterValueChanged:!1,historyIndex:1,isForwardOrBack:!1,searchSuggestionsDataList:[],lastSuggestionQuery:""}),computed:{hideSearchBar:function(){return this.$store.getters.getHideSearchBar},hideHeaderLogo:function(){return this.$store.getters.getHideHeaderLogo},enableSearchSuggestions:function(){return this.$store.getters.getEnableSearchSuggestions},searchInput:function(){return this.$refs.searchInput.$refs.input},searchSettings:function(){return this.$store.getters.getSearchSettings},barColor:function(){return this.$store.getters.getBarColor},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},backendFallback:function(){return this.$store.getters.getBackendFallback},backendPreference:function(){return this.$store.getters.getBackendPreference},expandSideBar:function(){return this.$store.getters.getExpandSideBar},forwardText:function(){return this.$t("Forward")},backwardText:function(){return this.$t("Back")},newWindowText:function(){return this.$t("Open New Window")}},mounted:function(){let e=window.innerWidth;window.innerWidth<=680&&(this.showSearchContainer=!1),setTimeout((()=>{this.expandSideBar&&this.toggleSideNav()}),0),window.addEventListener("resize",(()=>{e!==window.innerWidth&&(this.showSearchContainer=window.innerWidth>680,e=window.innerWidth)})),this.debounceSearchResults=tm()(this.getSearchSuggestions,200)},methods:{goToSearch:async function(e,{event:t}){const n=t&&t.shiftKey;window.innerWidth<=680?(this.$refs.searchContainer.blur(),this.showSearchContainer=!1):this.searchInput.blur(),Bp=null,this.getYoutubeUrlInfo(e).then((t=>{switch(t.urlType){case"video":{const{videoId:e,timestamp:i,playlistId:r}=t,a={};i&&(a.timestamp=i),r&&r.length>0&&(a.playlistId=r),Ug({path:`/watch/${e}`,query:a,doCreateNewWindow:n});break}case"playlist":{const{playlistId:e,query:i}=t;Ug({path:`/playlist/${e}`,query:i,doCreateNewWindow:n});break}case"search":{const{searchQuery:e,query:i}=t;Ug({path:`/search/${encodeURIComponent(e)}`,query:i,doCreateNewWindow:n,searchQueryText:e});break}case"hashtag":{let e="Hashtags have not yet been implemented, try again later";this.$t(e)&&""!==this.$t(e)&&(e=this.$t(e)),$g(e);break}case"channel":{const{channelId:e,idType:i,subPath:r}=t;Ug({path:`/channel/${e}/${r}`,query:{idType:i},doCreateNewWindow:n});break}default:Ug({path:`/search/${encodeURIComponent(e)}`,query:{sortBy:this.searchSettings.sortBy,time:this.searchSettings.time,type:this.searchSettings.type,duration:this.searchSettings.duration},doCreateNewWindow:n,searchQueryText:e})}})),this.showFilters=!1},focusSearch:function(){this.hideSearchBar||this.searchInput.focus()},getSearchSuggestionsDebounce:function(e){if(this.enableSearchSuggestions){const t=e.trim();t!==this.lastSuggestionQuery&&(this.lastSuggestionQuery=t,this.debounceSearchResults(t))}},getSearchSuggestions:function(e){switch(this.backendPreference){case"local":this.getSearchSuggestionsLocal(e);break;case"invidious":this.getSearchSuggestionsInvidious(e)}},getSearchSuggestionsLocal:function(e){""!==e?async function(e){return null===Bp&&(Bp=await $p()),await Bp.getSearchSuggestions(e)}(e).then((e=>{this.searchSuggestionsDataList=e})):this.searchSuggestionsDataList=[]},getSearchSuggestionsInvidious:function(e){""!==e?ip({resource:"search/suggestions",id:"",params:{q:e}}).then((e=>{this.searchSuggestionsDataList=e.suggestions})).catch((e=>{console.error(e)})):this.searchSuggestionsDataList=[]},toggleSearchContainer:function(){this.showSearchContainer=!this.showSearchContainer,this.showFilters=!1},handleSearchFilterValueChanged:function(e){this.searchFilterValueChanged=e},navigateHistory:function(){this.isForwardOrBack?this.isForwardOrBack=!1:(this.historyIndex=window.history.length,this.$refs.historyArrowBack.classList.remove("fa-arrow-left"),this.$refs.historyArrowForward.classList.add("fa-arrow-right"))},historyBack:function(){this.isForwardOrBack=!0,window.history.back(),this.historyIndex>1&&(this.historyIndex--,this.$refs.historyArrowForward.classList.remove("fa-arrow-right"),1===this.historyIndex&&this.$refs.historyArrowBack.classList.add("fa-arrow-left"))},historyForward:function(){this.isForwardOrBack=!0,window.history.forward(),this.historyIndex<window.history.length&&(this.historyIndex++,this.$refs.historyArrowBack.classList.remove("fa-arrow-left"),this.historyIndex===window.history.length&&this.$refs.historyArrowForward.classList.add("fa-arrow-right"))},toggleSideNav:function(){this.$store.commit("toggleSideNav")},createNewWindow:function(){},navigate:function(e){this.$router.push("/"+e)},hideFilters:function(){this.showFilters=!1},updateSearchInputText:function(e){this.$refs.searchInput.updateInputData(e)},...el(["getYoutubeUrlInfo"])}},ny=_l(ty,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"topNav",class:{topNavBarColor:e.barColor}},[t("div",{staticClass:"side"},[t("font-awesome-icon",{staticClass:"menuIcon navIcon",attrs:{icon:["fas","bars"],role:"button",tabindex:"0"},on:{click:e.toggleSideNav,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.toggleSideNav.apply(null,arguments))}}}),e._v(" "),t("font-awesome-icon",{ref:"historyArrowBack",staticClass:"navBackIcon navIcon fa-arrow-left",attrs:{icon:["fas","arrow-left"],role:"button",tabindex:"0",title:e.backwardText},on:{click:e.historyBack,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.historyBack.apply(null,arguments))}}}),e._v(" "),t("font-awesome-icon",{ref:"historyArrowForward",staticClass:"navForwardIcon navIcon fa-arrow-right",attrs:{icon:["fas","arrow-right"],role:"button",tabindex:"0",title:e.forwardText},on:{click:e.historyForward,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.historyForward.apply(null,arguments))}}}),e._v(" "),e.hideSearchBar?e._e():t("font-awesome-icon",{staticClass:"navSearchIcon navIcon",attrs:{icon:["fas","search"],role:"button",tabindex:"0"},on:{click:e.toggleSearchContainer,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.toggleSearchContainer.apply(null,arguments))}}}),e._v(" "),t("font-awesome-icon",{staticClass:"navNewWindowIcon navIcon",attrs:{icon:["fas","clone"],title:e.newWindowText,role:"button",tabindex:"0"},on:{click:e.createNewWindow,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.createNewWindow.apply(null,arguments))}}}),e._v(" "),e.hideHeaderLogo?e._e():t("div",{staticClass:"logo",attrs:{role:"link",tabindex:"0",title:e.$t("Subscriptions.Subscriptions")},on:{click:function(t){return e.navigate("subscriptions")},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.navigate("subscriptions"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.navigate("subscriptions"))}]}},[t("div",{staticClass:"logoIcon"}),e._v(" "),t("div",{staticClass:"logoText"})])],1),e._v(" "),t("div",{staticClass:"middle"},[e.hideSearchBar?e._e():t("div",{directives:[{name:"show",rawName:"v-show",value:e.showSearchContainer,expression:"showSearchContainer"}],ref:"searchContainer",staticClass:"searchContainer"},[t("ft-input",{ref:"searchInput",staticClass:"searchInput",attrs:{placeholder:e.$t("Search / Go to URL"),"is-search":!0,"data-list":e.searchSuggestionsDataList,spellcheck:!1,"show-clear-text-button":!0},on:{input:e.getSearchSuggestionsDebounce,click:e.goToSearch}}),e._v(" "),t("font-awesome-icon",{staticClass:"navFilterIcon navIcon",class:{filterChanged:e.searchFilterValueChanged},attrs:{icon:["fas","filter"],role:"button",tabindex:"0"},on:{click:function(t){e.showFilters=!e.showFilters},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault(),e.showFilters=!e.showFilters}}})],1),e._v(" "),e.hideSearchBar?e._e():t("ft-search-filters",{directives:[{name:"show",rawName:"v-show",value:e.showFilters,expression:"showFilters"}],staticClass:"searchFilters",on:{filterValueUpdated:e.handleSearchFilterValueChanged}})],1),e._v(" "),t("ft-profile-selector",{staticClass:"side profiles"})],1)}),[],!1,null,"2768510d",null).exports;var iy=_l({name:"SideNav",data:function(){return{openMoreOptions:!1}},computed:{backendFallback:function(){return this.$store.getters.getBackendFallback},backendPreference:function(){return this.$store.getters.getBackendPreference},hidePopularVideos:function(){return this.$store.getters.getHidePopularVideos},hideTrendingVideos:function(){return this.$store.getters.getHideTrendingVideos},hideLabelsSideBar:function(){return this.$store.getters.getHideLabelsSideBar},applyNavIconExpand:function(){return{navIconExpand:this.hideLabelsSideBar}}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"sideNavMoreOptions"},[t("div",{staticClass:"navOption moreOptionNav",attrs:{tabindex:"0",role:"button","aria-labelledby":"moreNavLabel",title:e.$t("More")},on:{click:function(t){e.openMoreOptions=!e.openMoreOptions},keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.preventDefault(),e.openMoreOptions=!e.openMoreOptions},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault(),e.openMoreOptions=!e.openMoreOptions}]}},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","ellipsis-h"]}}),e._v(" "),e.hideLabelsSideBar?e._e():t("p",{staticClass:"navLabel",attrs:{id:"moreNavLabel"}},[e._v("\n      "+e._s(e.$t("More"))+"\n    ")])],1),e._v(" "),e.openMoreOptions?t("div",{staticClass:"moreOptionContainer"},[t("router-link",{staticClass:"navOption mobileHidden",attrs:{title:e.$t("Channels.Channels"),"aria-label":e.hideLabelsSideBar?e.$t("Channels.Channels"):null,to:"/subscribedchannels"}},[t("div",{staticClass:"thumbnailContainer"},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","list"],"fixed-width":""}})],1),e._v(" "),t("p",{staticClass:"navLabel",attrs:{id:"channelLabel"}},[e._v("\n        "+e._s(e.$t("Channels.Channels"))+"\n      ")])]),e._v(" "),e.hideTrendingVideos?e._e():t("router-link",{staticClass:"navOption",attrs:{title:e.$t("Trending.Trending"),"aria-label":e.hideLabelsSideBar?e.$t("Trending.Trending"):null,to:"/trending"}},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","fire"]}}),e._v(" "),e.hideLabelsSideBar?e._e():t("p",{staticClass:"navLabel",attrs:{id:"trendingNavLabel"}},[e._v("\n        "+e._s(e.$t("Trending.Trending"))+"\n      ")])],1),e._v(" "),e.hidePopularVideos||!e.backendFallback&&"invidious"!==e.backendPreference?e._e():t("router-link",{staticClass:"navOption",attrs:{title:e.$t("Most Popular"),"aria-label":e.hideLabelsSideBar?e.$t("Most Popular"):null,to:"/popular"}},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","users"]}}),e._v(" "),e.hideLabelsSideBar?e._e():t("p",{staticClass:"navLabel",attrs:{id:"mostPopularNavLabel"}},[e._v("\n        "+e._s(e.$t("Most Popular"))+"\n      ")])],1),e._v(" "),t("router-link",{staticClass:"navOption",attrs:{title:e.$t("About.About"),"aria-label":e.hideLabelsSideBar?e.$t("About.About"):null,to:"/about"}},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","info-circle"]}}),e._v(" "),e.hideLabelsSideBar?e._e():t("p",{staticClass:"navLabel",attrs:{id:"aboutNavLabel"}},[e._v("\n        "+e._s(e.$t("About.About"))+"\n      ")])],1)],1):e._e(),e._v(" "),t("router-link",{staticClass:"navOption mobileShow",attrs:{title:e.$t("History.History"),"aria-label":e.hideLabelsSideBar?e.$t("History.History"):null,to:"/history"}},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","history"]}}),e._v(" "),t("p",{staticClass:"navLabel",attrs:{id:"historyNavLabel"}},[e._v("\n      "+e._s(e.$t("History.History"))+"\n    ")])],1),e._v(" "),t("hr"),e._v(" "),t("router-link",{staticClass:"navOption mobileShow",attrs:{title:e.$t("Settings.Settings"),"aria-label":e.hideLabelsSideBar?e.$t("Settings.Settings"):null,to:"/settings"}},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","sliders-h"]}}),e._v(" "),t("p",{staticClass:"navLabel",attrs:{id:"settingsNavLabel"}},[e._v("\n      "+e._s(e.$t("Settings.Settings"))+"\n    ")])],1),e._v(" "),t("router-link",{staticClass:"navOption mobileHidden",attrs:{title:e.$t("About.About"),to:"/about","aria-label":e.hideLabelsSideBar?e.$t("About.About"):null}},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","info-circle"]}}),e._v(" "),e.hideLabelsSideBar?e._e():t("p",{staticClass:"navLabel"},[e._v("\n      "+e._s(e.$t("About.About"))+"\n    ")])],1)],1)}),[],!1,null,"4dca0b59",null),ry=_l({name:"SideNav",components:{"ft-flex-box":wl,"side-nav-more-options":iy.exports},computed:{isOpen:function(){return this.$store.getters.getIsSideNavOpen},backendFallback:function(){return this.$store.getters.getBackendFallback},backendPreference:function(){return this.$store.getters.getBackendPreference},currentInvidiousInstance:function(){return this.$store.getters.getCurrentInvidiousInstance},profileList:function(){return this.$store.getters.getProfileList},activeProfile:function(){return this.$store.getters.getActiveProfile},activeSubscriptions:function(){return JSON.parse(JSON.stringify(this.activeProfile)).subscriptions.sort(((e,t)=>{const n=e.name.toLowerCase(),i=t.name.toLowerCase();return n<i?-1:n>i?1:0})).map((e=>("invidious"===this.backendPreference&&(e.thumbnail=sp(e.thumbnail,this.currentInvidiousInstance)),e)))},hidePopularVideos:function(){return this.$store.getters.getHidePopularVideos},hidePlaylists:function(){return this.$store.getters.getHidePlaylists},hideTrendingVideos:function(){return this.$store.getters.getHideTrendingVideos},hideActiveSubscriptions:function(){return this.$store.getters.getHideActiveSubscriptions},hideLabelsSideBar:function(){return this.$store.getters.getHideLabelsSideBar},hideText:function(){return!this.isOpen&&this.hideLabelsSideBar},applyNavIconExpand:function(){return{navIconExpand:this.hideText}},applyHiddenLabels:function(){return{hiddenLabels:this.hideText}}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ft-flex-box",{ref:"sideNav",staticClass:"sideNav",class:[{closed:!e.isOpen},e.applyHiddenLabels]},[t("div",{staticClass:"inner",class:e.applyHiddenLabels},[t("router-link",{staticClass:"navOption topNavOption mobileShow",attrs:{role:"button",to:"/subscriptions",title:e.$t("Subscriptions.Subscriptions")}},[t("div",{staticClass:"thumbnailContainer"},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","rss"],"fixed-width":""}})],1),e._v(" "),e.hideText?e._e():t("p",{staticClass:"navLabel"},[e._v("\n        "+e._s(e.$t("Subscriptions.Subscriptions"))+"\n      ")])]),e._v(" "),t("router-link",{staticClass:"navOption mobileHidden",attrs:{role:"button",to:"/subscribedchannels",title:e.$t("Channels.Channels")}},[t("div",{staticClass:"thumbnailContainer"},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","list"],"fixed-width":""}})],1),e._v(" "),e.hideText?e._e():t("p",{staticClass:"navLabel"},[e._v("\n        "+e._s(e.$t("Channels.Channels"))+"\n      ")])]),e._v(" "),e.hideTrendingVideos?e._e():t("router-link",{staticClass:"navOption mobileHidden",attrs:{role:"button",to:"/trending",title:e.$t("Trending.Trending")}},[t("div",{staticClass:"thumbnailContainer"},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","fire"],"fixed-width":""}})],1),e._v(" "),e.hideText?e._e():t("p",{staticClass:"navLabel"},[e._v("\n        "+e._s(e.$t("Trending.Trending"))+"\n      ")])]),e._v(" "),e.hidePopularVideos||!e.backendFallback&&"invidious"!==e.backendPreference?e._e():t("router-link",{staticClass:"navOption mobileHidden",attrs:{role:"button",to:"/popular",title:e.$t("Most Popular")}},[t("div",{staticClass:"thumbnailContainer"},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","users"],"fixed-width":""}})],1),e._v(" "),e.hideText?e._e():t("p",{staticClass:"navLabel"},[e._v("\n        "+e._s(e.$t("Most Popular"))+"\n      ")])]),e._v(" "),e.hidePlaylists?e._e():t("router-link",{staticClass:"navOption mobileShow",attrs:{role:"button",to:"/userplaylists",title:e.$t("Playlists")}},[t("div",{staticClass:"thumbnailContainer"},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","bookmark"],"fixed-width":""}})],1),e._v(" "),e.hideText?e._e():t("p",{staticClass:"navLabel"},[e._v("\n        "+e._s(e.$t("Playlists"))+"\n      ")])]),e._v(" "),t("side-nav-more-options"),e._v(" "),t("router-link",{staticClass:"navOption mobileShow",attrs:{role:"button",to:"/history",title:e.$t("History.History")}},[t("div",{staticClass:"thumbnailContainer"},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","history"],"fixed-width":""}})],1),e._v(" "),e.hideText?e._e():t("p",{staticClass:"navLabel"},[e._v("\n        "+e._s(e.$t("History.History"))+"\n      ")])]),e._v(" "),t("hr"),e._v(" "),t("router-link",{staticClass:"navOption mobileShow",attrs:{role:"button",to:"/settings",title:e.$t("Settings.Settings")}},[t("div",{staticClass:"thumbnailContainer"},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","sliders-h"],"fixed-width":""}})],1),e._v(" "),e.hideText?e._e():t("p",{staticClass:"navLabel"},[e._v("\n        "+e._s(e.$t("Settings.Settings"))+"\n      ")])]),e._v(" "),t("router-link",{staticClass:"navOption mobileHidden",attrs:{role:"button",to:"/about",title:e.$t("About.About")}},[t("div",{staticClass:"thumbnailContainer"},[t("font-awesome-icon",{staticClass:"navIcon",class:e.applyNavIconExpand,attrs:{icon:["fas","info-circle"],"fixed-width":""}})],1),e._v(" "),e.hideText?e._e():t("p",{staticClass:"navLabel"},[e._v("\n        "+e._s(e.$t("About.About"))+"\n      ")])]),e._v(" "),t("hr"),e._v(" "),e.hideActiveSubscriptions?e._e():t("div",e._l(e.activeSubscriptions,(function(n,i){return t("router-link",{key:i,staticClass:"navChannel channelLink mobileHidden",attrs:{to:`/channel/${n.id}`,title:n.name,role:"button"}},[t("div",{staticClass:"thumbnailContainer"},[t("img",{staticClass:"channelThumbnail",attrs:{src:n.thumbnail,alt:e.isOpen?"":n.name}})]),e._v(" "),e.isOpen?t("p",{staticClass:"navLabel"},[e._v("\n          "+e._s(n.name)+"\n        ")]):e._e()])})),1)],1)])}),[],!1,null,"6ef8bc01",null);const ay=ry.exports,sy=_l({name:"FtNotificationBanner",props:{message:{type:String,required:!0}},computed:{progressBarPercentage:function(){return this.$store.getters.getProgressBarPercentage}},methods:{handleClick:function(e){this.$emit("click",e)},handleClose:function(){this.handleClick(!1)}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"ftNotificationBanner",attrs:{tabindex:"0",role:"link",title:e.message,"aria-describedby":e.message},on:{click:function(t){return e.handleClick(!0)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.handleClick(!0))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.handleClick(!0))}]}},[t("div",{staticClass:"message"},[e._t("default",(function(){return[t("p",[e._v("\n        "+e._s(e.message)+"\n      ")])]}))],2),e._v(" "),t("font-awesome-icon",{staticClass:"bannerIcon",attrs:{icon:["fas","times"],tabindex:"0",title:e.$t("Close Banner")},on:{click:function(t){return t.stopPropagation(),e.handleClose.apply(null,arguments)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),t.preventDefault(),e.handleClose.apply(null,arguments))}}})],1)}),[],!1,null,"7bdfd8ff",null).exports,oy={name:"FtToast",data:function(){return{toasts:[]}},mounted:function(){Hl.$on("toast-open",this.open)},beforeDestroy:function(){Hl.$off("toast-open",this.open)},methods:{performAction:function(e){this.toasts[e].action(),this.remove(e)},close:function(e){setTimeout(this.remove,300,0),e.isOpen=!1},open:function(e,t,n){const i={message:e,action:n||(()=>{}),isOpen:!1,timeout:null};i.timeout=setTimeout(this.close,t||3e3,i),setTimeout((()=>{i.isOpen=!0})),this.toasts.length>4&&this.remove(0),this.toasts.push(i)},remove:function(e){const t=this.toasts.splice(e,1);clearTimeout(t[0].timeout)}}};var ly=_l(oy,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"toast-holder"},e._l(e.toasts,(function(n,i){return t("div",{key:"toast-"+i,staticClass:"toast",class:{closed:!n.isOpen,open:n.isOpen},attrs:{tabindex:"0",role:"status"},on:{click:function(t){return e.performAction(i)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.performAction(i))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.performAction(i))}]}},[t("p",{staticClass:"message"},[e._v("\n      "+e._s(n.message)+"\n    ")])])})),0)}),[],!1,null,"892827de",null);const cy=ly.exports,uy=_l({name:"FtProgressBar",computed:{progressBarPercentage:function(){return this.$store.getters.getProgressBarPercentage}}},(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"progressBar",style:{width:e.progressBarPercentage+"%"}})}),[],!1,null,"a8b5867e",null).exports;let hy={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const dy=/[&<>"']/,fy=new RegExp(dy.source,"g"),py=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,my=new RegExp(py.source,"g"),gy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yy=e=>gy[e];function vy(e,t){if(t){if(dy.test(e))return e.replace(fy,yy)}else if(py.test(e))return e.replace(my,yy);return e}const by=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function _y(e){return e.replace(by,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const wy=/(^|[^\[])\^/g;function Sy(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,i)=>(i=(i=i.source||i).replace(wy,"$1"),e=e.replace(t,i),n),getRegex:()=>new RegExp(e,t)};return n}const ky=/[^\w:]/g,Ty=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Cy(e,t,n){if(e){let e;try{e=decodeURIComponent(_y(n)).replace(ky,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!Ty.test(n)&&(n=function(e,t){xy[" "+e]||(Ey.test(e)?xy[" "+e]=e+"/":xy[" "+e]=Ry(e,"/",!0));const n=-1===(e=xy[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(Py,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(Iy,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const xy={},Ey=/^[^:]+:\/*[^/]*$/,Py=/^([^:]+:)[\s\S]*$/,Iy=/^([^:]+:\/*[^/]*)[\s\S]*$/,Ay={exec:function(){}};function Ly(e){let t,n,i=1;for(;i<arguments.length;i++)for(n in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Oy(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let i=!1,r=t;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})),i=n.split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function Ry(e,t,n){const i=e.length;if(0===i)return"";let r=0;for(;r<i;){const a=e.charAt(i-r-1);if(a!==t||n){if(a===t||!n)break;r++}else r++}return e.slice(0,i-r)}function Dy(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Ny(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function Fy(e,t,n,i){const r=t.href,a=t.title?vy(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){i.state.inLink=!0;const e={type:"link",raw:n,href:r,title:a,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,e}return{type:"image",raw:n,href:r,title:a,text:vy(s)}}class $y{constructor(e){this.options=e||hy}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Ry(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const i=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=i.length?e.slice(i.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=Ry(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:i,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,i,r,a,s,o,l,c,u,h,d,f,p=t[1].trim();const m=p.length>1,g={type:"list",raw:"",ordered:m,start:m?+p.slice(0,-1):"",loose:!1,items:[]};p=m?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=m?p:"[*+-]");const y=new RegExp(`^( {0,3}${p})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(f=!1,t=y.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),u=e.split("\n",1)[0],this.options.pedantic?(a=2,d=c.trimLeft()):(a=t[2].search(/[^ ]/),a=a>4?1:a,d=c.slice(a),a+=t[1].length),o=!1,!c&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),f=!0),!f){const t=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),i=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),r=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),s=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(h=e.split("\n",1)[0],u=h,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!r.test(u))&&!s.test(u)&&!t.test(u)&&!i.test(e);){if(u.search(/[^ ]/)>=a||!u.trim())d+="\n"+u.slice(a);else{if(o)break;if(c.search(/[^ ]/)>=4)break;if(r.test(c))break;if(s.test(c))break;if(i.test(c))break;d+="\n"+u}o||u.trim()||(o=!0),n+=h+"\n",e=e.substring(h.length+1),c=u.slice(a)}}g.loose||(l?g.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(d),i&&(r="[ ] "!==i[0],d=d.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:n,task:!!i,checked:r,loose:!1,text:d}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=d.trimRight(),g.raw=g.raw.trimRight();const v=g.items.length;for(s=0;s<v;s++)if(this.lexer.state.top=!1,g.items[s].tokens=this.lexer.blockTokens(g.items[s].text,[]),!g.loose){const e=g.items[s].tokens.filter((e=>"space"===e.type)),t=e.length>0&&e.some((e=>/\n.*\n/.test(e.raw)));g.loose=t}if(g.loose)for(s=0;s<v;s++)g.items[s].loose=!0;return g}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):vy(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:Oy(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,i,r,a,s=e.align.length;for(n=0;n<s;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(s=e.rows.length,n=0;n<s;n++)e.rows[n]=Oy(e.rows[n],e.header.length).map((e=>({text:e})));for(s=e.header.length,i=0;i<s;i++)e.header[i].tokens=this.lexer.inline(e.header[i].text);for(s=e.rows.length,i=0;i<s;i++)for(a=e.rows[i],r=0;r<a.length;r++)a[r].tokens=this.lexer.inline(a[r].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:vy(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):vy(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=Ry(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let i=0,r=0;for(;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&(i--,i<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],i=e[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),Fy(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:i?i.replace(this.rules.inline._escapes,"$1"):i},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Fy(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i)return;if(i[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=i[1]||i[2]||"";if(!r||r&&(""===n||this.rules.inline.punctuation.exec(n))){const n=i[0].length-1;let r,a,s=n,o=0;const l="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(i=l.exec(t));){if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!r)continue;if(a=r.length,i[3]||i[4]){s+=a;continue}if((i[5]||i[6])&&n%3&&!((n+a)%3)){o+=a;continue}if(s-=a,s>0)continue;a=Math.min(a,a+s+o);const t=e.slice(0,n+i.index+(i[0].length-r.length)+a);if(Math.min(n,a)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const l=t.slice(2,-2);return{type:"strong",raw:t,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),i=/^ /.test(e)&&/ $/.test(e);return n&&i&&(e=e.substring(1,e.length-1)),e=vy(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,i;return"@"===n[2]?(e=vy(this.options.mangle?t(n[1]):n[1]),i="mailto:"+e):(e=vy(n[1]),i=e),{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,i;if("@"===n[2])e=vy(this.options.mangle?t(n[0]):n[0]),i="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=vy(n[0]),i="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):vy(n[0]):n[0]:vy(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const By={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ay,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};By.def=Sy(By.def).replace("label",By._label).replace("title",By._title).getRegex(),By.bullet=/(?:[*+-]|\d{1,9}[.)])/,By.listItemStart=Sy(/^( *)(bull) */).replace("bull",By.bullet).getRegex(),By.list=Sy(By.list).replace(/bull/g,By.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+By.def.source+")").getRegex(),By._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",By._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,By.html=Sy(By.html,"i").replace("comment",By._comment).replace("tag",By._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),By.paragraph=Sy(By._paragraph).replace("hr",By.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",By._tag).getRegex(),By.blockquote=Sy(By.blockquote).replace("paragraph",By.paragraph).getRegex(),By.normal=Ly({},By),By.gfm=Ly({},By.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),By.gfm.table=Sy(By.gfm.table).replace("hr",By.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",By._tag).getRegex(),By.gfm.paragraph=Sy(By._paragraph).replace("hr",By.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",By.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",By._tag).getRegex(),By.pedantic=Ly({},By.normal,{html:Sy("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",By._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ay,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Sy(By.normal._paragraph).replace("hr",By.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",By.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const My={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ay,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ay,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Uy(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function jy(e){let t,n,i="";const r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}My._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",My.punctuation=Sy(My.punctuation).replace(/punctuation/g,My._punctuation).getRegex(),My.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,My.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,My._comment=Sy(By._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),My.emStrong.lDelim=Sy(My.emStrong.lDelim).replace(/punct/g,My._punctuation).getRegex(),My.emStrong.rDelimAst=Sy(My.emStrong.rDelimAst,"g").replace(/punct/g,My._punctuation).getRegex(),My.emStrong.rDelimUnd=Sy(My.emStrong.rDelimUnd,"g").replace(/punct/g,My._punctuation).getRegex(),My._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,My._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,My._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,My.autolink=Sy(My.autolink).replace("scheme",My._scheme).replace("email",My._email).getRegex(),My._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,My.tag=Sy(My.tag).replace("comment",My._comment).replace("attribute",My._attribute).getRegex(),My._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,My._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,My._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,My.link=Sy(My.link).replace("label",My._label).replace("href",My._href).replace("title",My._title).getRegex(),My.reflink=Sy(My.reflink).replace("label",My._label).replace("ref",By._label).getRegex(),My.nolink=Sy(My.nolink).replace("ref",By._label).getRegex(),My.reflinkSearch=Sy(My.reflinkSearch,"g").replace("reflink",My.reflink).replace("nolink",My.nolink).getRegex(),My.normal=Ly({},My),My.pedantic=Ly({},My.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Sy(/^!?\[(label)\]\((.*?)\)/).replace("label",My._label).getRegex(),reflink:Sy(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",My._label).getRegex()}),My.gfm=Ly({},My.normal,{escape:Sy(My.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),My.gfm.url=Sy(My.gfm.url,"i").replace("email",My.gfm._extended_email).getRegex(),My.breaks=Ly({},My.gfm,{br:Sy(My.br).replace("{2,}","*").getRegex(),text:Sy(My.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Vy{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||hy,this.options.tokenizer=this.options.tokenizer||new $y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:By.normal,inline:My.normal};this.options.pedantic?(t.block=By.pedantic,t.inline=My.pedantic):this.options.gfm&&(t.block=By.gfm,this.options.breaks?t.inline=My.breaks:t.inline=My.gfm),this.tokenizer.rules=t}static get rules(){return{block:By,inline:My}}static lex(e,t){return new Vy(t).lex(e)}static lexInline(e,t){return new Vy(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,i,r,a;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(n):(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(i.raw+="\n"+n.raw,i.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startBlock.forEach((function(e){i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r)))i=t[t.length-1],a&&"paragraph"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),a=r.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,r,a,s,o,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,a.index)+"["+Ny("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,a.index)+"["+Ny("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,a.index+a[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(s||(o=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,o))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,jy))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,jy))){if(r=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startInline.forEach((function(e){i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(r,Uy))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(o=n.raw.slice(-1)),s=!0,i=t[t.length-1],i&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class Hy{constructor(e){this.options=e||hy}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,i);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+vy(i)+'">'+(n?e:vy(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:vy(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,n,i){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+i.slug(n)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=Cy(this.options.sanitize,this.options.baseUrl,e)))return n;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){if(null===(e=Cy(this.options.sanitize,this.options.baseUrl,e)))return n;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class qy{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class zy{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{i++,n=e+"-"+i}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class Wy{constructor(e){this.options=e||hy,this.options.renderer=this.options.renderer||new Hy,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new qy,this.slugger=new zy}static parse(e,t){return new Wy(t).parse(e)}static parseInline(e,t){return new Wy(t).parseInline(e)}parse(e,t=!0){let n,i,r,a,s,o,l,c,u,h,d,f,p,m,g,y,v,b,_,w="";const S=e.length;for(n=0;n<S;n++)if(h=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(_=this.options.extensions.renderers[h.type].call({parser:this},h),!1!==_||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)))w+=_||"";else switch(h.type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(h.tokens),h.depth,_y(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",l="",a=h.header.length,i=0;i<a;i++)l+=this.renderer.tablecell(this.parseInline(h.header[i].tokens),{header:!0,align:h.align[i]});for(c+=this.renderer.tablerow(l),u="",a=h.rows.length,i=0;i<a;i++){for(o=h.rows[i],l="",s=o.length,r=0;r<s;r++)l+=this.renderer.tablecell(this.parseInline(o[r].tokens),{header:!1,align:h.align[r]});u+=this.renderer.tablerow(l)}w+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(h.tokens),w+=this.renderer.blockquote(u);continue;case"list":for(d=h.ordered,f=h.start,p=h.loose,a=h.items.length,u="",i=0;i<a;i++)g=h.items[i],y=g.checked,v=g.task,m="",g.task&&(b=this.renderer.checkbox(y),p?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=b+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=b+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:b}):m+=b),m+=this.parse(g.tokens,p),u+=this.renderer.listitem(m,v,y);w+=this.renderer.list(u,d,f);continue;case"html":w+=this.renderer.html(h.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(u=h.tokens?this.parseInline(h.tokens):h.text;n+1<S&&"text"===e[n+1].type;)h=e[++n],u+="\n"+(h.tokens?this.parseInline(h.tokens):h.text);w+=t?this.renderer.paragraph(u):u;continue;default:{const e='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return w}parseInline(e,t){t=t||this.renderer;let n,i,r,a="";const s=e.length;for(n=0;n<s;n++)if(i=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(r=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==r||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))a+=r||"";else switch(i.type){case"escape":case"text":a+=t.text(i.text);break;case"html":a+=t.html(i.text);break;case"link":a+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":a+=t.image(i.href,i.title,i.text);break;case"strong":a+=t.strong(this.parseInline(i.tokens,t));break;case"em":a+=t.em(this.parseInline(i.tokens,t));break;case"codespan":a+=t.codespan(i.text);break;case"br":a+=t.br();break;case"del":a+=t.del(this.parseInline(i.tokens,t));break;default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return a}}function Gy(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),Dy(t=Ly({},Gy.defaults,t||{})),n){const i=t.highlight;let r;try{r=Vy.lex(e,t)}catch(e){return n(e)}const a=function(e){let a;if(!e)try{t.walkTokens&&Gy.walkTokens(r,t.walkTokens),a=Wy.parse(r,t)}catch(t){e=t}return t.highlight=i,e?n(e):n(null,a)};if(!i||i.length<3)return a();if(delete t.highlight,!r.length)return a();let s=0;return Gy.walkTokens(r,(function(e){"code"===e.type&&(s++,setTimeout((()=>{i(e.text,e.lang,(function(t,n){if(t)return a(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),s--,0===s&&a()}))}),0))})),void(0===s&&a())}function i(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+vy(e.message+"",!0)+"</pre>";throw e}try{const n=Vy.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(Gy.walkTokens(n,t.walkTokens)).then((()=>Wy.parse(n,t))).catch(i);Gy.walkTokens(n,t.walkTokens)}return Wy.parse(n,t)}catch(e){i(e)}}Gy.options=Gy.setOptions=function(e){var t;return Ly(Gy.defaults,e),t=Gy.defaults,hy=t,Gy},Gy.getDefaults=function(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Gy.defaults=hy,Gy.use=function(...e){const t=Gy.defaults.extensions||{renderers:{},childTokens:{}};e.forEach((e=>{const n=Ly({},e);if(n.async=Gy.defaults.async||n.async,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let i=e.renderer.apply(this,t);return!1===i&&(i=n.apply(this,t)),i}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=Gy.defaults.renderer||new Hy;for(const n in e.renderer){const i=t[n];t[n]=(...r)=>{let a=e.renderer[n].apply(t,r);return!1===a&&(a=i.apply(t,r)),a}}n.renderer=t}if(e.tokenizer){const t=Gy.defaults.tokenizer||new $y;for(const n in e.tokenizer){const i=t[n];t[n]=(...r)=>{let a=e.tokenizer[n].apply(t,r);return!1===a&&(a=i.apply(t,r)),a}}n.tokenizer=t}if(e.walkTokens){const t=Gy.defaults.walkTokens;n.walkTokens=function(n){let i=[];return i.push(e.walkTokens.call(this,n)),t&&(i=i.concat(t.call(this,n))),i}}Gy.setOptions(n)}))},Gy.walkTokens=function(e,t){let n=[];for(const i of e)switch(n=n.concat(t.call(Gy,i)),i.type){case"table":for(const e of i.header)n=n.concat(Gy.walkTokens(e.tokens,t));for(const e of i.rows)for(const i of e)n=n.concat(Gy.walkTokens(i.tokens,t));break;case"list":n=n.concat(Gy.walkTokens(i.items,t));break;default:Gy.defaults.extensions&&Gy.defaults.extensions.childTokens&&Gy.defaults.extensions.childTokens[i.type]?Gy.defaults.extensions.childTokens[i.type].forEach((function(e){n=n.concat(Gy.walkTokens(i[e],t))})):i.tokens&&(n=n.concat(Gy.walkTokens(i.tokens,t)))}return n},Gy.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");Dy(t=Ly({},Gy.defaults,t||{}));try{const n=Vy.lexInline(e,t);return t.walkTokens&&Gy.walkTokens(n,t.walkTokens),Wy.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+vy(e.message+"",!0)+"</pre>";throw e}},Gy.Parser=Wy,Gy.parser=Wy.parse,Gy.Renderer=Hy,Gy.TextRenderer=qy,Gy.Lexer=Vy,Gy.lexer=Vy.lex,Gy.Tokenizer=$y,Gy.Slugger=zy,Gy.parse=Gy,Gy.options,Gy.setOptions,Gy.use,Gy.walkTokens,Gy.parseInline,Wy.parse,Vy.lex;var Ky=n(4155);let Yy=null;Wn.directive("observe-visibility",yl);const Xy={name:"App",components:{FtFlexBox:wl,TopNav:ny,SideNav:ay,FtNotificationBanner:sy,FtPrompt:_p,FtButton:Oh,FtToast:cy,FtProgressBar:uy},data:function(){return{dataReady:!1,hideOutlines:!0,showUpdatesBanner:!1,showBlogBanner:!1,showReleaseNotes:!1,updateBannerMessage:"",blogBannerMessage:"",latestBlogUrl:"",updateChangelog:"",changeLogTitle:"",lastExternalLinkToBeOpened:"",showExternalLinkOpeningPrompt:!1,externalLinkOpeningPromptValues:["yes","no"]}},computed:{isOpen:function(){return this.$store.getters.getIsSideNavOpen},showProgressBar:function(){return this.$store.getters.getShowProgressBar},isRightAligned:function(){return"ar"===this.$i18n.locale},checkForUpdates:function(){return this.$store.getters.getCheckForUpdates},checkForBlogPosts:function(){return this.$store.getters.getCheckForBlogPosts},searchSettings:function(){return this.$store.getters.getSearchSettings},profileList:function(){return this.$store.getters.getProfileList},windowTitle:function(){if("Channel"!==this.$route.meta.title&&"Watch"!==this.$route.meta.title){let e="/home"===this.$route.meta.path?Em.N$:`${this.$t(this.$route.meta.title)} - ${Em.N$}`;return e||(e=Em.N$),e}return null},defaultProfile:function(){return this.$store.getters.getDefaultProfile},externalPlayer:function(){return this.$store.getters.getExternalPlayer},defaultInvidiousInstance:function(){return this.$store.getters.getDefaultInvidiousInstance},baseTheme:function(){return this.$store.getters.getBaseTheme},mainColor:function(){return this.$store.getters.getMainColor},secColor:function(){return this.$store.getters.getSecColor},systemTheme:function(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},externalLinkOpeningPromptNames:function(){return[this.$t("Yes"),this.$t("No")]},externalLinkHandling:function(){return this.$store.getters.getExternalLinkHandling}},watch:{windowTitle:"setWindowTitle",baseTheme:"checkThemeSettings",mainColor:"checkThemeSettings",secColor:"checkThemeSettings",$route(){this.$refs.topNav.hideFilters()}},created(){this.checkThemeSettings(),this.setWindowTitle()},mounted:function(){if(Ky.env.IS_CORDOVA){const{backgroundMode:e}=dd().plugins;e.setDefaults({title:"FreeTube"}),e.enable(),e.on("activate",(()=>{e.disableWebViewOptimizations()}))}this.grabUserSettings().then((async()=>{this.checkThemeSettings(),await this.fetchInvidiousInstances(),""===this.defaultInvidiousInstance&&await this.setRandomCurrentInvidiousInstance(),this.grabAllProfiles(this.$t("Profile.All Channels")).then((async()=>{this.grabHistory(),this.grabAllPlaylists(),this.watchSystemTheme(),document.addEventListener("visibilitychange",(()=>{document.hidden||this.watchSystemTheme()})),this.dataReady=!0,setTimeout((()=>{Ky.env.IS_CORDOVA&&navigator.splashscreen.hide()}),250),setTimeout((()=>{this.checkForNewUpdates(),this.checkForNewBlogPosts()}),500)})),this.$router.afterEach(((e,t)=>{this.$refs.topNav.navigateHistory()}))}))},methods:{checkThemeSettings:function(){const e={baseTheme:this.baseTheme||"dark",mainColor:this.mainColor||"mainRed",secColor:this.secColor||"secBlue"};this.updateTheme(e)},updateTheme:function(e){document.body.className=`${e.baseTheme} main${e.mainColor} sec${e.secColor}`,document.body.dataset.systemTheme=this.systemTheme},checkForNewUpdates:function(){if(this.checkForUpdates){const e="https://api.github.com/repos/marmadilemanteater/freetubecordova/releases?per_page=1";-1!==Em.i8.indexOf("nightly")&&fetch(e).then((e=>e.json())).then((e=>{const t=e[0].tag_name,n=t.split(".");let i=n[n.length-1];-1!==t.indexOf("-nightly-")&&(i=t.split("-nightly-")[1]),this.updateChangelog=Gy.parse(e[0].body),this.changeLogTitle=e[0].name;const r=this.$t("Version $ is now available!  Click for more details");this.updateBannerMessage=r.replace("$",i);const a=Em.i8.split(".");let s=a[a.length-1];-1!==s.indexOf("-nightly-")&&(s=s.split("-nightly-")[1]),parseInt(i)>parseInt(s)&&(this.showUpdatesBanner=!0)})).catch((t=>{console.error("errored while checking for updates",e,t)}))}},checkForNewBlogPosts:function(){if(this.checkForBlogPosts){let e=localStorage.getItem("lastAppWasRunning");null!==e&&(e=new Date(e)),fetch("https://write.as/freetube/feed/").then((e=>e.text())).then((t=>{const n=(new DOMParser).parseFromString(t,"application/xml").querySelector("item"),i=new Date(n.querySelector("pubDate").textContent);if(null===e||i>e){const e=n.querySelector("title").textContent;this.blogBannerMessage=this.$t("A new blog is now available, {blogTitle}. Click to view more",{blogTitle:e}),this.latestBlogUrl=n.querySelector("link").textContent,this.showBlogBanner=!0}localStorage.setItem("lastAppWasRunning",new Date)}))}},checkExternalPlayer:async function(){const e={externalPlayer:this.externalPlayer};this.getExternalPlayerCmdArgumentsData(e)},handleUpdateBannerClick:function(e){!1!==e?this.showReleaseNotes=!0:this.showUpdatesBanner=!1},handleNewBlogBannerClick:function(e){e&&Mg(this.latestBlogUrl),this.showBlogBanner=!1},openDownloadsPage:function(){Mg("https://github.com/MarmadileManteater/FreeTubeCordova/releases"),this.showReleaseNotes=!1,this.showUpdatesBanner=!1},activateKeyboardShortcuts:function(){document.addEventListener("keydown",this.handleKeyboardShortcuts),document.addEventListener("mousedown",(()=>{this.hideOutlines=!0}))},activateIPCListeners:function(){Yy.on("history-back",(e=>{this.$refs.topNav.historyBack()})),Yy.on("history-forward",(e=>{this.$refs.topNav.historyForward()}))},handleKeyboardShortcuts:function(e){if(e.altKey)switch(e.key){case"D":case"d":this.$refs.topNav.focusSearch()}switch(e.key){case"Tab":this.hideOutlines=!1;break;case"L":case"l":("darwin"!==Ky.platform&&e.ctrlKey||"darwin"===Ky.platform&&e.metaKey)&&this.$refs.topNav.focusSearch()}},openAllLinksExternally:function(){const e=e=>"A"===e.target.tagName&&!e.target.href.startsWith(window.location.origin);document.addEventListener("click",(t=>{e(t)&&this.handleLinkClick(t)})),document.addEventListener("auxclick",(t=>{e(t)&&1===t.button&&this.handleLinkClick(t)}))},handleLinkClick:function(e){const t=e.target;e.preventDefault(),/^https?:\/\/((www\.)?youtube\.com(\/embed)?|youtu\.be)\/.*$/.test(t.href)?this.handleYoutubeLink(t.href,{doCreateNewWindow:"auxclick"===e.type}):"doNothing"===this.externalLinkHandling?$g(this.$t("External link opening has been disabled in the general settings")):"openLinkAfterPrompt"===this.externalLinkHandling?(this.lastExternalLinkToBeOpened=t.href,this.showExternalLinkOpeningPrompt=!0):Mg(t.href)},handleYoutubeLink:function(e,{doCreateNewWindow:t=!1}={}){this.getYoutubeUrlInfo(e).then((e=>{switch(e.urlType){case"video":{const{videoId:n,timestamp:i,playlistId:r}=e,a={};i&&(a.timestamp=i),r&&r.length>0&&(a.playlistId=r),Ug({path:`/watch/${n}`,query:a,doCreateNewWindow:t});break}case"playlist":{const{playlistId:n,query:i}=e;Ug({path:`/playlist/${n}`,query:i,doCreateNewWindow:t});break}case"search":{const{searchQuery:n,query:i}=e;Ug({path:`/search/${encodeURIComponent(n)}`,query:i,doCreateNewWindow:t,searchQueryText:n});break}case"hashtag":{let e="Hashtags have not yet been implemented, try again later";this.$te(e)&&""!==this.$t(e)&&(e=this.$t(e)),$g(e);break}case"channel":{const{channelId:n,subPath:i}=e;Ug({path:`/channel/${n}/${i}`,doCreateNewWindow:t});break}case"invalid_url":break;default:{let e="Unknown YouTube url type, cannot be opened in app";this.$te(e)&&""!==this.$t(e)&&(e=this.$t(e)),$g(e)}}}))},watchSystemTheme:function(){Ky.env.IS_CORDOVA&&dd().plugins.ThemeDetection.isAvailable((e=>{e&&dd().plugins.ThemeDetection.isDarkModeEnabled((e=>{document.body.dataset.systemTheme=e.value?"dark":"light"}))}),console.error)},openInternalPath:function({path:e,doCreateNewWindow:t,query:n={},searchQueryText:i=null}){this.$router.push({path:e,query:n})},enableSetSearchQueryText:function(){Yy.on("updateSearchInputText",((e,t)=>{t&&this.$refs.topNav.updateSearchInputText(t)})),Yy.send("searchInputHandlingReady")},enableOpenUrl:function(){Yy.on("openUrl",((e,t)=>{t&&this.handleYoutubeLink(t)})),Yy.send("appReady")},handleExternalLinkOpeningPromptAnswer:function(e){this.showExternalLinkOpeningPrompt=!1,"yes"===e&&this.lastExternalLinkToBeOpened.length>0&&Mg(this.lastExternalLinkToBeOpened)},setWindowTitle:function(){null!==this.windowTitle&&(document.title=this.windowTitle)},...Zo(["setInvidiousInstancesList"]),...el(["grabUserSettings","grabAllProfiles","grabHistory","grabAllPlaylists","getYoutubeUrlInfo","getExternalPlayerCmdArgumentsData","fetchInvidiousInstances","setRandomCurrentInvidiousInstance","setupListenersToSyncWindows","updateBaseTheme","updateMainColor","updateSecColor"])}},Qy=_l(Xy,(function(){var e=this,t=e._self._c;return e._self._setupProxy,e.dataReady?t("div",{class:{hideOutlines:e.hideOutlines,rightAligned:e.isRightAligned},attrs:{id:"app"}},[t("top-nav",{ref:"topNav"}),e._v(" "),t("side-nav",{ref:"sideNav"}),e._v(" "),t("ft-flex-box",{staticClass:"flexBox routerView"},[e.showUpdatesBanner||e.showBlogBanner?t("div",{staticClass:"banner-wrapper"},[e.showUpdatesBanner?t("ft-notification-banner",{staticClass:"banner",attrs:{message:e.updateBannerMessage,role:"link"},on:{click:e.handleUpdateBannerClick}}):e._e(),e._v(" "),e.showBlogBanner?t("ft-notification-banner",{staticClass:"banner",attrs:{message:e.blogBannerMessage,role:"link"},on:{click:e.handleNewBlogBannerClick}}):e._e()],1):e._e(),e._v(" "),e.dataReady?t("transition",{attrs:{mode:"out-in",name:"fade"}},[t("RouterView",{ref:"router",staticClass:"routerView",on:{showOutlines:function(t){e.hideOutlines=!1}}})],1):e._e()],1),e._v(" "),e.showReleaseNotes?t("ft-prompt",{attrs:{label:e.changeLogTitle},on:{click:function(t){e.showReleaseNotes=!e.showReleaseNotes}}},[t("span",{attrs:{id:"changeLogText"},domProps:{innerHTML:e._s(e.updateChangelog)}}),e._v(" "),t("ft-flex-box",[t("ft-button",{attrs:{label:e.$t("Download From Site")},on:{click:e.openDownloadsPage}}),e._v(" "),t("ft-button",{attrs:{label:e.$t("Close")},on:{click:function(t){e.showReleaseNotes=!e.showReleaseNotes}}})],1)],1):e._e(),e._v(" "),e.showExternalLinkOpeningPrompt?t("ft-prompt",{attrs:{label:e.$t("Are you sure you want to open this link?"),"extra-labels":[e.lastExternalLinkToBeOpened],"option-names":e.externalLinkOpeningPromptNames,"option-values":e.externalLinkOpeningPromptValues},on:{click:e.handleExternalLinkOpeningPromptAnswer}}):e._e(),e._v(" "),t("ft-toast"),e._v(" "),e.showProgressBar?t("ft-progress-bar"):e._e()],1):e._e()}),[],!1,null,"7bcf290c",null).exports;function Zy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Jy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zy(Object(n),!0).forEach((function(t){nv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ev(e){return ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(e)}function tv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function nv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return a}}(e,t)||av(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rv(e){return function(e){if(Array.isArray(e))return sv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||av(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function av(e,t){if(e){if("string"==typeof e)return sv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sv(e,t):void 0}}function sv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ov=function(){},lv={},cv={},uv=null,hv={mark:ov,measure:ov};try{"undefined"!=typeof window&&(lv=window),"undefined"!=typeof document&&(cv=document),"undefined"!=typeof MutationObserver&&(uv=MutationObserver),"undefined"!=typeof performance&&(hv=performance)}catch(e){}var dv,fv,pv,mv,gv,yv=(lv.navigator||{}).userAgent,vv=void 0===yv?"":yv,bv=lv,_v=cv,wv=uv,Sv=hv,kv=(bv.document,!!_v.documentElement&&!!_v.head&&"function"==typeof _v.addEventListener&&"function"==typeof _v.createElement),Tv=~vv.indexOf("MSIE")||~vv.indexOf("Trident/"),Cv="svg-inline--fa",xv="data-fa-i2svg",Ev="data-fa-pseudo-element",Pv="data-prefix",Iv="data-icon",Av="fontawesome-i2svg",Lv=["HTML","HEAD","STYLE","SCRIPT"],Ov=function(){try{return!0}catch(e){return!1}}(),Rv="classic",Dv="sharp",Nv=[Rv,Dv];function Fv(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e.classic}})}var $v=Fv((nv(dv={},Rv,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),nv(dv,Dv,{fa:"solid",fass:"solid","fa-solid":"solid"}),dv)),Bv=Fv((nv(fv={},Rv,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),nv(fv,Dv,{solid:"fass"}),fv)),Mv=Fv((nv(pv={},Rv,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),nv(pv,Dv,{fass:"fa-solid"}),pv)),Uv=Fv((nv(mv={},Rv,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),nv(mv,Dv,{"fa-solid":"fass"}),mv)),jv=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,Vv="fa-layers-text",Hv=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,qv=Fv((nv(gv={},Rv,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),nv(gv,Dv,{900:"fass"}),gv)),zv=[1,2,3,4,5,6,7,8,9,10],Wv=zv.concat([11,12,13,14,15,16,17,18,19,20]),Gv=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Kv="duotone-group",Yv="primary",Xv="secondary",Qv=new Set;Object.keys(Bv.classic).map(Qv.add.bind(Qv)),Object.keys(Bv.sharp).map(Qv.add.bind(Qv));var Zv=[].concat(Nv,rv(Qv),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Kv,"swap-opacity",Yv,Xv]).concat(zv.map((function(e){return"".concat(e,"x")}))).concat(Wv.map((function(e){return"w-".concat(e)}))),Jv=bv.FontAwesomeConfig||{};_v&&"function"==typeof _v.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=iv(e,2),n=t[0],i=t[1],r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=_v.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));null!=r&&(Jv[i]=r)}));var eb={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:Cv,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Jv.familyPrefix&&(Jv.cssPrefix=Jv.familyPrefix);var tb=Jy(Jy({},eb),Jv);tb.autoReplaceSvg||(tb.observeMutations=!1);var nb={};Object.keys(eb).forEach((function(e){Object.defineProperty(nb,e,{enumerable:!0,set:function(t){tb[e]=t,ib.forEach((function(e){return e(nb)}))},get:function(){return tb[e]}})})),Object.defineProperty(nb,"familyPrefix",{enumerable:!0,set:function(e){tb.cssPrefix=e,ib.forEach((function(e){return e(nb)}))},get:function(){return tb.cssPrefix}}),bv.FontAwesomeConfig=nb;var ib=[],rb=16,ab={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function sb(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function ob(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function lb(e){return e.classList?ob(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function cb(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ub(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function hb(e){return e.size!==ab.size||e.x!==ab.x||e.y!==ab.y||e.rotate!==ab.rotate||e.flipX||e.flipY}function db(){var e="fa",t=Cv,n=nb.cssPrefix,i=nb.replacementClass,r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||i!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");r=r.replace(a,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(o,".".concat(i))}return r}var fb=!1;function pb(){nb.autoAddCss&&!fb&&(function(e){if(e&&kv){var t=_v.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=_v.head.childNodes,i=null,r=n.length-1;r>-1;r--){var a=n[r],s=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(i=a)}_v.head.insertBefore(t,i)}}(db()),fb=!0)}var mb={mixout:function(){return{dom:{css:db,insertCss:pb}}},hooks:function(){return{beforeDOMElementCreation:function(){pb()},beforeI2svg:function(){pb()}}}},gb=bv||{};gb.___FONT_AWESOME___||(gb.___FONT_AWESOME___={}),gb.___FONT_AWESOME___.styles||(gb.___FONT_AWESOME___.styles={}),gb.___FONT_AWESOME___.hooks||(gb.___FONT_AWESOME___.hooks={}),gb.___FONT_AWESOME___.shims||(gb.___FONT_AWESOME___.shims=[]);var yb=gb.___FONT_AWESOME___,vb=[],bb=!1;function _b(e){kv&&(bb?setTimeout(e,0):vb.push(e))}function wb(e){var t=e.tag,n=e.attributes,i=void 0===n?{}:n,r=e.children,a=void 0===r?[]:r;return"string"==typeof e?cb(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(cb(e[n]),'" ')}),"").trim()}(i),">").concat(a.map(wb).join(""),"</").concat(t,">")}function Sb(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}kv&&((bb=(_v.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(_v.readyState))||_v.addEventListener("DOMContentLoaded",(function e(){_v.removeEventListener("DOMContentLoaded",e),bb=1,vb.map((function(e){return e()}))})));var kb=function(e,t,n,i){var r,a,s,o=Object.keys(e),l=o.length,c=void 0!==i?function(e,t){return function(n,i,r,a){return e.call(t,n,i,r,a)}}(t,i):t;for(void 0===n?(r=1,s=e[o[0]]):(r=0,s=n);r<l;r++)s=c(s,e[a=o[r]],a,e);return s};function Tb(e){var t=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&r)<<10)+(1023&a)+65536):(t.push(r),n--)}else t.push(r)}return t}(e);return 1===t.length?t[0].toString(16):null}function Cb(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return i.icon?t[i.iconName]=i.icon:t[n]=i,t}),{})}function xb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.skipHooks,r=void 0!==i&&i,a=Cb(t);"function"!=typeof yb.hooks.addPack||r?yb.styles[e]=Jy(Jy({},yb.styles[e]||{}),a):yb.hooks.addPack(e,Cb(t)),"fas"===e&&xb("fa",t)}var Eb,Pb,Ib,Ab=yb.styles,Lb=yb.shims,Ob=(nv(Eb={},Rv,Object.values(Mv.classic)),nv(Eb,Dv,Object.values(Mv.sharp)),Eb),Rb=null,Db={},Nb={},Fb={},$b={},Bb={},Mb=(nv(Pb={},Rv,Object.keys($v.classic)),nv(Pb,Dv,Object.keys($v.sharp)),Pb);function Ub(e,t){var n,i=t.split("-"),r=i[0],a=i.slice(1).join("-");return r!==e||""===a||(n=a,~Zv.indexOf(n))?null:a}var jb,Vb=function(){var e=function(e){return kb(Ab,(function(t,n,i){return t[i]=kb(n,e,{}),t}),{})};Db=e((function(e,t,n){return t[3]&&(e[t[3]]=n),t[2]&&t[2].filter((function(e){return"number"==typeof e})).forEach((function(t){e[t.toString(16)]=n})),e})),Nb=e((function(e,t,n){return e[n]=n,t[2]&&t[2].filter((function(e){return"string"==typeof e})).forEach((function(t){e[t]=n})),e})),Bb=e((function(e,t,n){var i=t[2];return e[n]=n,i.forEach((function(t){e[t]=n})),e}));var t="far"in Ab||nb.autoFetchSvg,n=kb(Lb,(function(e,n){var i=n[0],r=n[1],a=n[2];return"far"!==r||t||(r="fas"),"string"==typeof i&&(e.names[i]={prefix:r,iconName:a}),"number"==typeof i&&(e.unicodes[i.toString(16)]={prefix:r,iconName:a}),e}),{names:{},unicodes:{}});Fb=n.names,$b=n.unicodes,Rb=Gb(nb.styleDefault,{family:nb.familyDefault})};function Hb(e,t){return(Db[e]||{})[t]}function qb(e,t){return(Bb[e]||{})[t]}function zb(e){return Fb[e]||{prefix:null,iconName:null}}function Wb(){return Rb}function Gb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.family,i=void 0===n?Rv:n,r=$v[i][e],a=Bv[i][e]||Bv[i][r],s=e in yb.styles?e:null;return a||s||null}jb=function(e){Rb=Gb(e.styleDefault,{family:nb.familyDefault})},ib.push(jb),Vb();var Kb=(nv(Ib={},Rv,Object.keys(Mv.classic)),nv(Ib,Dv,Object.keys(Mv.sharp)),Ib);function Yb(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.skipLookups,r=void 0!==i&&i,a=(nv(t={},Rv,"".concat(nb.cssPrefix,"-").concat(Rv)),nv(t,Dv,"".concat(nb.cssPrefix,"-").concat(Dv)),t),s=null,o=Rv;(e.includes(a.classic)||e.some((function(e){return Kb.classic.includes(e)})))&&(o=Rv),(e.includes(a.sharp)||e.some((function(e){return Kb.sharp.includes(e)})))&&(o=Dv);var l=e.reduce((function(e,t){var n=Ub(nb.cssPrefix,t);if(Ab[t]?(t=Ob[o].includes(t)?Uv[o][t]:t,s=t,e.prefix=t):Mb[o].indexOf(t)>-1?(s=t,e.prefix=Gb(t,{family:o})):n?e.iconName=n:t!==nb.replacementClass&&t!==a.classic&&t!==a.sharp&&e.rest.push(t),!r&&e.prefix&&e.iconName){var i="fa"===s?zb(e.iconName):{},l=qb(e.prefix,e.iconName);i.prefix&&(s=null),e.iconName=i.iconName||l||e.iconName,e.prefix=i.prefix||e.prefix,"far"!==e.prefix||Ab.far||!Ab.fas||nb.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return(e.includes("fa-brands")||e.includes("fab"))&&(l.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(l.prefix="fad"),l.prefix||o!==Dv||!Ab.fass&&!nb.autoFetchSvg||(l.prefix="fass",l.iconName=qb(l.prefix,l.iconName)||l.iconName),"fa"!==l.prefix&&"fa"!==s||(l.prefix=Wb()||"fas"),l}var Xb=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n.reduce(this._pullDefinitions,{});Object.keys(r).forEach((function(t){e.definitions[t]=Jy(Jy({},e.definitions[t]||{}),r[t]),xb(t,r[t]);var n=Mv.classic[t];n&&xb(n,r[t]),Vb()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var i=n[t],r=i.prefix,a=i.iconName,s=i.icon,o=s[2];e[r]||(e[r]={}),o.length>0&&o.forEach((function(t){"string"==typeof t&&(e[r][t]=s)})),e[r][a]=s})),e}}],n&&tv(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Qb=[],Zb={},Jb={},e_=Object.keys(Jb);function t_(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var a=Zb[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(i))})),t}function n_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=Zb[e]||[];r.forEach((function(e){e.apply(null,n)}))}function i_(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Jb[e]?Jb[e].apply(null,t):void 0}function r_(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Wb();if(t)return t=qb(n,t)||t,Sb(a_.definitions,n,t)||Sb(yb.styles,n,t)}var a_=new Xb,s_={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kv?(n_("beforeI2svg",e),i_("pseudoElements2svg",e),i_("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===nb.autoReplaceSvg&&(nb.autoReplaceSvg=!0),nb.observeMutations=!0,_b((function(){l_({autoReplaceSvgRoot:t}),n_("watch",e)}))}},o_={noAuto:function(){nb.autoReplaceSvg=!1,nb.observeMutations=!1,n_("noAuto")},config:nb,dom:s_,parse:{icon:function(e){if(null===e)return null;if("object"===ev(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:qb(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Gb(e[0]);return{prefix:n,iconName:qb(n,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(nb.cssPrefix,"-"))>-1||e.match(jv))){var i=Yb(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Wb(),iconName:qb(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var r=Wb();return{prefix:r,iconName:qb(r,e)||e}}}},library:a_,findIconDefinition:r_,toHtml:wb},l_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?_v:t;(Object.keys(yb.styles).length>0||nb.autoFetchSvg)&&kv&&nb.autoReplaceSvg&&o_.dom.i2svg({node:n})};function c_(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return wb(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(kv){var t=_v.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function u_(e){var t=e.icons,n=t.main,i=t.mask,r=e.prefix,a=e.iconName,s=e.transform,o=e.symbol,l=e.title,c=e.maskId,u=e.titleId,h=e.extra,d=e.watchable,f=void 0!==d&&d,p=i.found?i:n,m=p.width,g=p.height,y="fak"===r,v=[nb.replacementClass,a?"".concat(nb.cssPrefix,"-").concat(a):""].filter((function(e){return-1===h.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(h.classes).join(" "),b={children:[],attributes:Jy(Jy({},h.attributes),{},{"data-prefix":r,"data-icon":a,class:v,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},_=y&&!~h.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};f&&(b.attributes[xv]=""),l&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||sb())},children:[l]}),delete b.attributes.title);var w=Jy(Jy({},b),{},{prefix:r,iconName:a,main:n,mask:i,maskId:c,transform:s,symbol:o,styles:Jy(Jy({},_),h.styles)}),S=i.found&&n.found?i_("generateAbstractMask",w)||{children:[],attributes:{}}:i_("generateAbstractIcon",w)||{children:[],attributes:{}},k=S.children,T=S.attributes;return w.children=k,w.attributes=T,o?function(e){var t=e.prefix,n=e.iconName,i=e.children,r=e.attributes,a=e.symbol,s=!0===a?"".concat(t,"-").concat(nb.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Jy(Jy({},r),{},{id:s}),children:i}]}]}(w):function(e){var t=e.children,n=e.main,i=e.mask,r=e.attributes,a=e.styles,s=e.transform;if(hb(s)&&n.found&&!i.found){var o={x:n.width/n.height/2,y:.5};r.style=ub(Jy(Jy({},a),{},{"transform-origin":"".concat(o.x+s.x/16,"em ").concat(o.y+s.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(w)}function h_(e){var t=e.content,n=e.width,i=e.height,r=e.transform,a=e.title,s=e.extra,o=e.watchable,l=void 0!==o&&o,c=Jy(Jy(Jy({},s.attributes),a?{title:a}:{}),{},{class:s.classes.join(" ")});l&&(c[xv]="");var u=Jy({},s.styles);hb(r)&&(u.transform=function(e){var t=e.transform,n=e.width,i=void 0===n?16:n,r=e.height,a=void 0===r?16:r,s=e.startCentered,o=void 0!==s&&s,l="";return l+=o&&Tv?"translate(".concat(t.x/rb-i/2,"em, ").concat(t.y/rb-a/2,"em) "):o?"translate(calc(-50% + ".concat(t.x/rb,"em), calc(-50% + ").concat(t.y/rb,"em)) "):"translate(".concat(t.x/rb,"em, ").concat(t.y/rb,"em) "),(l+="scale(".concat(t.size/rb*(t.flipX?-1:1),", ").concat(t.size/rb*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:r,startCentered:!0,width:n,height:i}),u["-webkit-transform"]=u.transform);var h=ub(u);h.length>0&&(c.style=h);var d=[];return d.push({tag:"span",attributes:c,children:[t]}),a&&d.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),d}function d_(e){var t=e.content,n=e.title,i=e.extra,r=Jy(Jy(Jy({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),a=ub(i.styles);a.length>0&&(r.style=a);var s=[];return s.push({tag:"span",attributes:r,children:[t]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}var f_=yb.styles;function p_(e){var t=e[0],n=e[1],i=iv(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(i)?{tag:"g",attributes:{class:"".concat(nb.cssPrefix,"-").concat(Kv)},children:[{tag:"path",attributes:{class:"".concat(nb.cssPrefix,"-").concat(Xv),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(nb.cssPrefix,"-").concat(Yv),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}}}}var m_={found:!1,width:512,height:512};function g_(e,t){var n=t;return"fa"===t&&null!==nb.styleDefault&&(t=Wb()),new Promise((function(i,r){if(i_("missingIconAbstract"),"fa"===n){var a=zb(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&f_[t]&&f_[t][e])return i(p_(f_[t][e]));!function(e,t){Ov||nb.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),i(Jy(Jy({},m_),{},{icon:nb.showMissingIcons&&e&&i_("missingIconAbstract")||{}}))}))}var y_=function(){},v_=nb.measurePerformance&&Sv&&Sv.mark&&Sv.measure?Sv:{mark:y_,measure:y_},b_='FA "6.2.1"',__=function(e){return v_.mark("".concat(b_," ").concat(e," begins")),function(){return function(e){v_.mark("".concat(b_," ").concat(e," ends")),v_.measure("".concat(b_," ").concat(e),"".concat(b_," ").concat(e," begins"),"".concat(b_," ").concat(e," ends"))}(e)}},w_=function(){};function S_(e){return"string"==typeof(e.getAttribute?e.getAttribute(xv):null)}function k_(e){return _v.createElementNS("http://www.w3.org/2000/svg",e)}function T_(e){return _v.createElement(e)}function C_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,i=void 0===n?"svg"===e.tag?k_:T_:n;if("string"==typeof e)return _v.createTextNode(e);var r=i(e.tag);Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){r.appendChild(C_(e,{ceFn:i}))})),r}var x_={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(C_(e),t)})),null===t.getAttribute(xv)&&nb.keepOriginalSource){var n=_v.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~lb(t).indexOf(nb.replacementClass))return x_.replace(e);var i=new RegExp("".concat(nb.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var r=n[0].attributes.class.split(" ").reduce((function(e,t){return t===nb.replacementClass||t.match(i)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=r.toSvg.join(" "),0===r.toNode.length?t.removeAttribute("class"):t.setAttribute("class",r.toNode.join(" "))}var a=n.map((function(e){return wb(e)})).join("\n");t.setAttribute(xv,""),t.innerHTML=a}};function E_(e){e()}function P_(e,t){var n="function"==typeof t?t:w_;if(0===e.length)n();else{var i=E_;"async"===nb.mutateApproach&&(i=bv.requestAnimationFrame||E_),i((function(){var t=!0===nb.autoReplaceSvg?x_.replace:x_[nb.autoReplaceSvg]||x_.replace,i=__("mutate");e.map(t),i(),n()}))}}var I_=!1;function A_(){I_=!0}function L_(){I_=!1}var O_=null;function R_(e){if(wv&&nb.observeMutations){var t=e.treeCallback,n=void 0===t?w_:t,i=e.nodeCallback,r=void 0===i?w_:i,a=e.pseudoElementsCallback,s=void 0===a?w_:a,o=e.observeMutationsRoot,l=void 0===o?_v:o;O_=new wv((function(e){if(!I_){var t=Wb();ob(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!S_(e.addedNodes[0])&&(nb.searchPseudoElements&&s(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&nb.searchPseudoElements&&s(e.target.parentNode),"attributes"===e.type&&S_(e.target)&&~Gv.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Pv):null,n=e.getAttribute?e.getAttribute(Iv):null;return t&&n}(e.target)){var i=Yb(lb(e.target)),a=i.prefix,o=i.iconName;e.target.setAttribute(Pv,a||t),o&&e.target.setAttribute(Iv,o)}else(l=e.target)&&l.classList&&l.classList.contains&&l.classList.contains(nb.replacementClass)&&r(e.target);var l}))}})),kv&&O_.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function D_(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),i=n[0],r=n.slice(1);return i&&r.length>0&&(e[i]=r.join(":").trim()),e}),{})),n}function N_(e){var t,n,i=e.getAttribute("data-prefix"),r=e.getAttribute("data-icon"),a=void 0!==e.innerText?e.innerText.trim():"",s=Yb(lb(e));return s.prefix||(s.prefix=Wb()),i&&r&&(s.prefix=i,s.iconName=r),s.iconName&&s.prefix||(s.prefix&&a.length>0&&(s.iconName=(t=s.prefix,n=e.innerText,(Nb[t]||{})[n]||Hb(s.prefix,Tb(e.innerText)))),!s.iconName&&nb.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function F_(e){var t=ob(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),i=e.getAttribute("data-fa-title-id");return nb.autoA11y&&(n?t["aria-labelledby"]="".concat(nb.replacementClass,"-title-").concat(i||sb()):(t["aria-hidden"]="true",t.focusable="false")),t}function $_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=N_(e),i=n.iconName,r=n.prefix,a=n.rest,s=F_(e),o=t_("parseNodeAttributes",{},e),l=t.styleParser?D_(e):[];return Jy({iconName:i,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:ab,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:l,attributes:s}},o)}var B_=yb.styles;function M_(e){var t="nest"===nb.autoReplaceSvg?$_(e,{styleParser:!1}):$_(e);return~t.extra.classes.indexOf(Vv)?i_("generateLayersText",e,t):i_("generateSvgReplacementMutation",e,t)}var U_=new Set;function j_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!kv)return Promise.resolve();var n=_v.documentElement.classList,i=function(e){return n.add("".concat(Av,"-").concat(e))},r=function(e){return n.remove("".concat(Av,"-").concat(e))},a=nb.autoFetchSvg?U_:Nv.map((function(e){return"fa-".concat(e)})).concat(Object.keys(B_));a.includes("fa")||a.push("fa");var s=[".".concat(Vv,":not([").concat(xv,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(xv,"])")}))).join(", ");if(0===s.length)return Promise.resolve();var o=[];try{o=ob(e.querySelectorAll(s))}catch(e){}if(!(o.length>0))return Promise.resolve();i("pending"),r("complete");var l=__("onTree"),c=o.reduce((function(e,t){try{var n=M_(t);n&&e.push(n)}catch(e){Ov||"MissingIcon"===e.name&&console.error(e)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){P_(n,(function(){i("active"),i("complete"),r("pending"),"function"==typeof t&&t(),l(),e()}))})).catch((function(e){l(),n(e)}))}))}function V_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;M_(e).then((function(e){e&&P_([e],t)}))}function H_(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(t||{}).icon?t:r_(t||{}),r=n.mask;return r&&(r=(r||{}).icon?r:r_(r||{})),e(i,Jy(Jy({},n),{},{mask:r}))}}Nv.map((function(e){U_.add("fa-".concat(e))})),Object.keys($v.classic).map(U_.add.bind(U_)),Object.keys($v.sharp).map(U_.add.bind(U_)),U_=rv(U_);var q_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,i=void 0===n?ab:n,r=t.symbol,a=void 0!==r&&r,s=t.mask,o=void 0===s?null:s,l=t.maskId,c=void 0===l?null:l,u=t.title,h=void 0===u?null:u,d=t.titleId,f=void 0===d?null:d,p=t.classes,m=void 0===p?[]:p,g=t.attributes,y=void 0===g?{}:g,v=t.styles,b=void 0===v?{}:v;if(e){var _=e.prefix,w=e.iconName,S=e.icon;return c_(Jy({type:"icon"},e),(function(){return n_("beforeDOMElementCreation",{iconDefinition:e,params:t}),nb.autoA11y&&(h?y["aria-labelledby"]="".concat(nb.replacementClass,"-title-").concat(f||sb()):(y["aria-hidden"]="true",y.focusable="false")),u_({icons:{main:p_(S),mask:o?p_(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:w,transform:Jy(Jy({},ab),i),symbol:a,title:h,maskId:c,titleId:f,extra:{attributes:y,styles:b,classes:m}})}))}},z_={mixout:function(){return{icon:H_(q_)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=j_,e.nodeCallback=V_,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?_v:t,i=e.callback;return j_(n,void 0===i?function(){}:i)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,i=t.title,r=t.titleId,a=t.prefix,s=t.transform,o=t.symbol,l=t.mask,c=t.maskId,u=t.extra;return new Promise((function(t,h){Promise.all([g_(n,a),l.iconName?g_(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var h=iv(l,2),d=h[0],f=h[1];t([e,u_({icons:{main:d,mask:f},prefix:a,iconName:n,transform:s,symbol:o,maskId:c,title:i,titleId:r,extra:u,watchable:!0})])})).catch(h)}))},e.generateAbstractIcon=function(e){var t,n=e.children,i=e.attributes,r=e.main,a=e.transform,s=ub(e.styles);return s.length>0&&(i.style=s),hb(a)&&(t=i_("generateAbstractTransformGrouping",{main:r,transform:a,containerWidth:r.width,iconWidth:r.width})),n.push(t||r.icon),{children:n,attributes:i}}}},W_={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,i=void 0===n?[]:n;return c_({type:"layer"},(function(){n_("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(nb.cssPrefix,"-layers")].concat(rv(i)).join(" ")},children:n}]}))}}}},G_={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,i=void 0===n?null:n,r=t.classes,a=void 0===r?[]:r,s=t.attributes,o=void 0===s?{}:s,l=t.styles,c=void 0===l?{}:l;return c_({type:"counter",content:e},(function(){return n_("beforeDOMElementCreation",{content:e,params:t}),d_({content:e.toString(),title:i,extra:{attributes:o,styles:c,classes:["".concat(nb.cssPrefix,"-layers-counter")].concat(rv(a))}})}))}}}},K_={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,i=void 0===n?ab:n,r=t.title,a=void 0===r?null:r,s=t.classes,o=void 0===s?[]:s,l=t.attributes,c=void 0===l?{}:l,u=t.styles,h=void 0===u?{}:u;return c_({type:"text",content:e},(function(){return n_("beforeDOMElementCreation",{content:e,params:t}),h_({content:e,transform:Jy(Jy({},ab),i),title:a,extra:{attributes:c,styles:h,classes:["".concat(nb.cssPrefix,"-layers-text")].concat(rv(o))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,i=t.transform,r=t.extra,a=null,s=null;if(Tv){var o=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();a=l.width/o,s=l.height/o}return nb.autoA11y&&!n&&(r.attributes["aria-hidden"]="true"),Promise.resolve([e,h_({content:e.innerHTML,width:a,height:s,transform:i,title:n,extra:r,watchable:!0})])}}},Y_=new RegExp('"',"ug"),X_=[1105920,1112319];function Q_(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(i,r){if(null!==e.getAttribute(n))return i();var a,s,o,l=ob(e.children).filter((function(e){return e.getAttribute(Ev)===t}))[0],c=bv.getComputedStyle(e,t),u=c.getPropertyValue("font-family").match(Hv),h=c.getPropertyValue("font-weight"),d=c.getPropertyValue("content");if(l&&!u)return e.removeChild(l),i();if(u&&"none"!==d&&""!==d){var f=c.getPropertyValue("content"),p=~["Sharp"].indexOf(u[2])?Dv:Rv,m=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?Bv[p][u[2].toLowerCase()]:qv[p][h],g=function(e){var t,n,i,r,a=e.replace(Y_,""),s=(i=(t=a).length,(r=t.charCodeAt(0))>=55296&&r<=56319&&i>1&&(n=t.charCodeAt(1))>=56320&&n<=57343?1024*(r-55296)+n-56320+65536:r),o=s>=X_[0]&&s<=X_[1],l=2===a.length&&a[0]===a[1];return{value:Tb(l?a[0]:a),isSecondary:o||l}}(f),y=g.value,v=g.isSecondary,b=u[0].startsWith("FontAwesome"),_=Hb(m,y),w=_;if(b){var S=(s=$b[a=y],o=Hb("fas",a),s||(o?{prefix:"fas",iconName:o}:null)||{prefix:null,iconName:null});S.iconName&&S.prefix&&(_=S.iconName,m=S.prefix)}if(!_||v||l&&l.getAttribute(Pv)===m&&l.getAttribute(Iv)===w)i();else{e.setAttribute(n,w),l&&e.removeChild(l);var k={iconName:null,title:null,titleId:null,prefix:null,transform:ab,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},T=k.extra;T.attributes[Ev]=t,g_(_,m).then((function(r){var a=u_(Jy(Jy({},k),{},{icons:{main:r,mask:{prefix:null,iconName:null,rest:[]}},prefix:m,iconName:w,extra:T,watchable:!0})),s=_v.createElement("svg");"::before"===t?e.insertBefore(s,e.firstChild):e.appendChild(s),s.outerHTML=a.map((function(e){return wb(e)})).join("\n"),e.removeAttribute(n),i()})).catch(r)}}else i()}))}function Z_(e){return Promise.all([Q_(e,"::before"),Q_(e,"::after")])}function J_(e){return!(e.parentNode===document.head||~Lv.indexOf(e.tagName.toUpperCase())||e.getAttribute(Ev)||e.parentNode&&"svg"===e.parentNode.tagName)}function ew(e){if(kv)return new Promise((function(t,n){var i=ob(e.querySelectorAll("*")).filter(J_).map(Z_),r=__("searchPseudoElements");A_(),Promise.all(i).then((function(){r(),L_(),t()})).catch((function(){r(),L_(),n()}))}))}var tw=!1,nw=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),i=n[0],r=n.slice(1).join("-");if(i&&"h"===r)return e.flipX=!0,e;if(i&&"v"===r)return e.flipY=!0,e;if(r=parseFloat(r),isNaN(r))return e;switch(i){case"grow":e.size=e.size+r;break;case"shrink":e.size=e.size-r;break;case"left":e.x=e.x-r;break;case"right":e.x=e.x+r;break;case"up":e.y=e.y-r;break;case"down":e.y=e.y+r;break;case"rotate":e.rotate=e.rotate+r}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},iw={mixout:function(){return{parse:{transform:function(e){return nw(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=nw(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,i=e.containerWidth,r=e.iconWidth,a={transform:"translate(".concat(i/2," 256)")},s="translate(".concat(32*n.x,", ").concat(32*n.y,") "),o="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(s," ").concat(o," ").concat(l)},path:{transform:"translate(".concat(r/2*-1," -256)")}};return{tag:"g",attributes:Jy({},c.outer),children:[{tag:"g",attributes:Jy({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Jy(Jy({},t.icon.attributes),c.path)}]}]}}}},rw={x:0,y:0,width:"100%",height:"100%"};function aw(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var sw,ow={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),i=n?Yb(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return i.prefix||(i.prefix=Wb()),e.mask=i,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,i=e.attributes,r=e.main,a=e.mask,s=e.maskId,o=e.transform,l=r.width,c=r.icon,u=a.width,h=a.icon,d=function(e){var t=e.transform,n=e.iconWidth,i={transform:"translate(".concat(e.containerWidth/2," 256)")},r="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(r," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}({transform:o,containerWidth:u,iconWidth:l}),f={tag:"rect",attributes:Jy(Jy({},rw),{},{fill:"white"})},p=c.children?{children:c.children.map(aw)}:{},m={tag:"g",attributes:Jy({},d.inner),children:[aw(Jy({tag:c.tag,attributes:Jy(Jy({},c.attributes),d.path)},p))]},g={tag:"g",attributes:Jy({},d.outer),children:[m]},y="mask-".concat(s||sb()),v="clip-".concat(s||sb()),b={tag:"mask",attributes:Jy(Jy({},rw),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,g]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:(t=h,"g"===t.tag?t.children:[t])},b]};return n.push(_,{tag:"rect",attributes:Jy({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(y,")")},rw)}),{children:n,attributes:i}}}},lw={provides:function(e){var t=!1;bv.matchMedia&&(t=bv.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:Jy(Jy({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var r=Jy(Jy({},i),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Jy(Jy({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:Jy(Jy({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Jy(Jy({},r),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:Jy(Jy({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Jy(Jy({},r),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:Jy(Jy({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Jy(Jy({},r),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};sw={mixoutsTo:o_}.mixoutsTo,Qb=[mb,z_,W_,G_,K_,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=ew,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?_v:t;nb.searchPseudoElements&&ew(n)}}},{mixout:function(){return{dom:{unwatch:function(){A_(),tw=!0}}}},hooks:function(){return{bootstrap:function(){R_(t_("mutationObserverCallbacks",{}))},noAuto:function(){O_&&O_.disconnect()},watch:function(e){var t=e.observeMutationsRoot;tw?L_():R_(t_("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},iw,ow,lw,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),i=null!==n&&(""===n||n);return e.symbol=i,e}}}}],Zb={},Object.keys(Jb).forEach((function(e){-1===e_.indexOf(e)&&delete Jb[e]})),Qb.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"==typeof t[e]&&(sw[e]=t[e]),"object"===ev(t[e])&&Object.keys(t[e]).forEach((function(n){sw[e]||(sw[e]={}),sw[e][n]=t[e][n]}))})),e.hooks){var n=e.hooks();Object.keys(n).forEach((function(e){Zb[e]||(Zb[e]=[]),Zb[e].push(n[e])}))}e.provides&&e.provides(Jb)}));var cw=o_.library,uw=o_.parse,hw=o_.icon,dw={prefix:"fas",iconName:"forward-step",icon:[320,512,["step-forward"],"f051","M52.5 440.6c-9.5 7.9-22.8 9.7-34.1 4.4S0 428.4 0 416V96C0 83.6 7.2 72.3 18.4 67s24.5-3.6 34.1 4.4l192 160L256 241V96c0-17.7 14.3-32 32-32s32 14.3 32 32V416c0 17.7-14.3 32-32 32s-32-14.3-32-32V271l-11.5 9.6-192 160z"]},fw={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zm32 224c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]},pw={prefix:"fas",iconName:"share-nodes",icon:[448,512,["share-alt"],"f1e0","M352 224c53 0 96-43 96-96s-43-96-96-96s-96 43-96 96c0 4 .2 8 .7 11.9l-94.1 47C145.4 170.2 121.9 160 96 160c-53 0-96 43-96 96s43 96 96 96c25.9 0 49.4-10.2 66.6-26.9l94.1 47c-.5 3.9-.7 7.8-.7 11.9c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-25.9 0-49.4 10.2-66.6 26.9l-94.1-47c.5-3.9 .7-7.8 .7-11.9s-.2-8-.7-11.9l94.1-47C302.6 213.8 326.1 224 352 224z"]},mw={prefix:"fas",iconName:"shuffle",icon:[512,512,[128256,"random"],"f074","M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"]},gw={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H463.5c0 0 0 0 0 0h.4c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1V448c0 17.7 14.3 32 32 32s32-14.3 32-32V396.9l17.6 17.5 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352H176c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},yw={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]},vw={prefix:"fas",iconName:"up-right-from-square",icon:[512,512,["external-link-alt"],"f35d","M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V32c0-17.7-14.3-32-32-32H352zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},bw={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"]},_w={prefix:"fas",iconName:"backward-step",icon:[320,512,["step-backward"],"f048","M267.5 440.6c9.5 7.9 22.8 9.7 34.1 4.4s18.4-16.6 18.4-29V96c0-12.4-7.2-23.7-18.4-29s-24.5-3.6-34.1 4.4l-192 160L64 241V96c0-17.7-14.3-32-32-32S0 78.3 0 96V416c0 17.7 14.3 32 32 32s32-14.3 32-32V271l11.5 9.6 192 160z"]},ww={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0-17.7 14.3-32 32-32l54.7 0c12.3-28.3 40.5-48 73.3-48s61 19.7 73.3 48L480 384c17.7 0 32 14.3 32 32s-14.3 32-32 32l-246.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 448c-17.7 0-32-14.3-32-32zm192 0c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zM384 256c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zm-32-80c32.8 0 61 19.7 73.3 48l54.7 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-54.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l246.7 0c12.3-28.3 40.5-48 73.3-48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32s-14.3-32-32-32zm73.3 0L480 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-214.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 128C14.3 128 0 113.7 0 96S14.3 64 32 64l86.7 0C131 35.7 159.2 16 192 16s61 19.7 73.3 48z"]},Sw={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zM120 96c0 30.9-25.1 56-56 56S8 126.9 8 96S33.1 40 64 40s56 25.1 56 56z"]},kw={prefix:"fas",iconName:"file-arrow-down",icon:[384,512,["file-download"],"f56d","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 232V334.1l31-31c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-72 72c-9.4 9.4-24.6 9.4-33.9 0l-72-72c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l31 31V232c0-13.3 10.7-24 24-24s24 10.7 24 24z"]},Tw={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M120 256c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm160 0c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm104 56c-30.9 0-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56s-25.1 56-56 56z"]},Cw={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"]},xw={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},Ew={prefix:"fas",iconName:"clock-rotate-left",icon:[512,512,["history"],"f1da","M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"]},Pw={prefix:"fas",iconName:"right-left",icon:[512,512,["exchange-alt"],"f362","M32 96l320 0V32c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l96 96c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-96 96c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160L32 160c-17.7 0-32-14.3-32-32s14.3-32 32-32zM480 352c17.7 0 32 14.3 32 32s-14.3 32-32 32H160v64c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-96-96c-6-6-9.4-14.1-9.4-22.6s3.4-16.6 9.4-22.6l96-96c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 64H480z"]},Iw={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]};function Aw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Lw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aw(Object(n),!0).forEach((function(t){Rw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ow(e){return Ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ow(e)}function Rw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dw(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Nw,Fw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},$w={exports:{}};Nw=$w,function(e){var t=function(e,n,i){if(!o(n)||c(n)||u(n)||h(n)||s(n))return n;var r,a=0,d=0;if(l(n))for(r=[],d=n.length;a<d;a++)r.push(t(e,n[a],i));else for(var f in r={},n)Object.prototype.hasOwnProperty.call(n,f)&&(r[e(f,i)]=t(e,n[f],i));return r},n=function(e){return d(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""})),e.substr(0,1).toLowerCase()+e.substr(1))},i=function(e){var t=n(e);return t.substr(0,1).toUpperCase()+t.substr(1)},r=function(e,t){return function(e,t){var n=(t=t||{}).separator||"_",i=t.split||/(?=[A-Z])/;return e.split(i).join(n)}(e,t).toLowerCase()},a=Object.prototype.toString,s=function(e){return"function"==typeof e},o=function(e){return e===Object(e)},l=function(e){return"[object Array]"==a.call(e)},c=function(e){return"[object Date]"==a.call(e)},u=function(e){return"[object RegExp]"==a.call(e)},h=function(e){return"[object Boolean]"==a.call(e)},d=function(e){return(e-=0)==e},f=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!=typeof n?e:function(t,i){return n(t,e,i)}},p={camelize:n,decamelize:r,pascalize:i,depascalize:r,camelizeKeys:function(e,i){return t(f(n,i),e)},decamelizeKeys:function(e,n){return t(f(r,n),e,n)},pascalizeKeys:function(e,n){return t(f(i,n),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};Nw.exports?Nw.exports=p:e.humps=p}(Fw);var Bw=$w.exports,Mw=["class","style","attrs"];function Uw(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n=t.indexOf(":"),i=Bw.camelize(t.slice(0,n)),r=t.slice(n+1).trim();return e[i]=r,e}),{})}function jw(e){return e.split(/\s+/).reduce((function(e,t){return e[t]=!0,e}),{})}function Vw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return Array.isArray(t)?e=e.concat(t):e.push(t),e}),[])}function Hw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=(t.children||[]).map(Hw.bind(null,e)),a=Object.keys(t.attributes||{}).reduce((function(e,n){var i=t.attributes[n];switch(n){case"class":e.class=jw(i);break;case"style":e.style=Uw(i);break;default:e.attrs[n]=i}return e}),{class:{},style:{},attrs:{}}),s=i.class,o=void 0===s?{}:s,l=i.style,c=void 0===l?{}:l,u=i.attrs,h=void 0===u?{}:u,d=Dw(i,Mw);return"string"==typeof t?t:e(t.tag,Lw(Lw({class:Vw(a.class,o),style:Lw(Lw({},a.style),c),attrs:Lw(Lw({},a.attrs),h)},d),{},{props:n}),r)}var qw=!1;try{qw=!0}catch(e){}function zw(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Rw({},e,t):{}}function Ww(e){return e&&"object"===Ow(e)&&e.prefix&&e.iconName&&e.icon?e:uw.icon?uw.icon(e):null===e?null:"object"===Ow(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}var Gw={name:"FontAwesomeIcon",functional:!0,props:{beat:{type:Boolean,default:!1},border:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,i=n.icon,r=n.mask,a=n.symbol,s=n.title,o=Ww(i),l=zw("classes",function(e){var t,n=(Rw(t={"fa-spin":e.spin,"fa-spin-pulse":e.spinPulse,"fa-spin-reverse":e.spinReverse,"fa-pulse":e.pulse,"fa-beat":e.beat,"fa-fade":e.fade,"fa-flash":e.flash,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":!0===e.flip,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip},"fa-".concat(e.size),null!==e.size),Rw(t,"fa-rotate-".concat(e.rotation),null!==e.rotation),Rw(t,"fa-pull-".concat(e.pull),null!==e.pull),Rw(t,"fa-swap-opacity",e.swapOpacity),Rw(t,"fa-bounce",e.bounce),Rw(t,"fa-shake",e.shake),Rw(t,"fa-beat-fade",e.beatFade),t);return Object.keys(n).map((function(e){return n[e]?e:null})).filter((function(e){return e}))}(n)),c=zw("transform","string"==typeof n.transform?uw.transform(n.transform):n.transform),u=zw("mask",Ww(r)),h=hw(o,Lw(Lw(Lw(Lw({},l),c),u),{},{symbol:a,title:s}));if(!h)return function(){var e;!qw&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find one or more icon(s)",o,u);var d=h.abstract;return Hw.bind(null,e)(d[0],{},t.data)}};Boolean,Boolean,Wn.config.devtools=!1,Wn.config.performance=!1,Wn.config.productionTip=!1,cw.add({prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},{prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},{prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},{prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},{prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},{prefix:"fas",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"]},{prefix:"fas",iconName:"check",icon:[512,512,[10003,10004],"f00c","M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},{prefix:"fas",iconName:"chevron-right",icon:[384,512,[9002],"f054","M342.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L274.7 256 105.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},{prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H224c-53 0-96-43-96-96V160H64c-35.3 0-64 28.7-64 64V448zm224-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]},{prefix:"fas",iconName:"comment-dots",icon:[512,512,[128172,62075,"commenting"],"f4ad","M256 448c141.4 0 256-93.1 256-208S397.4 32 256 32S0 125.1 0 240c0 45.1 17.7 86.8 47.7 120.9c-1.9 24.5-11.4 46.3-21.4 62.9c-5.5 9.2-11.1 16.6-15.2 21.6c-2.1 2.5-3.7 4.4-4.9 5.7c-.6 .6-1 1.1-1.3 1.4l-.3 .3 0 0 0 0 0 0 0 0c-4.6 4.6-5.9 11.4-3.4 17.4c2.5 6 8.3 9.9 14.8 9.9c28.7 0 57.6-8.9 81.6-19.3c22.9-10 42.4-21.9 54.3-30.6c31.8 11.5 67 17.9 104.1 17.9zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32zm160-32c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]},{prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z"]},{prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zM432 456c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"]},Tw,Sw,{prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},Pw,fw,vw,kw,{prefix:"fas",iconName:"file-video",icon:[384,512,[],"f1c8","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM64 288c0-17.7 14.3-32 32-32h96c17.7 0 32 14.3 32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V288zM300.9 397.9L256 368V304l44.9-29.9c2-1.3 4.4-2.1 6.8-2.1c6.8 0 12.3 5.5 12.3 12.3V387.7c0 6.8-5.5 12.3-12.3 12.3c-2.4 0-4.8-.7-6.8-2.1z"]},{prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},{prefix:"fas",iconName:"fire",icon:[448,512,[128293],"f06d","M159.3 5.4c7.8-7.3 19.9-7.2 27.7 .1c27.6 25.9 53.5 53.8 77.7 84c11-14.4 23.5-30.1 37-42.9c7.9-7.4 20.1-7.4 28 .1c34.6 33 63.9 76.6 84.5 118c20.3 40.8 33.8 82.5 33.8 111.9C448 404.2 348.2 512 224 512C98.4 512 0 404.1 0 276.5c0-38.4 17.8-85.3 45.4-131.7C73.3 97.7 112.7 48.6 159.3 5.4zM225.7 416c25.3 0 47.7-7 68.8-21c42.1-29.4 53.4-88.2 28.1-134.4c-2.8-5.6-5.6-11.2-9.8-16.8l-50.6 58.8s-81.4-103.6-87.1-110.6C133.1 243.8 112 273.2 112 306.8C112 375.4 162.6 416 225.7 416z"]},{prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 21 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"]},{prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]},Ew,bw,{prefix:"fas",iconName:"language",icon:[640,512,[],"f1ab","M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3 0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1 .1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2L179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4c.9 .6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9l-18.9-11.3c-4.5-2.7-8.8-5.5-13.1-8.5c-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8l-12.2-12.2c-7.8-7.8-7.8-20.5 0-28.3s20.5-7.8 28.3 0l14.6 14.6 .5 .5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"]},{prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"]},{prefix:"fas",iconName:"newspaper",icon:[512,512,[128240],"f1ea","M96 96c0-35.3 28.7-64 64-64H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H80c-44.2 0-80-35.8-80-80V128c0-17.7 14.3-32 32-32s32 14.3 32 32V400c0 8.8 7.2 16 16 16s16-7.2 16-16V96zm64 24v80c0 13.3 10.7 24 24 24H424c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24H184c-13.3 0-24 10.7-24 24zm0 184c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zm160 0c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H336c-8.8 0-16 7.2-16 16zM160 400c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zm160 0c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z"]},{prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},yw,mw,{prefix:"fas",iconName:"retweet",icon:[576,512,[],"f079","M272 416c17.7 0 32-14.3 32-32s-14.3-32-32-32H160c-17.7 0-32-14.3-32-32V192h32c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-64-64c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l32 0 0 128c0 53 43 96 96 96H272zM304 96c-17.7 0-32 14.3-32 32s14.3 32 32 32l112 0c17.7 0 32 14.3 32 32l0 128H416c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8l-32 0V192c0-53-43-96-96-96L304 96z"]},{prefix:"fas",iconName:"rss",icon:[448,512,["feed"],"f09e","M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM128 416c0 35.3-28.7 64-64 64s-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},{prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},Cw,pw,ww,{prefix:"fas",iconName:"sort-down",icon:[320,512,["sort-desc"],"f0dd","M182.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128z"]},{prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},_w,dw,gw,{prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 25.3-19.5 46-44.3 47.9c7.7 8.5 12.3 19.8 12.3 32.1c0 23.4-16.8 42.9-38.9 47.1c4.4 7.2 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z"]},{prefix:"fas",iconName:"thumbtack",icon:[384,512,[128204,128392,"thumb-tack"],"f08d","M32 32C32 14.3 46.3 0 64 0H320c17.7 0 32 14.3 32 32s-14.3 32-32 32H290.5l11.4 148.2c36.7 19.9 65.7 53.2 79.5 94.7l1 3c3.3 9.8 1.6 20.5-4.4 28.8s-15.7 13.3-26 13.3H32c-10.3 0-19.9-4.9-26-13.3s-7.7-19.1-4.4-28.8l1-3c13.8-41.5 42.8-74.8 79.5-94.7L93.5 64H64C46.3 64 32 49.7 32 32zM160 384h64v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V384z"]},xw,Iw,{prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 160c-44.2 0-80-35.8-80-80S99.8 0 144 0s80 35.8 80 80s-35.8 80-80 80zm368 0c-44.2 0-80-35.8-80-80s35.8-80 80-80s80 35.8 80 80s-35.8 80-80 80zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM416 224c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"]},{prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},{prefix:"fab",iconName:"bitcoin",icon:[512,512,[],"f379","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-141.651-35.33c4.937-32.999-20.191-50.739-54.55-62.573l11.146-44.702-27.213-6.781-10.851 43.524c-7.154-1.783-14.502-3.464-21.803-5.13l10.929-43.81-27.198-6.781-11.153 44.686c-5.922-1.349-11.735-2.682-17.377-4.084l.031-.14-37.53-9.37-7.239 29.062s20.191 4.627 19.765 4.913c11.022 2.751 13.014 10.044 12.68 15.825l-12.696 50.925c.76.194 1.744.473 2.829.907-.907-.225-1.876-.473-2.876-.713l-17.796 71.338c-1.349 3.348-4.767 8.37-12.471 6.464.271.395-19.78-4.937-19.78-4.937l-13.51 31.147 35.414 8.827c6.588 1.651 13.045 3.379 19.4 5.006l-11.262 45.213 27.182 6.781 11.153-44.733a1038.209 1038.209 0 0 0 21.687 5.627l-11.115 44.523 27.213 6.781 11.262-45.128c46.404 8.781 81.299 5.239 95.986-36.727 11.836-33.79-.589-53.281-25.004-65.991 17.78-4.098 31.174-15.792 34.747-39.949zm-62.177 87.179c-8.41 33.79-65.308 15.523-83.755 10.943l14.944-59.899c18.446 4.603 77.6 13.717 68.811 48.956zm8.417-87.667c-7.673 30.736-55.031 15.12-70.393 11.292l13.548-54.327c15.363 3.828 64.836 10.973 56.845 43.035z"]},{prefix:"fab",iconName:"mastodon",icon:[448,512,[],"f4f6","M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"]},{prefix:"fab",iconName:"monero",icon:[496,512,[],"f3d0","M352 384h108.4C417 455.9 338.1 504 248 504S79 455.9 35.6 384H144V256.2L248 361l104-105v128zM88 336V128l159.4 159.4L408 128v208h74.8c8.5-25.1 13.2-52 13.2-80C496 119 385 8 248 8S0 119 0 256c0 28 4.6 54.9 13.2 80H88z"]}),Wn.component("FontAwesomeIcon",Gw),new Wn({el:"#app",router:Dg,store:Bd,i18n:jc,render:e=>e(Qy)})})()})();