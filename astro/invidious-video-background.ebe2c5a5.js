/* empty css                              */import{_ as v}from"./chunks/_plugin-vue_export-helper.1e5d64a6.js";import{h as l,c as h,a as i,f as u,g as a,F as p,o as f,p as m,i as _}from"./chunks/runtime-core.esm-bundler.f805deb3.js";const $=l({props:{videoId:{type:String,required:!0},server:{type:String,required:!1,default:"https://invidious.namazso.eu"},itag:{type:String,required:!1,default:"22"}},data(){return{internalServer:this.server}},computed:{videoUrl(){return`${this.internalServer}/latest_version?id=${this.videoId}&itag=${this.itag}&local=true`},invidiousUrl(){return`${this.internalServer}/watch?v=${this.videoId}`}},mounted(){this.internalServer=this.server;const e=["https://invidious.sethforprivacy.com","https://invidious.namazso.eu","https://yt.artemislena.eu"],r=()=>{const s=()=>{this.$refs.video.currentTime>3&&(this.$refs.video.setAttribute("data-active","true"),this.$refs.video.removeEventListener("timeupdate",s))},o=async()=>{console.warn(`Issue loading from instance '${this.server}'; attempting another . . . `);try{let t=this.server;for(;t===this.server;)t=e[Math.floor(e.length*Math.random())];this.internalServer=t,new MutationObserver((k,c)=>{this.$refs.video.play(),c.disconnect()}).observe(this.$refs.video,{attributes:!0,characterData:!1,characterDataOldValue:!1,childList:!1})}catch(t){console.error(t)}};this.$refs.video.addEventListener("error",o),this.$refs.video.addEventListener("timeupdate",s),setTimeout(()=>{this.$refs.video.currentTime==0&&o()},6e3),n(),this.$refs.video.play()},n=()=>{window.removeEventListener("click",r),window.removeEventListener("keypress",r)};window.addEventListener("click",r),window.addEventListener("keypress",r)}}),d=e=>(m("data-v-b6fdd7eb"),e=e(),_(),e),g=["src"],w=["href"],b=d(()=>i("span",{class:"icon link"},"\u{1F517}",-1)),S=d(()=>i("span",{class:"icon"},"\u{1F4FA}",-1));function y(e,r,n,s,o,t){return f(),h(p,null,[i("video",{ref:"video",loop:"",muted:"",src:e.videoUrl},[u(e.$slots,"default",{},void 0,!0)],8,g),i("a",{target:"_blank",class:"hover:underline text-blue text-blue-600 dark:text-red-300 dark:bg-zinc-900 bg-white p-3",href:e.invidiousUrl},[a(" Watch this video on "),b,S,a("Invidious ")],8,w)],64)}const U=v($,[["render",y],["__scopeId","data-v-b6fdd7eb"]]);export{U as default};
